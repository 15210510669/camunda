graphql:
  schema-strategy: annotations
  annotations:
    base-package: io.camunda.tasklist
    always-prettify: false
    input-prefix: ""
# overriding spring.autoconfigure.exclude to enable graphql.kickstart.autoconfigure.annotations.GraphQLAnnotationsAutoConfiguration
spring.autoconfigure.exclude:
  - org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration
  - org.springframework.boot.actuate.autoconfigure.security.servlet.ManagementWebSecurityAutoConfiguration
  - org.springframework.boot.autoconfigure.elasticsearch.ElasticsearchRestClientAutoConfiguration
  - org.springframework.boot.autoconfigure.ldap.LdapAutoConfiguration
  - graphql.kickstart.autoconfigure.tools.GraphQLJavaToolsAutoConfiguration
---
spring:
  config:
    activate:
      on-profile: "identity-auth"
  security:
    oauth2:
      resourceserver:
        jwt:
          issuer-uri: ${camunda.identity.issuer:${camunda.tasklist.identity.issuerUrl:${CAMUNDA_TASKLIST_IDENTITY_ISSUER_URL:}}}
# Fallback Identity configuration for deprecated env variable naming
camunda:
  identity:
    issuer: ${camunda.tasklist.identity.issuerUrl:${CAMUNDA_TASKLIST_IDENTITY_ISSUER_URL:}}
    issuerBackendUrl: ${camunda.tasklist.identity.issuerBackendUrl:${CAMUNDA_TASKLIST_IDENTITY_ISSUER_BACKEND_URL:}}
    clientId: ${camunda.tasklist.identity.clientId:${CAMUNDA_TASKLIST_IDENTITY_CLIENT_ID:}}
    clientSecret: ${camunda.tasklist.identity.clientSecret:${CAMUNDA_TASKLIST_IDENTITY_CLIENT_SECRET:}}
    audience: ${camunda.tasklist.identity.audience:}
    baseUrl: ${camunda.tasklist.identity.baseUrl:}
---
spring:
  config:
    activate:
      on-profile: "sso-auth"
camunda:
  identity:
    type: AUTH0
    baseUrl: ${camunda.tasklist.identity.baseUrl:${CAMUNDA_TASKLIST_IDENTITY_BASEURL:}}
    issuer: ${camunda.tasklist.identity.issuerUrl:${CAMUNDA_TASKLIST_IDENTITY_ISSUER_URL:}}
    issuerBackendUrl: ${camunda.tasklist.identity.issuerBackendUrl:${CAMUNDA_TASKLIST_IDENTITY_ISSUER_BACKEND_URL:}}
---
spring:
  config:
    activate:
      on-profile: "dev"
graphql:
  tools:
    introspection-enabled: true
