apiVersion: kubernetes-client.io/v1
kind: ExternalSecret
metadata:
  name: gcs-credentials
  namespace: optimize-persistent
  labels:
    camunda.cloud/source: "" # {"$openapi":"source"}
    camunda.cloud/managed-by: "" # {"$openapi":"managed-by"}
  annotations:
    camunda.cloud/created-by: "" # {"$openapi":"created-by"}
spec:
  controllerId: optimize
  backendType: vault
  template:
    metadata:
      annotations:
        managed-by: kubernetes-external-secrets
  data:
  # This name is reference the gcs credentials file in ES
  - name: gcs.client.default.credentials_file
    key: secret/data/k8s-camunda-ci/optimize/ci-optimize-camunda-cloud
    property: OPTIMIZE_PERSISTENT_ES_BUCKET_SERVICEACCOUNT
