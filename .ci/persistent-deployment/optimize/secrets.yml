---
apiVersion: kubernetes-client.io/v1
kind: ExternalSecret
metadata:
  name: registry-camunda-cloud
  namespace: optimize-persistent
  labels:
    camunda.cloud/managed-by: ci
spec:
  controllerId: optimize
  backendType: vault
  template:
    type: kubernetes.io/dockerconfigjson
  data:
    - name: .dockerconfigjson
      key: secret/data/k8s-camunda-ci/optimize/ci-optimize-camunda-cloud
      property: REGISTRY_CAMUNDA_CLOUD_DOCKERCONFIGJSON

---
apiVersion: kubernetes-client.io/v1
kind: ExternalSecret
metadata:
  name: cambpm-db-secrets
  namespace: optimize-persistent
  labels:
    camunda.cloud/managed-by: ci
spec:
  controllerId: optimize
  backendType: vault
  template:
    type: Opaque
  data:
  - name: db-username
    key: secret/data/k8s-camunda-ci/optimize-persistent/db
    property: db_username
  - name: db-password
    key: secret/data/k8s-camunda-ci/optimize-persistent/db
    property: db_password
