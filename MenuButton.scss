[1mdiff --git a/.ci/deployments-resources/helm-charts/c7-optimize/Chart.yaml b/.ci/deployments-resources/helm-charts/c7-optimize/Chart.yaml[m
[1mindex 70c97a68b4..0de654d085 100644[m
[1m--- a/.ci/deployments-resources/helm-charts/c7-optimize/Chart.yaml[m
[1m+++ b/.ci/deployments-resources/helm-charts/c7-optimize/Chart.yaml[m
[36m@@ -25,4 +25,4 @@[m [micon: https://console.cloud.camunda.io/favicon.ico[m
 dependencies:[m
 - name: infra-preview-environments-ingress[m
   repository: oci://registry.camunda.cloud/library[m
[31m-  version: 1.1.4[m
[32m+[m[32m  version: 1.2.0[m
[1mdiff --git a/.ci/deployments-resources/helm-charts/c8-optimize/Chart.yaml b/.ci/deployments-resources/helm-charts/c8-optimize/Chart.yaml[m
[1mindex 2007c7526c..28841f297f 100644[m
[1m--- a/.ci/deployments-resources/helm-charts/c8-optimize/Chart.yaml[m
[1m+++ b/.ci/deployments-resources/helm-charts/c8-optimize/Chart.yaml[m
[36m@@ -26,7 +26,7 @@[m [mdependencies:[m
 - name: camunda-platform[m
   # @camunda-cloud references https://helm.camunda.io repository configured as camunda-cloud in Argo CD[m
   repository: "@helm-camunda-io"[m
[31m-  version: 8.2.12[m
[32m+[m[32m  version: 8.2.13[m
 - name: infra-preview-environments-ingress[m
   repository: oci://registry.camunda.cloud/library[m
[31m-  version: 1.1.4[m
[32m+[m[32m  version: 1.2.0[m
[1mdiff --git a/.ci/pipelines/release_optimize.groovy b/.ci/pipelines/release_optimize.groovy[m
[1mindex f58ad1b3bc..c9cbbfa5fa 100644[m
[1m--- a/.ci/pipelines/release_optimize.groovy[m
[1m+++ b/.ci/pipelines/release_optimize.groovy[m
[36m@@ -442,7 +442,7 @@[m [mpipeline {[m
           export VERSION=${VERSION}[m
           export DATE=${DATE}[m
           export REVISION=${REVISION}[m
[31m-          export BASE_IMAGE=docker.io/library/alpine:3.18.3[m
[32m+[m[32m          export BASE_IMAGE=docker.io/library/alpine:3.18.4[m
           apk update[m
           apk add jq[m
 [m
[1mdiff --git a/.ci/seed.dsl b/.ci/seed.dsl[m
[1mindex 88dd524abc..372a499c1f 100644[m
[1m--- a/.ci/seed.dsl[m
[1m+++ b/.ci/seed.dsl[m
[36m@@ -125,7 +125,7 @@[m [mmultibranchPipelineJob('camunda-optimize') {[m
             // That to avoid running the same CI job twice (one for branch and one for PR).[m
             headWildcardFilter {[m
               // Space-separated list of name patterns to consider.[m
[31m-              includes 'master PR-* CI-* maintenance/3.7 maintenance/3.8 maintenance/3.9 maintenance/3.10'[m
[32m+[m[32m              includes 'master PR-* CI-* maintenance/3.7 maintenance/3.9 maintenance/3.10'[m
               excludes ''[m
             }[m
 [m
[1mdiff --git a/.github/actions/login-registry/action.yml b/.github/actions/login-registry/action.yml[m
[1mindex d63f5fb571..ffb70e1d78 100644[m
[1m--- a/.github/actions/login-registry/action.yml[m
[1m+++ b/.github/actions/login-registry/action.yml[m
[36m@@ -24,7 +24,7 @@[m [mruns:[m
         secret/data/products/optimize/ci/optimize NEXUS_USERNAME;[m
         secret/data/products/optimize/ci/optimize NEXUS_PASSWORD;[m
   - name: Login to Harbor docker registery[m
[31m-    uses: docker/login-action@v2[m
[32m+[m[32m    uses: docker/login-action@343f7c4344506bcbf9b4de18042ae17996df046d # v3[m
     with:[m
       registry: ${{ inputs.env }}registry.camunda.cloud[m
       username: ${{ steps.secrets.outputs.NEXUS_USERNAME }}[m
[1mdiff --git a/.github/actions/setup-maven/action.yml b/.github/actions/setup-maven/action.yml[m
[1mindex 22c65fd88f..652f7215ca 100644[m
[1m--- a/.github/actions/setup-maven/action.yml[m
[1m+++ b/.github/actions/setup-maven/action.yml[m
[36m@@ -32,7 +32,7 @@[m [mruns:[m
         secret/data/products/optimize/ci/optimize NEXUS_USERNAME;[m
         secret/data/products/optimize/ci/optimize NEXUS_PASSWORD;[m
   - name: Setup Maven Action[m
[31m-    uses: s4u/setup-maven-action@v1.8.0[m
[32m+[m[32m    uses: s4u/setup-maven-action@57ca7f1a813fd21035f9399bc015664601217110 # v1.10.0[m
     with:[m
       java-version: ${{ inputs.java-version }}[m
       java-distribution: ${{ inputs.distribution }}[m
[1mdiff --git a/.github/renovate.json5 b/.github/renovate.json5[m
[1mindex 3ebeab6600..3f38ea397c 100644[m
[1m--- a/.github/renovate.json5[m
[1m+++ b/.github/renovate.json5[m
[36m@@ -48,9 +48,9 @@[m
   // Branches to be checked[m
   baseBranches: [[m
     "master",[m
[32m+[m[32m    "release/3.11.0",[m
     "maintenance/3.10",[m
     "maintenance/3.9",[m
[31m-    "maintenance/3.8",[m
     "maintenance/3.7",[m
   ],[m
   // This ignores are the ones comming by default from config:base with exception to **/test/**[m
[1mdiff --git a/.github/scripts/build-docker-images.sh b/.github/scripts/build-docker-images.sh[m
[1mindex b1628bbcae..64f99a2230 100755[m
[1m--- a/.github/scripts/build-docker-images.sh[m
[1m+++ b/.github/scripts/build-docker-images.sh[m
[36m@@ -18,7 +18,7 @@[m [mdocker buildx create --use[m
 export VERSION="${VERSION}"[m
 export DATE="$(date +%FT%TZ)"[m
 export REVISION="${REVISION}"[m
[31m-export BASE_IMAGE=docker.io/library/alpine:3.18.3[m
[32m+[m[32mexport BASE_IMAGE=docker.io/library/alpine:3.18.4[m
 [m
 # if CI (GHA) export the variables for pushing in a later step[m
 if [ "${CI}" = "true"  ]; then[m
[1mdiff --git a/.github/scripts/healthStatusReport/createHealtStatusConfig.ts b/.github/scripts/healthStatusReport/createHealtStatusConfig.ts[m
[1mindex f38b0dc718..52372c0e24 100644[m
[1m--- a/.github/scripts/healthStatusReport/createHealtStatusConfig.ts[m
[1m+++ b/.github/scripts/healthStatusReport/createHealtStatusConfig.ts[m
[36m@@ -61,7 +61,7 @@[m [mtype SnykProjectsResponse = {[m
 };[m
 [m
 async function createHealtStatusConfig() {[m
[31m-  const ciBranches = await getCiBranches();[m
[32m+[m[32m  const ciBranches = (await getCiBranches()).filter(branch=>!branch.includes('3.8'));[m
   const snykProjects = await fetchSnykProjects();[m
 [m
   const config: Partial<Config> = {[m
[1mdiff --git a/.github/scripts/healthStatusReport/package.json b/.github/scripts/healthStatusReport/package.json[m
[1mindex 269a452dd6..68f6e1c1d8 100644[m
[1m--- a/.github/scripts/healthStatusReport/package.json[m
[1m+++ b/.github/scripts/healthStatusReport/package.json[m
[36m@@ -4,7 +4,7 @@[m
   "main": "index.js",[m
   "license": "MIT",[m
   "dependencies": {[m
[31m-    "node-fetch": "2.6.13"[m
[32m+[m[32m    "node-fetch": "2.7.0"[m
   },[m
   "devDependencies": {[m
     "@types/node-fetch": "^2.6.4",[m
[1mdiff --git a/.github/scripts/healthStatusReport/yarn.lock b/.github/scripts/healthStatusReport/yarn.lock[m
[1mindex 6d7312dd17..910cbbb74d 100644[m
[1m--- a/.github/scripts/healthStatusReport/yarn.lock[m
[1m+++ b/.github/scripts/healthStatusReport/yarn.lock[m
[36m@@ -48,17 +48,17 @@[m
   integrity sha512-vxhUy4J8lyeyinH7Azl1pdd43GJhZH/tP2weN8TntQblOY+A0XbT8DJk1/oCPuOOyg/Ja757rG0CgHcWC8OfMA==[m
 [m
 "@types/node-fetch@^2.6.4":[m
[31m-  version "2.6.4"[m
[31m-  resolved "https://registry.yarnpkg.com/@types/node-fetch/-/node-fetch-2.6.4.tgz#1bc3a26de814f6bf466b25aeb1473fa1afe6a660"[m
[31m-  integrity sha512-1ZX9fcN4Rvkvgv4E6PAY5WXUFWFcRWxZa3EW83UjycOB9ljJCedb2CupIP4RZMEwF/M3eTcCihbBRgwtGbg5Rg==[m
[32m+[m[32m  version "2.6.5"[m
[32m+[m[32m  resolved "https://registry.yarnpkg.com/@types/node-fetch/-/node-fetch-2.6.5.tgz#972756a9a0fe354b2886bf3defe667ddb4f0d30a"[m
[32m+[m[32m  integrity sha512-OZsUlr2nxvkqUFLSaY2ZbA+P1q22q+KrlxWOn/38RX+u5kTkYL2mTujEpzUhGkS+K/QCYp9oagfXG39XOzyySg==[m
   dependencies:[m
     "@types/node" "*"[m
[31m-    form-data "^3.0.0"[m
[32m+[m[32m    form-data "^4.0.0"[m
 [m
 "@types/node@*":[m
[31m-  version "20.4.5"[m
[31m-  resolved "https://registry.yarnpkg.com/@types/node/-/node-20.4.5.tgz#9dc0a5cb1ccce4f7a731660935ab70b9c00a5d69"[m
[31m-  integrity sha512-rt40Nk13II9JwQBdeYqmbn2Q6IVTA5uPhvSO+JVqdXw/6/4glI6oR9ezty/A9Hg5u7JH4OmYmuQ+XvjKm0Datg==[m
[32m+[m[32m  version "20.6.3"[m
[32m+[m[32m  resolved "https://registry.yarnpkg.com/@types/node/-/node-20.6.3.tgz#5b763b321cd3b80f6b8dde7a37e1a77ff9358dd9"[m
[32m+[m[32m  integrity sha512-HksnYH4Ljr4VQgEy2lTStbCKv/P590tmPe5HqOnv9Gprffgv5WXAY+Y5Gqniu0GGqeTCUdBnzC3QSrzPkBkAMA==[m
 [m
 acorn-walk@^8.1.1:[m
   version "8.2.0"[m
[36m@@ -102,10 +102,10 @@[m [mdiff@^4.0.1:[m
   resolved "https://registry.yarnpkg.com/diff/-/diff-4.0.2.tgz#60f3aecb89d5fae520c11aa19efc2bb982aade7d"[m
   integrity sha512-58lmxKSA4BNyLz+HHMUzlOEpg09FV+ev6ZMe3vJihgdxzgcwZ8VoEEPmALCZG9LmqfVoNMMKpttIYTVG6uDY7A==[m
 [m
[31m-form-data@^3.0.0:[m
[31m-  version "3.0.1"[m
[31m-  resolved "https://registry.yarnpkg.com/form-data/-/form-data-3.0.1.tgz#ebd53791b78356a99af9a300d4282c4d5eb9755f"[m
[31m-  integrity sha512-RHkBKtLWUVwd7SqRIvCZMEvAMoGUp0XU+seQiZejj0COz3RI3hWP4sCv3gZWWLjJTd7rGwcsF5eKZGii0r/hbg==[m
[32m+[m[32mform-data@^4.0.0:[m
[32m+[m[32m  version "4.0.0"[m
[32m+[m[32m  resolved "https://registry.yarnpkg.com/form-data/-/form-data-4.0.0.tgz#93919daeaf361ee529584b9b31664dc12c9fa452"[m
[32m+[m[32m  integrity sha512-ETEklSGi5t0QMZuiXoA/Q6vcnxcLQP5vdugSpuAyi6SVGi2clPPp+xgEhuMaHC+zGgn31Kd235W35f7Hykkaww==[m
   dependencies:[m
     asynckit "^0.4.0"[m
     combined-stream "^1.0.8"[m
[36m@@ -128,17 +128,17 @@[m [mmime-types@^2.1.12:[m
   dependencies:[m
     mime-db "1.52.0"[m
 [m
[31m-node-fetch@2.6.13:[m
[31m-  version "2.6.13"[m
[31m-  resolved "https://registry.yarnpkg.com/node-fetch/-/node-fetch-2.6.13.tgz#a20acbbec73c2e09f9007de5cda17104122e0010"[m
[31m-  integrity sha512-StxNAxh15zr77QvvkmveSQ8uCQ4+v5FkvNTj0OESmiHu+VRi/gXArXtkWMElOsOUNLtUEvI4yS+rdtOHZTwlQA==[m
[32m+[m[32mnode-fetch@2.7.0:[m
[32m+[m[32m  version "2.7.0"[m
[32m+[m[32m  resolved "https://registry.yarnpkg.com/node-fetch/-/node-fetch-2.7.0.tgz#d0f0fa6e3e2dc1d27efcd8ad99d550bda94d187d"[m
[32m+[m[32m  integrity sha512-c4FRfUm/dbcWZ7U+1Wq0AwCyFL+3nt2bEw05wfxSz+DWpWsitgmSgYmy2dQdWyKC1694ELPqMs/YzUSNozLt8A==[m
   dependencies:[m
     whatwg-url "^5.0.0"[m
 [m
 prettier@^3.0.0:[m
[31m-  version "3.0.2"[m
[31m-  resolved "https://registry.yarnpkg.com/prettier/-/prettier-3.0.2.tgz#78fcecd6d870551aa5547437cdae39d4701dca5b"[m
[31m-  integrity sha512-o2YR9qtniXvwEZlOKbveKfDQVyqxbEIWn48Z8m3ZJjBjcCmUy3xZGIv+7AkaeuaTr6yPXJjwv07ZWlsWbEy1rQ==[m
[32m+[m[32m  version "3.0.3"[m
[32m+[m[32m  resolved "https://registry.yarnpkg.com/prettier/-/prettier-3.0.3.tgz#432a51f7ba422d1469096c0fdc28e235db8f9643"[m
[32m+[m[32m  integrity sha512-L/4pUDMxcNa8R/EthV08Zt42WBO4h1rarVtK0K+QJG0X187OLo7l699jWw0GKuwzkPQ//jMFA/8Xm6Fh3J/DAg==[m
 [m
 tr46@~0.0.3:[m
   version "0.0.3"[m
[1mdiff --git a/.github/workflows/backport.yml b/.github/workflows/backport.yml[m
[1mindex 934cb4c5c6..1232766ca3 100644[m
[1m--- a/.github/workflows/backport.yml[m
[1m+++ b/.github/workflows/backport.yml[m
[36m@@ -39,7 +39,7 @@[m [mjobs:[m
         contains(github.event.comment.body, '/backport')[m
       )[m
     steps:[m
[31m-      - uses: actions/checkout@v3[m
[32m+[m[32m      - uses: actions/checkout@8ade135a41bc03ea155e62e844d188df1ea18608 # v4[m
         with:[m
           # Token for git actions, e.g. git push[m
           token: ${{ secrets.BACKPORT_ACTION_PAT }}[m
[1mdiff --git a/.github/workflows/check-renovate-config.yml b/.github/workflows/check-renovate-config.yml[m
[1mindex ea79f0d975..d69081f585 100644[m
[1m--- a/.github/workflows/check-renovate-config.yml[m
[1m+++ b/.github/workflows/check-renovate-config.yml[m
[36m@@ -13,7 +13,7 @@[m [mjobs:[m
 [m
     steps:[m
       - name: Checkout code[m
[31m-        uses: actions/checkout@v3[m
[32m+[m[32m        uses: actions/checkout@8ade135a41bc03ea155e62e844d188df1ea18608 # v4[m
 [m
       - name: Setup npm[m
         uses: actions/setup-node@v3[m
[1mdiff --git a/.github/workflows/ci.yml b/.github/workflows/ci.yml[m
[1mindex a0fd0330e9..f98d237938 100644[m
[1m--- a/.github/workflows/ci.yml[m
[1m+++ b/.github/workflows/ci.yml[m
[36m@@ -27,148 +27,148 @@[m [mjobs:[m
     uses: ./.github/workflows/unit-tests.yml[m
     secrets: inherit[m
 [m
[31m-  migration:[m
[31m-    name: Migration[m
[31m-    runs-on: gcp-core-8-default[m
[31m-    timeout-minutes: 30[m
[31m-    steps:[m
[31m-    - uses: actions/checkout@v3[m
[31m-    - name: Setup Maven[m
[31m-      uses: ./.github/actions/setup-maven[m
[31m-      with:[m
[31m-        secrets: ${{ toJSON(secrets) }}[m
[31m-    - name: Login to Harbor registry[m
[31m-      uses: ./.github/actions/login-registry[m
[31m-      with:[m
[31m-        secrets: ${{ toJSON(secrets) }}[m
[31m-    - name: "Read Java / Version Info"[m
[31m-      id: "pom-info"[m
[31m-      uses: YunaBraska/java-info-action@main[m
[31m-    - name: Start Cambpm[m
[31m-      uses: ./.github/actions/compose[m
[31m-      with:[m
[31m-        compose_file: ${{ github.workspace }}/.github/actions/compose/docker-compose.cambpm.yml[m
[31m-        project_name: cambpm[m
[31m-      env:[m
[31m-        CAMBPM_VERSION: ${{ steps.pom-info.outputs.x_camunda_engine_version }}[m
[31m-        CAMBPM_JVM_MEMORY: 1[m
[31m-    - name: Start Elastic - Old[m
[31m-      uses: ./.github/actions/compose[m
[31m-      with:[m
[31m-        compose_file: ${{ github.workspace }}/.github/actions/compose/docker-compose.elasticsearch.yml[m
[31m-        project_name: elasticsearch-old[m
[31m-      env:[m
[31m-        ELASTIC_VERSION: ${{ steps.pom-info.outputs.x_previous_optimize_elasticsearch_version }}[m
[31m-        ELASTIC_JVM_MEMORY: 1[m
[31m-        ELASTIC_HTTP_PORT: ${{ steps.pom-info.outputs.x_old_elasticsearch_port }}[m
[31m-    - name: Start Elastic - New[m
[31m-      uses: ./.github/actions/compose[m
[31m-      with:[m
[31m-        compose_file: ${{ github.workspace }}/.github/actions/compose/docker-compose.elasticsearch.yml[m
[31m-        project_name: elasticsearch-new[m
[31m-      env:[m
[31m-        ELASTIC_VERSION: ${{ steps.pom-info.outputs.x_elasticsearch_test_version }}[m
[31m-        ELASTIC_JVM_MEMORY: 1[m
[31m-        ELASTIC_HTTP_PORT: ${{ steps.pom-info.outputs.x_new_elasticsearch_port }}[m
[31m-    - name: Install[m
[31m-      uses: ./.github/actions/run-maven[m
[31m-      with:[m
[31m-        parameters: install -Pengine-latest -Dskip.fe.build -Dskip.docker -DskipTests[m
[31m-    - name: Verify upgrade[m
[31m-      uses: ./.github/actions/run-maven[m
[31m-      with:[m
[31m-        parameters: verify -Dskip.docker -pl upgrade[m
[31m-    - name: Verify util/optimize-reimport-preparation[m
[31m-      uses: ./.github/actions/run-maven[m
[31m-      with:[m
[31m-        parameters: verify -Dskip.docker -pl util/optimize-reimport-preparation -Pengine-latest,it[m
[31m-    - name: Verify qa/upgrade-tests[m
[31m-      uses: ./.github/actions/run-maven[m
[31m-      with:[m
[31m-        parameters: verify -Dskip.docker -pl qa/upgrade-tests -Pupgrade-es-schema-tests[m
[31m-    - name: Upload Test Results[m
[31m-      if: always()[m
[31m-      uses: actions/upload-artifact@v3[m
[31m-      with:[m
[31m-        name: migration-junit[m
[31m-        path: |[m
[31m-          **/failsafe-reports/**/*.xml[m
[31m-          **/*.log[m
[31m-          **/*.json[m
[31m-        retention-days: 7[m
[31m-        if-no-files-found: ignore[m
[31m-    - name: Docker log dump[m
[31m-      uses: ./.github/actions/docker-logs[m
[31m-      if: always()[m
[31m-      with:[m
[31m-        archive_name: migration-docker[m
[32m+[m[32m#  migration:[m
[32m+[m[32m#    name: Migration[m
[32m+[m[32m#    runs-on: gcp-core-8-default[m
[32m+[m[32m#    timeout-minutes: 30[m
[32m+[m[32m#    steps:[m
[32m+[m[32m#    - uses: actions/checkout@v3[m
[32m+[m[32m#    - name: Setup Maven[m
[32m+[m[32m#      uses: ./.github/actions/setup-maven[m
[32m+[m[32m#      with:[m
[32m+[m[32m#        secrets: ${{ toJSON(secrets) }}[m
[32m+[m[32m#    - name: Login to Harbor registry[m
[32m+[m[32m#      uses: ./.github/actions/login-registry[m
[32m+[m[32m#      with:[m
[32m+[m[32m#        secrets: ${{ toJSON(secrets) }}[m
[32m+[m[32m#    - name: "Read Java / Version Info"[m
[32m+[m[32m#      id: "pom-info"[m
[32m+[m[32m#      uses: YunaBraska/java-info-action@main[m
[32m+[m[32m#    - name: Start Cambpm[m
[32m+[m[32m#      uses: ./.github/actions/compose[m
[32m+[m[32m#      with:[m
[32m+[m[32m#        compose_file: ${{ github.workspace }}/.github/actions/compose/docker-compose.cambpm.yml[m
[32m+[m[32m#        project_name: cambpm[m
[32m+[m[32m#      env:[m
[32m+[m[32m#        CAMBPM_VERSION: ${{ steps.pom-info.outputs.x_camunda_engine_version }}[m
[32m+[m[32m#        CAMBPM_JVM_MEMORY: 1[m
[32m+[m[32m#    - name: Start Elastic - Old[m
[32m+[m[32m#      uses: ./.github/actions/compose[m
[32m+[m[32m#      with:[m
[32m+[m[32m#        compose_file: ${{ github.workspace }}/.github/actions/compose/docker-compose.elasticsearch.yml[m
[32m+[m[32m#        project_name: elasticsearch-old[m
[32m+[m[32m#      env:[m
[32m+[m[32m#        ELASTIC_VERSION: ${{ steps.pom-info.outputs.x_previous_optimize_elasticsearch_version }}[m
[32m+[m[32m#        ELASTIC_JVM_MEMORY: 1[m
[32m+[m[32m#        ELASTIC_HTTP_PORT: ${{ steps.pom-info.outputs.x_old_elasticsearch_port }}[m
[32m+[m[32m#    - name: Start Elastic - New[m
[32m+[m[32m#      uses: ./.github/actions/compose[m
[32m+[m[32m#      with:[m
[32m+[m[32m#        compose_file: ${{ github.workspace }}/.github/actions/compose/docker-compose.elasticsearch.yml[m
[32m+[m[32m#        project_name: elasticsearch-new[m
[32m+[m[32m#      env:[m
[32m+[m[32m#        ELASTIC_VERSION: ${{ steps.pom-info.outputs.x_elasticsearch_test_version }}[m
[32m+[m[32m#        ELASTIC_JVM_MEMORY: 1[m
[32m+[m[32m#        ELASTIC_HTTP_PORT: ${{ steps.pom-info.outputs.x_new_elasticsearch_port }}[m
[32m+[m[32m#    - name: Install[m
[32m+[m[32m#      uses: ./.github/actions/run-maven[m
[32m+[m[32m#      with:[m
[32m+[m[32m#        parameters: install -Pengine-latest -Dskip.fe.build -Dskip.docker -DskipTests[m
[32m+[m[32m#    - name: Verify upgrade[m
[32m+[m[32m#      uses: ./.github/actions/run-maven[m
[32m+[m[32m#      with:[m
[32m+[m[32m#        parameters: verify -Dskip.docker -pl upgrade[m
[32m+[m[32m#    - name: Verify util/optimize-reimport-preparation[m
[32m+[m[32m#      uses: ./.github/actions/run-maven[m
[32m+[m[32m#      with:[m
[32m+[m[32m#        parameters: verify -Dskip.docker -pl util/optimize-reimport-preparation -Pengine-latest,it[m
[32m+[m[32m#    - name: Verify qa/upgrade-tests[m
[32m+[m[32m#      uses: ./.github/actions/run-maven[m
[32m+[m[32m#      with:[m
[32m+[m[32m#        parameters: verify -Dskip.docker -pl qa/upgrade-tests -Pupgrade-es-schema-tests[m
[32m+[m[32m#    - name: Upload Test Results[m
[32m+[m[32m#      if: always()[m
[32m+[m[32m#      uses: actions/upload-artifact@v3[m
[32m+[m[32m#      with:[m
[32m+[m[32m#        name: migration-junit[m
[32m+[m[32m#        path: |[m
[32m+[m[32m#          **/failsafe-reports/**/*.xml[m
[32m+[m[32m#          **/*.log[m
[32m+[m[32m#          **/*.json[m
[32m+[m[32m#        retention-days: 7[m
[32m+[m[32m#        if-no-files-found: ignore[m
[32m+[m[32m#    - name: Docker log dump[m
[32m+[m[32m#      uses: ./.github/actions/docker-logs[m
[32m+[m[32m#      if: always()[m
[32m+[m[32m#      with:[m
[32m+[m[32m#        archive_name: migration-docker[m
 [m
[31m-  data-upgrade-test:[m
[31m-    name: Data Upgrade Test[m
[31m-    runs-on: gcp-core-8-default[m
[31m-    timeout-minutes: 30[m
[31m-    steps:[m
[31m-    - uses: actions/checkout@v3[m
[31m-    - name: Setup Maven[m
[31m-      uses: ./.github/actions/setup-maven[m
[31m-      with:[m
[31m-        secrets: ${{ toJSON(secrets) }}[m
[31m-    - name: Login to Harbor registry[m
[31m-      uses: ./.github/actions/login-registry[m
[31m-      with:[m
[31m-        secrets: ${{ toJSON(secrets) }}[m
[31m-    - name: "Read Java / Version Info"[m
[31m-      id: "pom-info"[m
[31m-      uses: YunaBraska/java-info-action@main[m
[31m-    - name: Start Cambpm # Cambpm even needed?[m
[31m-      uses: ./.github/actions/compose[m
[31m-      with:[m
[31m-        compose_file: ${{ github.workspace }}/.github/actions/compose/docker-compose.cambpm.yml[m
[31m-        project_name: cambpm[m
[31m-      env:[m
[31m-        CAMBPM_VERSION: ${{ steps.pom-info.outputs.x_camunda_engine_version }}[m
[31m-        CAMBPM_JVM_MEMORY: 1[m
[31m-    - name: Start Elastic - Old[m
[31m-      uses: ./.github/actions/compose[m
[31m-      with:[m
[31m-        compose_file: ${{ github.workspace }}/.github/actions/compose/docker-compose.elasticsearch.yml[m
[31m-        project_name: elasticsearch-old[m
[31m-      env:[m
[31m-        ELASTIC_VERSION: ${{ steps.pom-info.outputs.x_previous_optimize_elasticsearch_version }}[m
[31m-        ELASTIC_JVM_MEMORY: 1[m
[31m-        ELASTIC_HTTP_PORT: ${{ steps.pom-info.outputs.x_old_elasticsearch_port }}[m
[31m-    - name: Start Elastic - New[m
[31m-      uses: ./.github/actions/compose[m
[31m-      with:[m
[31m-        compose_file: ${{ github.workspace }}/.github/actions/compose/docker-compose.elasticsearch.yml[m
[31m-        project_name: elasticsearch-new[m
[31m-      env:[m
[31m-        ELASTIC_VERSION: ${{ steps.pom-info.outputs.x_elasticsearch_test_version }}[m
[31m-        ELASTIC_JVM_MEMORY: 1[m
[31m-        ELASTIC_HTTP_PORT: ${{ steps.pom-info.outputs.x_new_elasticsearch_port }}[m
[31m-    - name: Install[m
[31m-      uses: ./.github/actions/run-maven[m
[31m-      with:[m
[31m-        parameters: install -Pengine-latest -Dskip.fe.build -Dskip.docker -DskipTests[m
[31m-    - name: Verify qa/upgrade-tests[m
[31m-      uses: ./.github/actions/run-maven[m
[31m-      with:[m
[31m-        parameters: verify -Dskip.docker -Dskip.fe.build -f qa/upgrade-tests -Pupgrade-optimize-data[m
[31m-    - name: Upload Test Results[m
[31m-      if: always()[m
[31m-      uses: actions/upload-artifact@v3[m
[31m-      with:[m
[31m-        name: data-upgrade-test-junit[m
[31m-        path: |[m
[31m-          **/failsafe-reports/**/*.xml[m
[31m-          **/*.log[m
[31m-        retention-days: 7[m
[31m-        if-no-files-found: ignore[m
[31m-    - name: Docker log dump[m
[31m-      uses: ./.github/actions/docker-logs[m
[31m-      if: always()[m
[31m-      with:[m
[31m-        archive_name: data-upgrade-test-docker[m
[32m+[m[32m#  data-upgrade-test:[m
[32m+[m[32m#    name: Data Upgrade Test[m
[32m+[m[32m#    runs-on: gcp-core-8-default[m
[32m+[m[32m#    timeout-minutes: 30[m
[32m+[m[32m#    steps:[m
[32m+[m[32m#    - uses: actions/checkout@v3[m
[32m+[m[32m#    - name: Setup Maven[m
[32m+[m[32m#      uses: ./.github/actions/setup-maven[m
[32m+[m[32m#      with:[m
[32m+[m[32m#        secrets: ${{ toJSON(secrets) }}[m
[32m+[m[32m#    - name: Login to Harbor registry[m
[32m+[m[32m#      uses: ./.github/actions/login-registry[m
[32m+[m[32m#      with:[m
[32m+[m[32m#        secrets: ${{ toJSON(secrets) }}[m
[32m+[m[32m#    - name: "Read Java / Version Info"[m
[32m+[m[32m#      id: "pom-info"[m
[32m+[m[32m#      uses: YunaBraska/java-info-action@main[m
[32m+[m[32m#    - name: Start Cambpm # Cambpm even needed?[m
[32m+[m[32m#      uses: ./.github/actions/compose[m
[32m+[m[32m#      with:[m
[32m+[m[32m#        compose_file: ${{ github.workspace }}/.github/actions/compose/docker-compose.cambpm.yml[m
[32m+[m[32m#        project_name: cambpm[m
[32m+[m[32m#      env:[m
[32m+[m[32m#        CAMBPM_VERSION: ${{ steps.pom-info.outputs.x_camunda_engine_version }}[m
[32m+[m[32m#        CAMBPM_JVM_MEMORY: 1[m
[32m+[m[32m#    - name: Start Elastic - Old[m
[32m+[m[32m#      uses: ./.github/actions/compose[m
[32m+[m[32m#      with:[m
[32m+[m[32m#        compose_file: ${{ github.workspace }}/.github/actions/compose/docker-compose.elasticsearch.yml[m
[32m+[m[32m#        project_name: elasticsearch-old[m
[32m+[m[32m#      env:[m
[32m+[m[32m#        ELASTIC_VERSION: ${{ steps.pom-info.outputs.x_previous_optimize_elasticsearch_version }}[m
[32m+[m[32m#        ELASTIC_JVM_MEMORY: 1[m
[32m+[m[32m#        ELASTIC_HTTP_PORT: ${{ steps.pom-info.outputs.x_old_elasticsearch_port }}[m
[32m+[m[32m#    - name: Start Elastic - New[m
[32m+[m[32m#      uses: ./.github/actions/compose[m
[32m+[m[32m#      with:[m
[32m+[m[32m#        compose_file: ${{ github.workspace }}/.github/actions/compose/docker-compose.elasticsearch.yml[m
[32m+[m[32m#        project_name: elasticsearch-new[m
[32m+[m[32m#      env:[m
[32m+[m[32m#        ELASTIC_VERSION: ${{ steps.pom-info.outputs.x_elasticsearch_test_version }}[m
[32m+[m[32m#        ELASTIC_JVM_MEMORY: 1[m
[32m+[m[32m#        ELASTIC_HTTP_PORT: ${{ steps.pom-info.outputs.x_new_elasticsearch_port }}[m
[32m+[m[32m#    - name: Install[m
[32m+[m[32m#      uses: ./.github/actions/run-maven[m
[32m+[m[32m#      with:[m
[32m+[m[32m#        parameters: install -Pengine-latest -Dskip.fe.build -Dskip.docker -DskipTests[m
[32m+[m[32m#    - name: Verify qa/upgrade-tests[m
[32m+[m[32m#      uses: ./.github/actions/run-maven[m
[32m+[m[32m#      with:[m
[32m+[m[32m#        parameters: verify -Dskip.docker -Dskip.fe.build -f qa/upgrade-tests -Pupgrade-optimize-data[m
[32m+[m[32m#    - name: Upload Test Results[m
[32m+[m[32m#      if: always()[m
[32m+[m[32m#      uses: actions/upload-artifact@v3[m
[32m+[m[32m#      with:[m
[32m+[m[32m#        name: data-upgrade-test-junit[m
[32m+[m[32m#        path: |[m
[32m+[m[32m#          **/failsafe-reports/**/*.xml[m
[32m+[m[32m#          **/*.log[m
[32m+[m[32m#        retention-days: 7[m
[32m+[m[32m#        if-no-files-found: ignore[m
[32m+[m[32m#    - name: Docker log dump[m
[32m+[m[32m#      uses: ./.github/actions/docker-logs[m
[32m+[m[32m#      if: always()[m
[32m+[m[32m#      with:[m
[32m+[m[32m#        archive_name: data-upgrade-test-docker[m
 [m
   integration-tests:[m
     name: Integration Tests[m
[36m@@ -198,7 +198,7 @@[m [mjobs:[m
           profiles: 'it,engine-latest'[m
           requiresCambpm: true[m
     steps:[m
[31m-    - uses: actions/checkout@v3[m
[32m+[m[32m    - uses: actions/checkout@8ade135a41bc03ea155e62e844d188df1ea18608 # v4[m
     - name: Setup Maven[m
       uses: ./.github/actions/setup-maven[m
       with:[m
[36m@@ -261,14 +261,16 @@[m [mjobs:[m
   deploy-artifacts:[m
     if: github.event_name == 'push' && (github.ref_name == 'master' || startsWith(github.ref_name, 'maintenance/'))[m
     name: Deploy Artifacts[m
[31m-    needs: [unit-tests, migration, data-upgrade-test, integration-tests][m
[32m+[m[32m    needs: [unit-tests, integration-tests][m
[32m+[m[32m    #needs: [unit-tests, migration, data-upgrade-test, integration-tests][m
     uses: ./.github/workflows/deploy-artifacts.yml[m
     secrets: inherit[m
 [m
   publish-test-results:[m
     name: "Publish Test Results"[m
     runs-on: ubuntu-latest[m
[31m-    needs: [unit-tests, migration, data-upgrade-test, integration-tests][m
[32m+[m[32m    needs: [unit-tests, integration-tests][m
[32m+[m[32m    #needs: [unit-tests, migration, data-upgrade-test, integration-tests][m
     if: always()[m
     steps:[m
     - name: Download Artifacts[m
[1mdiff --git a/.github/workflows/cluster-test.yml b/.github/workflows/cluster-test.yml[m
[1mindex 153692d2da..4983716ddf 100644[m
[1m--- a/.github/workflows/cluster-test.yml[m
[1m+++ b/.github/workflows/cluster-test.yml[m
[36m@@ -14,7 +14,7 @@[m [mjobs:[m
 [m
     steps:[m
     - name: Checkout code[m
[31m-      uses: actions/checkout@v3[m
[32m+[m[32m      uses: actions/checkout@8ade135a41bc03ea155e62e844d188df1ea18608 # v4[m
 [m
     - name: Import secrets[m
       id: secrets[m
[1mdiff --git a/.github/workflows/connect-to-secured-es.yml b/.github/workflows/connect-to-secured-es.yml[m
[1mindex 55c7f9bc65..653c97b356 100644[m
[1m--- a/.github/workflows/connect-to-secured-es.yml[m
[1m+++ b/.github/workflows/connect-to-secured-es.yml[m
[36m@@ -11,7 +11,7 @@[m [mjobs:[m
     timeout-minutes: 10[m
 [m
     steps:[m
[31m-      - uses: actions/checkout@v3[m
[32m+[m[32m      - uses: actions/checkout@8ade135a41bc03ea155e62e844d188df1ea18608 # v4[m
 [m
       - name: Login to Harbor registry[m
         uses: ./.github/actions/login-registry[m
[1mdiff --git a/.github/workflows/deploy-artifacts.yml b/.github/workflows/deploy-artifacts.yml[m
[1mindex d6f1bb5cf3..8a26483c6d 100644[m
[1m--- a/.github/workflows/deploy-artifacts.yml[m
[1m+++ b/.github/workflows/deploy-artifacts.yml[m
[36m@@ -12,7 +12,7 @@[m [mjobs:[m
       DOCKER_IMAGE_TEAM: registry.camunda.cloud/team-optimize/optimize[m
       DOCKER_IMAGE_DOCKER_HUB: camunda/optimize[m
     steps:[m
[31m-    - uses: actions/checkout@v3[m
[32m+[m[32m    - uses: actions/checkout@8ade135a41bc03ea155e62e844d188df1ea18608 # v4[m
     - name: Define common variables[m
       id: define-values[m
       uses: ./.github/actions/git-environment[m
[36m@@ -46,7 +46,7 @@[m [mjobs:[m
           secret/data/products/optimize/ci/camunda-optimize REGISTRY_HUB_DOCKER_COM_USR;[m
           secret/data/products/optimize/ci/camunda-optimize REGISTRY_HUB_DOCKER_COM_PSW;[m
     - name: Login to Harbor docker registery[m
[31m-      uses: docker/login-action@v2[m
[32m+[m[32m      uses: docker/login-action@343f7c4344506bcbf9b4de18042ae17996df046d # v3[m
       with:[m
         username: ${{ steps.secrets.outputs.REGISTRY_HUB_DOCKER_COM_USR }}[m
         password: ${{ steps.secrets.outputs.REGISTRY_HUB_DOCKER_COM_PSW }}[m
[1mdiff --git a/.github/workflows/deploy-env.yml b/.github/workflows/deploy-env.yml[m
[1mindex c8bbee00ad..5fb4eb3b30 100644[m
[1m--- a/.github/workflows/deploy-env.yml[m
[1m+++ b/.github/workflows/deploy-env.yml[m
[36m@@ -49,7 +49,7 @@[m [mjobs:[m
     # Setup: checkout code. This is required because we are using[m
     # composite actions and deployment manifests.[m
     - name: Checkout[m
[31m-      uses: actions/checkout@v3[m
[32m+[m[32m      uses: actions/checkout@8ade135a41bc03ea155e62e844d188df1ea18608 # v4[m
     #########################################################################[m
     # Determine the argocd arguments that need to be passed to the create app command[m
     - name: Determine Argocd arguments[m
[1mdiff --git a/.github/workflows/e2e-test-cloud.yml b/.github/workflows/e2e-test-cloud.yml[m
[1mindex d33dfe579d..de97145533 100644[m
[1m--- a/.github/workflows/e2e-test-cloud.yml[m
[1m+++ b/.github/workflows/e2e-test-cloud.yml[m
[36m@@ -8,7 +8,7 @@[m [mjobs:[m
     timeout-minutes: 60[m
     services:[m
       elasticsearch:[m
[31m-        image: docker.elastic.co/elasticsearch/elasticsearch:7.17.12[m
[32m+[m[32m        image: docker.elastic.co/elasticsearch/elasticsearch:7.17.13@sha256:67b2d720621da7092ef18fe5ccca2eeb7b863b55d4bcee30108224520aebd92c[m
         env:[m
           discovery.type: single-node[m
           ES_JAVA_OPTS: -Xms1024m -Xmx1024m[m
[36m@@ -18,7 +18,7 @@[m [mjobs:[m
 [m
     steps:[m
     - name: Checkout code[m
[31m-      uses: actions/checkout@v3[m
[32m+[m[32m      uses: actions/checkout@8ade135a41bc03ea155e62e844d188df1ea18608 # v4[m
 [m
     - name: Import secrets[m
       id: secrets[m
[1mdiff --git a/.github/workflows/e2e-tests-browserstack.yml b/.github/workflows/e2e-tests-browserstack.yml[m
[1mindex 67cf2d1ce0..6a6c048977 100644[m
[1m--- a/.github/workflows/e2e-tests-browserstack.yml[m
[1m+++ b/.github/workflows/e2e-tests-browserstack.yml[m
[36m@@ -16,7 +16,7 @@[m [mjobs:[m
 [m
     steps:[m
       - name: Checkout code[m
[31m-        uses: actions/checkout@v3[m
[32m+[m[32m        uses: actions/checkout@8ade135a41bc03ea155e62e844d188df1ea18608 # v4[m
 [m
       - name: Import secrets[m
         id: secrets[m
[36m@@ -40,7 +40,7 @@[m [mjobs:[m
             secret/data/products/optimize/ci/camunda-optimize SLACK_BOT_URL;[m
 [m
       - name: Login to Harbor docker registery[m
[31m-        uses: docker/login-action@v2[m
[32m+[m[32m        uses: docker/login-action@343f7c4344506bcbf9b4de18042ae17996df046d # v3[m
         with:[m
           registry: registry.camunda.cloud[m
           username: ${{ steps.secrets.outputs.CAMUNDA_CONTAINER_REGISTRY_USER }}[m
[1mdiff --git a/.github/workflows/e2e-tests.yml b/.github/workflows/e2e-tests.yml[m
[1mindex c4481a447c..bd271c3464 100644[m
[1m--- a/.github/workflows/e2e-tests.yml[m
[1m+++ b/.github/workflows/e2e-tests.yml[m
[36m@@ -1,6 +1,14 @@[m
 name: e2e tests[m
 [m
[31m-on: [push][m
[32m+[m[32mon:[m
[32m+[m[32m  push:[m
[32m+[m[32m  workflow_dispatch:[m[41m [m
[32m+[m
[32m+[m[32m# Will limit the workflow to 1 concurrent run per ref (branch / PR)[m
[32m+[m[32m# If a new commits occurs, the current run will be canceled[m
[32m+[m[32mconcurrency:[m
[32m+[m[32m  group: ${{ github.workflow }}-${{ github.ref }}[m
[32m+[m[32m  cancel-in-progress: true[m
 [m
 permissions:[m
   contents: read  # for git clone[m
[36m@@ -13,7 +21,7 @@[m [mjobs:[m
 [m
     steps:[m
     - name: Checkout code[m
[31m-      uses: actions/checkout@v3[m
[32m+[m[32m      uses: actions/checkout@8ade135a41bc03ea155e62e844d188df1ea18608 # v4[m
 [m
     - name: Import secrets[m
       id: secrets[m
[36m@@ -34,7 +42,7 @@[m [mjobs:[m
           secret/data/products/optimize/ci/camunda-optimize CI_SERVICE_ACCOUNT | GCP_CREDENTIALS;[m
 [m
     - name: Login to Harbor docker registery[m
[31m-      uses: docker/login-action@v2[m
[32m+[m[32m      uses: docker/login-action@343f7c4344506bcbf9b4de18042ae17996df046d # v3[m
       with:[m
         registry: registry.camunda.cloud[m
         username: ${{ steps.secrets.outputs.CAMUNDA_CONTAINER_REGISTRY_USER }}[m
[1mdiff --git a/.github/workflows/hadolint.yml b/.github/workflows/hadolint.yml[m
[1mindex f40091cb8b..6f2bba2718 100644[m
[1m--- a/.github/workflows/hadolint.yml[m
[1m+++ b/.github/workflows/hadolint.yml[m
[36m@@ -12,7 +12,7 @@[m [mjobs:[m
             "qa/clustering-tests/src/main/docker/optimize/Dockerfile",[m
           ][m
     steps:[m
[31m-      - uses: actions/checkout@v3[m
[32m+[m[32m      - uses: actions/checkout@8ade135a41bc03ea155e62e844d188df1ea18608 # v4[m
       - uses: hadolint/hadolint-action@v3.1.0[m
         with:[m
           dockerfile: ${{ matrix.dockerfile }}[m
[1mdiff --git a/.github/workflows/health-status-report.yml b/.github/workflows/health-status-report.yml[m
[1mindex 25059933fe..22f63037aa 100644[m
[1m--- a/.github/workflows/health-status-report.yml[m
[1m+++ b/.github/workflows/health-status-report.yml[m
[36m@@ -14,7 +14,7 @@[m [mjobs:[m
     runs-on: ubuntu-latest[m
     timeout-minutes: 15[m
     steps:[m
[31m-      - uses: actions/checkout@v3[m
[32m+[m[32m      - uses: actions/checkout@8ade135a41bc03ea155e62e844d188df1ea18608 # v4[m
 [m
       - name: Import secrets[m
         id: secrets[m
[36m@@ -42,7 +42,7 @@[m [mjobs:[m
           SNYK_TOKEN: ${{ steps.secrets.outputs.SNYK_TOKEN }}[m
 [m
       - name: Get health status report[m
[31m-        uses: misiekhardcore/infra-report-action@v1.1.0[m
[32m+[m[32m        uses: misiekhardcore/infra-report-action@2fd767efd51156126fba0e40c421d73922b701f4 # v1.2.0[m
         id: get-report[m
         with:[m
           config_file_path: ${{ github.workspace }}/.github/scripts/healthStatusReport/config.json[m
[1mdiff --git a/.github/workflows/import-dynamic-data-performance.yml b/.github/workflows/import-dynamic-data-performance.yml[m
[1mindex afde12b2d5..631df12e72 100644[m
[1m--- a/.github/workflows/import-dynamic-data-performance.yml[m
[1m+++ b/.github/workflows/import-dynamic-data-performance.yml[m
[36m@@ -30,7 +30,7 @@[m [mjobs:[m
     timeout-minutes: 90[m
 [m
     steps:[m
[31m-      - uses: actions/checkout@v3[m
[32m+[m[32m      - uses: actions/checkout@8ade135a41bc03ea155e62e844d188df1ea18608 # v4[m
 [m
       - name: Import secrets[m
         id: secrets[m
[1mdiff --git a/.github/workflows/java-compatibility.yml b/.github/workflows/java-compatibility.yml[m
[1mindex 89a491c69f..d8096d1308 100644[m
[1m--- a/.github/workflows/java-compatibility.yml[m
[1m+++ b/.github/workflows/java-compatibility.yml[m
[36m@@ -17,7 +17,7 @@[m [mjobs:[m
         javaVersion: [ 17, 20 ][m
     timeout-minutes: 30[m
     steps:[m
[31m-      - uses: actions/checkout@v3[m
[32m+[m[32m      - uses: actions/checkout@8ade135a41bc03ea155e62e844d188df1ea18608 # v4[m
       - name: Setup Maven[m
         uses: ./.github/actions/setup-maven[m
         with:[m
[36m@@ -63,7 +63,7 @@[m [mjobs:[m
             profiles: 'it,engine-latest'[m
             requiresCambpm: true[m
     steps:[m
[31m-      - uses: actions/checkout@v3[m
[32m+[m[32m      - uses: actions/checkout@8ade135a41bc03ea155e62e844d188df1ea18608 # v4[m
       - name: Setup Maven[m
         uses: ./.github/actions/setup-maven[m
         with:[m
[36m@@ -124,7 +124,7 @@[m [mjobs:[m
       matrix:[m
         javaVersion: [ 17, 20 ][m
     steps:[m
[31m-      - uses: actions/checkout@v3[m
[32m+[m[32m      - uses: actions/checkout@8ade135a41bc03ea155e62e844d188df1ea18608 # v4[m
       - name: Setup Maven[m
         uses: ./.github/actions/setup-maven[m
         with:[m
[1mdiff --git a/.github/workflows/publish-c4.yml b/.github/workflows/publish-c4.yml[m
[1mindex d61e8f5915..d6fa9ddbdf 100644[m
[1m--- a/.github/workflows/publish-c4.yml[m
[1m+++ b/.github/workflows/publish-c4.yml[m
[36m@@ -11,7 +11,7 @@[m [mjobs:[m
         working-directory: ./c4 [m
     steps:[m
       - name: Checkout repository[m
[31m-        uses: actions/checkout@v3[m
[32m+[m[32m        uses: actions/checkout@8ade135a41bc03ea155e62e844d188df1ea18608 # v4[m
       - name: Setup Node[m
         uses: actions/setup-node@v3[m
         with:[m
[1mdiff --git a/.github/workflows/push-dev-branch-image.yml b/.github/workflows/push-dev-branch-image.yml[m
[1mindex 5df7758311..8e70c7e81c 100644[m
[1m--- a/.github/workflows/push-dev-branch-image.yml[m
[1m+++ b/.github/workflows/push-dev-branch-image.yml[m
[36m@@ -16,7 +16,7 @@[m [mjobs:[m
     name: Build Docker image[m
     runs-on: ubuntu-latest[m
     steps:[m
[31m-      - uses: actions/checkout@v3[m
[32m+[m[32m      - uses: actions/checkout@8ade135a41bc03ea155e62e844d188df1ea18608 # v4[m
 [m
       # The nexus username and pwd are being read from the VAULT secret management[m
       # that is being administrated by infra.[m
[36m@@ -40,7 +40,7 @@[m [mjobs:[m
       # Configure the registry where we can push the GH IMAGE[m
       - name: Configure Google tools[m
         id: auth[m
[31m-        uses: camunda-cloud/action-setup-gcloud@v2[m
[32m+[m[32m        uses: camunda-cloud/action-setup-gcloud@9f58c1c41af48d1a9fd6bbb994f1dc7e42cdbf30 # v3[m
         with:[m
           account-alias: registry[m
 [m
[36m@@ -80,7 +80,7 @@[m [mjobs:[m
       # --build-arg VERSION=3.11.0-SNAPSHOT --build-arg DATE=2022-12-08T15:25:30.165965Z[m
       # --build-arg REVISION=cb723f69397c60c7f513ca58c99473e5c8431a27 --platform linux/amd64,linux/arm64 --push .[m
       - name: Build and Push[m
[31m-        uses: docker/build-push-action@v4[m
[32m+[m[32m        uses: docker/build-push-action@0565240e2d4ab88bba5387d719585280857ece09 # v5[m
         with:[m
           context: .[m
           push: true[m
[1mdiff --git a/.github/workflows/sonarqube-analysis.yml b/.github/workflows/sonarqube-analysis.yml[m
[1mindex b81597c64c..20117b0e80 100644[m
[1m--- a/.github/workflows/sonarqube-analysis.yml[m
[1m+++ b/.github/workflows/sonarqube-analysis.yml[m
[36m@@ -11,7 +11,7 @@[m [mjobs:[m
     timeout-minutes: 60[m
 [m
     steps:[m
[31m-      - uses: actions/checkout@v3[m
[32m+[m[32m      - uses: actions/checkout@8ade135a41bc03ea155e62e844d188df1ea18608 # v4[m
 [m
       - name: Import secrets[m
         id: secrets[m
[1mdiff --git a/.github/workflows/static-code-analysis.yml b/.github/workflows/static-code-analysis.yml[m
[1mindex d53b0cbcc5..e26bbf7d8a 100644[m
[1m--- a/.github/workflows/static-code-analysis.yml[m
[1m+++ b/.github/workflows/static-code-analysis.yml[m
[36m@@ -15,7 +15,7 @@[m [mjobs:[m
     runs-on: ubuntu-latest[m
     timeout-minutes: 30[m
     steps:[m
[31m-    - uses: actions/checkout@v3[m
[32m+[m[32m    - uses: actions/checkout@8ade135a41bc03ea155e62e844d188df1ea18608 # v4[m
       with:[m
         fetch-depth: 0[m
     - name: Import secrets[m
[1mdiff --git a/.github/workflows/trivy-check.yml b/.github/workflows/trivy-check.yml[m
[1mindex 90b4809e5e..3945562dc8 100644[m
[1m--- a/.github/workflows/trivy-check.yml[m
[1m+++ b/.github/workflows/trivy-check.yml[m
[36m@@ -26,13 +26,12 @@[m [mjobs:[m
             "master",[m
             "maintenance/3.10",[m
             "maintenance/3.9",[m
[31m-            "maintenance/3.8",[m
             "maintenance/3.7",[m
           ][m
     runs-on: ubuntu-latest[m
     steps:[m
       - name: Checkout code[m
[31m-        uses: actions/checkout@v3[m
[32m+[m[32m        uses: actions/checkout@8ade135a41bc03ea155e62e844d188df1ea18608 # v4[m
         with:[m
           ref: ${{ matrix.branch }}[m
 [m
[36m@@ -46,7 +45,7 @@[m [mjobs:[m
           secrets: ${{ toJSON(secrets) }}[m
 [m
       - name: Checkout code 2 # we do it cause setup maven step does the checkout to current branch[m
[31m-        uses: actions/checkout@v3[m
[32m+[m[32m        uses: actions/checkout@8ade135a41bc03ea155e62e844d188df1ea18608 # v4[m
         with:[m
           ref: ${{ matrix.branch}}[m
 [m
[36m@@ -87,7 +86,7 @@[m [mjobs:[m
           secrets: ${{ toJSON(secrets) }}[m
 [m
       - name: Login to Harbor docker registery[m
[31m-        uses: docker/login-action@v2[m
[32m+[m[32m        uses: docker/login-action@343f7c4344506bcbf9b4de18042ae17996df046d # v3[m
         with:[m
           username: ${{ steps.secrets.outputs.REGISTRY_HUB_DOCKER_COM_USR }}[m
           password: ${{ steps.secrets.outputs.REGISTRY_HUB_DOCKER_COM_PSW }}[m
[36m@@ -161,7 +160,7 @@[m [mjobs:[m
       - trivy-check[m
     runs-on: ubuntu-latest[m
     steps:[m
[31m-      - uses: actions/checkout@v3[m
[32m+[m[32m      - uses: actions/checkout@8ade135a41bc03ea155e62e844d188df1ea18608 # v4[m
 [m
       - name: Import secrets[m
         id: secrets[m
[1mdiff --git a/.github/workflows/unit-tests.yml b/.github/workflows/unit-tests.yml[m
[1mindex d4a3612fd5..ae3df261b4 100644[m
[1m--- a/.github/workflows/unit-tests.yml[m
[1m+++ b/.github/workflows/unit-tests.yml[m
[36m@@ -8,7 +8,7 @@[m [mjobs:[m
     runs-on: gcp-core-8-default[m
     timeout-minutes: 30[m
     steps:[m
[31m-    - uses: actions/checkout@v3[m
[32m+[m[32m    - uses: actions/checkout@8ade135a41bc03ea155e62e844d188df1ea18608 # v4[m
     - name: Setup Maven[m
       uses: ./.github/actions/setup-maven[m
       with:[m
[36m@@ -32,7 +32,7 @@[m [mjobs:[m
     runs-on: ubuntu-latest[m
     timeout-minutes: 30[m
     steps:[m
[31m-    - uses: actions/checkout@v3[m
[32m+[m[32m    - uses: actions/checkout@8ade135a41bc03ea155e62e844d188df1ea18608 # v4[m
     - name: "Parse pom.xml for versions"[m
       id: "pom_info"[m
       uses: YunaBraska/java-info-action@main[m
[1mdiff --git a/.github/workflows/upgrade-data-performance.yml b/.github/workflows/upgrade-data-performance.yml[m
[1mindex 0a82d5a2ae..7194abc9ec 100644[m
[1m--- a/.github/workflows/upgrade-data-performance.yml[m
[1m+++ b/.github/workflows/upgrade-data-performance.yml[m
[36m@@ -35,7 +35,7 @@[m [mjobs:[m
     timeout-minutes: ${{ inputs.upgrade_timeout || 360 }}[m
 [m
     steps:[m
[31m-      - uses: actions/checkout@v3[m
[32m+[m[32m      - uses: actions/checkout@8ade135a41bc03ea155e62e844d188df1ea18608 # v4[m
 [m
       - name: Setup Maven[m
         uses: ./.github/actions/setup-maven[m
[1mdiff --git a/.github/workflows/zeebe-compatibility.yml b/.github/workflows/zeebe-compatibility.yml[m
[1mindex b7869347f7..110898d30c 100644[m
[1m--- a/.github/workflows/zeebe-compatibility.yml[m
[1m+++ b/.github/workflows/zeebe-compatibility.yml[m
[36m@@ -17,7 +17,7 @@[m [mjobs:[m
       matrix:[m
         zeebe-version: [ 8.0.0, 8.1.0, 8.2.0, latest, snapshot ][m
     steps:[m
[31m-      - uses: actions/checkout@v3[m
[32m+[m[32m      - uses: actions/checkout@8ade135a41bc03ea155e62e844d188df1ea18608 # v4[m
       # Parses the pom within less than second and exposes every value as an output of the step[m
       # That's why we need the id `pom-info`, so we can reference it in follow-up steps[m
       - name: "Read Java Info"[m
[1mdiff --git a/.gitignore b/.gitignore[m
[1mindex 639afeef1e..8b5b09d2ea 100644[m
[1m--- a/.gitignore[m
[1m+++ b/.gitignore[m
[36m@@ -31,3 +31,5 @@[m [mqa/engine-rest-custom/overlays[m
 !.idea/copyright/*[m
 [m
 m2-repository/[m
[32m+[m[32m/.run[m
[32m+[m[32m/.run/*[m
[1mdiff --git a/.java-version b/.java-version[m
[1mindex b4de394767..98d9bcb75a 100644[m
[1m--- a/.java-version[m
[1m+++ b/.java-version[m
[36m@@ -1 +1 @@[m
[31m-11[m
[32m+[m[32m17[m
[1mdiff --git a/Dockerfile b/Dockerfile[m
[1mindex 5e349c5028..96b923cfa6 100644[m
[1m--- a/Dockerfile[m
[1m+++ b/Dockerfile[m
[36m@@ -1,6 +1,6 @@[m
[31m-ARG BASE_IMAGE_NAME="alpine:3.18.3"[m
[31m-ARG BASE_IMAGE_SHA_AMD64="sha256:c5c5fda71656f28e49ac9c5416b3643eaa6a108a8093151d6d1afc9463be8e33"[m
[31m-ARG BASE_IMAGE_SHA_ARM64="sha256:b312e4b0e2c665d634602411fcb7c2699ba748c36f59324457bc17de485f36f6"[m
[32m+[m[32mARG BASE_IMAGE_NAME="alpine:3.18.4"[m
[32m+[m[32mARG BASE_IMAGE_SHA_AMD64="sha256:48d9183eb12a05c99bcc0bf44a003607b8e941e1d4f41f9ad12bdcc4b5672f86"[m
[32m+[m[32mARG BASE_IMAGE_SHA_ARM64="sha256:6ce9a9a256a3495ae60ab0059ed1c7aee5ee89450477f2223f6ea7f6296df555"[m
 [m
 # Building prod image amd64[m
 FROM ${BASE_IMAGE_NAME}@${BASE_IMAGE_SHA_AMD64} as prod-amd64[m
[1mdiff --git a/README.md b/README.md[m
[1mindex 5eee4360ef..2f5a2049d3 100644[m
[1m--- a/README.md[m
[1m+++ b/README.md[m
[36m@@ -15,8 +15,6 @@[m [mbusiness processes.[m
 [m
 [![Main Pipeline - 3.9](https://github.com/camunda/camunda-optimize/actions/workflows/ci.yml/badge.svg?branch=maintenance%2F3.9)](https://github.com/camunda/camunda-optimize/actions/workflows/ci.yml?query=branch%3Amaintenance%2F3.9)[m
 [m
[31m-[![Main Pipeline - 3.8](https://github.com/camunda/camunda-optimize/actions/workflows/ci.yml/badge.svg?branch=maintenance%2F3.8)](https://github.com/camunda/camunda-optimize/actions/workflows/ci.yml?query=branch%3Amaintenance%2F3.8)[m
[31m-[m
 [![Main Pipeline - 3.7](https://github.com/camunda/camunda-optimize/actions/workflows/ci.yml/badge.svg?branch=maintenance%2F3.7)](https://github.com/camunda/camunda-optimize/actions/workflows/ci.yml?query=branch%3Amaintenance%2F3.7))[m
 [m
 [![Connect to secured Elasticsearch](https://github.com/camunda/camunda-optimize/actions/workflows/connect-to-secured-es.yml/badge.svg)](https://github.com/camunda/camunda-optimize/actions/workflows/connect-to-secured-es.yml)[m
[36m@@ -41,7 +39,7 @@[m [mbusiness processes.[m
 [m
 ## Building Optimize[m
 [m
[31m-Apache Maven 3 and Java JDK 8 are prerequisites for building Camunda[m
[32m+[m[32mApache Maven 3 and Java JDK 17 are prerequisites for building Camunda[m
 Optimize. Once you have setup Java and Maven, run[m
 [m
 ```[m
[1mdiff --git a/backend/pom.xml b/backend/pom.xml[m
[1mindex bb5afe4bb6..6df9c9752f 100644[m
[1m--- a/backend/pom.xml[m
[1m+++ b/backend/pom.xml[m
[36m@@ -5,15 +5,15 @@[m
   <parent>[m
     <groupId>org.camunda.optimize</groupId>[m
     <artifactId>parent</artifactId>[m
[31m-    <version>3.11.0-SNAPSHOT</version>[m
[32m+[m[32m    <version>3.12.0-SNAPSHOT</version>[m
   </parent>[m
 [m
   <artifactId>optimize-backend</artifactId>[m
 [m
   <properties>[m
[31m-    <jetty.version>11.0.15</jetty.version>[m
[32m+[m[32m    <jetty.version>11.0.16</jetty.version>[m
     <jersey.version>3.1.3</jersey.version>[m
[31m-    <spring.security.version>6.1.3</spring.security.version>[m
[32m+[m[32m    <spring.security.version>6.1.4</spring.security.version>[m
     <it.test.excludedGroups />[m
     <it.test.includedGroups />[m
     <test.forkCount />[m
[36m@@ -289,14 +289,14 @@[m
     <dependency>[m
       <groupId>commons-io</groupId>[m
       <artifactId>commons-io</artifactId>[m
[31m-      <version>2.13.0</version>[m
[32m+[m[32m      <version>2.14.0</version>[m
     </dependency>[m
 [m
     <!-- Micrometer Prometheus registry  -->[m
     <dependency>[m
       <groupId>io.micrometer</groupId>[m
       <artifactId>micrometer-registry-prometheus</artifactId>[m
[31m-      <version>1.11.3</version>[m
[32m+[m[32m      <version>1.11.4</version>[m
     </dependency>[m
 [m
     <!--Test dependencies-->[m
[36m@@ -354,7 +354,7 @@[m
     <dependency>[m
       <groupId>com.github.wnameless.json</groupId>[m
       <artifactId>json-flattener</artifactId>[m
[31m-      <version>0.16.4</version>[m
[32m+[m[32m      <version>0.16.6</version>[m
     </dependency>[m
     <dependency>[m
       <groupId>org.springframework.boot</groupId>[m
[36m@@ -368,6 +368,32 @@[m
         </exclusion>[m
       </exclusions>[m
     </dependency>[m
[32m+[m
[32m+[m[32m    <!-- Opensearch  -->[m
[32m+[m[32m    <dependency>[m
[32m+[m[32m      <groupId>org.apache.httpcomponents.core5</groupId>[m
[32m+[m[32m      <artifactId>httpcore5</artifactId>[m
[32m+[m[32m      <version>${apache.http5.version}</version>[m
[32m+[m[32m    </dependency>[m
[32m+[m
[32m+[m[32m    <dependency>[m
[32m+[m[32m      <groupId>org.apache.httpcomponents.core5</groupId>[m
[32m+[m[32m      <artifactId>httpcore5-h2</artifactId>[m
[32m+[m[32m      <version>${apache.http5.version}</version>[m
[32m+[m[32m    </dependency>[m
[32m+[m
[32m+[m[32m    <dependency>[m
[32m+[m[32m      <groupId>org.apache.httpcomponents.client5</groupId>[m
[32m+[m[32m      <artifactId>httpclient5</artifactId>[m
[32m+[m[32m      <version>${apache.http5.version}</version>[m
[32m+[m[32m    </dependency>[m
[32m+[m
[32m+[m[32m    <dependency>[m
[32m+[m[32m      <groupId>org.opensearch.client</groupId>[m
[32m+[m[32m      <artifactId>opensearch-java</artifactId>[m
[32m+[m[32m      <version>${opensearch.version}</version>[m
[32m+[m[32m    </dependency>[m
[32m+[m
   </dependencies>[m
 [m
   <build>[m
[36m@@ -626,7 +652,7 @@[m
           </plugin>[m
           <plugin>[m
             <groupId>org.codehaus.cargo</groupId>[m
[31m-            <artifactId>cargo-maven2-plugin</artifactId>[m
[32m+[m[32m            <artifactId>cargo-maven3-plugin</artifactId>[m
             <executions>[m
               <execution>[m
                 <id>start-container</id>[m
[36m@@ -641,7 +667,7 @@[m
               <!-- Container configuration -->[m
               <container>[m
                 <type>remote</type>[m
[31m-                <containerId>tomcat8x</containerId>[m
[32m+[m[32m                <containerId>tomcat9x</containerId>[m
               </container>[m
               <configuration>[m
                 <type>runtime</type>[m
[1mdiff --git a/backend/src/it/java/org/camunda/optimize/AbstractCCSMIT.java b/backend/src/it/java/org/camunda/optimize/AbstractCCSMIT.java[m
[1mindex 46edb31ca9..112f80a505 100644[m
[1m--- a/backend/src/it/java/org/camunda/optimize/AbstractCCSMIT.java[m
[1m+++ b/backend/src/it/java/org/camunda/optimize/AbstractCCSMIT.java[m
[36m@@ -119,6 +119,14 @@[m [mpublic abstract class AbstractCCSMIT extends AbstractIT {[m
     );[m
   }[m
 [m
[32m+[m[32m  protected void waitUntilRecordMatchingQueryExported(final String indexName, final BoolQueryBuilder boolQuery) {[m
[32m+[m[32m    waitUntilRecordMatchingQueryExported(1, indexName, boolQuery);[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  protected void waitUntilRecordMatchingQueryExported(final long minRecordCount, final String indexName, final BoolQueryBuilder boolQuery) {[m
[32m+[m[32m    waitUntilMinimumDataExportedCount(minRecordCount, indexName, boolQuery, 10);[m
[32m+[m[32m  }[m
[32m+[m
   protected String getFlowNodeInstanceIdFromProcessInstanceForActivity(final ProcessInstanceDto processInstanceDto,[m
                                                                        final String activityId) {[m
     return getPropertyIdFromProcessInstanceForActivity([m
[36m@@ -155,6 +163,12 @@[m [mpublic abstract class AbstractCCSMIT extends AbstractIT {[m
     return zeebeVersionPreSequenceField.matcher(IntegrationTestConfigurationUtil.getZeebeDockerVersion()).matches();[m
   }[m
 [m
[32m+[m[32m  protected static boolean isZeebeVersionWithMultiTenancy() {[m
[32m+[m[32m    // multi tenancy is introduced with zeebe 8.3.0[m
[32m+[m[32m    final Pattern zeebeVersionPattern = Pattern.compile("8.0.*|8.1.*|8.2.*");[m
[32m+[m[32m    return !zeebeVersionPattern.matcher(IntegrationTestConfigurationUtil.getZeebeDockerVersion()).matches();[m
[32m+[m[32m  }[m
[32m+[m
   private BoolQueryBuilder getInstanceRecordIdQuery(final String expectedRecordId) {[m
     return boolQuery().must(termQuery([m
       ZeebeProcessInstanceRecordDto.Fields.value + "." + ZeebeProcessInstanceDataDto.Fields.elementId,[m
[1mdiff --git a/backend/src/it/java/org/camunda/optimize/plugin/elasticsearch/ElasticsearchCustomHeaderSupplierPluginIT.java b/backend/src/it/java/org/camunda/optimize/plugin/elasticsearch/DatabaseCustomHeaderSupplierPluginIT.java[m
[1msimilarity index 98%[m
[1mrename from backend/src/it/java/org/camunda/optimize/plugin/elasticsearch/ElasticsearchCustomHeaderSupplierPluginIT.java[m
[1mrename to backend/src/it/java/org/camunda/optimize/plugin/elasticsearch/DatabaseCustomHeaderSupplierPluginIT.java[m
[1mindex 5661ecac96..e0d4778ee5 100644[m
[1m--- a/backend/src/it/java/org/camunda/optimize/plugin/elasticsearch/ElasticsearchCustomHeaderSupplierPluginIT.java[m
[1m+++ b/backend/src/it/java/org/camunda/optimize/plugin/elasticsearch/DatabaseCustomHeaderSupplierPluginIT.java[m
[36m@@ -25,7 +25,7 @@[m [mimport static jakarta.ws.rs.HttpMethod.GET;[m
 import static org.assertj.core.api.Assertions.assertThat;[m
 import static org.mockserver.model.HttpRequest.request;[m
 [m
[31m-public class ElasticsearchCustomHeaderSupplierPluginIT extends AbstractPlatformIT {[m
[32m+[m[32mpublic class DatabaseCustomHeaderSupplierPluginIT extends AbstractPlatformIT {[m
 [m
   private ConfigurationService configurationService;[m
 [m
[1mdiff --git a/backend/src/it/java/org/camunda/optimize/rest/CollectionRestServiceScopeIT.java b/backend/src/it/java/org/camunda/optimize/rest/CollectionRestServiceScopeIT.java[m
[1mindex 6920463db9..106f8ec650 100644[m
[1m--- a/backend/src/it/java/org/camunda/optimize/rest/CollectionRestServiceScopeIT.java[m
[1m+++ b/backend/src/it/java/org/camunda/optimize/rest/CollectionRestServiceScopeIT.java[m
[36m@@ -37,6 +37,7 @@[m [mimport org.mockserver.verify.VerificationTimes;[m
 import org.slf4j.event.Level;[m
 [m
 import jakarta.ws.rs.core.Response;[m
[32m+[m
 import java.util.ArrayList;[m
 import java.util.Arrays;[m
 import java.util.Collections;[m
[36m@@ -47,7 +48,7 @@[m [mimport static jakarta.ws.rs.HttpMethod.POST;[m
 import static org.assertj.core.api.Assertions.assertThat;[m
 import static org.camunda.optimize.dto.optimize.DefinitionType.DECISION;[m
 import static org.camunda.optimize.dto.optimize.DefinitionType.PROCESS;[m
[31m-import static org.camunda.optimize.service.TenantService.TENANT_NOT_DEFINED;[m
[32m+[m[32mimport static org.camunda.optimize.service.tenant.CamundaPlatformTenantService.TENANT_NOT_DEFINED;[m
 import static org.camunda.optimize.test.engine.AuthorizationClient.KERMIT_USER;[m
 import static org.camunda.optimize.test.it.extension.EmbeddedOptimizeExtension.DEFAULT_ENGINE_ALIAS;[m
 import static org.camunda.optimize.test.optimize.CollectionClient.DEFAULT_TENANTS;[m
[36m@@ -428,37 +429,6 @@[m [mpublic class CollectionRestServiceScopeIT extends AbstractPlatformIT {[m
     assertThat(response.getStatus()).isEqualTo(Response.Status.NOT_FOUND.getStatusCode());[m
   }[m
 [m
[31m-  @Test[m
[31m-  public void updateUnknownTenantsAreFilteredOut() {[m
[31m-    // given[m
[31m-    addProcessDefinitionToElasticsearch(DEFAULT_DEFINITION_KEY, null);[m
[31m-    final String collectionId = collectionClient.createNewCollection();[m
[31m-    final CollectionScopeEntryDto entry = createSimpleScopeEntry(DEFAULT_DEFINITION_KEY);[m
[31m-    collectionClient.addScopeEntryToCollection(collectionId, entry);[m
[31m-[m
[31m-    importAllEngineEntitiesFromScratch();[m
[31m-[m
[31m-    // when[m
[31m-    final String tenant1 = "tenant1";[m
[31m-    addTenantToElasticsearch(tenant1);[m
[31m-    entry.setTenants(Lists.newArrayList(null, tenant1, "fooTenant"));[m
[31m-    embeddedOptimizeExtension.getRequestExecutor()[m
[31m-      .buildUpdateCollectionScopeEntryRequest(collectionId, entry.getId(), new CollectionScopeEntryUpdateDto(entry))[m
[31m-      .execute(Response.Status.NO_CONTENT.getStatusCode());[m
[31m-[m
[31m-    // then[m
[31m-    List<CollectionScopeEntryResponseDto> scope = collectionClient.getCollectionScope(collectionId);[m
[31m-[m
[31m-    assertThat(scope)[m
[31m-      .hasSize(1)[m
[31m-      .singleElement()[m
[31m-      .satisfies([m
[31m-        scopeEntryDto -> assertThat(scopeEntryDto.getTenants())[m
[31m-          .extracting(TenantDto::getId)[m
[31m-          .containsExactly(null, tenant1)[m
[31m-      );[m
[31m-  }[m
[31m-[m
   @Test[m
   public void updatingNonExistingDefinitionScopeEntryFails() {[m
     // given[m
[36m@@ -815,7 +785,7 @@[m [mpublic class CollectionRestServiceScopeIT extends AbstractPlatformIT {[m
   private void addTenantToElasticsearch(final String tenantId) {[m
     TenantDto tenantDto = new TenantDto(tenantId, "ATenantName", DEFAULT_ENGINE_ALIAS);[m
     elasticSearchIntegrationTestExtension.addEntryToElasticsearch(TENANT_INDEX_NAME, tenantId, tenantDto);[m
[31m-    embeddedOptimizeExtension.reloadTenantCache();[m
[32m+[m[32m    embeddedOptimizeExtension.reloadEngineTenantCache();[m
   }[m
 [m
   private Response buildAndExecuteBulkDeleteScopeEntriesFromCollectionRequest(List<String> collectionScopeIds,[m
[1mdiff --git a/backend/src/it/java/org/camunda/optimize/rest/DefinitionRestServiceIT.java b/backend/src/it/java/org/camunda/optimize/rest/DefinitionRestServiceIT.java[m
[1mindex 0656a3cc21..fcd339e217 100644[m
[1m--- a/backend/src/it/java/org/camunda/optimize/rest/DefinitionRestServiceIT.java[m
[1m+++ b/backend/src/it/java/org/camunda/optimize/rest/DefinitionRestServiceIT.java[m
[36m@@ -46,7 +46,7 @@[m [mimport static org.camunda.optimize.dto.optimize.DefinitionType.DECISION;[m
 import static org.camunda.optimize.dto.optimize.DefinitionType.PROCESS;[m
 import static org.camunda.optimize.dto.optimize.ReportConstants.ALL_VERSIONS;[m
 import static org.camunda.optimize.dto.optimize.ReportConstants.LATEST_VERSION;[m
[31m-import static org.camunda.optimize.service.TenantService.TENANT_NOT_DEFINED;[m
[32m+[m[32mimport static org.camunda.optimize.service.tenant.CamundaPlatformTenantService.TENANT_NOT_DEFINED;[m
 import static org.camunda.optimize.test.it.extension.EmbeddedOptimizeExtension.DEFAULT_ENGINE_ALIAS;[m
 import static org.camunda.optimize.upgrade.es.ElasticsearchConstants.DECISION_DEFINITION_INDEX_NAME;[m
 import static org.camunda.optimize.upgrade.es.ElasticsearchConstants.PROCESS_DEFINITION_INDEX_NAME;[m
[1mdiff --git a/backend/src/it/java/org/camunda/optimize/rest/DefinitionRestServiceWithCollectionScopeIT.java b/backend/src/it/java/org/camunda/optimize/rest/DefinitionRestServiceWithCollectionScopeIT.java[m
[1mindex f9335a3c47..a62b868032 100644[m
[1m--- a/backend/src/it/java/org/camunda/optimize/rest/DefinitionRestServiceWithCollectionScopeIT.java[m
[1m+++ b/backend/src/it/java/org/camunda/optimize/rest/DefinitionRestServiceWithCollectionScopeIT.java[m
[36m@@ -20,13 +20,13 @@[m [mimport org.camunda.optimize.dto.optimize.rest.definition.DefinitionWithTenantsRe[m
 import org.camunda.optimize.dto.optimize.rest.definition.MultiDefinitionTenantsRequestDto;[m
 import org.camunda.optimize.dto.optimize.rest.definition.MultiDefinitionTenantsRequestDto.DefinitionDto;[m
 import org.camunda.optimize.exception.OptimizeIntegrationTestException;[m
[31m-import org.camunda.optimize.service.TenantService;[m
 import org.camunda.optimize.util.SuppressionConstants;[m
 import org.junit.jupiter.api.Test;[m
 import org.junit.jupiter.params.ParameterizedTest;[m
 import org.junit.jupiter.params.provider.EnumSource;[m
 [m
 import jakarta.ws.rs.core.Response;[m
[32m+[m
 import java.util.Arrays;[m
 import java.util.Collections;[m
 import java.util.List;[m
[36m@@ -35,7 +35,7 @@[m [mimport static org.assertj.core.api.Assertions.assertThat;[m
 import static org.camunda.optimize.dto.optimize.DefinitionType.DECISION;[m
 import static org.camunda.optimize.dto.optimize.ReportConstants.ALL_VERSIONS;[m
 import static org.camunda.optimize.dto.optimize.ReportConstants.LATEST_VERSION;[m
[31m-import static org.camunda.optimize.service.TenantService.TENANT_NOT_DEFINED;[m
[32m+[m[32mimport static org.camunda.optimize.service.tenant.CamundaPlatformTenantService.TENANT_NOT_DEFINED;[m
 import static org.camunda.optimize.test.it.extension.EmbeddedOptimizeExtension.DEFAULT_ENGINE_ALIAS;[m
 import static org.camunda.optimize.upgrade.es.ElasticsearchConstants.DECISION_DEFINITION_INDEX_NAME;[m
 import static org.camunda.optimize.upgrade.es.ElasticsearchConstants.PROCESS_DEFINITION_INDEX_NAME;[m
[36m@@ -43,7 +43,7 @@[m [mimport static org.camunda.optimize.upgrade.es.ElasticsearchConstants.TENANT_INDE[m
 [m
 public class DefinitionRestServiceWithCollectionScopeIT extends AbstractPlatformIT {[m
 [m
[31m-  private static final String TENANT_NOT_DEFINED_ID = TenantService.TENANT_NOT_DEFINED.getId();[m
[32m+[m[32m  private static final String TENANT_NOT_DEFINED_ID = TENANT_NOT_DEFINED.getId();[m
   private static final String TENANT_ID_1 = "tenant1";[m
   private static final String TENANT_ID_2 = "tenant2";[m
   private static final String TENANT_ID_3 = "tenant3";[m
[1mdiff --git a/backend/src/it/java/org/camunda/optimize/rest/EntityNamesRestServiceIT.java b/backend/src/it/java/org/camunda/optimize/rest/EntityNamesRestServiceIT.java[m
[1mindex 56d63d0095..d9deb3958e 100644[m
[1m--- a/backend/src/it/java/org/camunda/optimize/rest/EntityNamesRestServiceIT.java[m
[1m+++ b/backend/src/it/java/org/camunda/optimize/rest/EntityNamesRestServiceIT.java[m
[36m@@ -5,6 +5,7 @@[m
  */[m
 package org.camunda.optimize.rest;[m
 [m
[32m+[m[32mimport jakarta.ws.rs.core.Response;[m
 import org.camunda.optimize.dto.optimize.ReportType;[m
 import org.camunda.optimize.dto.optimize.query.dashboard.InstantDashboardDataDto;[m
 import org.camunda.optimize.dto.optimize.query.entity.EntityNameRequestDto;[m
[36m@@ -21,13 +22,12 @@[m [mimport org.junit.jupiter.params.ParameterizedTest;[m
 import org.junit.jupiter.params.provider.Arguments;[m
 import org.junit.jupiter.params.provider.MethodSource;[m
 [m
[31m-import jakarta.ws.rs.core.Response;[m
 import java.util.Collections;[m
 import java.util.Optional;[m
 import java.util.stream.Stream;[m
 [m
 import static org.assertj.core.api.Assertions.assertThat;[m
[31m-import static org.camunda.optimize.service.dashboard.ManagementDashboardService.PROCESS_INSTANCE_USAGE_REPORT_LOCALIZATION_CODE;[m
[32m+[m[32mimport static org.camunda.optimize.service.dashboard.ManagementDashboardService.CURRENTLY_IN_PROGRESS_NAME_LOCALIZATION_CODE;[m
 import static org.camunda.optimize.upgrade.es.ElasticsearchConstants.SINGLE_PROCESS_REPORT_INDEX_NAME;[m
 import static org.camunda.optimize.util.BpmnModels.getSimpleBpmnDiagram;[m
 import static org.camunda.optimize.util.BpmnModels.getSingleUserTaskDiagram;[m
[36m@@ -225,19 +225,19 @@[m [mpublic class EntityNamesRestServiceIT extends AbstractEntitiesRestServiceIT {[m
     return Stream.of([m
       Arguments.of([m
         "en",[m
[31m-        "Process Instance Usage"[m
[32m+[m[32m        "Currently in progress"[m
       ),[m
       Arguments.of([m
         "de",[m
[31m-        "Anzahl der ausgeführten Prozessinstanzen"[m
[32m+[m[32m        "Aktuell laufende Prozesse"[m
       )[m
     );[m
   }[m
 [m
   private static Stream<Arguments> templatesAndExpectedLocalizedNames() {[m
     return Stream.of([m
[31m-      Arguments.of("template1.json", "en", "Instant Preview Dashboard"),[m
[31m-      Arguments.of("template1.json", "de", "Instant Preview Dashboard"),[m
[32m+[m[32m      Arguments.of("template1.json", "en", "Instant Process Dashboard"),[m
[32m+[m[32m      Arguments.of("template1.json", "de", "Instant Process Übersicht"),[m
       Arguments.of("template2.json", "en", "KPI Dashboard"),[m
       Arguments.of("template2.json", "de", "KPI Dashboard")[m
     );[m
[36m@@ -249,7 +249,7 @@[m [mpublic class EntityNamesRestServiceIT extends AbstractEntitiesRestServiceIT {[m
         SingleProcessReportDefinitionRequestDto.class[m
       )[m
       .stream()[m
[31m-      .filter(report -> report.getName().equals(PROCESS_INSTANCE_USAGE_REPORT_LOCALIZATION_CODE))[m
[32m+[m[32m      .filter(report -> report.getName().equals(CURRENTLY_IN_PROGRESS_NAME_LOCALIZATION_CODE))[m
       .findFirst()[m
       .map(SingleProcessReportDefinitionRequestDto::getId)[m
       .orElseThrow(() -> new OptimizeIntegrationTestException("Cannot find any management reports"));[m
[1mdiff --git a/backend/src/it/java/org/camunda/optimize/rest/InstantPreviewDashboardIT.java b/backend/src/it/java/org/camunda/optimize/rest/InstantPreviewDashboardIT.java[m
[1mindex 9a6a7b7133..70efedce77 100644[m
[1m--- a/backend/src/it/java/org/camunda/optimize/rest/InstantPreviewDashboardIT.java[m
[1m+++ b/backend/src/it/java/org/camunda/optimize/rest/InstantPreviewDashboardIT.java[m
[36m@@ -133,7 +133,7 @@[m [mpublic class InstantPreviewDashboardIT extends AbstractDashboardRestServiceIT {[m
     assertThat(returnedDashboard.getId()).isEqualTo(instantPreviewDashboardDto.getDashboardId());[m
     final DashboardDefinitionRestDto dashboard = dashboardClient.getDashboard(returnedDashboard.getId());[m
     assertThat(dashboard).isNotNull();[m
[31m-    assertThat(dashboard.getTiles()).hasSize(18);[m
[32m+[m[32m    assertThat(dashboard.getTiles()).hasSize(14);[m
   }[m
 [m
   @Test[m
[36m@@ -722,62 +722,62 @@[m [mpublic class InstantPreviewDashboardIT extends AbstractDashboardRestServiceIT {[m
   private void assertTileTranslation(Map<String, Object> textTileConfiguration, String locale) {[m
     HashMap<String, List<String>> expectedStrings = new HashMap<>();[m
     expectedStrings.put("de", List.of([m
[31m-      "Instant Preview Dashboard",[m
[31m-      "KPI Dashboard",[m
[31m-      "Überwache echzeitnah die Gesundheit von Prozessen.",[m
[31m-      "Das Betriebsdashboard erlaubt es, alle wichtigen Prozessemetriken zu überwachen.",[m
[31m-      "Mögliche nächste Schritte:",[m
[31m-      "- Gehe zur Sammlung und erstelle ein eigenes Dashboard.",[m
[31m-      "- Definiere einen Alarm für eine Sammlung und erhalte Alarmbenachrichtigungen per Email.",[m
[31m-      "Berichte Geschäftsmetriken an Stakeholder.",[m
[31m-      "Das Betriebsreporting enthält Prozesskennzahlen um eine Abteilung zu steuern.",[m
[31m-      "- Gehe zur Sammlung und erstelle ein eigenes Dashboard.",[m
[31m-      "- Gehe zu einem Bericht und definiere KPIs.",[m
[31m-      "- Gehe zu den Dashboards und abonniere einen Prozess Digest.",[m
[31m-      "Analytische Werkzeuge um Prozessverbesserungen zu identifizieren.",[m
[31m-      "Die angebotenen Werkzeuge zur Prozess- und Regelanalyse helfen dabei, Engpässe und ungenutzte Prozesszweige zu finden.",[m
[31m-      "Mögliche nächste Schritte:",[m
[31m-      "- Gehe zur Sammlung und erstelle einen Bericht.",[m
[31m-      "- Gehe zu den Analysen und führe eine Prozesszweiganalyse durch.",[m
[31m-      "- Gehe zu den Analysen und führe eine Ausreißeranalyse durch.",[m
[32m+[m[32m      "Instant Process Übersicht",[m
[32m+[m[32m      "Dieses Dashboard bietet eine Übersicht der Metriken und Anwendungsfälle, die mit Optimize abgedeckt werden können.",[m
[32m+[m[32m      "Melde Geschäftskennzahlen",[m
[32m+[m[32m      "Aggregiere und gruppiere Prozessausführung Daten in Tagen, Wochen und Monaten um Metriken und Key Performance Indicator (KPI) zu monitoren und zu melden.",[m
[32m+[m[32m      "Abonniere eine wöchentliche Email-Zusammenfassung der Prozessmetriken und KPIs",[m
[32m+[m[32m      "Analysiere Probleme und finde Verbesserungen",[m
[32m+[m[32m      "Nutze alle gesammelten Prozessausführung Daten, um Probleme zu untersuchen oder neue Prozessverbesserungen einzuleiten.",[m
[32m+[m[32m      "Nutze die Optimize Ausreißeranalyse, um Verbesserungspotenzial im Prozess zu finden",[m
[32m+[m[32m      "Echtzeitnahe Überwache der Prozess Gesundheit",[m
[32m+[m[32m      "Monitore Prozessausführung Daten der letzten Minuten, Stunden und Tage echtzeitnah, um korrektiv eingreifen zu können.",[m
[32m+[m[32m      "Erstelle eine Kopie dieses Dashboards und passe es deinen Bedürfnissen an",[m
       "Aktuell laufend",[m
[31m-      "In den letzten 7 Tagen gestartet",[m
[31m-      "In den letzten 7 Tagen beendet",[m
[31m-      "Aufgaben mit Zwischenfällen",[m
[31m-      "Anzahl offener Zwischenfälle",[m
[31m-      "In den letzten 7 Tagen gestartet",[m
[31m-      "Anzahl abgeschlossener Prozesse pro Monat",[m
[31m-      "Welche Aufgaben benötigen die meiste Zeit und sind daher Automatisierungskandidaten"[m
[32m+[m[32m      "Dieser Bericht zeigt den fortschritt aller laufenden Prozesses an.",[m
[32m+[m[32m      "In den letzten 7 Tagen eingegangene",[m
[32m+[m[32m      "Dieser Bericht zeigt die in den letzten 7 Tagen eingegangenen Anfragen die einen Prozess gestartet haben.",[m
[32m+[m[32m      "Aktuell laufende Prozesse",[m
[32m+[m[32m      "Dieser Bericht zeigt die Anzahl der aktuell laufenden Prozesse.",[m
[32m+[m[32m      "In den letzten 7 Tagen beendete Prozesse",[m
[32m+[m[32m      "Dieser Bericht zeigt die Anzahl der in den letzten 7 Tagen beendeten Prozesse.",[m
[32m+[m[32m      "Offene Zwischenfälle",[m
[32m+[m[32m      "Dieser Bericht zeigt die Anzahl der offenen Zwischenfälle.",[m
[32m+[m[32m      "Anzahl der aktuell offenen Zwischenfälle",[m
[32m+[m[32m      "Dieser Bericht zeigt Prozessknoten mit aktuell offenen Zwischenfälle.",[m
[32m+[m[32m      "Beendete Prozesse gruppiert in Monaten",[m
[32m+[m[32m      "Dieser Bericht zeigt wie stark der Prozess in den letzten Monaten genutzt wurde.",[m
[32m+[m[32m      "Flaschenhälse der in den letzten 6 Monaten beendeten Prozesse",[m
[32m+[m[32m      "Die Heatmap hebt die Prozessknoten hervor, die im Durchschnitt die meiste Zeit bis zur Fertigstellung benötigen."[m
     ));[m
     expectedStrings.put("en", List.of([m
[31m-      "Instant Preview Dashboard",[m
[31m-      "KPI Dashboard",[m
[31m-      "Monitor process health in near realtime.",[m
[31m-      "The business operations dashboard provides you with an overview of the health of your process.",[m
[31m-      "Next steps:",[m
[31m-      "- Go to Collections and create your own Dashboard.",[m
[31m-      "- Define Alerts for the Collection and get notified via email.",[m
[31m-      "Report business metrics to stakeholders.",[m
[31m-      "The business reporting dashboards provide process metrics to manage and report a business.",[m
[31m-      "Next steps:",[m
[31m-      "- Go to Collections and create your own dashboard.",[m
[31m-      "- Go to a Report and change it to a KPI.",[m
[31m-      "- Go to Dashboards and subscribe to an email Digest.",[m
[31m-      "Analytic tools to find process improvements.",[m
[31m-      "The tools provided for process and rules analytics help to find bottlenecks and unused branches to reduce complexity and" +[m
[31m-        " increase performance.",[m
[31m-      "Next steps:",[m
[31m-      "- Go to Collections and build your own Reports.",[m
[31m-      "- Go to Analysis and perform a Branch Analysis.",[m
[31m-      "- Go to Analysis and perform an Outlier Analysis.",[m
[31m-      "Currently running",[m
[31m-      "Started in the last 7 days",[m
[32m+[m[32m      "Instant Process Dashboard",[m
[32m+[m[32m      "This dashboard provides a competitive overview of metrics and use cases that can be covered with Optimize. It is available for any process as soon as a process is deployed.",[m
[32m+[m[32m      "Report business metrics",[m
[32m+[m[32m      "Aggregate and group the process execution data into days, weeks, and months to monitor and report business metrics and key performance indicators (KPI).",[m
[32m+[m[32m      "Subscribe to an email digest to obtain a weekly summary of your process metrics and KPIs",[m
[32m+[m[32m      "Investigate problems and find improvements",[m
[32m+[m[32m      "Use all gathered process execution data to investigate problems or kick off new process improvements.",[m
[32m+[m[32m      "Use Optimize Outlier Analysis to find improvement potential in your process",[m
[32m+[m[32m      "Monitor process health in near real-time",[m
[32m+[m[32m      "See process execution data of the last minutes, hours, and days in near real-time to take corrective actions if needed.",[m
[32m+[m[32m      "Create a copy of this dashboard to be able to adjust it to your needs",[m
[32m+[m[32m      "Currently running processes",[m
[32m+[m[32m      "This report provides an overview of the progress of all running processes. ",[m
[32m+[m[32m      "Incoming in the last 7 days",[m
[32m+[m[32m      "This report counts the number of incoming requests that started a process.",[m
[32m+[m[32m      "Currently in progress",[m
[32m+[m[32m      "This report counts all currently running processes.",[m
       "Ended in the last 7 days",[m
[31m-      "Tasks with Incidents",[m
[31m-      "Number of running incidents",[m
[31m-      "Started in the last 7 days",[m
[31m-      "Number of processes completed per month",[m
[31m-      "Which tasks take the most time and are candidates for automation"[m
[32m+[m[32m      "This report counts all processes that ended in the last 7 days.",[m
[32m+[m[32m      "Open incidents",[m
[32m+[m[32m      "This report shows the number of open incidents.",[m
[32m+[m[32m      "Currently open incidents",[m
[32m+[m[32m      "This report shows flow nodes with currently open incidents.",[m
[32m+[m[32m      "Processes ended grouped by month",[m
[32m+[m[32m      "This report provides an overview of the utilization of the process in the last months. ",[m
[32m+[m[32m      "Bottlenecks in the process ended in the last 6 months",[m
[32m+[m[32m      "The heatmap highlights the flow nodes that consume in average the most time to be completed."[m
     ));[m
     String textContent = (String) textTileConfiguration.get(TEXT_FIELD);[m
     assertThat(expectedStrings.get(locale)).contains(textContent);[m
[1mdiff --git a/backend/src/it/java/org/camunda/optimize/rest/ManagementDashboardIT.java b/backend/src/it/java/org/camunda/optimize/rest/ManagementDashboardIT.java[m
[1mindex 2a6ed84248..3c26e8be46 100644[m
[1m--- a/backend/src/it/java/org/camunda/optimize/rest/ManagementDashboardIT.java[m
[1m+++ b/backend/src/it/java/org/camunda/optimize/rest/ManagementDashboardIT.java[m
[36m@@ -5,6 +5,7 @@[m
  */[m
 package org.camunda.optimize.rest;[m
 [m
[32m+[m[32mimport jakarta.ws.rs.core.Response;[m
 import lombok.AllArgsConstructor;[m
 import lombok.Data;[m
 import org.camunda.optimize.AbstractPlatformIT;[m
[36m@@ -25,7 +26,6 @@[m [mimport org.camunda.optimize.dto.optimize.query.report.single.configuration.targe[m
 import org.camunda.optimize.dto.optimize.query.report.single.configuration.target_value.SingleReportTargetValueDto;[m
 import org.camunda.optimize.dto.optimize.query.report.single.filter.data.date.DateFilterDataDto;[m
 import org.camunda.optimize.dto.optimize.query.report.single.filter.data.date.DateUnit;[m
[31m-import org.camunda.optimize.dto.optimize.query.report.single.filter.data.date.DurationUnit;[m
 import org.camunda.optimize.dto.optimize.query.report.single.filter.data.date.RollingDateFilterStartDto;[m
 import org.camunda.optimize.dto.optimize.query.report.single.filter.data.date.instance.RollingDateFilterDataDto;[m
 import org.camunda.optimize.dto.optimize.query.report.single.group.AggregateByDateUnit;[m
[36m@@ -34,10 +34,8 @@[m [mimport org.camunda.optimize.dto.optimize.query.report.single.process.ProcessVisu[m
 import org.camunda.optimize.dto.optimize.query.report.single.process.SingleProcessReportDefinitionRequestDto;[m
 import org.camunda.optimize.dto.optimize.query.report.single.process.distributed.ProcessDistributedByDto;[m
 import org.camunda.optimize.dto.optimize.query.report.single.process.filter.util.ProcessFilterBuilder;[m
[31m-import org.camunda.optimize.dto.optimize.query.report.single.process.group.FlowNodesGroupByDto;[m
 import org.camunda.optimize.dto.optimize.query.report.single.process.group.NoneGroupByDto;[m
 import org.camunda.optimize.dto.optimize.query.report.single.process.group.StartDateGroupByDto;[m
[31m-import org.camunda.optimize.dto.optimize.query.report.single.process.group.UserTasksGroupByDto;[m
 import org.camunda.optimize.dto.optimize.query.report.single.process.group.value.DateGroupByValueDto;[m
 import org.camunda.optimize.dto.optimize.query.report.single.process.view.ProcessViewDto;[m
 import org.camunda.optimize.dto.optimize.query.report.single.process.view.ProcessViewEntity;[m
[36m@@ -48,7 +46,6 @@[m [mimport org.junit.jupiter.params.ParameterizedTest;[m
 import org.junit.jupiter.params.provider.Arguments;[m
 import org.junit.jupiter.params.provider.MethodSource;[m
 [m
[31m-import jakarta.ws.rs.core.Response;[m
 import java.time.OffsetDateTime;[m
 import java.util.Collections;[m
 import java.util.List;[m
[36m@@ -58,11 +55,14 @@[m [mimport java.util.stream.Collectors;[m
 import java.util.stream.Stream;[m
 [m
 import static org.assertj.core.api.Assertions.assertThat;[m
[31m-import static org.camunda.optimize.dto.optimize.query.report.single.filter.data.operator.ComparisonOperator.GREATER_THAN;[m
[31m-import static org.camunda.optimize.dto.optimize.query.report.single.filter.data.operator.ComparisonOperator.LESS_THAN;[m
[32m+[m[32mimport static org.camunda.optimize.service.dashboard.ManagementDashboardService.CURRENTLY_IN_PROGRESS_DESCRIPTION_LOCALIZATION_CODE;[m
[32m+[m[32mimport static org.camunda.optimize.service.dashboard.ManagementDashboardService.CURRENTLY_IN_PROGRESS_NAME_LOCALIZATION_CODE;[m
[32m+[m[32mimport static org.camunda.optimize.service.dashboard.ManagementDashboardService.ENDED_IN_LAST_SIX_MONTHS_DESCRIPTION_LOCALIZATION_CODE;[m
[32m+[m[32mimport static org.camunda.optimize.service.dashboard.ManagementDashboardService.ENDED_IN_LAST_SIX_MONTHS_NAME_LOCALIZATION_CODE;[m
 import static org.camunda.optimize.service.dashboard.ManagementDashboardService.MANAGEMENT_DASHBOARD_ID;[m
 import static org.camunda.optimize.service.dashboard.ManagementDashboardService.MANAGEMENT_DASHBOARD_LOCALIZATION_CODE;[m
[31m-import static org.camunda.optimize.service.dashboard.ManagementDashboardService.PROCESS_INSTANCE_USAGE_REPORT_LOCALIZATION_CODE;[m
[32m+[m[32mimport static org.camunda.optimize.service.dashboard.ManagementDashboardService.STARTED_IN_LAST_SIX_MONTHS_DESCRIPTION_LOCALIZATION_CODE;[m
[32m+[m[32mimport static org.camunda.optimize.service.dashboard.ManagementDashboardService.STARTED_IN_LAST_SIX_MONTHS_NAME_LOCALIZATION_CODE;[m
 import static org.camunda.optimize.service.entities.dashboard.DashboardDefinitionImportIT.getExternalResourceUrls;[m
 import static org.camunda.optimize.upgrade.es.ElasticsearchConstants.DASHBOARD_INDEX_NAME;[m
 import static org.camunda.optimize.upgrade.es.ElasticsearchConstants.SINGLE_PROCESS_REPORT_INDEX_NAME;[m
[36m@@ -72,7 +72,7 @@[m [mpublic class ManagementDashboardIT extends AbstractPlatformIT {[m
 [m
   private static final Map<String, ExpectedReportConfigurationAndLocation> expectedReportsAndLocationsByName =[m
     createExpectedReportsAndLocationsByName();[m
[31m-  private static final String ADOPTION_DASHBOARD = "Adoption Dashboard";[m
[32m+[m[32m  private static final String ADOPTION_DASHBOARD = "Adoption";[m
 [m
   @Test[m
   public void getManagementDashboard() {[m
[36m@@ -149,7 +149,7 @@[m [mpublic class ManagementDashboardIT extends AbstractPlatformIT {[m
       )[m
     ));[m
     assertThat(managementDashboard.getTiles())[m
[31m-      .hasSize(6)[m
[32m+[m[32m      .hasSize(3)[m
       .containsExactlyInAnyOrderElementsOf([m
         expectedReportsAndLocationsByName.keySet()[m
           .stream()[m
[36m@@ -232,19 +232,11 @@[m [mpublic class ManagementDashboardIT extends AbstractPlatformIT {[m
     );[m
   }[m
 [m
[31m-  private static SingleReportTargetValueDto createTargetValueConfig(final String targetValue) {[m
[31m-    final SingleReportTargetValueDto targetConfig = new SingleReportTargetValueDto();[m
[31m-    targetConfig.setActive(true);[m
[31m-    final CountProgressDto countProgressConfig = new CountProgressDto();[m
[31m-    countProgressConfig.setTarget(targetValue);[m
[31m-    targetConfig.setCountProgress(countProgressConfig);[m
[31m-    return targetConfig;[m
[31m-  }[m
[31m-[m
   private static Map<String, ExpectedReportConfigurationAndLocation> createExpectedReportsAndLocationsByName() {[m
     return Stream.of([m
       new ExpectedReportConfigurationAndLocation([m
[31m-        PROCESS_INSTANCE_USAGE_REPORT_LOCALIZATION_CODE,[m
[32m+[m[32m        CURRENTLY_IN_PROGRESS_NAME_LOCALIZATION_CODE,[m
[32m+[m[32m        CURRENTLY_IN_PROGRESS_DESCRIPTION_LOCALIZATION_CODE,[m
         new SingleProcessReportDefinitionRequestDto([m
           ProcessReportDataDto.builder()[m
             .definitions(Collections.emptyList())[m
[36m@@ -252,97 +244,56 @@[m [mpublic class ManagementDashboardIT extends AbstractPlatformIT {[m
               ProcessViewEntity.PROCESS_INSTANCE,[m
               ViewProperty.FREQUENCY[m
             ))[m
[31m-            .groupBy(new StartDateGroupByDto(new DateGroupByValueDto(AggregateByDateUnit.MONTH)))[m
[31m-            .visualization(ProcessVisualization.BAR)[m
[31m-            .managementReport(true)[m
[31m-            .build()),[m
[31m-        new PositionDto(0, 0),[m
[31m-        new DimensionDto(3, 4)[m
[31m-      ),[m
[31m-      new ExpectedReportConfigurationAndLocation([m
[31m-        ManagementDashboardService.INCIDENT_FREE_RATE_REPORT_LOCALIZATION_CODE,[m
[31m-        new SingleProcessReportDefinitionRequestDto([m
[31m-          ProcessReportDataDto.builder()[m
[31m-            .definitions(Collections.emptyList())[m
[31m-            .view(new ProcessViewDto(ProcessViewEntity.PROCESS_INSTANCE, ViewProperty.PERCENTAGE))[m
             .groupBy(new NoneGroupByDto())[m
             .visualization(ProcessVisualization.NUMBER)[m
[31m-            .filter(ProcessFilterBuilder.filter().noIncidents().add().buildList())[m
[31m-            .configuration(SingleReportConfigurationDto.builder().targetValue(createTargetValueConfig("99.5")).build())[m
[32m+[m[32m            .filter(ProcessFilterBuilder.filter()[m
[32m+[m[32m                      .runningInstancesOnly().add()[m
[32m+[m[32m                      .noIncidents().add()[m
[32m+[m[32m                      .buildList())[m
             .managementReport(true)[m
             .build()),[m
[31m-        new PositionDto(3, 0),[m
[31m-        new DimensionDto(3, 2)[m
[32m+[m[32m        new PositionDto(0, 0),[m
[32m+[m[32m        new DimensionDto(4, 2)[m
       ),[m
       new ExpectedReportConfigurationAndLocation([m
[31m-        ManagementDashboardService.AUTOMATION_RATE_REPORT_LOCALIZATION_CODE,[m
[32m+[m[32m        STARTED_IN_LAST_SIX_MONTHS_NAME_LOCALIZATION_CODE,[m
[32m+[m[32m        STARTED_IN_LAST_SIX_MONTHS_DESCRIPTION_LOCALIZATION_CODE,[m
         new SingleProcessReportDefinitionRequestDto([m
           ProcessReportDataDto.builder()[m
             .definitions(Collections.emptyList())[m
[31m-            .view(new ProcessViewDto(ProcessViewEntity.PROCESS_INSTANCE, ViewProperty.PERCENTAGE))[m
[31m-            .groupBy(new NoneGroupByDto())[m
[31m-            .visualization(ProcessVisualization.NUMBER)[m
[32m+[m[32m            .view(new ProcessViewDto(ProcessViewEntity.PROCESS_INSTANCE, ViewProperty.FREQUENCY))[m
[32m+[m[32m            .groupBy(new StartDateGroupByDto(new DateGroupByValueDto(AggregateByDateUnit.MONTH)))[m
[32m+[m[32m            .distributedBy(new ProcessDistributedByDto())[m
[32m+[m[32m            .visualization(ProcessVisualization.BAR)[m
             .filter(ProcessFilterBuilder.filter()[m
[31m-                      .duration()[m
[31m-                      .operator(LESS_THAN)[m
[31m-                      .unit(DurationUnit.HOURS)[m
[31m-                      .value(1L)[m
[32m+[m[32m                      .rollingInstanceStartDate()[m
[32m+[m[32m                      .start(6L, DateUnit.MONTHS)[m
                       .add()[m
                       .buildList())[m
[31m-            .configuration(SingleReportConfigurationDto.builder().targetValue(createTargetValueConfig("70")).build())[m
[32m+[m[32m            .configuration(SingleReportConfigurationDto.builder().stackedBar(true).build())[m
             .managementReport(true)[m
             .build()),[m
[31m-        new PositionDto(3, 2),[m
[31m-        new DimensionDto(3, 2)[m
[32m+[m[32m        new PositionDto(4, 0),[m
[32m+[m[32m        new DimensionDto(14, 4)[m
       ),[m
       new ExpectedReportConfigurationAndLocation([m
[31m-        ManagementDashboardService.LONG_RUNNING_INSTANCES_REPORT_LOCALIZATION_CODE,[m
[32m+[m[32m        ENDED_IN_LAST_SIX_MONTHS_NAME_LOCALIZATION_CODE,[m
[32m+[m[32m        ENDED_IN_LAST_SIX_MONTHS_DESCRIPTION_LOCALIZATION_CODE,[m
         new SingleProcessReportDefinitionRequestDto([m
           ProcessReportDataDto.builder()[m
             .definitions(Collections.emptyList())[m
[31m-            .view(new ProcessViewDto(ProcessViewEntity.PROCESS_INSTANCE, List.of(ViewProperty.FREQUENCY, ViewProperty.DURATION)))[m
[32m+[m[32m            .view(new ProcessViewDto(ProcessViewEntity.PROCESS_INSTANCE, ViewProperty.FREQUENCY))[m
             .groupBy(new NoneGroupByDto())[m
[31m-            .distributedBy(new ProcessDistributedByDto())[m
[31m-            .visualization(ProcessVisualization.PIE)[m
[32m+[m[32m            .visualization(ProcessVisualization.NUMBER)[m
             .filter(ProcessFilterBuilder.filter()[m
[31m-                      .duration()[m
[31m-                      .operator(GREATER_THAN)[m
[31m-                      .unit(DurationUnit.DAYS)[m
[31m-                      .value(7L)[m
[31m-                      .add()[m
[31m-                      .runningInstancesOnly()[m
[32m+[m[32m                      .rollingInstanceEndDate()[m
[32m+[m[32m                      .start(6L, DateUnit.MONTHS)[m
                       .add()[m
                       .buildList())[m
             .managementReport(true)[m
             .build()),[m
[31m-        new PositionDto(6, 0),[m
[31m-        new DimensionDto(4, 4)[m
[31m-      ),[m
[31m-      new ExpectedReportConfigurationAndLocation([m
[31m-        ManagementDashboardService.AUTOMATION_CANDIDATES_REPORT_LOCALIZATION_CODE,[m
[31m-        new SingleProcessReportDefinitionRequestDto([m
[31m-          ProcessReportDataDto.builder()[m
[31m-            .definitions(Collections.emptyList())[m
[31m-            .view(new ProcessViewDto(ProcessViewEntity.USER_TASK, List.of(ViewProperty.FREQUENCY, ViewProperty.DURATION)))[m
[31m-            .groupBy(new UserTasksGroupByDto())[m
[31m-            .visualization(ProcessVisualization.PIE)[m
[31m-            .managementReport(true)[m
[31m-            .build()),[m
[31m-        new PositionDto(10, 0),[m
[31m-        new DimensionDto(4, 4)[m
[31m-      ),[m
[31m-      new ExpectedReportConfigurationAndLocation([m
[31m-        ManagementDashboardService.ACTIVE_BOTTLENECKS_REPORT_LOCALIZATION_CODE,[m
[31m-        new SingleProcessReportDefinitionRequestDto([m
[31m-          ProcessReportDataDto.builder()[m
[31m-            .definitions(Collections.emptyList())[m
[31m-            .view(new ProcessViewDto(ProcessViewEntity.FLOW_NODE, List.of(ViewProperty.FREQUENCY, ViewProperty.DURATION)))[m
[31m-            .groupBy(new FlowNodesGroupByDto())[m
[31m-            .visualization(ProcessVisualization.PIE)[m
[31m-            .managementReport(true)[m
[31m-            .build()),[m
[31m-        new PositionDto(14, 0),[m
[31m-        new DimensionDto(4, 4)[m
[32m+[m[32m        new PositionDto(0, 2),[m
[32m+[m[32m        new DimensionDto(4, 2)[m
       )[m
     ).collect(Collectors.toMap(ExpectedReportConfigurationAndLocation::getReportName, Function.identity()));[m
   }[m
[36m@@ -351,6 +302,7 @@[m [mpublic class ManagementDashboardIT extends AbstractPlatformIT {[m
   @AllArgsConstructor[m
   private static class ExpectedReportConfigurationAndLocation {[m
     private String reportName;[m
[32m+[m[32m    private String reportDescription;[m
     private SingleProcessReportDefinitionRequestDto reportDefinitionRequestDto;[m
     private PositionDto positionDto;[m
     private DimensionDto dimensionDto;[m
[1mdiff --git a/backend/src/it/java/org/camunda/optimize/service/TenantServiceIT.java b/backend/src/it/java/org/camunda/optimize/service/CamundaPlatformTenantServiceIT.java[m
[1msimilarity index 70%[m
[1mrename from backend/src/it/java/org/camunda/optimize/service/TenantServiceIT.java[m
[1mrename to backend/src/it/java/org/camunda/optimize/service/CamundaPlatformTenantServiceIT.java[m
[1mindex eb779bd975..2b008af2c1 100644[m
[1m--- a/backend/src/it/java/org/camunda/optimize/service/TenantServiceIT.java[m
[1m+++ b/backend/src/it/java/org/camunda/optimize/service/CamundaPlatformTenantServiceIT.java[m
[36m@@ -15,6 +15,7 @@[m [mimport org.junit.jupiter.api.Test;[m
 import java.util.List;[m
 [m
 import static org.assertj.core.api.Assertions.assertThat;[m
[32m+[m[32mimport static org.camunda.optimize.service.tenant.CamundaPlatformTenantService.TENANT_NOT_DEFINED;[m
 import static org.camunda.optimize.service.util.importing.EngineConstants.ALL_PERMISSION;[m
 import static org.camunda.optimize.service.util.importing.EngineConstants.ALL_RESOURCES_RESOURCE_ID;[m
 import static org.camunda.optimize.service.util.importing.EngineConstants.AUTHORIZATION_TYPE_GRANT;[m
[36m@@ -23,7 +24,7 @@[m [mimport static org.camunda.optimize.service.util.importing.EngineConstants.RESOUR[m
 import static org.camunda.optimize.test.it.extension.EmbeddedOptimizeExtension.DEFAULT_ENGINE_ALIAS;[m
 import static org.camunda.optimize.upgrade.es.ElasticsearchConstants.TENANT_INDEX_NAME;[m
 [m
[31m-public class TenantServiceIT extends AbstractPlatformIT {[m
[32m+[m[32mpublic class CamundaPlatformTenantServiceIT extends AbstractPlatformIT {[m
 [m
   @Test[m
   public void getStoredTenants() {[m
[36m@@ -34,11 +35,11 @@[m [mpublic class TenantServiceIT extends AbstractPlatformIT {[m
     addTenantToElasticsearch(new TenantDto(tenantId, tenantName, DEFAULT_ENGINE_ALIAS));[m
 [m
     // when[m
[31m-    final List<TenantDto> tenants = embeddedOptimizeExtension.getTenantService().getTenants();[m
[32m+[m[32m    final List<TenantDto> tenants = embeddedOptimizeExtension.getPlatformTenantService().getAvailableTenants();[m
 [m
     // then[m
     assertThat(tenants).hasSize(2);[m
[31m-    assertThat(tenants.get(0)).isEqualTo(TenantService.TENANT_NOT_DEFINED);[m
[32m+[m[32m    assertThat(tenants.get(0)).isEqualTo(TENANT_NOT_DEFINED);[m
     assertThat(tenants.get(1).getId()).isEqualTo(tenantId);[m
     assertThat(tenants.get(1).getName()).isEqualTo(tenantName);[m
   }[m
[36m@@ -52,11 +53,11 @@[m [mpublic class TenantServiceIT extends AbstractPlatformIT {[m
     embeddedOptimizeExtension.reloadConfiguration();[m
 [m
     // when[m
[31m-    final List<TenantDto> tenants = embeddedOptimizeExtension.getTenantService().getTenants();[m
[32m+[m[32m    final List<TenantDto> tenants = embeddedOptimizeExtension.getPlatformTenantService().getAvailableTenants();[m
 [m
     // then[m
     assertThat(tenants).hasSize(2);[m
[31m-    assertThat(tenants.get(0)).isEqualTo(TenantService.TENANT_NOT_DEFINED);[m
[32m+[m[32m    assertThat(tenants.get(0)).isEqualTo(TENANT_NOT_DEFINED);[m
     assertThat(tenants.get(1).getId()).isEqualTo(tenantId);[m
     assertThat(tenants.get(1).getName()).isEqualTo(tenantName);[m
   }[m
[36m@@ -69,11 +70,11 @@[m [mpublic class TenantServiceIT extends AbstractPlatformIT {[m
     embeddedOptimizeExtension.reloadConfiguration();[m
 [m
     // when[m
[31m-    final List<TenantDto> tenants = embeddedOptimizeExtension.getTenantService().getTenants();[m
[32m+[m[32m    final List<TenantDto> tenants = embeddedOptimizeExtension.getPlatformTenantService().getAvailableTenants();[m
 [m
     // then[m
     assertThat(tenants).hasSize(2);[m
[31m-    assertThat(tenants.get(0)).isEqualTo(TenantService.TENANT_NOT_DEFINED);[m
[32m+[m[32m    assertThat(tenants.get(0)).isEqualTo(TENANT_NOT_DEFINED);[m
     assertThat(tenants.get(1).getId()).isEqualTo(tenantId);[m
     assertThat(tenants.get(1).getName()).isEqualTo(tenantId);[m
   }[m
[36m@@ -91,11 +92,11 @@[m [mpublic class TenantServiceIT extends AbstractPlatformIT {[m
     embeddedOptimizeExtension.reloadConfiguration();[m
 [m
     // when[m
[31m-    final List<TenantDto> tenants = embeddedOptimizeExtension.getTenantService().getTenants();[m
[32m+[m[32m    final List<TenantDto> tenants = embeddedOptimizeExtension.getPlatformTenantService().getAvailableTenants();[m
 [m
     // then[m
     assertThat(tenants).hasSize(3);[m
[31m-    assertThat(tenants.get(0)).isEqualTo(TenantService.TENANT_NOT_DEFINED);[m
[32m+[m[32m    assertThat(tenants.get(0)).isEqualTo(TENANT_NOT_DEFINED);[m
     assertThat(tenants.get(1).getId()).isEqualTo(defaultTenantId);[m
     assertThat(tenants.get(1).getName()).isEqualTo(defaultTenantName);[m
     assertThat(tenants.get(2).getId()).isEqualTo(storedTenantId);[m
[36m@@ -113,7 +114,7 @@[m [mpublic class TenantServiceIT extends AbstractPlatformIT {[m
     createOptimizeUser(tenantUser);[m
 [m
     // when[m
[31m-    final boolean isAuthorized = embeddedOptimizeExtension.getTenantService()[m
[32m+[m[32m    final boolean isAuthorized = embeddedOptimizeExtension.getPlatformTenantService()[m
       .isAuthorizedToSeeTenant(tenantUser, tenantId);[m
 [m
     // then[m
[36m@@ -131,7 +132,7 @@[m [mpublic class TenantServiceIT extends AbstractPlatformIT {[m
     createUserWithTenantAuthorization(tenantUser, ImmutableList.of(ALL_PERMISSION), ALL_RESOURCES_RESOURCE_ID);[m
 [m
     // when[m
[31m-    final boolean isAuthorized = embeddedOptimizeExtension.getTenantService()[m
[32m+[m[32m    final boolean isAuthorized = embeddedOptimizeExtension.getPlatformTenantService()[m
       .isAuthorizedToSeeTenant(tenantUser, tenantId);[m
 [m
     // then[m
[36m@@ -149,7 +150,7 @@[m [mpublic class TenantServiceIT extends AbstractPlatformIT {[m
     createUserWithTenantAuthorization(tenantUser, ImmutableList.of(ALL_PERMISSION), tenantId);[m
 [m
     // when[m
[31m-    final boolean isAuthorized = embeddedOptimizeExtension.getTenantService()[m
[32m+[m[32m    final boolean isAuthorized = embeddedOptimizeExtension.getPlatformTenantService()[m
       .isAuthorizedToSeeTenant(tenantUser, tenantId);[m
 [m
     // then[m
[36m@@ -168,68 +169,13 @@[m [mpublic class TenantServiceIT extends AbstractPlatformIT {[m
     createTenantAuthorization(tenantUser, ImmutableList.of(ALL_PERMISSION), tenantId, AUTHORIZATION_TYPE_REVOKE);[m
 [m
     // when[m
[31m-    final boolean isAuthorized = embeddedOptimizeExtension.getTenantService()[m
[32m+[m[32m    final boolean isAuthorized = embeddedOptimizeExtension.getPlatformTenantService()[m
       .isAuthorizedToSeeTenant(tenantUser, tenantId);[m
 [m
     // then[m
     assertThat(isAuthorized).isFalse();[m
   }[m
 [m
[31m-  @Test[m
[31m-  public void getAuthorizedTenantsOnly() {[m
[31m-    // given[m
[31m-    final String storedTenantId1 = "1";[m
[31m-    final String storedTenantName1 = "My Tenant 1";[m
[31m-    final String storedTenantId2 = "2";[m
[31m-    final String storedTenantName2 = "My Tenant 2";[m
[31m-[m
[31m-    final String tenantUserId = "tenantUser";[m
[31m-[m
[31m-    createUserWithTenantAuthorization(tenantUserId, ImmutableList.of(ALL_PERMISSION), storedTenantId1);[m
[31m-    addTenantToElasticsearch(new TenantDto(storedTenantId1, storedTenantName1, DEFAULT_ENGINE_ALIAS));[m
[31m-    addTenantToElasticsearch(new TenantDto(storedTenantId2, storedTenantName2, DEFAULT_ENGINE_ALIAS));[m
[31m-[m
[31m-    // when[m
[31m-    final List<TenantDto> tenantsForUser = embeddedOptimizeExtension.getTenantService().getTenantsForUserByEngine([m
[31m-      tenantUserId, DEFAULT_ENGINE_ALIAS[m
[31m-    );[m
[31m-[m
[31m-    // then[m
[31m-    assertThat(tenantsForUser).hasSize(2);[m
[31m-    assertThat(tenantsForUser.get(0)).isEqualTo(TenantService.TENANT_NOT_DEFINED);[m
[31m-    assertThat(tenantsForUser.get(1).getId()).isEqualTo(storedTenantId1);[m
[31m-  }[m
[31m-[m
[31m-  @Test[m
[31m-  public void getAuthorizedTenantsOnly_withDefaultEngineTenant() {[m
[31m-    // given[m
[31m-    final String storedTenantId1 = "1";[m
[31m-    final String storedTenantName1 = "My Tenant 1";[m
[31m-    final String storedTenantId2 = "2";[m
[31m-    final String storedTenantName2 = "My Tenant 2";[m
[31m-    final String defaultTenantId = "myTenantId";[m
[31m-    final String defaultTenantName = "Default Tenant";[m
[31m-    setDefaultTenant(new DefaultTenant(defaultTenantId, defaultTenantName));[m
[31m-    embeddedOptimizeExtension.reloadConfiguration();[m
[31m-[m
[31m-    final String tenantUserId = "tenantUser";[m
[31m-[m
[31m-    createUserWithTenantAuthorization(tenantUserId, ImmutableList.of(ALL_PERMISSION), storedTenantId1);[m
[31m-    addTenantToElasticsearch(new TenantDto(storedTenantId1, storedTenantName1, DEFAULT_ENGINE_ALIAS));[m
[31m-    addTenantToElasticsearch(new TenantDto(storedTenantId2, storedTenantName2, DEFAULT_ENGINE_ALIAS));[m
[31m-[m
[31m-    // when[m
[31m-    final List<TenantDto> tenantsForUser = embeddedOptimizeExtension.getTenantService().getTenantsForUserByEngine([m
[31m-      tenantUserId, DEFAULT_ENGINE_ALIAS[m
[31m-    );[m
[31m-[m
[31m-    // then[m
[31m-    assertThat(tenantsForUser).hasSize(3);[m
[31m-    assertThat(tenantsForUser.get(0)).isEqualTo(TenantService.TENANT_NOT_DEFINED);[m
[31m-    assertThat(tenantsForUser.get(1).getId()).isEqualTo(defaultTenantId);[m
[31m-    assertThat(tenantsForUser.get(2).getId()).isEqualTo(storedTenantId1);[m
[31m-  }[m
[31m-[m
   private void createUserWithTenantAuthorization(final String tenantUser,[m
                                                  final ImmutableList<String> permissions,[m
                                                  final String resourceId) {[m
[1mdiff --git a/backend/src/it/java/org/camunda/optimize/service/es/report/process/ManagementReportEvaluationIT.java b/backend/src/it/java/org/camunda/optimize/service/es/report/process/ManagementReportEvaluationIT.java[m
[1mindex 41a56c3470..a1e2da4a63 100644[m
[1m--- a/backend/src/it/java/org/camunda/optimize/service/es/report/process/ManagementReportEvaluationIT.java[m
[1m+++ b/backend/src/it/java/org/camunda/optimize/service/es/report/process/ManagementReportEvaluationIT.java[m
[36m@@ -6,6 +6,9 @@[m
 package org.camunda.optimize.service.es.report.process;[m
 [m
 import com.fasterxml.jackson.core.type.TypeReference;[m
[32m+[m[32mimport jakarta.ws.rs.core.Response;[m
[32m+[m[32mimport lombok.AllArgsConstructor;[m
[32m+[m[32mimport lombok.Data;[m
 import org.assertj.core.groups.Tuple;[m
 import org.camunda.bpm.model.bpmn.Bpmn;[m
 import org.camunda.bpm.model.bpmn.BpmnModelInstance;[m
[36m@@ -16,22 +19,17 @@[m [mimport org.camunda.optimize.dto.optimize.query.report.single.process.ProcessRepo[m
 import org.camunda.optimize.dto.optimize.query.report.single.process.SingleProcessReportDefinitionRequestDto;[m
 import org.camunda.optimize.dto.optimize.query.report.single.process.group.ProcessGroupByType;[m
 import org.camunda.optimize.dto.optimize.query.report.single.process.view.ProcessViewEntity;[m
[31m-import org.camunda.optimize.dto.optimize.query.report.single.result.hyper.HyperMapResultEntryDto;[m
 import org.camunda.optimize.dto.optimize.query.report.single.result.hyper.MapResultEntryDto;[m
 import org.camunda.optimize.dto.optimize.rest.report.AuthorizedProcessReportEvaluationResponseDto;[m
 import org.camunda.optimize.dto.optimize.rest.report.ReportResultResponseDto;[m
 import org.camunda.optimize.exception.OptimizeIntegrationTestException;[m
 import org.camunda.optimize.rest.engine.dto.ProcessInstanceEngineDto;[m
[31m-import org.camunda.optimize.service.es.report.util.MapResultUtil;[m
 import org.junit.jupiter.api.BeforeEach;[m
 import org.junit.jupiter.api.Test;[m
 import org.junit.jupiter.params.ParameterizedTest;[m
 import org.junit.jupiter.params.provider.Arguments;[m
 import org.junit.jupiter.params.provider.MethodSource;[m
 [m
[31m-import jakarta.ws.rs.core.Response;[m
[31m-import java.time.OffsetDateTime;[m
[31m-import java.time.temporal.ChronoUnit;[m
 import java.util.Collections;[m
 import java.util.List;[m
 import java.util.Map;[m
[36m@@ -44,18 +42,12 @@[m [mimport static java.util.stream.Collectors.toSet;[m
 import static org.assertj.core.api.Assertions.assertThat;[m
 import static org.camunda.optimize.dto.optimize.ReportConstants.ALL_VERSIONS;[m
 import static org.camunda.optimize.dto.optimize.ReportConstants.DEFAULT_TENANT_IDS;[m
[31m-import static org.camunda.optimize.service.dashboard.ManagementDashboardService.ACTIVE_BOTTLENECKS_REPORT_LOCALIZATION_CODE;[m
[31m-import static org.camunda.optimize.service.dashboard.ManagementDashboardService.AUTOMATION_CANDIDATES_REPORT_LOCALIZATION_CODE;[m
[31m-import static org.camunda.optimize.service.dashboard.ManagementDashboardService.AUTOMATION_RATE_REPORT_LOCALIZATION_CODE;[m
[31m-import static org.camunda.optimize.service.dashboard.ManagementDashboardService.INCIDENT_FREE_RATE_REPORT_LOCALIZATION_CODE;[m
[31m-import static org.camunda.optimize.service.dashboard.ManagementDashboardService.LONG_RUNNING_INSTANCES_REPORT_LOCALIZATION_CODE;[m
[31m-import static org.camunda.optimize.service.dashboard.ManagementDashboardService.PROCESS_INSTANCE_USAGE_REPORT_LOCALIZATION_CODE;[m
[31m-import static org.camunda.optimize.rest.RestTestConstants.DEFAULT_PASSWORD;[m
[31m-import static org.camunda.optimize.rest.RestTestConstants.DEFAULT_USERNAME;[m
[32m+[m[32mimport static org.camunda.optimize.service.dashboard.ManagementDashboardService.CURRENTLY_IN_PROGRESS_NAME_LOCALIZATION_CODE;[m
[32m+[m[32mimport static org.camunda.optimize.service.dashboard.ManagementDashboardService.ENDED_IN_LAST_SIX_MONTHS_NAME_LOCALIZATION_CODE;[m
[32m+[m[32mimport static org.camunda.optimize.service.dashboard.ManagementDashboardService.STARTED_IN_LAST_SIX_MONTHS_NAME_LOCALIZATION_CODE;[m
 import static org.camunda.optimize.service.util.importing.EngineConstants.RESOURCE_TYPE_PROCESS_DEFINITION;[m
 import static org.camunda.optimize.service.util.importing.EngineConstants.RESOURCE_TYPE_TENANT;[m
 import static org.camunda.optimize.test.engine.AuthorizationClient.KERMIT_USER;[m
[31m-import static org.camunda.optimize.test.util.DateModificationHelper.truncateToStartOfUnit;[m
 import static org.camunda.optimize.upgrade.es.ElasticsearchConstants.SINGLE_PROCESS_REPORT_INDEX_NAME;[m
 import static org.camunda.optimize.util.BpmnModels.VERSION_TAG;[m
 import static org.camunda.optimize.util.BpmnModels.getSingleUserTaskDiagram;[m
[36m@@ -143,8 +135,9 @@[m [mpublic class ManagementReportEvaluationIT extends AbstractProcessDefinitionIT {[m
     final String reportId = getIdForManagementReport();[m
 [m
     // when[m
[31m-    final AuthorizedProcessReportEvaluationResponseDto<List<MapResultEntryDto>> evaluationResponse =[m
[31m-      reportClient.evaluateReport(reportId);[m
[32m+[m[32m    final AuthorizedProcessReportEvaluationResponseDto<Double> evaluationResponse =[m
[32m+[m[32m      embeddedOptimizeExtension.getRequestExecutor().buildEvaluateSavedReportRequest(reportId).execute(new TypeReference<>() {[m
[32m+[m[32m      });[m
 [m
     // then[m
     ProcessReportDataDto resultReportDataDto = evaluationResponse.getReportDefinition().getData();[m
[36m@@ -159,14 +152,10 @@[m [mpublic class ManagementReportEvaluationIT extends AbstractProcessDefinitionIT {[m
     assertThat(resultReportDataDto.getView()).isNotNull();[m
     assertThat(resultReportDataDto.getView().getEntity()).isEqualTo(ProcessViewEntity.PROCESS_INSTANCE);[m
     assertThat(resultReportDataDto.getView().getFirstProperty()).isEqualTo(ViewProperty.FREQUENCY);[m
[31m-    assertThat(resultReportDataDto.getGroupBy().getType()).isEqualTo(ProcessGroupByType.START_DATE);[m
[31m-    final ReportResultResponseDto<List<MapResultEntryDto>> resultDto = evaluationResponse.getResult();[m
[32m+[m[32m    assertThat(resultReportDataDto.getGroupBy().getType()).isEqualTo(ProcessGroupByType.NONE);[m
[32m+[m[32m    final ReportResultResponseDto<Double> resultDto = evaluationResponse.getResult();[m
     assertThat(resultDto.getInstanceCount()).isEqualTo(2L);[m
     assertThat(resultDto.getFirstMeasureData()).isNotNull();[m
[31m-    assertThat(MapResultUtil.getEntryForKey([m
[31m-      resultDto.getFirstMeasureData(), embeddedOptimizeExtension.getDateTimeFormatter()[m
[31m-        .format(truncateToStartOfUnit(OffsetDateTime.now(), ChronoUnit.MONTHS))[m
[31m-    )).isPresent().get().extracting(MapResultEntryDto::getValue).isEqualTo(2.);[m
   }[m
 [m
   @Test[m
[36m@@ -182,8 +171,10 @@[m [mpublic class ManagementReportEvaluationIT extends AbstractProcessDefinitionIT {[m
     final String reportId = getIdForManagementReport();[m
 [m
     // when[m
[31m-    final AuthorizedProcessReportEvaluationResponseDto<List<MapResultEntryDto>> evaluationResponse =[m
[31m-      reportClient.evaluateReport(reportId);[m
[32m+[m[32m    final AuthorizedProcessReportEvaluationResponseDto<Double> evaluationResponse =[m
[32m+[m[32m      embeddedOptimizeExtension.getRequestExecutor()[m
[32m+[m[32m        .buildEvaluateSavedReportRequest(reportId).execute(new TypeReference<>() {[m
[32m+[m[32m        });[m
 [m
     // then[m
     ProcessReportDataDto resultReportDataDto = evaluationResponse.getReportDefinition().getData();[m
[36m@@ -199,14 +190,11 @@[m [mpublic class ManagementReportEvaluationIT extends AbstractProcessDefinitionIT {[m
     assertThat(resultReportDataDto.getView()).isNotNull();[m
     assertThat(resultReportDataDto.getView().getEntity()).isEqualTo(ProcessViewEntity.PROCESS_INSTANCE);[m
     assertThat(resultReportDataDto.getView().getFirstProperty()).isEqualTo(ViewProperty.FREQUENCY);[m
[31m-    assertThat(resultReportDataDto.getGroupBy().getType()).isEqualTo(ProcessGroupByType.START_DATE);[m
[31m-    final ReportResultResponseDto<List<MapResultEntryDto>> resultDto = evaluationResponse.getResult();[m
[32m+[m[32m    assertThat(resultReportDataDto.getGroupBy().getType()).isEqualTo(ProcessGroupByType.NONE);[m
[32m+[m[32m    final ReportResultResponseDto<Double> resultDto = evaluationResponse.getResult();[m
     assertThat(resultDto.getInstanceCount()).isEqualTo(2L);[m
     assertThat(resultDto.getFirstMeasureData()).isNotNull();[m
[31m-    assertThat(MapResultUtil.getEntryForKey([m
[31m-      resultDto.getFirstMeasureData(), embeddedOptimizeExtension.getDateTimeFormatter()[m
[31m-        .format(truncateToStartOfUnit(OffsetDateTime.now(), ChronoUnit.MONTHS))[m
[31m-    )).isPresent().get().extracting(MapResultEntryDto::getValue).isEqualTo(2.);[m
[32m+[m[32m    assertThat(resultDto.getFirstMeasureData()).isEqualTo(2.);[m
   }[m
 [m
   @Test[m
[36m@@ -223,46 +211,26 @@[m [mpublic class ManagementReportEvaluationIT extends AbstractProcessDefinitionIT {[m
       .collect(Collectors.toMap(ReportDefinitionDto::getName, Function.identity()));[m
 [m
     // then[m
[31m-    assertThat(reportClient.evaluateMapReportById(mgmtReportsByName.get(PROCESS_INSTANCE_USAGE_REPORT_LOCALIZATION_CODE).getId()))[m
[31m-      .satisfies(response -> {[m
[31m-        assertThat(response.getReportDefinition().getData().getDefinitions()).extracting(ReportDataDefinitionDto::getKey)[m
[31m-          .containsExactlyInAnyOrder(FIRST_DEF_KEY, SECOND_DEF_KEY);[m
[31m-        assertThat(response.getResult().getData()).isNotEmpty();[m
[31m-      });[m
[31m-    assertThat(reportClient.evaluateNumberReportById(mgmtReportsByName.get(INCIDENT_FREE_RATE_REPORT_LOCALIZATION_CODE).getId()))[m
[32m+[m[32m    assertThat(reportClient.evaluateNumberReportById(mgmtReportsByName.get(CURRENTLY_IN_PROGRESS_NAME_LOCALIZATION_CODE)[m
[32m+[m[32m                                                       .getId()))[m
       .satisfies(response -> {[m
         assertThat(response.getReportDefinition().getData().getDefinitions()).extracting(ReportDataDefinitionDto::getKey)[m
           .containsExactlyInAnyOrder(FIRST_DEF_KEY, SECOND_DEF_KEY);[m
[31m-        assertThat(response.getResult().getData()).isNotNull();[m
[32m+[m[32m        assertThat(response.getResult().getFirstMeasureData()).isNotNull();[m
       });[m
[31m-    assertThat(reportClient.evaluateNumberReportById(mgmtReportsByName.get(AUTOMATION_RATE_REPORT_LOCALIZATION_CODE).getId()))[m
[32m+[m[32m    assertThat(reportClient.evaluateMapReportById(mgmtReportsByName.get(STARTED_IN_LAST_SIX_MONTHS_NAME_LOCALIZATION_CODE)[m
[32m+[m[32m                                                    .getId()))[m
       .satisfies(response -> {[m
         assertThat(response.getReportDefinition().getData().getDefinitions()).extracting(ReportDataDefinitionDto::getKey)[m
           .containsExactlyInAnyOrder(FIRST_DEF_KEY, SECOND_DEF_KEY);[m
[31m-        assertThat(response.getResult().getData()).isNotNull();[m
[32m+[m[32m        assertThat(response.getResult().getFirstMeasureData()).isNotNull();[m
       });[m
[31m-    assertThat(reportClient.evaluateHyperMapReportById(mgmtReportsByName.get(LONG_RUNNING_INSTANCES_REPORT_LOCALIZATION_CODE)[m
[31m-                                                         .getId()))[m
[32m+[m[32m    assertThat(reportClient.evaluateNumberReportById(mgmtReportsByName.get(ENDED_IN_LAST_SIX_MONTHS_NAME_LOCALIZATION_CODE)[m
[32m+[m[32m                                                       .getId()))[m
       .satisfies(response -> {[m
         assertThat(response.getReportDefinition().getData().getDefinitions()).extracting(ReportDataDefinitionDto::getKey)[m
           .containsExactlyInAnyOrder(FIRST_DEF_KEY, SECOND_DEF_KEY);[m
[31m-        assertThat(response.getResult().getData()).isNotEmpty()[m
[31m-          .allSatisfy(result -> assertThat(result.getValue()).isNotEmpty())[m
[31m-          .extracting(HyperMapResultEntryDto::getValue)[m
[31m-          .allSatisfy(hyperResult -> assertThat(hyperResult).extracting(MapResultEntryDto::getLabel)[m
[31m-            .containsExactlyInAnyOrder(firstDefName, secondDefName));[m
[31m-      });[m
[31m-    assertThat(reportClient.evaluateMapReportById(mgmtReportsByName.get(AUTOMATION_CANDIDATES_REPORT_LOCALIZATION_CODE).getId()))[m
[31m-      .satisfies(response -> {[m
[31m-        assertThat(response.getReportDefinition().getData().getDefinitions()).extracting(ReportDataDefinitionDto::getKey)[m
[31m-          .containsExactlyInAnyOrder(FIRST_DEF_KEY, SECOND_DEF_KEY);[m
[31m-        assertThat(response.getResult().getData()).isNotEmpty();[m
[31m-      });[m
[31m-    assertThat(reportClient.evaluateMapReportById(mgmtReportsByName.get(ACTIVE_BOTTLENECKS_REPORT_LOCALIZATION_CODE).getId()))[m
[31m-      .satisfies(response -> {[m
[31m-        assertThat(response.getReportDefinition().getData().getDefinitions()).extracting(ReportDataDefinitionDto::getKey)[m
[31m-          .containsExactlyInAnyOrder(FIRST_DEF_KEY, SECOND_DEF_KEY);[m
[31m-        assertThat(response.getResult().getData()).isNotEmpty();[m
[32m+[m[32m        assertThat(response.getResult().getFirstMeasureData()).isNotNull();[m
       });[m
   }[m
 [m
[36m@@ -307,8 +275,8 @@[m [mpublic class ManagementReportEvaluationIT extends AbstractProcessDefinitionIT {[m
     final String reportId = getIdForManagementReport();[m
 [m
     // when[m
[31m-    final AuthorizedProcessReportEvaluationResponseDto<List<MapResultEntryDto>> evaluationResponse =[m
[31m-      reportClient.evaluateReport(reportId);[m
[32m+[m[32m    final AuthorizedProcessReportEvaluationResponseDto<Double> evaluationResponse =[m
[32m+[m[32m      reportClient.evaluateNumberReportById(reportId);[m
 [m
     // then[m
     ProcessReportDataDto resultReportDataDto = evaluationResponse.getReportDefinition().getData();[m
[36m@@ -320,13 +288,9 @@[m [mpublic class ManagementReportEvaluationIT extends AbstractProcessDefinitionIT {[m
         Tuple.tuple(FIRST_DEF_KEY, List.of(ALL_VERSIONS), List.of(FIRST_TENANT, SECOND_TENANT))[m
       );[m
     // the result includes data from both tenants[m
[31m-    final ReportResultResponseDto<List<MapResultEntryDto>> resultDto = evaluationResponse.getResult();[m
[32m+[m[32m    final ReportResultResponseDto<Double> resultDto = evaluationResponse.getResult();[m
     assertThat(resultDto.getInstanceCount()).isEqualTo(2L);[m
[31m-    assertThat(resultDto.getFirstMeasureData()).isNotNull();[m
[31m-    assertThat(MapResultUtil.getEntryForKey([m
[31m-      resultDto.getFirstMeasureData(), embeddedOptimizeExtension.getDateTimeFormatter()[m
[31m-        .format(truncateToStartOfUnit(OffsetDateTime.now(), ChronoUnit.MONTHS))[m
[31m-    )).isPresent().get().extracting(MapResultEntryDto::getValue).isEqualTo(2.);[m
[32m+[m[32m    assertThat(resultDto.getFirstMeasureData()).isNotNull().isEqualTo(2.);[m
   }[m
 [m
   @Test[m
[36m@@ -353,8 +317,11 @@[m [mpublic class ManagementReportEvaluationIT extends AbstractProcessDefinitionIT {[m
     final String reportId = getIdForManagementReport();[m
 [m
     // when[m
[31m-    final AuthorizedProcessReportEvaluationResponseDto<List<MapResultEntryDto>> evaluationResponse =[m
[31m-      reportClient.evaluateReportAsKermit(reportId);[m
[32m+[m[32m    final AuthorizedProcessReportEvaluationResponseDto<Double> evaluationResponse =[m
[32m+[m[32m      embeddedOptimizeExtension.getRequestExecutor()[m
[32m+[m[32m        .buildEvaluateSavedReportRequest(reportId)[m
[32m+[m[32m        .withUserAuthentication(KERMIT_USER, KERMIT_USER).execute(new TypeReference<>() {[m
[32m+[m[32m        });[m
 [m
     // then[m
     ProcessReportDataDto resultReportDataDto = evaluationResponse.getReportDefinition().getData();[m
[36m@@ -366,19 +333,14 @@[m [mpublic class ManagementReportEvaluationIT extends AbstractProcessDefinitionIT {[m
         Tuple.tuple(FIRST_DEF_KEY, List.of(ALL_VERSIONS), List.of(FIRST_TENANT))[m
       );[m
     // the result includes data from the authorized tenant[m
[31m-    final ReportResultResponseDto<List<MapResultEntryDto>> resultDto = evaluationResponse.getResult();[m
[31m-    assertThat(resultDto.getInstanceCount()).isEqualTo(1L);[m
[31m-    assertThat(MapResultUtil.getEntryForKey([m
[31m-      resultDto.getFirstMeasureData(), embeddedOptimizeExtension.getDateTimeFormatter()[m
[31m-        .format(truncateToStartOfUnit(OffsetDateTime.now(), ChronoUnit.MONTHS))[m
[31m-    )).isPresent().get().extracting(MapResultEntryDto::getValue).isEqualTo(1.);[m
[32m+[m[32m    assertThat(evaluationResponse.getResult().getInstanceCount()).isEqualTo(1L);[m
[32m+[m[32m    assertThat(evaluationResponse.getResult().getFirstMeasureData()).isNotNull();[m
   }[m
 [m
   @Test[m
   public void savedManagementReportCanBeEvaluatedUserNotAuthorizedForAnyImportedProcess() {[m
     // given[m
[31m-    final ProcessInstanceEngineDto firstInstance = engineIntegrationExtension.deployAndStartProcess([m
[31m-      getSingleUserTaskDiagram(FIRST_DEF_KEY));[m
[32m+[m[32m    engineIntegrationExtension.deployAndStartProcess(getSingleUserTaskDiagram(FIRST_DEF_KEY));[m
     engineIntegrationExtension.deployAndStartProcess(getSingleUserTaskDiagram(SECOND_DEF_KEY));[m
 [m
     authorizationClient.addKermitUserAndGrantAccessToOptimize();[m
[36m@@ -387,37 +349,41 @@[m [mpublic class ManagementReportEvaluationIT extends AbstractProcessDefinitionIT {[m
     final String reportId = getIdForManagementReport();[m
 [m
     // when[m
[31m-    final AuthorizedProcessReportEvaluationResponseDto<List<MapResultEntryDto>> evaluationResponse =[m
[31m-      evaluateReportAsKermit(reportId);[m
[32m+[m[32m    final AuthorizedProcessReportEvaluationResponseDto<Double> evaluationResponse =[m
[32m+[m[32m      embeddedOptimizeExtension.getRequestExecutor()[m
[32m+[m[32m        .buildEvaluateSavedReportRequest(reportId)[m
[32m+[m[32m        .withUserAuthentication(KERMIT_USER, KERMIT_USER).execute(new TypeReference<>() {[m
[32m+[m[32m        });[m
 [m
     // then[m
     ProcessReportDataDto resultReportDataDto = evaluationResponse.getReportDefinition().getData();[m
     assertThat(resultReportDataDto.isManagementReport()).isTrue();[m
     assertThat(resultReportDataDto.getDefinitions()).hasSize(0);[m
     // the result is empty as Kermit has no authorization for any processes[m
[31m-    final ReportResultResponseDto<List<MapResultEntryDto>> resultDto = evaluationResponse.getResult();[m
[32m+[m[32m    final ReportResultResponseDto<Double> resultDto = evaluationResponse.getResult();[m
     assertThat(resultDto.getInstanceCount()).isZero();[m
[31m-    assertThat(resultDto.getFirstMeasureData()).isEmpty();[m
[32m+[m[32m    assertThat(resultDto.getFirstMeasureData()).isEqualTo(0.);[m
   }[m
 [m
   @ParameterizedTest[m
   @MethodSource("localizedReportNames")[m
[31m-  public void managementReportNamesAreLocalized(final String locale, final Set<String> expectedReportNames) {[m
[32m+[m[32m  public void managementReportNamesAndDescriptionsAreLocalized(final String locale,[m
[32m+[m[32m                                                               final Set<ReportNameAndDescription> expectedReportNamesAndDescriptions) {[m
     // given[m
     engineIntegrationExtension.deployAndStartProcess(getSingleUserTaskDiagram(FIRST_DEF_KEY));[m
     importAllEngineEntitiesFromScratch();[m
 [m
     // when[m
[31m-    final Set<String> localizedReportNames = getAllManagementReports().stream()[m
[31m-      .map(report -> reportClient.evaluateProcessReportLocalized(report.getId(), locale).getReportDefinition().getName())[m
[32m+[m[32m    final Set<ReportNameAndDescription> localizedReportNamesAndDescriptions = getAllManagementReports().stream()[m
[32m+[m[32m      .map(report -> {[m
[32m+[m[32m        final SingleProcessReportDefinitionRequestDto resultDef = reportClient.evaluateProcessReportLocalized([m
[32m+[m[32m          report.getId(), locale).getReportDefinition();[m
[32m+[m[32m        return new ReportNameAndDescription(resultDef.getName(), resultDef.getDescription());[m
[32m+[m[32m      })[m
       .collect(toSet());[m
 [m
     // then[m
[31m-    assertThat(localizedReportNames).containsExactlyInAnyOrderElementsOf(expectedReportNames);[m
[31m-  }[m
[31m-[m
[31m-  private AuthorizedProcessReportEvaluationResponseDto<List<MapResultEntryDto>> evaluateReport(final String reportId) {[m
[31m-    return evaluateReportAsUser(reportId, DEFAULT_USERNAME, DEFAULT_PASSWORD);[m
[32m+[m[32m    assertThat(localizedReportNamesAndDescriptions).containsExactlyInAnyOrderElementsOf(expectedReportNamesAndDescriptions);[m
   }[m
 [m
   private AuthorizedProcessReportEvaluationResponseDto<List<MapResultEntryDto>> evaluateReportAsKermit(final String reportId) {[m
[36m@@ -438,7 +404,7 @@[m [mpublic class ManagementReportEvaluationIT extends AbstractProcessDefinitionIT {[m
   private String getIdForManagementReport() {[m
     return getAllManagementReports()[m
       .stream()[m
[31m-      .filter(report -> report.getName().equals(PROCESS_INSTANCE_USAGE_REPORT_LOCALIZATION_CODE))[m
[32m+[m[32m      .filter(report -> report.getName().equals(CURRENTLY_IN_PROGRESS_NAME_LOCALIZATION_CODE))[m
       .findFirst()[m
       .map(ReportDefinitionDto::getId)[m
       .orElseThrow(() -> new OptimizeIntegrationTestException("Cannot find any management reports"));[m
[36m@@ -473,27 +439,43 @@[m [mpublic class ManagementReportEvaluationIT extends AbstractProcessDefinitionIT {[m
       Arguments.of([m
         "en",[m
         Set.of([m
[31m-          "Process Instance Usage",[m
[31m-          "Overall Incident-Free Rate",[m
[31m-          "Automation Rate (<1 hour)",[m
[31m-          "Long-Running Process Instances",[m
[31m-          "Automation Candidates",[m
[31m-          "Active Bottlenecks"[m
[32m+[m[32m          new ReportNameAndDescription("Currently in progress", "This report shows how busy your cluster currently is."),[m
[32m+[m[32m          new ReportNameAndDescription([m
[32m+[m[32m            "Started in the last 6 months",[m
[32m+[m[32m            "This report provides insight into the overall adoption of process orchestration."[m
[32m+[m[32m          ),[m
[32m+[m[32m          new ReportNameAndDescription([m
[32m+[m[32m            "Ended in the last 6 months",[m
[32m+[m[32m            "This report shows the total number of automated process instances ended."[m
[32m+[m[32m          )[m
         )[m
       ),[m
       Arguments.of([m
         "de",[m
         Set.of([m
[31m-          "Anzahl der ausgeführten Prozessinstanzen",[m
[31m-          "Prozessausführungen ohne Zwischenfälle",[m
[31m-          "Automatisierungsrate (< 1 Stunde)",[m
[31m-          "Lang laufende Prozessinstanzen",[m
[31m-          "Automatisierungskandidaten",[m
[31m-          "Aktive Engpässe"[m
[32m+[m[32m          new ReportNameAndDescription([m
[32m+[m[32m            "Aktuell laufende Prozesse",[m
[32m+[m[32m            "Dieser Bericht zeigt, wie stark der Cluster aktuell genutzt wird."[m
[32m+[m[32m          ),[m
[32m+[m[32m          new ReportNameAndDescription([m
[32m+[m[32m            "In den letzten 6 Monaten gestartete Prozesse",[m
[32m+[m[32m            "Dieser Bericht gibt Aufschluss über die Verbreitung der Prozess Orchestrierung."[m
[32m+[m[32m          ),[m
[32m+[m[32m          new ReportNameAndDescription([m
[32m+[m[32m            "In den letzten 6 Monaten beendete Prozesse",[m
[32m+[m[32m            "Dieser Bericht zeigt die Anzahl der beendeten Prozess Instanzen."[m
[32m+[m[32m          )[m
         )[m
       )[m
     );[m
   }[m
 [m
[32m+[m[32m  @Data[m
[32m+[m[32m  @AllArgsConstructor[m
[32m+[m[32m  private static class ReportNameAndDescription {[m
[32m+[m[32m    private String reportName;[m
[32m+[m[32m    private String reportDescription;[m
[32m+[m[32m  }[m
[32m+[m
 }[m
 [m
[1mdiff --git a/backend/src/it/java/org/camunda/optimize/service/es/report/process/single/flownode/duration/groupby/flownode/FlowNodeDurationByFlowNodeReportEvaluationIT.java b/backend/src/it/java/org/camunda/optimize/service/es/report/process/single/flownode/duration/groupby/flownode/FlowNodeDurationByFlowNodeReportEvaluationIT.java[m
[1mindex af1b8590c8..1b515d3d97 100644[m
[1m--- a/backend/src/it/java/org/camunda/optimize/service/es/report/process/single/flownode/duration/groupby/flownode/FlowNodeDurationByFlowNodeReportEvaluationIT.java[m
[1m+++ b/backend/src/it/java/org/camunda/optimize/service/es/report/process/single/flownode/duration/groupby/flownode/FlowNodeDurationByFlowNodeReportEvaluationIT.java[m
[36m@@ -28,7 +28,6 @@[m [mimport org.camunda.optimize.dto.optimize.rest.report.AuthorizedProcessReportEval[m
 import org.camunda.optimize.dto.optimize.rest.report.ReportResultResponseDto;[m
 import org.camunda.optimize.dto.optimize.rest.report.measure.MeasureResponseDto;[m
 import org.camunda.optimize.rest.engine.dto.ProcessInstanceEngineDto;[m
[31m-import org.camunda.optimize.service.TenantService;[m
 import org.camunda.optimize.service.es.report.process.AbstractProcessDefinitionIT;[m
 import org.camunda.optimize.service.es.report.util.MapResultAsserter;[m
 import org.camunda.optimize.service.es.report.util.MapResultUtil;[m
[36m@@ -42,6 +41,7 @@[m [mimport org.junit.jupiter.params.provider.Arguments;[m
 import org.junit.jupiter.params.provider.MethodSource;[m
 [m
 import jakarta.ws.rs.core.Response;[m
[32m+[m
 import java.time.OffsetDateTime;[m
 import java.time.temporal.ChronoUnit;[m
 import java.util.Arrays;[m
[36m@@ -64,6 +64,7 @@[m [mimport static org.camunda.optimize.dto.optimize.query.sorting.ReportSortingDto.S[m
 import static org.camunda.optimize.dto.optimize.query.sorting.ReportSortingDto.SORT_BY_VALUE;[m
 import static org.camunda.optimize.rest.RestTestConstants.DEFAULT_PASSWORD;[m
 import static org.camunda.optimize.rest.RestTestConstants.DEFAULT_USERNAME;[m
[32m+[m[32mimport static org.camunda.optimize.service.tenant.CamundaPlatformTenantService.TENANT_NOT_DEFINED;[m
 import static org.camunda.optimize.test.util.DurationAggregationUtil.calculateExpectedValueGivenDurations;[m
 import static org.camunda.optimize.test.util.DurationAggregationUtil.calculateExpectedValueGivenDurationsDefaultAggr;[m
 import static org.camunda.optimize.test.util.DurationAggregationUtil.getSupportedAggregationTypes;[m
[36m@@ -494,7 +495,7 @@[m [mpublic class FlowNodeDurationByFlowNodeReportEvaluationIT extends AbstractProces[m
   public void orderOfTenantSelectionDoesNotAffectResult() {[m
     // given[m
     final String definitionKey = "aKey";[m
[31m-    final String noneTenantId = TenantService.TENANT_NOT_DEFINED.getId();[m
[32m+[m[32m    final String noneTenantId = TENANT_NOT_DEFINED.getId();[m
     final String otherTenantId = "tenant1";[m
 [m
     engineIntegrationExtension.createTenant(otherTenantId);[m
[36m@@ -522,7 +523,7 @@[m [mpublic class FlowNodeDurationByFlowNodeReportEvaluationIT extends AbstractProces[m
     // given[m
     final String definitionKey = "aKey";[m
     final String tenantId1 = "tenantId1";[m
[31m-    final String noneTenantId = TenantService.TENANT_NOT_DEFINED.getId();[m
[32m+[m[32m    final String noneTenantId = TENANT_NOT_DEFINED.getId();[m
     engineIntegrationExtension.createTenant(tenantId1);[m
 [m
     final BpmnModelInstance modelInstance = getSimpleBpmnDiagram(definitionKey);[m
[1mdiff --git a/backend/src/it/java/org/camunda/optimize/service/es/report/process/single/flownode/frequency/groupby/flownode/FlowNodeFrequencyByFlowNodeReportEvaluationIT.java b/backend/src/it/java/org/camunda/optimize/service/es/report/process/single/flownode/frequency/groupby/flownode/FlowNodeFrequencyByFlowNodeReportEvaluationIT.java[m
[1mindex 0d81dfc4ec..279850ffc9 100644[m
[1m--- a/backend/src/it/java/org/camunda/optimize/service/es/report/process/single/flownode/frequency/groupby/flownode/FlowNodeFrequencyByFlowNodeReportEvaluationIT.java[m
[1m+++ b/backend/src/it/java/org/camunda/optimize/service/es/report/process/single/flownode/frequency/groupby/flownode/FlowNodeFrequencyByFlowNodeReportEvaluationIT.java[m
[36m@@ -28,7 +28,6 @@[m [mimport org.camunda.optimize.dto.optimize.query.sorting.SortOrder;[m
 import org.camunda.optimize.dto.optimize.rest.report.AuthorizedProcessReportEvaluationResponseDto;[m
 import org.camunda.optimize.dto.optimize.rest.report.ReportResultResponseDto;[m
 import org.camunda.optimize.rest.engine.dto.ProcessInstanceEngineDto;[m
[31m-import org.camunda.optimize.service.TenantService;[m
 import org.camunda.optimize.service.es.report.process.AbstractProcessDefinitionIT;[m
 import org.camunda.optimize.service.es.report.util.MapResultAsserter;[m
 import org.camunda.optimize.service.es.report.util.MapResultUtil;[m
[36m@@ -41,6 +40,7 @@[m [mimport org.junit.jupiter.params.provider.Arguments;[m
 import org.junit.jupiter.params.provider.MethodSource;[m
 [m
 import jakarta.ws.rs.core.Response;[m
[32m+[m
 import java.time.OffsetDateTime;[m
 import java.util.Collections;[m
 import java.util.Comparator;[m
[36m@@ -59,6 +59,7 @@[m [mimport static org.camunda.optimize.dto.optimize.query.sorting.ReportSortingDto.S[m
 import static org.camunda.optimize.dto.optimize.query.sorting.ReportSortingDto.SORT_BY_VALUE;[m
 import static org.camunda.optimize.rest.RestTestConstants.DEFAULT_PASSWORD;[m
 import static org.camunda.optimize.rest.RestTestConstants.DEFAULT_USERNAME;[m
[32m+[m[32mimport static org.camunda.optimize.service.tenant.CamundaPlatformTenantService.TENANT_NOT_DEFINED;[m
 import static org.camunda.optimize.util.BpmnModels.SERVICE_TASK_ID_1;[m
 import static org.camunda.optimize.util.BpmnModels.SERVICE_TASK_ID_2;[m
 import static org.camunda.optimize.util.BpmnModels.getSimpleBpmnDiagram;[m
[36m@@ -191,7 +192,7 @@[m [mpublic class FlowNodeFrequencyByFlowNodeReportEvaluationIT extends AbstractProce[m
   public void orderOfTenantSelectionDoesNotAffectResult() {[m
     // given[m
     final String definitionKey = "aKey";[m
[31m-    final String noneTenantId = TenantService.TENANT_NOT_DEFINED.getId();[m
[32m+[m[32m    final String noneTenantId = TENANT_NOT_DEFINED.getId();[m
     final String otherTenantId = "tenant1";[m
 [m
     engineIntegrationExtension.createTenant(otherTenantId);[m
[36m@@ -220,7 +221,7 @@[m [mpublic class FlowNodeFrequencyByFlowNodeReportEvaluationIT extends AbstractProce[m
     // given[m
     final String definitionKey = "aKey";[m
     final String tenantId1 = "tenantId1";[m
[31m-    final String noneTenantId = TenantService.TENANT_NOT_DEFINED.getId();[m
[32m+[m[32m    final String noneTenantId = TENANT_NOT_DEFINED.getId();[m
     engineIntegrationExtension.createTenant(tenantId1);[m
 [m
     // To create specific tenant instances with a shared def, start instance on noneTenant and update tenantID after[m
[1mdiff --git a/backend/src/it/java/org/camunda/optimize/service/importing/CustomerOnboadingDataImportIT.java b/backend/src/it/java/org/camunda/optimize/service/importing/CustomerOnboadingDataImportIT.java[m
[1mindex 8c56e9dbd6..296fc10346 100644[m
[1m--- a/backend/src/it/java/org/camunda/optimize/service/importing/CustomerOnboadingDataImportIT.java[m
[1m+++ b/backend/src/it/java/org/camunda/optimize/service/importing/CustomerOnboadingDataImportIT.java[m
[36m@@ -123,7 +123,7 @@[m [mpublic class CustomerOnboadingDataImportIT extends AbstractImportIT {[m
     assertThat(processDefinitionDocuments).hasSize(1);[m
     assertThat(indexExist(new ProcessInstanceIndex(CUSTOMER_ONBOARDING_DEFINITION_NAME).getIndexName())).isFalse();[m
     logCapturer.assertContains([m
[31m-      "Could not load customer onboarding process instances to input stream. Please validate the process instance json file.");[m
[32m+[m[32m      "Could not load Camunda Customer Onboarding Demo process instances to input stream. Please validate the process instance json file.");[m
   }[m
 [m
   @Test[m
[36m@@ -144,7 +144,7 @@[m [mpublic class CustomerOnboadingDataImportIT extends AbstractImportIT {[m
     assertThat(processDefinitionDocuments).hasSize(1);[m
     assertThat(indexExist(new ProcessInstanceIndex(CUSTOMER_ONBOARDING_DEFINITION_NAME).getIndexName())).isFalse();[m
     logCapturer.assertContains([m
[31m-      "Could not load customer onboarding process instances to input stream. Please validate the process instance json file.");[m
[32m+[m[32m      "Could not load Camunda Customer Onboarding Demo process instances to input stream. Please validate the process instance json file.");[m
   }[m
 [m
   @Test[m
[1mdiff --git a/backend/src/it/java/org/camunda/optimize/service/importing/ZeebeIncidentImportIT.java b/backend/src/it/java/org/camunda/optimize/service/importing/ZeebeIncidentImportIT.java[m
[1mindex 86dbf0de5e..1d00472405 100644[m
[1m--- a/backend/src/it/java/org/camunda/optimize/service/importing/ZeebeIncidentImportIT.java[m
[1m+++ b/backend/src/it/java/org/camunda/optimize/service/importing/ZeebeIncidentImportIT.java[m
[36m@@ -16,6 +16,7 @@[m [mimport org.camunda.optimize.dto.optimize.persistence.incident.IncidentStatus;[m
 import org.camunda.optimize.dto.optimize.persistence.incident.IncidentType;[m
 import org.camunda.optimize.dto.optimize.query.event.process.FlowNodeInstanceDto;[m
 import org.camunda.optimize.dto.zeebe.ZeebeRecordDto;[m
[32m+[m[32mimport org.camunda.optimize.dto.zeebe.incident.ZeebeIncidentDataDto;[m
 import org.camunda.optimize.dto.zeebe.incident.ZeebeIncidentRecordDto;[m
 import org.camunda.optimize.dto.zeebe.process.ZeebeProcessInstanceRecordDto;[m
 import org.camunda.optimize.exception.OptimizeIntegrationTestException;[m
[36m@@ -27,6 +28,7 @@[m [mimport org.elasticsearch.action.search.SearchResponse;[m
 import org.elasticsearch.index.query.BoolQueryBuilder;[m
 import org.elasticsearch.search.builder.SearchSourceBuilder;[m
 import org.junit.jupiter.api.Test;[m
[32m+[m[32mimport org.junit.jupiter.api.condition.DisabledIf;[m
 [m
 import java.time.Instant;[m
 import java.time.OffsetDateTime;[m
[36m@@ -41,11 +43,13 @@[m [mimport java.util.stream.Collectors;[m
 import static org.assertj.core.api.Assertions.assertThat;[m
 import static org.camunda.optimize.dto.optimize.persistence.incident.IncidentStatus.OPEN;[m
 import static org.camunda.optimize.dto.optimize.persistence.incident.IncidentStatus.RESOLVED;[m
[32m+[m[32mimport static org.camunda.optimize.service.util.importing.ZeebeConstants.ZEEBE_DEFAULT_TENANT_ID;[m
 import static org.camunda.optimize.util.ZeebeBpmnModels.CATCH_EVENT;[m
 import static org.camunda.optimize.util.ZeebeBpmnModels.SERVICE_TASK;[m
 import static org.camunda.optimize.util.ZeebeBpmnModels.createIncidentProcess;[m
 import static org.camunda.optimize.util.ZeebeBpmnModels.createSimpleServiceTaskProcess;[m
 import static org.elasticsearch.index.query.QueryBuilders.boolQuery;[m
[32m+[m[32mimport static org.elasticsearch.index.query.QueryBuilders.termQuery;[m
 import static org.elasticsearch.index.query.QueryBuilders.termsQuery;[m
 [m
 public class ZeebeIncidentImportIT extends AbstractCCSMIT {[m
[36m@@ -58,7 +62,7 @@[m [mpublic class ZeebeIncidentImportIT extends AbstractCCSMIT {[m
     zeebeExtension.failTask(SERVICE_TASK);[m
 [m
     // when[m
[31m-    waitUntilMinimumIncidentEventsExportedCount(1);[m
[32m+[m[32m    waitUntilIncidentRecordWithProcessIdExported("someProcess");[m
     importAllZeebeEntitiesFromScratch();[m
 [m
     // then[m
[36m@@ -74,7 +78,6 @@[m [mpublic class ZeebeIncidentImportIT extends AbstractCCSMIT {[m
           .isEqualTo(String.valueOf(deployedInstance.getVersion()));[m
         assertThat(savedInstance.getDataSource().getName()).isEqualTo(getConfiguredZeebeName());[m
         assertThat(savedInstance.getState()).isEqualTo(ProcessInstanceConstants.ACTIVE_STATE);[m
[31m-        assertThat(savedInstance.getTenantId()).isNull();[m
         assertThat(savedInstance.getBusinessKey()).isNull();[m
         assertThat(savedInstance.getFlowNodeInstances()).isNotEmpty();[m
         assertThat(savedInstance.getVariables()).isEmpty();[m
[36m@@ -97,7 +100,7 @@[m [mpublic class ZeebeIncidentImportIT extends AbstractCCSMIT {[m
     zeebeExtension.throwErrorIncident(SERVICE_TASK);[m
 [m
     // when[m
[31m-    waitUntilMinimumIncidentEventsExportedCount(1);[m
[32m+[m[32m    waitUntilIncidentRecordWithProcessIdExported("someProcess");[m
     importAllZeebeEntitiesFromScratch();[m
 [m
     // then[m
[36m@@ -117,7 +120,7 @@[m [mpublic class ZeebeIncidentImportIT extends AbstractCCSMIT {[m
       deployAndStartInstanceForProcess(createIncidentProcess("someProcess"));[m
 [m
     // when[m
[31m-    waitUntilMinimumIncidentEventsExportedCount(1);[m
[32m+[m[32m    waitUntilIncidentRecordWithProcessIdExported("someProcess");[m
     importAllZeebeEntitiesFromScratch();[m
 [m
     // then[m
[36m@@ -136,9 +139,9 @@[m [mpublic class ZeebeIncidentImportIT extends AbstractCCSMIT {[m
     final ProcessInstanceEvent deployedInstance =[m
       deployAndStartInstanceForProcess(createSimpleServiceTaskProcess("someProcess"));[m
     zeebeExtension.throwErrorIncident(SERVICE_TASK);[m
[31m-    waitUntilMinimumIncidentEventsExportedCount(1);[m
[32m+[m[32m    waitUntilIncidentRecordWithProcessIdExported("someProcess");[m
     resolveIncident();[m
[31m-    waitUntilMinimumIncidentEventsExportedCount(2);[m
[32m+[m[32m    waitUntilIncidentRecordsWithProcessIdExported(2, "someProcess");[m
 [m
     // when[m
     importAllZeebeEntitiesFromScratch();[m
[36m@@ -158,7 +161,7 @@[m [mpublic class ZeebeIncidentImportIT extends AbstractCCSMIT {[m
     final ProcessInstanceEvent deployedInstance =[m
       deployAndStartInstanceForProcess(createSimpleServiceTaskProcess("someProcess"));[m
     zeebeExtension.throwErrorIncident(SERVICE_TASK);[m
[31m-    waitUntilMinimumIncidentEventsExportedCount(1);[m
[32m+[m[32m    waitUntilIncidentRecordWithProcessIdExported("someProcess");[m
 [m
     // when[m
     importAllZeebeEntitiesFromScratch();[m
[36m@@ -173,7 +176,7 @@[m [mpublic class ZeebeIncidentImportIT extends AbstractCCSMIT {[m
 [m
     // when[m
     resolveIncident();[m
[31m-    waitUntilMinimumIncidentEventsExportedCount(2);[m
[32m+[m[32m    waitUntilIncidentRecordsWithProcessIdExported(2, "someProcess");[m
     importAllZeebeEntitiesFromLastIndex();[m
 [m
     // then[m
[36m@@ -185,11 +188,38 @@[m [mpublic class ZeebeIncidentImportIT extends AbstractCCSMIT {[m
         ));[m
   }[m
 [m
[31m-  private void waitUntilMinimumIncidentEventsExportedCount(final int minExportedEventCount) {[m
[31m-    waitUntilMinimumDataExportedCount([m
[31m-      minExportedEventCount,[m
[32m+[m[32m  // Test backwards compatibility for default tenantID applied when importing records pre multi tenancy introduction[m
[32m+[m[32m  @DisabledIf("isZeebeVersionWithMultiTenancy")[m
[32m+[m[32m  @Test[m
[32m+[m[32m  public void importZeebeProcess_defaultTenantIdForRecordsWithoutTenantId() {[m
[32m+[m[32m    // given a process deployed before zeebe implemented multi tenancy[m
[32m+[m[32m    deployAndStartInstanceForProcess(createSimpleServiceTaskProcess("someProcess"));[m
[32m+[m[32m    zeebeExtension.failTask(SERVICE_TASK);[m
[32m+[m[32m    waitUntilIncidentRecordWithProcessIdExported("someProcess");[m
[32m+[m
[32m+[m[32m    // when[m
[32m+[m[32m    importAllZeebeEntitiesFromScratch();[m
[32m+[m
[32m+[m[32m    // then[m
[32m+[m[32m    assertThat(elasticSearchIntegrationTestExtension.getAllProcessInstances())[m
[32m+[m[32m      .flatExtracting(ProcessInstanceDto::getIncidents)[m
[32m+[m[32m      .extracting(IncidentDto::getTenantId)[m
[32m+[m[32m      .singleElement()[m
[32m+[m[32m      .isEqualTo(ZEEBE_DEFAULT_TENANT_ID);[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  private void waitUntilIncidentRecordWithProcessIdExported(final String processId) {[m
[32m+[m[32m    waitUntilIncidentRecordsWithProcessIdExported(1, processId);[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  private void waitUntilIncidentRecordsWithProcessIdExported(final long minRecordCount, final String processId) {[m
[32m+[m[32m    waitUntilRecordMatchingQueryExported([m
[32m+[m[32m      minRecordCount,[m
       ElasticsearchConstants.ZEEBE_INCIDENT_INDEX_NAME,[m
[31m-      getQueryForIncidentEvents()[m
[32m+[m[32m      boolQuery().must(termQuery([m
[32m+[m[32m        ZeebeIncidentRecordDto.Fields.value + "." + ZeebeIncidentDataDto.Fields.bpmnProcessId,[m
[32m+[m[32m        processId[m
[32m+[m[32m      ))[m
     );[m
   }[m
 [m
[36m@@ -218,7 +248,7 @@[m [mpublic class ZeebeIncidentImportIT extends AbstractCCSMIT {[m
     incident.setId(String.valueOf(createdRecord.getKey()));[m
     incident.setDefinitionKey(deployedInstance.getBpmnProcessId());[m
     incident.setDefinitionVersion(String.valueOf(deployedInstance.getVersion()));[m
[31m-    incident.setTenantId(null);[m
[32m+[m[32m    incident.setTenantId(ZEEBE_DEFAULT_TENANT_ID);[m
     incident.setProcessInstanceId(null);[m
     incident.setActivityId(String.valueOf(getFlowNodeIdFromProcessInstanceForActivity([m
       processInstanceDto,[m
[1mdiff --git a/backend/src/it/java/org/camunda/optimize/service/importing/ZeebeProcessInstanceImportIT.java b/backend/src/it/java/org/camunda/optimize/service/importing/ZeebeProcessInstanceImportIT.java[m
[1mindex 045091dda0..bcba24ced3 100644[m
[1m--- a/backend/src/it/java/org/camunda/optimize/service/importing/ZeebeProcessInstanceImportIT.java[m
[1m+++ b/backend/src/it/java/org/camunda/optimize/service/importing/ZeebeProcessInstanceImportIT.java[m
[36m@@ -39,6 +39,7 @@[m [mimport java.util.function.Supplier;[m
 import java.util.stream.Collectors;[m
 [m
 import static org.assertj.core.api.Assertions.assertThat;[m
[32m+[m[32mimport static org.camunda.optimize.service.util.importing.ZeebeConstants.ZEEBE_DEFAULT_TENANT_ID;[m
 import static org.camunda.optimize.util.ZeebeBpmnModels.END_EVENT;[m
 import static org.camunda.optimize.util.ZeebeBpmnModels.END_EVENT_2;[m
 import static org.camunda.optimize.util.ZeebeBpmnModels.SEND_TASK;[m
[36m@@ -83,7 +84,7 @@[m [mpublic class ZeebeProcessInstanceImportIT extends AbstractCCSMIT {[m
         assertThat(savedInstance.getProcessDefinitionVersion()).isEqualTo(String.valueOf(deployedInstance.getVersion()));[m
         assertThat(savedInstance.getDataSource().getName()).isEqualTo(getConfiguredZeebeName());[m
         assertThat(savedInstance.getState()).isEqualTo(ProcessInstanceConstants.COMPLETED_STATE);[m
[31m-        assertThat(savedInstance.getTenantId()).isNull();[m
[32m+[m[32m        assertThat(savedInstance.getTenantId()).isEqualTo(ZEEBE_DEFAULT_TENANT_ID);[m
         assertThat(savedInstance.getBusinessKey()).isNull();[m
         assertThat(savedInstance.getIncidents()).isEmpty();[m
         assertThat(savedInstance.getVariables()).isEmpty();[m
[36m@@ -176,7 +177,7 @@[m [mpublic class ZeebeProcessInstanceImportIT extends AbstractCCSMIT {[m
         assertThat(savedInstance.getProcessDefinitionVersion()).isEqualTo(String.valueOf(deployedInstance.getVersion()));[m
         assertThat(savedInstance.getDataSource().getName()).isEqualTo(getConfiguredZeebeName());[m
         assertThat(savedInstance.getState()).isEqualTo(ProcessInstanceConstants.ACTIVE_STATE);[m
[31m-        assertThat(savedInstance.getTenantId()).isNull();[m
[32m+[m[32m        assertThat(savedInstance.getTenantId()).isEqualTo(ZEEBE_DEFAULT_TENANT_ID);[m
         assertThat(savedInstance.getBusinessKey()).isNull();[m
         assertThat(savedInstance.getIncidents()).isEmpty();[m
         assertThat(savedInstance.getVariables()).isEmpty();[m
[36m@@ -191,7 +192,7 @@[m [mpublic class ZeebeProcessInstanceImportIT extends AbstractCCSMIT {[m
             new FlowNodeInstanceDto([m
               String.valueOf(deployedInstance.getBpmnProcessId()),[m
               String.valueOf(deployedInstance.getVersion()),[m
[31m-              null,[m
[32m+[m[32m              ZEEBE_DEFAULT_TENANT_ID ,[m
               String.valueOf(deployedInstance.getProcessInstanceKey()),[m
               USER_TASK,[m
               getBpmnElementTypeNameForType(BpmnElementType.USER_TASK),[m
[36m@@ -231,7 +232,7 @@[m [mpublic class ZeebeProcessInstanceImportIT extends AbstractCCSMIT {[m
         assertThat(savedInstance.getProcessDefinitionVersion()).isEqualTo(String.valueOf(deployedInstance.getVersion()));[m
         assertThat(savedInstance.getDataSource().getName()).isEqualTo(getConfiguredZeebeName());[m
         assertThat(savedInstance.getState()).isEqualTo(ProcessInstanceConstants.EXTERNALLY_TERMINATED_STATE);[m
[31m-        assertThat(savedInstance.getTenantId()).isNull();[m
[32m+[m[32m        assertThat(savedInstance.getTenantId()).isEqualTo(ZEEBE_DEFAULT_TENANT_ID);[m
         assertThat(savedInstance.getBusinessKey()).isNull();[m
         assertThat(savedInstance.getIncidents()).isEmpty();[m
         assertThat(savedInstance.getVariables()).isEmpty();[m
[36m@@ -278,7 +279,7 @@[m [mpublic class ZeebeProcessInstanceImportIT extends AbstractCCSMIT {[m
         assertThat(savedInstance.getProcessDefinitionVersion()).isEqualTo(String.valueOf(deployedInstance.getVersion()));[m
         assertThat(savedInstance.getDataSource().getName()).isEqualTo(getConfiguredZeebeName());[m
         assertThat(savedInstance.getState()).isEqualTo(ProcessInstanceConstants.COMPLETED_STATE);[m
[31m-        assertThat(savedInstance.getTenantId()).isNull();[m
[32m+[m[32m        assertThat(savedInstance.getTenantId()).isEqualTo(ZEEBE_DEFAULT_TENANT_ID);[m
         assertThat(savedInstance.getBusinessKey()).isNull();[m
         assertThat(savedInstance.getIncidents()).isEmpty();[m
         assertThat(savedInstance.getVariables()).isEmpty();[m
[36m@@ -492,7 +493,7 @@[m [mpublic class ZeebeProcessInstanceImportIT extends AbstractCCSMIT {[m
                 FlowNodeInstanceDto.Fields.definitionVersion,[m
                 String.valueOf(processInstance.getVersion())[m
               )[m
[31m-              .hasFieldOrPropertyWithValue(FlowNodeInstanceDto.Fields.tenantId, null);[m
[32m+[m[32m              .hasFieldOrPropertyWithValue(FlowNodeInstanceDto.Fields.tenantId, ZEEBE_DEFAULT_TENANT_ID);[m
           })[m
           .extracting(FlowNodeInstanceDto::getFlowNodeId, FlowNodeInstanceDto::getFlowNodeType)[m
           .containsExactlyInAnyOrder([m
[36m@@ -538,6 +539,30 @@[m [mpublic class ZeebeProcessInstanceImportIT extends AbstractCCSMIT {[m
         ));[m
   }[m
 [m
[32m+[m[32m  // Test backwards compatibility for default tenantID applied when importing records pre multi tenancy introduction[m
[32m+[m[32m  @DisabledIf("isZeebeVersionWithMultiTenancy")[m
[32m+[m[32m  @Test[m
[32m+[m[32m  public void importZeebeProcess_defaultTenantIdForRecordsWithoutTenantId() {[m
[32m+[m[32m    // given a process deployed before zeebe implemented multi tenancy (pre 8.3.0 this test is disabled)[m
[32m+[m[32m    deployAndStartInstanceForProcess(createStartEndProcess("someProcess"));[m
[32m+[m[32m    waitUntilInstanceRecordWithElementIdExported(START_EVENT);[m
[32m+[m
[32m+[m[32m    // when[m
[32m+[m[32m    importAllZeebeEntitiesFromScratch();[m
[32m+[m
[32m+[m[32m    // then[m
[32m+[m[32m    final List<ProcessInstanceDto> instances = elasticSearchIntegrationTestExtension.getAllProcessInstances();[m
[32m+[m[32m    assertThat(instances)[m
[32m+[m[32m      .extracting(ProcessInstanceDto::getTenantId)[m
[32m+[m[32m      .singleElement()[m
[32m+[m[32m      .isEqualTo(ZEEBE_DEFAULT_TENANT_ID);[m
[32m+[m[32m    assertThat(instances)[m
[32m+[m[32m      .flatExtracting(ProcessInstanceDto::getFlowNodeInstances)[m
[32m+[m[32m      .extracting(FlowNodeInstanceDto::getTenantId)[m
[32m+[m[32m      .hasSize(2)[m
[32m+[m[32m      .containsOnly(ZEEBE_DEFAULT_TENANT_ID);[m
[32m+[m[32m  }[m
[32m+[m
   private FlowNodeInstanceDto createFlowNodeInstance(final ProcessInstanceEvent deployedInstance,[m
                                                      final Map<String, List<ZeebeProcessInstanceRecordDto>> events,[m
                                                      final String eventId,[m
[36m@@ -545,7 +570,7 @@[m [mpublic class ZeebeProcessInstanceImportIT extends AbstractCCSMIT {[m
     return new FlowNodeInstanceDto([m
       String.valueOf(deployedInstance.getBpmnProcessId()),[m
       String.valueOf(deployedInstance.getVersion()),[m
[31m-      null,[m
[32m+[m[32m      ZEEBE_DEFAULT_TENANT_ID,[m
       String.valueOf(deployedInstance.getProcessInstanceKey()),[m
       eventId,[m
       getBpmnElementTypeNameForType(eventType),[m
[36m@@ -612,14 +637,12 @@[m [mpublic class ZeebeProcessInstanceImportIT extends AbstractCCSMIT {[m
   }[m
 [m
   private void waitUntilInstanceRecordWithElementIdExported(final String instanceElementId) {[m
[31m-    waitUntilMinimumDataExportedCount([m
[31m-      1,[m
[32m+[m[32m    waitUntilRecordMatchingQueryExported([m
       ElasticsearchConstants.ZEEBE_PROCESS_INSTANCE_INDEX_NAME,[m
       boolQuery().must(termQuery([m
         ZeebeProcessInstanceRecordDto.Fields.value + "." + ZeebeProcessInstanceDataDto.Fields.elementId,[m
         instanceElementId[m
[31m-      )),[m
[31m-      10[m
[32m+[m[32m      ))[m
     );[m
   }[m
 [m
[1mdiff --git a/backend/src/it/java/org/camunda/optimize/service/importing/processdefinition/ZeebeProcessDefinitionImportIT.java b/backend/src/it/java/org/camunda/optimize/service/importing/processdefinition/ZeebeProcessDefinitionImportIT.java[m
[1mindex fc78385be0..6334cd1380 100644[m
[1m--- a/backend/src/it/java/org/camunda/optimize/service/importing/processdefinition/ZeebeProcessDefinitionImportIT.java[m
[1m+++ b/backend/src/it/java/org/camunda/optimize/service/importing/processdefinition/ZeebeProcessDefinitionImportIT.java[m
[36m@@ -28,6 +28,7 @@[m [mimport java.time.temporal.ChronoUnit;[m
 import java.util.Map;[m
 [m
 import static org.assertj.core.api.Assertions.assertThat;[m
[32m+[m[32mimport static org.camunda.optimize.service.util.importing.ZeebeConstants.ZEEBE_DEFAULT_TENANT_ID;[m
 import static org.camunda.optimize.util.ZeebeBpmnModels.END_EVENT;[m
 import static org.camunda.optimize.util.ZeebeBpmnModels.START_EVENT;[m
 import static org.camunda.optimize.util.ZeebeBpmnModels.USER_TASK;[m
[36m@@ -64,7 +65,7 @@[m [mpublic class ZeebeProcessDefinitionImportIT extends AbstractCCSMIT {[m
         assertThat(importedDef.getName()).isEqualTo(processName);[m
         assertThat(importedDef.getDataSource().getType()).isEqualTo(DataImportSourceType.ZEEBE);[m
         assertThat(importedDef.getDataSource().getName()).isEqualTo(getConfiguredZeebeName());[m
[31m-        assertThat(importedDef.getTenantId()).isNull();[m
[32m+[m[32m        assertThat(importedDef.getTenantId()).isEqualTo(ZEEBE_DEFAULT_TENANT_ID);[m
         assertThat(importedDef.isDeleted()).isFalse();[m
         assertThat(importedDef.getUserTaskNames()).containsEntry(USER_TASK, USER_TASK);[m
         assertThat(importedDef.getFlowNodeData()).containsExactlyInAnyOrder([m
[36m@@ -100,7 +101,7 @@[m [mpublic class ZeebeProcessDefinitionImportIT extends AbstractCCSMIT {[m
         assertThat(importedDef.getName()).isEqualTo(deployedProcess.getBpmnProcessId());[m
         assertThat(importedDef.getDataSource().getType()).isEqualTo(DataImportSourceType.ZEEBE);[m
         assertThat(importedDef.getDataSource().getName()).isEqualTo(getConfiguredZeebeName());[m
[31m-        assertThat(importedDef.getTenantId()).isNull();[m
[32m+[m[32m        assertThat(importedDef.getTenantId()).isEqualTo(ZEEBE_DEFAULT_TENANT_ID);[m
         assertThat(importedDef.isDeleted()).isFalse();[m
         assertThat(importedDef.getUserTaskNames()).isEmpty();[m
         assertThat(importedDef.getFlowNodeData()).containsExactlyInAnyOrder([m
[36m@@ -233,6 +234,24 @@[m [mpublic class ZeebeProcessDefinitionImportIT extends AbstractCCSMIT {[m
         ));[m
   }[m
 [m
[32m+[m[32m  // Test backwards compatibility for default tenantID applied when importing records pre multi tenancy introduction[m
[32m+[m[32m  @DisabledIf("isZeebeVersionWithMultiTenancy")[m
[32m+[m[32m  @Test[m
[32m+[m[32m  public void importZeebeProcess_defaultTenantIdForRecordsWithoutTenantId() {[m
[32m+[m[32m    // given a process deployed before zeebe implemented multi tenancy[m
[32m+[m[32m    deployProcessAndStartInstance(createSimpleServiceTaskProcess("someProcess"));[m
[32m+[m[32m    waitUntilDefinitionWithIdExported("someProcess");[m
[32m+[m
[32m+[m[32m    // when[m
[32m+[m[32m    importAllZeebeEntitiesFromScratch();[m
[32m+[m
[32m+[m[32m    // then[m
[32m+[m[32m    assertThat(elasticSearchIntegrationTestExtension.getAllProcessDefinitions())[m
[32m+[m[32m      .extracting(ProcessDefinitionOptimizeDto::getTenantId)[m
[32m+[m[32m      .singleElement()[m
[32m+[m[32m      .isEqualTo(ZEEBE_DEFAULT_TENANT_ID);[m
[32m+[m[32m  }[m
[32m+[m
   private Process deployProcessAndStartInstance(final BpmnModelInstance simpleProcess) {[m
     final Process deployedProcess = zeebeExtension.deployProcess(simpleProcess);[m
     zeebeExtension.startProcessInstanceForProcess(deployedProcess.getBpmnProcessId());[m
[36m@@ -240,14 +259,12 @@[m [mpublic class ZeebeProcessDefinitionImportIT extends AbstractCCSMIT {[m
   }[m
 [m
   private void waitUntilDefinitionWithIdExported(final String processDefinitionId) {[m
[31m-    waitUntilMinimumDataExportedCount([m
[31m-      1,[m
[32m+[m[32m    waitUntilRecordMatchingQueryExported([m
       ElasticsearchConstants.ZEEBE_PROCESS_DEFINITION_INDEX_NAME,[m
       boolQuery()[m
         .must(termQuery(ZeebeProcessDefinitionRecordDto.Fields.intent, ProcessIntent.CREATED.name()))[m
         .must(termQuery([m
[31m-          ZeebeProcessDefinitionRecordDto.Fields.value + "." +[m
[31m-            ZeebeProcessInstanceDataDto.Fields.bpmnProcessId,[m
[32m+[m[32m          ZeebeProcessDefinitionRecordDto.Fields.value + "." + ZeebeProcessInstanceDataDto.Fields.bpmnProcessId,[m
           processDefinitionId[m
         ))[m
     );[m
[1mdiff --git a/backend/src/it/java/org/camunda/optimize/service/metadata/ElasticMetadataVersionIT.java b/backend/src/it/java/org/camunda/optimize/service/metadata/ElasticMetadataVersionIT.java[m
[1mindex fefca4ccef..03b36f7920 100644[m
[1m--- a/backend/src/it/java/org/camunda/optimize/service/metadata/ElasticMetadataVersionIT.java[m
[1m+++ b/backend/src/it/java/org/camunda/optimize/service/metadata/ElasticMetadataVersionIT.java[m
[36m@@ -36,7 +36,7 @@[m [mpublic class ElasticMetadataVersionIT extends AbstractPlatformIT {[m
 [m
     // then schemaversion matches expected version and installationID is present[m
     final Optional<MetadataDto> metadataDto = getMetadataDto();[m
[31m-    final String expectedVersion = embeddedOptimizeExtension.getBean(OptimizeVersionService.class).getVersion();[m
[32m+[m[32m    final String expectedVersion = embeddedOptimizeExtension.getBean(PlatformOptimizeVersionService.class).getVersion();[m
 [m
     assertThat(metadataDto)[m
       .isPresent().get()[m
[1mdiff --git a/backend/src/it/java/org/camunda/optimize/service/security/authorization/MultiEngineTenantAuthorizationIT.java b/backend/src/it/java/org/camunda/optimize/service/security/authorization/MultiEngineTenantAuthorizationIT.java[m
[1mindex 3571c711c1..4dcc13c148 100644[m
[1m--- a/backend/src/it/java/org/camunda/optimize/service/security/authorization/MultiEngineTenantAuthorizationIT.java[m
[1m+++ b/backend/src/it/java/org/camunda/optimize/service/security/authorization/MultiEngineTenantAuthorizationIT.java[m
[36m@@ -7,7 +7,6 @@[m [mpackage org.camunda.optimize.service.security.authorization;[m
 [m
 import org.camunda.optimize.dto.optimize.TenantDto;[m
 import org.camunda.optimize.service.AbstractMultiEngineIT;[m
[31m-import org.camunda.optimize.service.TenantService;[m
 import org.camunda.optimize.service.util.configuration.engine.DefaultTenant;[m
 import org.camunda.optimize.test.engine.AuthorizationClient;[m
 import org.junit.jupiter.api.Test;[m
[36m@@ -15,6 +14,7 @@[m [mimport org.junit.jupiter.api.Test;[m
 import java.util.List;[m
 [m
 import static org.assertj.core.api.Assertions.assertThat;[m
[32m+[m[32mimport static org.camunda.optimize.service.tenant.CamundaPlatformTenantService.TENANT_NOT_DEFINED;[m
 import static org.camunda.optimize.service.util.importing.EngineConstants.RESOURCE_TYPE_TENANT;[m
 import static org.camunda.optimize.test.engine.AuthorizationClient.KERMIT_USER;[m
 [m
[36m@@ -42,13 +42,13 @@[m [mpublic class MultiEngineTenantAuthorizationIT extends AbstractMultiEngineIT {[m
     importAllEngineEntitiesFromScratch();[m
 [m
     // when[m
[31m-    final List<TenantDto> tenants = embeddedOptimizeExtension.getTenantService().getTenantsForUser(KERMIT_USER);[m
[32m+[m[32m    final List<TenantDto> tenants = embeddedOptimizeExtension.getPlatformTenantService().getTenantsForUser(KERMIT_USER);[m
 [m
     // then[m
     assertThat(tenants).hasSize(3);[m
     assertThat(tenants)[m
       .extracting(TenantDto::getId)[m
[31m-      .containsExactlyInAnyOrder(TenantService.TENANT_NOT_DEFINED.getId(), tenantId1, tenantId2);[m
[32m+[m[32m      .containsExactlyInAnyOrder(TENANT_NOT_DEFINED.getId(), tenantId1, tenantId2);[m
   }[m
 [m
   @Test[m
[36m@@ -68,12 +68,12 @@[m [mpublic class MultiEngineTenantAuthorizationIT extends AbstractMultiEngineIT {[m
     importAllEngineEntitiesFromScratch();[m
 [m
     // when[m
[31m-    final List<TenantDto> tenants = embeddedOptimizeExtension.getTenantService().getTenantsForUser(KERMIT_USER);[m
[32m+[m[32m    final List<TenantDto> tenants = embeddedOptimizeExtension.getPlatformTenantService().getTenantsForUser(KERMIT_USER);[m
 [m
     // then[m
     assertThat(tenants).hasSize(2)[m
       .extracting(TenantDto::getId)[m
[31m-      .containsExactlyInAnyOrder(TenantService.TENANT_NOT_DEFINED.getId(), tenantId2);[m
[32m+[m[32m      .containsExactlyInAnyOrder(TENANT_NOT_DEFINED.getId(), tenantId2);[m
   }[m
 [m
   @Test[m
[36m@@ -93,12 +93,12 @@[m [mpublic class MultiEngineTenantAuthorizationIT extends AbstractMultiEngineIT {[m
     importAllEngineEntitiesFromScratch();[m
 [m
     // when[m
[31m-    final List<TenantDto> tenants = embeddedOptimizeExtension.getTenantService().getTenantsForUser(KERMIT_USER);[m
[32m+[m[32m    final List<TenantDto> tenants = embeddedOptimizeExtension.getPlatformTenantService().getTenantsForUser(KERMIT_USER);[m
 [m
     // then[m
     assertThat(tenants).hasSize(3)[m
       .extracting(TenantDto::getId)[m
[31m-      .containsExactlyInAnyOrder(TenantService.TENANT_NOT_DEFINED.getId(), tenantId1, tenantId2);[m
[32m+[m[32m      .containsExactlyInAnyOrder(TENANT_NOT_DEFINED.getId(), tenantId1, tenantId2);[m
   }[m
 [m
   @Test[m
[36m@@ -118,12 +118,12 @@[m [mpublic class MultiEngineTenantAuthorizationIT extends AbstractMultiEngineIT {[m
     importAllEngineEntitiesFromScratch();[m
 [m
     // when[m
[31m-    final List<TenantDto> tenants = embeddedOptimizeExtension.getTenantService().getTenantsForUser(KERMIT_USER);[m
[32m+[m[32m    final List<TenantDto> tenants = embeddedOptimizeExtension.getPlatformTenantService().getTenantsForUser(KERMIT_USER);[m
 [m
     // then[m
     assertThat(tenants).hasSize(2)[m
       .extracting(TenantDto::getId)[m
[31m-      .containsExactlyInAnyOrder(TenantService.TENANT_NOT_DEFINED.getId(), tenantId1);[m
[32m+[m[32m      .containsExactlyInAnyOrder(TENANT_NOT_DEFINED.getId(), tenantId1);[m
   }[m
 [m
 }[m
[1mdiff --git a/backend/src/it/java/org/camunda/optimize/service/security/collection/CollectionScopeAuthorizationIT.java b/backend/src/it/java/org/camunda/optimize/service/security/collection/CollectionScopeAuthorizationIT.java[m
[1mindex 0a06c07647..76fdf79b16 100644[m
[1m--- a/backend/src/it/java/org/camunda/optimize/service/security/collection/CollectionScopeAuthorizationIT.java[m
[1m+++ b/backend/src/it/java/org/camunda/optimize/service/security/collection/CollectionScopeAuthorizationIT.java[m
[36m@@ -9,6 +9,7 @@[m [mimport com.fasterxml.jackson.core.type.TypeReference;[m
 import com.google.common.collect.ImmutableList;[m
 import com.google.common.collect.ImmutableMap;[m
 import com.google.common.collect.Lists;[m
[32m+[m[32mimport jakarta.ws.rs.core.Response;[m
 import lombok.AllArgsConstructor;[m
 import lombok.Data;[m
 import lombok.NoArgsConstructor;[m
[36m@@ -33,7 +34,6 @@[m [mimport org.junit.jupiter.api.Test;[m
 import org.junit.jupiter.params.ParameterizedTest;[m
 import org.junit.jupiter.params.provider.MethodSource;[m
 [m
[31m-import jakarta.ws.rs.core.Response;[m
 import java.util.ArrayList;[m
 import java.util.List;[m
 import java.util.stream.Stream;[m
[36m@@ -46,9 +46,9 @@[m [mimport static org.assertj.core.api.Assertions.assertThat;[m
 import static org.camunda.optimize.dto.optimize.DefinitionType.DECISION;[m
 import static org.camunda.optimize.dto.optimize.DefinitionType.PROCESS;[m
 import static org.camunda.optimize.rest.RestTestConstants.DEFAULT_USERNAME;[m
[31m-import static org.camunda.optimize.service.TenantService.TENANT_NOT_DEFINED;[m
 import static org.camunda.optimize.service.collection.CollectionScopeService.SCOPE_NOT_AUTHORIZED_MESSAGE;[m
 import static org.camunda.optimize.service.collection.CollectionScopeService.UNAUTHORIZED_TENANT_MASK;[m
[32m+[m[32mimport static org.camunda.optimize.service.tenant.CamundaPlatformTenantService.TENANT_NOT_DEFINED;[m
 import static org.camunda.optimize.service.util.importing.EngineConstants.RESOURCE_TYPE_DECISION_DEFINITION;[m
 import static org.camunda.optimize.service.util.importing.EngineConstants.RESOURCE_TYPE_PROCESS_DEFINITION;[m
 import static org.camunda.optimize.service.util.importing.EngineConstants.RESOURCE_TYPE_TENANT;[m
[1mdiff --git a/backend/src/it/java/org/camunda/optimize/test/it/extension/ElasticSearchIntegrationTestExtension.java b/backend/src/it/java/org/camunda/optimize/test/it/extension/ElasticSearchIntegrationTestExtension.java[m
[1mindex e30940d6fa..40ce65f3ea 100644[m
[1m--- a/backend/src/it/java/org/camunda/optimize/test/it/extension/ElasticSearchIntegrationTestExtension.java[m
[1m+++ b/backend/src/it/java/org/camunda/optimize/test/it/extension/ElasticSearchIntegrationTestExtension.java[m
[36m@@ -43,7 +43,7 @@[m [mimport org.camunda.optimize.service.es.schema.index.events.EventIndex;[m
 import org.camunda.optimize.service.exceptions.OptimizeRuntimeException;[m
 import org.camunda.optimize.service.util.EsHelper;[m
 import org.camunda.optimize.service.util.configuration.ConfigurationService;[m
[31m-import org.camunda.optimize.service.util.configuration.elasticsearch.ElasticsearchConnectionNodeConfiguration;[m
[32m+[m[32mimport org.camunda.optimize.service.util.configuration.elasticsearch.DatabaseConnectionNodeConfiguration;[m
 import org.camunda.optimize.service.util.mapper.CustomOffsetDateTimeDeserializer;[m
 import org.camunda.optimize.service.util.mapper.CustomOffsetDateTimeSerializer;[m
 import org.camunda.optimize.upgrade.es.ElasticsearchHighLevelRestClientBuilder;[m
[36m@@ -209,7 +209,7 @@[m [mpublic class ElasticSearchIntegrationTestExtension implements BeforeEachCallback[m
       prefixAwareRestHighLevelClient = CLIENT_CACHE.get(MOCKSERVER_CLIENT_KEY);[m
     } else {[m
       final ConfigurationService configurationService = createConfigurationService();[m
[31m-      final ElasticsearchConnectionNodeConfiguration esConfig =[m
[32m+[m[32m      final DatabaseConnectionNodeConfiguration esConfig =[m
         configurationService.getFirstElasticsearchConnectionNode();[m
       esConfig.setHost(MockServerUtil.MOCKSERVER_HOST);[m
       esConfig.setHttpPort(mockServerClient.getLocalPort());[m
[36m@@ -755,7 +755,7 @@[m [mpublic class ElasticSearchIntegrationTestExtension implements BeforeEachCallback[m
 [m
   private static ClientAndServer initMockServer() {[m
     log.debug("Setting up ES MockServer on port {}", IntegrationTestConfigurationUtil.getElasticsearchMockServerPort());[m
[31m-    final ElasticsearchConnectionNodeConfiguration esConfig =[m
[32m+[m[32m    final DatabaseConnectionNodeConfiguration esConfig =[m
       IntegrationTestConfigurationUtil.createItConfigurationService().getFirstElasticsearchConnectionNode();[m
     return MockServerUtil.createProxyMockServer([m
       esConfig.getHost(),[m
[36m@@ -765,7 +765,7 @@[m [mpublic class ElasticSearchIntegrationTestExtension implements BeforeEachCallback[m
   }[m
 [m
   private void createClientAndAddToCache(String clientKey, ConfigurationService configurationService) {[m
[31m-    final ElasticsearchConnectionNodeConfiguration esConfig =[m
[32m+[m[32m    final DatabaseConnectionNodeConfiguration esConfig =[m
       configurationService.getFirstElasticsearchConnectionNode();[m
     log.info("Creating ES Client with host {} and port {}", esConfig.getHost(), esConfig.getHttpPort());[m
     prefixAwareRestHighLevelClient = new OptimizeElasticsearchClient([m
[1mdiff --git a/backend/src/it/java/org/camunda/optimize/test/it/extension/EmbeddedOptimizeExtension.java b/backend/src/it/java/org/camunda/optimize/test/it/extension/EmbeddedOptimizeExtension.java[m
[1mindex 7a963d0a59..97f1c1c82d 100644[m
[1m--- a/backend/src/it/java/org/camunda/optimize/test/it/extension/EmbeddedOptimizeExtension.java[m
[1m+++ b/backend/src/it/java/org/camunda/optimize/test/it/extension/EmbeddedOptimizeExtension.java[m
[36m@@ -29,7 +29,6 @@[m [mimport org.camunda.optimize.service.KpiEvaluationSchedulerService;[m
 import org.camunda.optimize.service.KpiService;[m
 import org.camunda.optimize.service.LocalizationService;[m
 import org.camunda.optimize.service.SettingsService;[m
[31m-import org.camunda.optimize.service.TenantService;[m
 import org.camunda.optimize.service.alert.AlertService;[m
 import org.camunda.optimize.service.archive.ProcessInstanceArchivingService;[m
 import org.camunda.optimize.service.cleanup.CleanupScheduler;[m
[36m@@ -72,6 +71,7 @@[m [mimport org.camunda.optimize.service.importing.page.TimestampBasedImportPage;[m
 import org.camunda.optimize.service.importing.zeebe.mediator.StorePositionBasedImportProgressMediator;[m
 import org.camunda.optimize.service.security.util.LocalDateUtil;[m
 import org.camunda.optimize.service.telemetry.TelemetryScheduler;[m
[32m+[m[32mimport org.camunda.optimize.service.tenant.CamundaPlatformTenantService;[m
 import org.camunda.optimize.service.util.configuration.ConfigurationReloadable;[m
 import org.camunda.optimize.service.util.configuration.ConfigurationService;[m
 import org.camunda.optimize.service.util.configuration.engine.EngineConfiguration;[m
[36m@@ -511,8 +511,8 @@[m [mpublic class EmbeddedOptimizeExtension[m
     log.info("done resetting config");[m
   }[m
 [m
[31m-  public void reloadTenantCache() {[m
[31m-    getTenantService().reloadConfiguration(null);[m
[32m+[m[32m  public void reloadEngineTenantCache() {[m
[32m+[m[32m    getPlatformTenantService().reloadConfiguration(null);[m
   }[m
 [m
   public final WebTarget target(String path) {[m
[36m@@ -657,8 +657,8 @@[m [mpublic class EmbeddedOptimizeExtension[m
     return getBean(DigestService.class);[m
   }[m
 [m
[31m-  public TenantService getTenantService() {[m
[31m-    return getBean(TenantService.class);[m
[32m+[m[32m  public CamundaPlatformTenantService getPlatformTenantService() {[m
[32m+[m[32m    return getBean(CamundaPlatformTenantService.class);[m
   }[m
 [m
   public KpiService getKpiService() {[m
[1mdiff --git a/backend/src/it/java/org/camunda/optimize/util/ZeebeBpmnModels.java b/backend/src/it/java/org/camunda/optimize/util/ZeebeBpmnModels.java[m
[1mindex 7c4ba0ffcc..270661e27f 100644[m
[1m--- a/backend/src/it/java/org/camunda/optimize/util/ZeebeBpmnModels.java[m
[1m+++ b/backend/src/it/java/org/camunda/optimize/util/ZeebeBpmnModels.java[m
[36m@@ -71,7 +71,7 @@[m [mpublic class ZeebeBpmnModels {[m
   }[m
 [m
   public static BpmnModelInstance createIncidentProcess(final String processName) {[m
[31m-    return Bpmn.createExecutableProcess()[m
[32m+[m[32m    return Bpmn.createExecutableProcess(processName)[m
       .name(processName)[m
       .startEvent(START_EVENT).name(START_EVENT)[m
       .intermediateCatchEvent([m
[1mdiff --git a/backend/src/it/resources/it/it-config.yaml b/backend/src/it/resources/it/it-config.yaml[m
[1mindex 7049550439..5b27096592 100644[m
[1m--- a/backend/src/it/resources/it/it-config.yaml[m
[1m+++ b/backend/src/it/resources/it/it-config.yaml[m
[36m@@ -3,6 +3,7 @@[m [mcontainer:[m
   ports:[m
     http: ${optimizeHttpPort:8090}[m
     https: ${optimizeHttpsPort:8091}[m
[32m+[m[32m  enableSniCheck: false[m
 [m
 api:[m
   accessToken: secret[m
[1mdiff --git a/backend/src/main/java/org/camunda/optimize/JettyConfig.java b/backend/src/main/java/org/camunda/optimize/JettyConfig.java[m
[1mindex 0ecfdced0d..ca4ae480f4 100644[m
[1m--- a/backend/src/main/java/org/camunda/optimize/JettyConfig.java[m
[1m+++ b/backend/src/main/java/org/camunda/optimize/JettyConfig.java[m
[36m@@ -28,23 +28,25 @@[m [mimport org.eclipse.jetty.servlet.ServletHolder;[m
 import org.eclipse.jetty.util.ssl.SslContextFactory;[m
 import org.eclipse.jetty.websocket.server.JettyWebSocketServlet;[m
 import org.springframework.beans.factory.annotation.Autowired;[m
[31m-import org.springframework.boot.web.embedded.jetty.JettyServletWebServerFactory;[m
[32m+[m[32mimport org.springframework.boot.web.embedded.jetty.JettyServerCustomizer;[m
[32m+[m[32mimport org.springframework.boot.web.server.WebServerFactoryCustomizer;[m
 import org.springframework.boot.web.servlet.ServletContextInitializer;[m
 import org.springframework.boot.web.servlet.ServletRegistrationBean;[m
[31m-import org.springframework.boot.web.servlet.server.ServletWebServerFactory;[m
[32m+[m[32mimport org.springframework.boot.web.servlet.server.ConfigurableServletWebServerFactory;[m
 import org.springframework.context.annotation.Bean;[m
 import org.springframework.context.annotation.Configuration;[m
[32m+[m[32mimport org.springframework.core.annotation.Order;[m
 import org.springframework.core.env.Environment;[m
 [m
 import java.net.InetAddress;[m
 import java.net.URL;[m
 import java.net.UnknownHostException;[m
[32m+[m[32mimport java.util.Arrays;[m
 import java.util.EnumSet;[m
 import java.util.Optional;[m
 [m
 import static org.camunda.optimize.jetty.OptimizeResourceConstants.STATUS_WEBSOCKET_PATH;[m
 import static org.camunda.optimize.service.util.configuration.EnvironmentPropertiesConstants.CONTEXT_PATH;[m
[31m-import static org.camunda.optimize.service.util.configuration.EnvironmentPropertiesConstants.INTEGRATION_TESTS;[m
 import static org.eclipse.jetty.servlet.ServletContextHandler.getServletContextHandler;[m
 [m
 @Configuration[m
[36m@@ -61,19 +63,37 @@[m [mpublic class JettyConfig {[m
   private Environment environment;[m
 [m
   @Bean[m
[31m-  public ServletWebServerFactory servletContainer() {[m
[31m-    JettyServletWebServerFactory jetty = getContextPath()[m
[31m-      .map(contextPath -> new JettyServletWebServerFactory(contextPath, getPort(EnvironmentPropertiesConstants.HTTP_PORT_KEY)))[m
[31m-      .orElseGet(() -> new JettyServletWebServerFactory(getPort(EnvironmentPropertiesConstants.HTTP_PORT_KEY)));[m
[31m-    String host = configurationService.getContainerHost();[m
[31m-[m
[31m-    try {[m
[31m-      jetty.setAddress(InetAddress.getByName(host));[m
[31m-    } catch (UnknownHostException ex) {[m
[31m-      throw new OptimizeConfigurationException("Invalid container host specified");[m
[31m-    }[m
[31m-    jetty.addServerCustomizers(server -> server.addConnector(initHttpsConnector(configurationService, host, server)));[m
[31m-    return jetty;[m
[32m+[m[32m  public JettyServerCustomizer httpsJettyServerCustomizer() {[m
[32m+[m[32m    return server ->[m
[32m+[m[32m      server.addConnector(initHttpsConnector(configurationService, configurationService.getContainerHost(), server));[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  // We use the @Order annotation to make sure that this is modified after the http connector[m
[32m+[m[32m  @Bean[m
[32m+[m[32m  @Order[m
[32m+[m[32m  public JettyServerCustomizer httpConfigurationCustomizer() {[m
[32m+[m[32m    return server ->[m
[32m+[m[32m      Arrays.stream(server.getConnectors())[m
[32m+[m[32m        .flatMap(connector -> connector.getConnectionFactories().stream())[m
[32m+[m[32m        .filter([m
[32m+[m[32m          connectionFactory ->[m
[32m+[m[32m            HttpConnectionFactory.class.isAssignableFrom(connectionFactory.getClass()))[m
[32m+[m[32m        .map(HttpConnectionFactory.class::cast)[m
[32m+[m[32m        .forEach(httpConnectionFactory -> applyHeaderSizeConfiguration(httpConnectionFactory.getHttpConfiguration()));[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  @Bean[m
[32m+[m[32m  public WebServerFactoryCustomizer<ConfigurableServletWebServerFactory> optimizeWebServerFactoryCustomizer() {[m
[32m+[m[32m    return factory -> {[m
[32m+[m[32m      getContextPath().ifPresent(factory::setContextPath);[m
[32m+[m[32m      String host = configurationService.getContainerHost();[m
[32m+[m[32m      try {[m
[32m+[m[32m        factory.setAddress(InetAddress.getByName(host));[m
[32m+[m[32m      } catch (UnknownHostException ex) {[m
[32m+[m[32m        throw new OptimizeConfigurationException("Invalid container host specified");[m
[32m+[m[32m      }[m
[32m+[m[32m      factory.setPort(getPort(EnvironmentPropertiesConstants.HTTP_PORT_KEY));[m
[32m+[m[32m    };[m
   }[m
 [m
   @Bean[m
[36m@@ -98,26 +118,26 @@[m [mpublic class JettyConfig {[m
   private void setUpRequestLogging(Server server) {[m
     final LoggingConfigurationReader loggingConfigurationReader = new LoggingConfigurationReader();[m
     loggingConfigurationReader.defineLogbackLoggingConfiguration();[m
[31m-[m
[31m-    server.setRequestLog(new CustomRequestLog([m
[31m-      new Slf4jRequestLogWriter(), CustomRequestLog.EXTENDED_NCSA_FORMAT[m
[31m-    ));[m
[32m+[m[32m    server.setRequestLog(new CustomRequestLog(new Slf4jRequestLogWriter(), CustomRequestLog.EXTENDED_NCSA_FORMAT));[m
   }[m
 [m
[31m-  private ServerConnector initHttpsConnector(ConfigurationService configurationService, String host, Server server) {[m
[32m+[m[32m  private ServerConnector initHttpsConnector([m
[32m+[m[32m    ConfigurationService configurationService, String host, Server server) {[m
     HttpConfiguration https = new HttpConfiguration();[m
     https.setSendServerVersion(false);[m
[31m-    final SecureRequestCustomizer customizer = new SecureRequestCustomizer([m
[31m-      // We disable SNI checks for integration tests[m
[31m-      !Boolean.parseBoolean(environment.getProperty(INTEGRATION_TESTS)),[m
[31m-      configurationService.getSecurityConfiguration().getResponseHeaders().getHttpStrictTransportSecurityMaxAge(),[m
[31m-      getResponseHeadersConfiguration(configurationService).getHttpStrictTransportSecurityIncludeSubdomains()[m
[31m-    );[m
[32m+[m[32m    final SecureRequestCustomizer customizer =[m
[32m+[m[32m      new SecureRequestCustomizer([m
[32m+[m[32m        configurationService.getContainerEnableSniCheck(),[m
[32m+[m[32m        configurationService[m
[32m+[m[32m          .getSecurityConfiguration()[m
[32m+[m[32m          .getResponseHeaders()[m
[32m+[m[32m          .getHttpStrictTransportSecurityMaxAge(),[m
[32m+[m[32m        getResponseHeadersConfiguration(configurationService).getHttpStrictTransportSecurityIncludeSubdomains()[m
[32m+[m[32m      );[m
 [m
     https.addCustomizer(customizer);[m
     https.setSecureScheme("https");[m
[31m-    https.setRequestHeaderSize(configurationService.getMaxRequestHeaderSizeInBytes());[m
[31m-    https.setResponseHeaderSize(configurationService.getMaxResponseHeaderSizeInBytes());[m
[32m+[m[32m    applyHeaderSizeConfiguration(https);[m
     SslContextFactory.Server sslContextFactory = new SslContextFactory.Server();[m
     sslContextFactory.setKeyStorePath(configurationService.getContainerKeystoreLocation());[m
     sslContextFactory.setKeyStorePassword(configurationService.getContainerKeystorePassword());[m
[36m@@ -126,12 +146,8 @@[m [mpublic class JettyConfig {[m
     // see https://github.com/eclipse/jetty.project/issues/3049[m
     sslContextFactory.setEndpointIdentificationAlgorithm("HTTPS");[m
 [m
[31m-    ServerConnector sslConnector = new ServerConnector([m
[31m-      server,[m
[31m-      new SslConnectionFactory(sslContextFactory, PROTOCOL),[m
[31m-      new HttpConnectionFactory(https)[m
[31m-    );[m
[31m-[m
[32m+[m[32m    ServerConnector sslConnector =[m
[32m+[m[32m      new ServerConnector(server, new SslConnectionFactory(sslContextFactory, PROTOCOL), new HttpConnectionFactory(https));[m
     sslConnector.setPort(getPort(EnvironmentPropertiesConstants.HTTPS_PORT_KEY));[m
     sslConnector.setHost(host);[m
     return sslConnector;[m
[36m@@ -140,14 +156,16 @@[m [mpublic class JettyConfig {[m
   public int getPort(String portType) {[m
     String portProperty = environment.getProperty(portType);[m
     if (portProperty == null) {[m
[31m-      return portType.equals(EnvironmentPropertiesConstants.HTTPS_PORT_KEY) ? configurationService.getContainerHttpsPort() :[m
[31m-        configurationService.getContainerHttpPort().orElse(8090);[m
[32m+[m[32m      return portType.equals(EnvironmentPropertiesConstants.HTTPS_PORT_KEY)[m
[32m+[m[32m        ? configurationService.getContainerHttpsPort()[m
[32m+[m[32m        : configurationService.getContainerHttpPort().orElse(8090);[m
     }[m
     return Integer.parseInt(portProperty);[m
   }[m
 [m
   public Optional<String> getContextPath() {[m
[31m-    // If the property is set by env var (the case when starting a new Optimize in ITs), this takes precedence over config[m
[32m+[m[32m    // If the property is set by env var (the case when starting a new Optimize in ITs), this takes[m
[32m+[m[32m    // precedence over config[m
     Optional<String> contextPath = Optional.ofNullable(environment.getProperty(CONTEXT_PATH));[m
     if (contextPath.isEmpty()) {[m
       return configurationService.getContextPath();[m
[36m@@ -155,6 +173,11 @@[m [mpublic class JettyConfig {[m
     return contextPath;[m
   }[m
 [m
[32m+[m[32m  private void applyHeaderSizeConfiguration(HttpConfiguration configuration) {[m
[32m+[m[32m    configuration.setRequestHeaderSize(configurationService.getMaxRequestHeaderSizeInBytes());[m
[32m+[m[32m    configuration.setResponseHeaderSize(configurationService.getMaxResponseHeaderSizeInBytes());[m
[32m+[m[32m  }[m
[32m+[m
   private void addStaticResources(ServletContextHandler servletContextHandler) {[m
     final URL webappURL = this.getClass().getClassLoader().getResource("webapp");[m
     if (webappURL != null) {[m
[1mdiff --git a/backend/src/main/java/org/camunda/optimize/dto/zeebe/definition/ZeebeProcessDefinitionDataDto.java b/backend/src/main/java/org/camunda/optimize/dto/zeebe/definition/ZeebeProcessDefinitionDataDto.java[m
[1mindex c6e66388de..ecdba3039f 100644[m
[1m--- a/backend/src/main/java/org/camunda/optimize/dto/zeebe/definition/ZeebeProcessDefinitionDataDto.java[m
[1m+++ b/backend/src/main/java/org/camunda/optimize/dto/zeebe/definition/ZeebeProcessDefinitionDataDto.java[m
[36m@@ -8,6 +8,9 @@[m [mpackage org.camunda.optimize.dto.zeebe.definition;[m
 import io.camunda.zeebe.protocol.record.value.deployment.ProcessMetadataValue;[m
 import lombok.Data;[m
 import lombok.EqualsAndHashCode;[m
[32m+[m[32mimport org.apache.commons.lang3.StringUtils;[m
[32m+[m
[32m+[m[32mimport static org.camunda.optimize.service.util.importing.ZeebeConstants.ZEEBE_DEFAULT_TENANT_ID;[m
 [m
 @EqualsAndHashCode[m
 @Data[m
[36m@@ -31,4 +34,9 @@[m [mpublic class ZeebeProcessDefinitionDataDto implements ProcessMetadataValue {[m
     // Process Records should never be duplicate in Zeebe[m
     return false;[m
   }[m
[32m+[m
[32m+[m[32m  public String getTenantId(){[m
[32m+[m[32m    return StringUtils.isEmpty(tenantId) ? ZEEBE_DEFAULT_TENANT_ID : tenantId;[m
[32m+[m[32m  }[m
[32m+[m
 }[m
[1mdiff --git a/backend/src/main/java/org/camunda/optimize/dto/zeebe/incident/ZeebeIncidentDataDto.java b/backend/src/main/java/org/camunda/optimize/dto/zeebe/incident/ZeebeIncidentDataDto.java[m
[1mindex 97e7d973df..ef6491fa22 100644[m
[1m--- a/backend/src/main/java/org/camunda/optimize/dto/zeebe/incident/ZeebeIncidentDataDto.java[m
[1m+++ b/backend/src/main/java/org/camunda/optimize/dto/zeebe/incident/ZeebeIncidentDataDto.java[m
[36m@@ -9,9 +9,14 @@[m [mimport io.camunda.zeebe.protocol.record.value.ErrorType;[m
 import io.camunda.zeebe.protocol.record.value.IncidentRecordValue;[m
 import lombok.Data;[m
 import lombok.EqualsAndHashCode;[m
[32m+[m[32mimport lombok.experimental.FieldNameConstants;[m
[32m+[m[32mimport org.apache.commons.lang3.StringUtils;[m
[32m+[m
[32m+[m[32mimport static org.camunda.optimize.service.util.importing.ZeebeConstants.ZEEBE_DEFAULT_TENANT_ID;[m
 [m
 @EqualsAndHashCode[m
 @Data[m
[32m+[m[32m@FieldNameConstants[m
 public class ZeebeIncidentDataDto implements IncidentRecordValue {[m
 [m
   private String errorMessage;[m
[36m@@ -29,4 +34,8 @@[m [mpublic class ZeebeIncidentDataDto implements IncidentRecordValue {[m
   public String toJson() {[m
     throw new UnsupportedOperationException("Operation not supported");[m
   }[m
[32m+[m
[32m+[m[32m  public String getTenantId(){[m
[32m+[m[32m    return StringUtils.isEmpty(tenantId) ? ZEEBE_DEFAULT_TENANT_ID : tenantId;[m
[32m+[m[32m  }[m
 }[m
[1mdiff --git a/backend/src/main/java/org/camunda/optimize/dto/zeebe/process/ZeebeProcessInstanceDataDto.java b/backend/src/main/java/org/camunda/optimize/dto/zeebe/process/ZeebeProcessInstanceDataDto.java[m
[1mindex 12cac5a340..117f374366 100644[m
[1m--- a/backend/src/main/java/org/camunda/optimize/dto/zeebe/process/ZeebeProcessInstanceDataDto.java[m
[1m+++ b/backend/src/main/java/org/camunda/optimize/dto/zeebe/process/ZeebeProcessInstanceDataDto.java[m
[36m@@ -11,6 +11,9 @@[m [mimport io.camunda.zeebe.protocol.record.value.ProcessInstanceRecordValue;[m
 import lombok.Data;[m
 import lombok.EqualsAndHashCode;[m
 import lombok.experimental.FieldNameConstants;[m
[32m+[m[32mimport org.apache.commons.lang3.StringUtils;[m
[32m+[m
[32m+[m[32mimport static org.camunda.optimize.service.util.importing.ZeebeConstants.ZEEBE_DEFAULT_TENANT_ID;[m
 [m
 @FieldNameConstants[m
 @EqualsAndHashCode[m
[36m@@ -37,4 +40,8 @@[m [mpublic class ZeebeProcessInstanceDataDto implements ProcessInstanceRecordValue {[m
   public BpmnEventType getBpmnEventType() {[m
     throw new UnsupportedOperationException("Operation not supported");[m
   }[m
[32m+[m
[32m+[m[32m  public String getTenantId() {[m
[32m+[m[32m    return StringUtils.isEmpty(tenantId) ? ZEEBE_DEFAULT_TENANT_ID : tenantId;[m
[32m+[m[32m  }[m
 }[m
[1mdiff --git a/backend/src/main/java/org/camunda/optimize/dto/zeebe/variable/ZeebeVariableDataDto.java b/backend/src/main/java/org/camunda/optimize/dto/zeebe/variable/ZeebeVariableDataDto.java[m
[1mindex 718cbd6826..3e3050cab2 100644[m
[1m--- a/backend/src/main/java/org/camunda/optimize/dto/zeebe/variable/ZeebeVariableDataDto.java[m
[1m+++ b/backend/src/main/java/org/camunda/optimize/dto/zeebe/variable/ZeebeVariableDataDto.java[m
[36m@@ -8,6 +8,9 @@[m [mpackage org.camunda.optimize.dto.zeebe.variable;[m
 import io.camunda.zeebe.protocol.record.value.VariableRecordValue;[m
 import lombok.Data;[m
 import lombok.EqualsAndHashCode;[m
[32m+[m[32mimport org.apache.commons.lang3.StringUtils;[m
[32m+[m
[32m+[m[32mimport static org.camunda.optimize.service.util.importing.ZeebeConstants.ZEEBE_DEFAULT_TENANT_ID;[m
 [m
 @EqualsAndHashCode[m
 @Data[m
[36m@@ -26,4 +29,7 @@[m [mpublic class ZeebeVariableDataDto implements VariableRecordValue {[m
     throw new UnsupportedOperationException("Operation not supported");[m
   }[m
 [m
[32m+[m[32m  public String getTenantId() {[m
[32m+[m[32m    return StringUtils.isEmpty(tenantId) ? ZEEBE_DEFAULT_TENANT_ID : tenantId;[m
[32m+[m[32m  }[m
 }[m
[1mdiff --git a/backend/src/main/java/org/camunda/optimize/rest/HealthRestService.java b/backend/src/main/java/org/camunda/optimize/rest/HealthRestService.java[m
[1mindex 9d1e480d61..bb7c1a9815 100644[m
[1m--- a/backend/src/main/java/org/camunda/optimize/rest/HealthRestService.java[m
[1m+++ b/backend/src/main/java/org/camunda/optimize/rest/HealthRestService.java[m
[36m@@ -26,7 +26,7 @@[m [mpublic class HealthRestService {[m
 [m
   @GET[m
   public Response getImportStatus() {[m
[31m-    if (statusCheckingService.isConnectedToElasticSearch()[m
[32m+[m[32m    if (statusCheckingService.isConnectedToDatabase()[m
       && statusCheckingService.isConnectedToAtLeastOnePlatformEngineOrCloud()) {[m
       return Response.ok().build();[m
     }[m
[1mdiff --git a/backend/src/main/java/org/camunda/optimize/rest/mapper/DashboardRestMapper.java b/backend/src/main/java/org/camunda/optimize/rest/mapper/DashboardRestMapper.java[m
[1mindex 08e24e4ac6..8535a04989 100644[m
[1m--- a/backend/src/main/java/org/camunda/optimize/rest/mapper/DashboardRestMapper.java[m
[1m+++ b/backend/src/main/java/org/camunda/optimize/rest/mapper/DashboardRestMapper.java[m
[36m@@ -54,11 +54,19 @@[m [mpublic class DashboardRestMapper {[m
           validLocale,[m
           dashboardDefinition.getName()[m
         )).ifPresent(dashboardDefinition::setName);[m
[32m+[m[32m        Optional.ofNullable(localizationService.getLocalizationForManagementDashboardCode([m
[32m+[m[32m          validLocale,[m
[32m+[m[32m          dashboardDefinition.getDescription()[m
[32m+[m[32m        )).ifPresent(dashboardDefinition::setDescription);[m
       } else {[m
         Optional.ofNullable(localizationService.getLocalizationForInstantPreviewDashboardCode([m
           validLocale,[m
           dashboardDefinition.getName()[m
         )).ifPresent(dashboardDefinition::setName);[m
[32m+[m[32m        Optional.ofNullable(localizationService.getLocalizationForInstantPreviewDashboardCode([m
[32m+[m[32m          validLocale,[m
[32m+[m[32m          dashboardDefinition.getDescription()[m
[32m+[m[32m        )).ifPresent(dashboardDefinition::setDescription);[m
         localizeTextsFromTextTiles(dashboardDefinition, validLocale);[m
       }[m
     }[m
[1mdiff --git a/backend/src/main/java/org/camunda/optimize/rest/mapper/ReportRestMapper.java b/backend/src/main/java/org/camunda/optimize/rest/mapper/ReportRestMapper.java[m
[1mindex 0d98a71203..bbf15fbfc9 100644[m
[1m--- a/backend/src/main/java/org/camunda/optimize/rest/mapper/ReportRestMapper.java[m
[1m+++ b/backend/src/main/java/org/camunda/optimize/rest/mapper/ReportRestMapper.java[m
[36m@@ -90,11 +90,19 @@[m [mpublic class ReportRestMapper {[m
           validLocale,[m
           reportDefinitionDto.getName()[m
         )).ifPresent(reportDefinitionDto::setName);[m
[32m+[m[32m        Optional.ofNullable(localizationService.getLocalizationForManagementReportCode([m
[32m+[m[32m          validLocale,[m
[32m+[m[32m          reportDefinitionDto.getDescription()[m
[32m+[m[32m        )).ifPresent(reportDefinitionDto::setDescription);[m
       } else {[m
         Optional.ofNullable(localizationService.getLocalizationForInstantPreviewReportCode([m
           validLocale,[m
           reportDefinitionDto.getName()[m
         )).ifPresent(reportDefinitionDto::setName);[m
[32m+[m[32m        Optional.ofNullable(localizationService.getLocalizationForInstantPreviewReportCode([m
[32m+[m[32m          validLocale,[m
[32m+[m[32m          reportDefinitionDto.getDescription()[m
[32m+[m[32m        )).ifPresent(reportDefinitionDto::setDescription);[m
       }[m
     }[m
   }[m
[1mdiff --git a/backend/src/main/java/org/camunda/optimize/rest/security/ccsm/CCSMSecurityConfigurerAdapter.java b/backend/src/main/java/org/camunda/optimize/rest/security/ccsm/CCSMSecurityConfigurerAdapter.java[m
[1mindex 3a185ab987..52dbcd251d 100644[m
[1m--- a/backend/src/main/java/org/camunda/optimize/rest/security/ccsm/CCSMSecurityConfigurerAdapter.java[m
[1m+++ b/backend/src/main/java/org/camunda/optimize/rest/security/ccsm/CCSMSecurityConfigurerAdapter.java[m
[36m@@ -156,20 +156,17 @@[m [mpublic class CCSMSecurityConfigurerAdapter extends AbstractSecurityConfigurerAda[m
 [m
   private void redirectToIdentity(final HttpServletRequest request, final HttpServletResponse response,[m
                                   final AuthenticationException e) throws IOException {[m
[31m-    final String authorizeUri = ccsmTokenService.buildAuthorizeUri(buildAuthorizeCallbackUri([m
[31m-      request,[m
[31m-      createApiPath(AUTHENTICATION_PATH + CALLBACK)[m
[31m-    )).toString();[m
[32m+[m[32m    final String authorizeUri = ccsmTokenService.buildAuthorizeUri(buildAuthorizeCallbackBaseUri(request)).toString();[m
     response.sendRedirect(authorizeUri);[m
   }[m
 [m
[31m-  private static String buildAuthorizeCallbackUri(final HttpServletRequest req, String subPath) {[m
[32m+[m[32m  private static String buildAuthorizeCallbackBaseUri(final HttpServletRequest req) {[m
     String redirectUri = req.getScheme() + "://" + req.getServerName();[m
     if ((req.getScheme().equals("http") && req.getServerPort() != 80) || ([m
       req.getScheme().equals("https") && req.getServerPort() != 443)) {[m
       redirectUri += ":" + req.getServerPort();[m
     }[m
[31m-    return redirectUri + req.getContextPath() + subPath;[m
[32m+[m[32m    return redirectUri + req.getContextPath();[m
   }[m
 [m
 }[m
[1mdiff --git a/backend/src/main/java/org/camunda/optimize/service/DefinitionService.java b/backend/src/main/java/org/camunda/optimize/service/DefinitionService.java[m
[1mindex e77934610d..7ba61d509b 100644[m
[1m--- a/backend/src/main/java/org/camunda/optimize/service/DefinitionService.java[m
[1m+++ b/backend/src/main/java/org/camunda/optimize/service/DefinitionService.java[m
[36m@@ -27,6 +27,7 @@[m [mimport org.camunda.optimize.dto.optimize.rest.DefinitionVersionResponseDto;[m
 import org.camunda.optimize.service.es.reader.CamundaActivityEventReader;[m
 import org.camunda.optimize.service.es.reader.DefinitionReader;[m
 import org.camunda.optimize.service.security.util.definition.DataSourceDefinitionAuthorizationService;[m
[32m+[m[32mimport org.camunda.optimize.service.tenant.TenantService;[m
 import org.camunda.optimize.service.util.BpmnModelUtil;[m
 import org.camunda.optimize.service.util.configuration.CacheConfiguration;[m
 import org.camunda.optimize.service.util.configuration.ConfigurationReloadable;[m
[36m@@ -52,7 +53,7 @@[m [mimport java.util.stream.Stream;[m
 [m
 import static java.util.Comparator.naturalOrder;[m
 import static java.util.stream.Collectors.toMap;[m
[31m-import static org.camunda.optimize.service.TenantService.TENANT_NOT_DEFINED;[m
[32m+[m[32mimport static org.camunda.optimize.service.tenant.CamundaPlatformTenantService.TENANT_NOT_DEFINED;[m
 import static org.camunda.optimize.service.util.DefinitionVersionHandlingUtil.isDefinitionVersionSetToAllOrLatest;[m
 import static org.camunda.optimize.util.SuppressionConstants.UNCHECKED_CAST;[m
 [m
[36m@@ -227,7 +228,7 @@[m [mpublic class DefinitionService implements ConfigurationReloadable {[m
     final List<DefinitionWithTenantIdsDto> fullyImportedDefinitions = definitionReader[m
       .getFullyImportedDefinitionsWithTenantIds(definitionType, keys, tenantsToFilterFor);[m
     return filterAndMapDefinitionsWithTenantIdsByAuthorizations(userId, fullyImportedDefinitions)[m
[31m-      // sort by name case insensitive[m
[32m+[m[32m      // sort by name case-insensitive[m
       .sorted(Comparator.comparing(a -> a.getName() == null ? a.getKey().toLowerCase() : a.getName().toLowerCase()))[m
       .toList();[m
   }[m
[36m@@ -401,6 +402,15 @@[m [mpublic class DefinitionService implements ConfigurationReloadable {[m
     );[m
   }[m
 [m
[32m+[m[32m  public Optional<DefinitionOptimizeResponseDto> getLatestCachedDefinitionOnAnyTenant(final DefinitionType type,[m
[32m+[m[32m                                                                                      final String definitionKey) {[m
[32m+[m[32m    return getCachedTenantToLatestDefinitionMap(type, definitionKey).entrySet()[m
[32m+[m[32m      .stream()[m
[32m+[m[32m      .sorted(Comparator.comparing(e -> Integer.parseInt(e.getValue().getVersion())))[m
[32m+[m[32m      .map(Map.Entry::getValue)[m
[32m+[m[32m      .findFirst();[m
[32m+[m[32m  }[m
[32m+[m
   private Map<String, DefinitionOptimizeResponseDto> fetchLatestProcessDefinition(final String definitionKey) {[m
     return fetchLatestDefinition(DefinitionType.PROCESS, definitionKey);[m
   }[m
[1mdiff --git a/backend/src/main/java/org/camunda/optimize/service/UIConfigurationService.java b/backend/src/main/java/org/camunda/optimize/service/UIConfigurationService.java[m
[1mindex 67c65b0f8c..eaf4cd3469 100644[m
[1m--- a/backend/src/main/java/org/camunda/optimize/service/UIConfigurationService.java[m
[1m+++ b/backend/src/main/java/org/camunda/optimize/service/UIConfigurationService.java[m
[36m@@ -16,6 +16,7 @@[m [mimport org.camunda.optimize.dto.optimize.query.ui_configuration.WebappsEndpointD[m
 import org.camunda.optimize.rest.cloud.CloudSaasMetaInfoService;[m
 import org.camunda.optimize.service.exceptions.OptimizeConfigurationException;[m
 import org.camunda.optimize.service.metadata.OptimizeVersionService;[m
[32m+[m[32mimport org.camunda.optimize.service.tenant.TenantService;[m
 import org.camunda.optimize.service.util.configuration.ConfigurationService;[m
 import org.camunda.optimize.service.util.configuration.ConfigurationServiceConstants;[m
 import org.camunda.optimize.service.util.configuration.engine.EngineConfiguration;[m
[1mdiff --git a/backend/src/main/java/org/camunda/optimize/service/collection/CollectionScopeService.java b/backend/src/main/java/org/camunda/optimize/service/collection/CollectionScopeService.java[m
[1mindex 67d19834eb..0af5d7dc05 100644[m
[1m--- a/backend/src/main/java/org/camunda/optimize/service/collection/CollectionScopeService.java[m
[1m+++ b/backend/src/main/java/org/camunda/optimize/service/collection/CollectionScopeService.java[m
[36m@@ -6,6 +6,8 @@[m
 package org.camunda.optimize.service.collection;[m
 [m
 import com.google.common.collect.Sets;[m
[32m+[m[32mimport jakarta.ws.rs.ForbiddenException;[m
[32m+[m[32mimport jakarta.ws.rs.NotFoundException;[m
 import lombok.AllArgsConstructor;[m
 import lombok.extern.slf4j.Slf4j;[m
 import org.camunda.optimize.dto.optimize.DefinitionType;[m
[36m@@ -25,7 +27,6 @@[m [mimport org.camunda.optimize.dto.optimize.rest.ConflictedItemType;[m
 import org.camunda.optimize.dto.optimize.rest.DefinitionVersionResponseDto;[m
 import org.camunda.optimize.dto.optimize.rest.collection.CollectionScopeEntryResponseDto;[m
 import org.camunda.optimize.service.DefinitionService;[m
[31m-import org.camunda.optimize.service.TenantService;[m
 import org.camunda.optimize.service.es.reader.ReportReader;[m
 import org.camunda.optimize.service.es.writer.CollectionWriter;[m
 import org.camunda.optimize.service.exceptions.OptimizeRuntimeException;[m
[36m@@ -34,10 +35,9 @@[m [mimport org.camunda.optimize.service.exceptions.conflict.OptimizeCollectionConfli[m
 import org.camunda.optimize.service.report.ReportService;[m
 import org.camunda.optimize.service.security.AuthorizedCollectionService;[m
 import org.camunda.optimize.service.security.util.definition.DataSourceDefinitionAuthorizationService;[m
[32m+[m[32mimport org.camunda.optimize.service.tenant.TenantService;[m
 import org.springframework.stereotype.Component;[m
 [m
[31m-import jakarta.ws.rs.ForbiddenException;[m
[31m-import jakarta.ws.rs.NotFoundException;[m
 import java.util.AbstractMap;[m
 import java.util.ArrayList;[m
 import java.util.Collections;[m
[36m@@ -381,19 +381,18 @@[m [mpublic class CollectionScopeService {[m
                                                         final CollectionScopeEntryDto currentScope) {[m
     final List<String> unauthorizedTenantsOfCurrentScope = currentScope.getTenants()[m
       .stream()[m
[31m-      .filter(tenant -> !tenantService.isAuthorizedToSeeTenant(userId, tenant))[m
[31m-      .collect(Collectors.toList());[m
[31m-    final List<String> allTenants = tenantService.getTenants()[m
[31m-      .stream()[m
[31m-      .map(TenantDto::getId)[m
[31m-      .collect(Collectors.toList());[m
[32m+[m[32m      .filter(tenantId -> !tenantService.isAuthorizedToSeeTenant(userId, tenantId))[m
[32m+[m[32m      .toList();[m
     final List<String> allTenantsWithMaskedTenantsBeingResolved =[m
       Stream.concat([m
[31m-        scopeUpdate.getTenants().stream().filter(allTenants::contains),[m
[31m-        unauthorizedTenantsOfCurrentScope.stream()[m
[31m-      )[m
[32m+[m[32m          // tenants in the scope the user isn't authorized to access are displayed as fake "unauthorized" tenants in FE and[m
[32m+[m[32m          // need to be removed from scope before persisting[m
[32m+[m[32m          scopeUpdate.getTenants().stream().filter(tenantId -> !UNAUTHORIZED_TENANT_MASK_ID.equals(tenantId)),[m
[32m+[m[32m          // this adds any tenants already in the scope that the current user wasn't authorized to see[m
[32m+[m[32m          unauthorizedTenantsOfCurrentScope.stream()[m
[32m+[m[32m        )[m
         .distinct()[m
[31m-        .collect(Collectors.toList());[m
[32m+[m[32m        .toList();[m
     scopeUpdate.setTenants(allTenantsWithMaskedTenantsBeingResolved);[m
   }[m
 [m
[36m@@ -440,10 +439,10 @@[m [mpublic class CollectionScopeService {[m
 [m
   private String getDefinitionName(final String userId, final CollectionScopeEntryResponseDto scope) {[m
     return definitionService.getDefinitionWithAvailableTenants([m
[31m-      scope.getDefinitionType(),[m
[31m-      scope.getDefinitionKey(),[m
[31m-      userId[m
[31m-    )[m
[32m+[m[32m        scope.getDefinitionType(),[m
[32m+[m[32m        scope.getDefinitionKey(),[m
[32m+[m[32m        userId[m
[32m+[m[32m      )[m
       .map(DefinitionResponseDto::getName)[m
       .orElse(scope.getDefinitionKey());[m
   }[m
[1mdiff --git a/backend/src/main/java/org/camunda/optimize/service/dashboard/ManagementDashboardService.java b/backend/src/main/java/org/camunda/optimize/service/dashboard/ManagementDashboardService.java[m
[1mindex 93428155cd..dc66e90f8d 100644[m
[1m--- a/backend/src/main/java/org/camunda/optimize/service/dashboard/ManagementDashboardService.java[m
[1m+++ b/backend/src/main/java/org/camunda/optimize/service/dashboard/ManagementDashboardService.java[m
[36m@@ -16,10 +16,7 @@[m [mimport org.camunda.optimize.dto.optimize.query.dashboard.tile.DimensionDto;[m
 import org.camunda.optimize.dto.optimize.query.dashboard.tile.PositionDto;[m
 import org.camunda.optimize.dto.optimize.query.report.single.ViewProperty;[m
 import org.camunda.optimize.dto.optimize.query.report.single.configuration.SingleReportConfigurationDto;[m
[31m-import org.camunda.optimize.dto.optimize.query.report.single.configuration.target_value.CountProgressDto;[m
[31m-import org.camunda.optimize.dto.optimize.query.report.single.configuration.target_value.SingleReportTargetValueDto;[m
 import org.camunda.optimize.dto.optimize.query.report.single.filter.data.date.DateUnit;[m
[31m-import org.camunda.optimize.dto.optimize.query.report.single.filter.data.date.DurationUnit;[m
 import org.camunda.optimize.dto.optimize.query.report.single.filter.data.date.RollingDateFilterStartDto;[m
 import org.camunda.optimize.dto.optimize.query.report.single.filter.data.date.instance.RollingDateFilterDataDto;[m
 import org.camunda.optimize.dto.optimize.query.report.single.group.AggregateByDateUnit;[m
[36m@@ -27,10 +24,8 @@[m [mimport org.camunda.optimize.dto.optimize.query.report.single.process.ProcessRepo[m
 import org.camunda.optimize.dto.optimize.query.report.single.process.ProcessVisualization;[m
 import org.camunda.optimize.dto.optimize.query.report.single.process.distributed.ProcessDistributedByDto;[m
 import org.camunda.optimize.dto.optimize.query.report.single.process.filter.util.ProcessFilterBuilder;[m
[31m-import org.camunda.optimize.dto.optimize.query.report.single.process.group.FlowNodesGroupByDto;[m
 import org.camunda.optimize.dto.optimize.query.report.single.process.group.NoneGroupByDto;[m
 import org.camunda.optimize.dto.optimize.query.report.single.process.group.StartDateGroupByDto;[m
[31m-import org.camunda.optimize.dto.optimize.query.report.single.process.group.UserTasksGroupByDto;[m
 import org.camunda.optimize.dto.optimize.query.report.single.process.group.value.DateGroupByValueDto;[m
 import org.camunda.optimize.dto.optimize.query.report.single.process.view.ProcessViewDto;[m
 import org.camunda.optimize.dto.optimize.query.report.single.process.view.ProcessViewEntity;[m
[36m@@ -44,22 +39,20 @@[m [mimport org.springframework.stereotype.Component;[m
 import java.util.Collections;[m
 import java.util.List;[m
 [m
[31m-import static org.camunda.optimize.dto.optimize.query.report.single.filter.data.operator.ComparisonOperator.GREATER_THAN;[m
[31m-import static org.camunda.optimize.dto.optimize.query.report.single.filter.data.operator.ComparisonOperator.LESS_THAN;[m
[31m-[m
 @Slf4j[m
 @AllArgsConstructor[m
 @Component[m
 public class ManagementDashboardService {[m
 [m
   public static final String MANAGEMENT_DASHBOARD_LOCALIZATION_CODE = "dashboardName";[m
[31m-  public static final String PROCESS_INSTANCE_USAGE_REPORT_LOCALIZATION_CODE = "processInstanceUsage";[m
[31m-  public static final String INCIDENT_FREE_RATE_REPORT_LOCALIZATION_CODE = "incidentFreeRate";[m
[31m-  public static final String AUTOMATION_RATE_REPORT_LOCALIZATION_CODE = "automationRate";[m
[31m-  public static final String LONG_RUNNING_INSTANCES_REPORT_LOCALIZATION_CODE = "longRunningInstances";[m
[31m-  public static final String AUTOMATION_CANDIDATES_REPORT_LOCALIZATION_CODE = "automationCandidates";[m
[31m-  public static final String ACTIVE_BOTTLENECKS_REPORT_LOCALIZATION_CODE = "activeBottlenecks";[m
   public static final String MANAGEMENT_DASHBOARD_ID = "management-dashboard";[m
[32m+[m[32m  public static final String CURRENTLY_IN_PROGRESS_NAME_LOCALIZATION_CODE = "instancesCurrentlyInProgressName";[m
[32m+[m[32m  public static final String CURRENTLY_IN_PROGRESS_DESCRIPTION_LOCALIZATION_CODE = "instancesCurrentlyInProgressDescription";[m
[32m+[m[32m  public static final String STARTED_IN_LAST_SIX_MONTHS_NAME_LOCALIZATION_CODE = "instancesStartedInLastSixMonthsName";[m
[32m+[m[32m  public static final String STARTED_IN_LAST_SIX_MONTHS_DESCRIPTION_LOCALIZATION_CODE =[m
[32m+[m[32m    "instancesStartedInLastSixMonthsDescription";[m
[32m+[m[32m  public static final String ENDED_IN_LAST_SIX_MONTHS_NAME_LOCALIZATION_CODE = "instancesEndedInLastSixMonthsName";[m
[32m+[m[32m  public static final String ENDED_IN_LAST_SIX_MONTHS_DESCRIPTION_LOCALIZATION_CODE = "instancesEndedInLastSixMonthsDescription";[m
 [m
   private final DashboardWriter dashboardWriter;[m
   private final ReportWriter reportWriter;[m
[36m@@ -77,120 +70,78 @@[m [mpublic class ManagementDashboardService {[m
       log.info("Creating Management Reports and Management Dashboard");[m
       createManagementDashboardForReports([m
         List.of([m
[31m-          createProcessInstanceByStartMonthReport(new PositionDto(0, 0), new DimensionDto(3, 4)),[m
[31m-          createOverallIncidentFreeRateReport(new PositionDto(3, 0), new DimensionDto(3, 2)),[m
[31m-          createAutomationRateReport(new PositionDto(3, 2), new DimensionDto(3, 2)),[m
[31m-          createLongRunningInstancesReport(new PositionDto(6, 0), new DimensionDto(4, 4)),[m
[31m-          createAutomationCandidatesReport(new PositionDto(10, 0), new DimensionDto(4, 4)),[m
[31m-          createActiveBottlenecksReport(new PositionDto(14, 0), new DimensionDto(4, 4))[m
[32m+[m[32m          createProcessesCurrentlyInProgressReport(new PositionDto(0, 0), new DimensionDto(4, 2)),[m
[32m+[m[32m          createProcessesStartedInLastSixMonthsReport(new PositionDto(4, 0), new DimensionDto(14, 4)),[m
[32m+[m[32m          createProcessesEndedInLastSixMonthsReport(new PositionDto(0, 2), new DimensionDto(4, 2))[m
         )[m
       );[m
     }[m
   }[m
 [m
[31m-  private DashboardReportTileDto createProcessInstanceByStartMonthReport(final PositionDto positionDto,[m
[31m-                                                                         final DimensionDto dimensionDto) {[m
[31m-    final ProcessReportDataDto processInstanceGroupedByMonth = ProcessReportDataDto.builder()[m
[32m+[m[32m  private DashboardReportTileDto createProcessesCurrentlyInProgressReport(final PositionDto positionDto,[m
[32m+[m[32m                                                                          final DimensionDto dimensionDto) {[m
[32m+[m[32m    final ProcessReportDataDto processInstancesCurrentlyInProgressReport = ProcessReportDataDto.builder()[m
       .definitions(Collections.emptyList())[m
       .view(new ProcessViewDto(ProcessViewEntity.PROCESS_INSTANCE, ViewProperty.FREQUENCY))[m
[31m-      .groupBy(new StartDateGroupByDto(new DateGroupByValueDto(AggregateByDateUnit.MONTH)))[m
[31m-      .visualization(ProcessVisualization.BAR)[m
[31m-      .managementReport(true)[m
[31m-      .build();[m
[31m-    final String reportId = createReportAndGetId(processInstanceGroupedByMonth, PROCESS_INSTANCE_USAGE_REPORT_LOCALIZATION_CODE);[m
[31m-    return buildDashboardReportTileDto(positionDto, dimensionDto, reportId);[m
[31m-  }[m
[31m-[m
[31m-  private DashboardReportTileDto createOverallIncidentFreeRateReport(final PositionDto positionDto,[m
[31m-                                                                     final DimensionDto dimensionDto) {[m
[31m-    final SingleReportTargetValueDto targetConfig = new SingleReportTargetValueDto();[m
[31m-    targetConfig.setActive(true);[m
[31m-    final CountProgressDto countProgressConfig = new CountProgressDto();[m
[31m-    countProgressConfig.setTarget("99.5");[m
[31m-    targetConfig.setCountProgress(countProgressConfig);[m
[31m-    final ProcessReportDataDto overAllIncidentFreeRate = ProcessReportDataDto.builder()[m
[31m-      .definitions(Collections.emptyList())[m
[31m-      .view(new ProcessViewDto(ProcessViewEntity.PROCESS_INSTANCE, ViewProperty.PERCENTAGE))[m
       .groupBy(new NoneGroupByDto())[m
       .visualization(ProcessVisualization.NUMBER)[m
[31m-      .filter(ProcessFilterBuilder.filter().noIncidents().add().buildList())[m
[31m-      .configuration(SingleReportConfigurationDto.builder().targetValue(targetConfig).build())[m
[32m+[m[32m      .filter(ProcessFilterBuilder.filter()[m
[32m+[m[32m                .runningInstancesOnly().add()[m
[32m+[m[32m                .noIncidents().add()[m
[32m+[m[32m                .buildList())[m
       .managementReport(true)[m
       .build();[m
[31m-    final String reportId = createReportAndGetId(overAllIncidentFreeRate, INCIDENT_FREE_RATE_REPORT_LOCALIZATION_CODE);[m
[32m+[m[32m    final String reportId = createReportAndGetId([m
[32m+[m[32m      processInstancesCurrentlyInProgressReport,[m
[32m+[m[32m      CURRENTLY_IN_PROGRESS_NAME_LOCALIZATION_CODE,[m
[32m+[m[32m      CURRENTLY_IN_PROGRESS_DESCRIPTION_LOCALIZATION_CODE[m
[32m+[m[32m    );[m
     return buildDashboardReportTileDto(positionDto, dimensionDto, reportId);[m
   }[m
 [m
[31m-  private DashboardReportTileDto createAutomationRateReport(final PositionDto positionDto, final DimensionDto dimensionDto) {[m
[31m-    final SingleReportTargetValueDto targetConfig = new SingleReportTargetValueDto();[m
[31m-    targetConfig.setActive(true);[m
[31m-    final CountProgressDto countProgressConfig = new CountProgressDto();[m
[31m-    countProgressConfig.setTarget("70");[m
[31m-    targetConfig.setCountProgress(countProgressConfig);[m
[31m-    final ProcessReportDataDto automationRate = ProcessReportDataDto.builder()[m
[32m+[m[32m  private DashboardReportTileDto createProcessesStartedInLastSixMonthsReport(final PositionDto positionDto,[m
[32m+[m[32m                                                                             final DimensionDto dimensionDto) {[m
[32m+[m[32m    final ProcessReportDataDto processInstancesStartedInLastSixMonthsReport = ProcessReportDataDto.builder()[m
       .definitions(Collections.emptyList())[m
[31m-      .view(new ProcessViewDto(ProcessViewEntity.PROCESS_INSTANCE, ViewProperty.PERCENTAGE))[m
[31m-      .groupBy(new NoneGroupByDto())[m
[31m-      .visualization(ProcessVisualization.NUMBER)[m
[32m+[m[32m      .view(new ProcessViewDto(ProcessViewEntity.PROCESS_INSTANCE, ViewProperty.FREQUENCY))[m
[32m+[m[32m      .groupBy(new StartDateGroupByDto(new DateGroupByValueDto(AggregateByDateUnit.MONTH)))[m
[32m+[m[32m      .distributedBy(new ProcessDistributedByDto())[m
[32m+[m[32m      .visualization(ProcessVisualization.BAR)[m
       .filter(ProcessFilterBuilder.filter()[m
[31m-                .duration()[m
[31m-                .operator(LESS_THAN)[m
[31m-                .unit(DurationUnit.HOURS)[m
[31m-                .value(1L)[m
[32m+[m[32m                .rollingInstanceStartDate()[m
[32m+[m[32m                .start(6L, DateUnit.MONTHS)[m
                 .add()[m
                 .buildList())[m
[31m-      .configuration(SingleReportConfigurationDto.builder().targetValue(targetConfig).build())[m
[32m+[m[32m      .configuration(SingleReportConfigurationDto.builder().stackedBar(true).build())[m
       .managementReport(true)[m
       .build();[m
[31m-    final String reportId = createReportAndGetId(automationRate, AUTOMATION_RATE_REPORT_LOCALIZATION_CODE);[m
[32m+[m[32m    final String reportId = createReportAndGetId([m
[32m+[m[32m      processInstancesStartedInLastSixMonthsReport,[m
[32m+[m[32m      STARTED_IN_LAST_SIX_MONTHS_NAME_LOCALIZATION_CODE,[m
[32m+[m[32m      STARTED_IN_LAST_SIX_MONTHS_DESCRIPTION_LOCALIZATION_CODE[m
[32m+[m[32m    );[m
     return buildDashboardReportTileDto(positionDto, dimensionDto, reportId);[m
   }[m
 [m
[31m-  private DashboardReportTileDto createLongRunningInstancesReport(final PositionDto positionDto,[m
[31m-                                                                  final DimensionDto dimensionDto) {[m
[31m-    final ProcessReportDataDto longRunningInstances = ProcessReportDataDto.builder()[m
[32m+[m[32m  private DashboardReportTileDto createProcessesEndedInLastSixMonthsReport(final PositionDto positionDto,[m
[32m+[m[32m                                                                           final DimensionDto dimensionDto) {[m
[32m+[m[32m    final ProcessReportDataDto processInstancesEndedInLastSixMonthsReport = ProcessReportDataDto.builder()[m
       .definitions(Collections.emptyList())[m
[31m-      .view(new ProcessViewDto(ProcessViewEntity.PROCESS_INSTANCE, List.of(ViewProperty.FREQUENCY, ViewProperty.DURATION)))[m
[32m+[m[32m      .view(new ProcessViewDto(ProcessViewEntity.PROCESS_INSTANCE, ViewProperty.FREQUENCY))[m
       .groupBy(new NoneGroupByDto())[m
[31m-      .distributedBy(new ProcessDistributedByDto())[m
[31m-      .visualization(ProcessVisualization.PIE)[m
[32m+[m[32m      .visualization(ProcessVisualization.NUMBER)[m
       .filter(ProcessFilterBuilder.filter()[m
[31m-                .duration()[m
[31m-                .operator(GREATER_THAN)[m
[31m-                .unit(DurationUnit.DAYS)[m
[31m-                .value(7L)[m
[31m-                .add()[m
[31m-                .runningInstancesOnly()[m
[32m+[m[32m                .rollingInstanceEndDate()[m
[32m+[m[32m                .start(6L, DateUnit.MONTHS)[m
                 .add()[m
                 .buildList())[m
       .managementReport(true)[m
       .build();[m
[31m-    final String reportId = createReportAndGetId(longRunningInstances, LONG_RUNNING_INSTANCES_REPORT_LOCALIZATION_CODE);[m
[31m-    return buildDashboardReportTileDto(positionDto, dimensionDto, reportId);[m
[31m-  }[m
[31m-[m
[31m-  private DashboardReportTileDto createAutomationCandidatesReport(final PositionDto positionDto,[m
[31m-                                                                  final DimensionDto dimensionDto) {[m
[31m-    final ProcessReportDataDto automationCandidates = ProcessReportDataDto.builder()[m
[31m-      .definitions(Collections.emptyList())[m
[31m-      .view(new ProcessViewDto(ProcessViewEntity.USER_TASK, List.of(ViewProperty.FREQUENCY, ViewProperty.DURATION)))[m
[31m-      .groupBy(new UserTasksGroupByDto())[m
[31m-      .visualization(ProcessVisualization.PIE)[m
[31m-      .managementReport(true)[m
[31m-      .build();[m
[31m-    final String reportId = createReportAndGetId(automationCandidates, AUTOMATION_CANDIDATES_REPORT_LOCALIZATION_CODE);[m
[31m-    return buildDashboardReportTileDto(positionDto, dimensionDto, reportId);[m
[31m-  }[m
[31m-[m
[31m-  private DashboardReportTileDto createActiveBottlenecksReport(final PositionDto positionDto, final DimensionDto dimensionDto) {[m
[31m-    final ProcessReportDataDto activeBottlenecks = ProcessReportDataDto.builder()[m
[31m-      .definitions(Collections.emptyList())[m
[31m-      .view(new ProcessViewDto(ProcessViewEntity.FLOW_NODE, List.of(ViewProperty.FREQUENCY, ViewProperty.DURATION)))[m
[31m-      .groupBy(new FlowNodesGroupByDto())[m
[31m-      .visualization(ProcessVisualization.PIE)[m
[31m-      .managementReport(true)[m
[31m-      .build();[m
[31m-    final String reportId = createReportAndGetId(activeBottlenecks, ACTIVE_BOTTLENECKS_REPORT_LOCALIZATION_CODE);[m
[32m+[m[32m    final String reportId = createReportAndGetId([m
[32m+[m[32m      processInstancesEndedInLastSixMonthsReport,[m
[32m+[m[32m      ENDED_IN_LAST_SIX_MONTHS_NAME_LOCALIZATION_CODE,[m
[32m+[m[32m      ENDED_IN_LAST_SIX_MONTHS_DESCRIPTION_LOCALIZATION_CODE[m
[32m+[m[32m    );[m
     return buildDashboardReportTileDto(positionDto, dimensionDto, reportId);[m
   }[m
 [m
[36m@@ -219,9 +170,11 @@[m [mpublic class ManagementDashboardService {[m
     dashboardWriter.saveDashboard(dashboardDefinition);[m
   }[m
 [m
[31m-  private String createReportAndGetId(final ProcessReportDataDto processReportDataDto, final String localisationCodeForName) {[m
[32m+[m[32m  private String createReportAndGetId(final ProcessReportDataDto processReportDataDto,[m
[32m+[m[32m                                      final String localisationCodeForName,[m
[32m+[m[32m                                      final String localisationCodeForDescription) {[m
     return reportWriter.createNewSingleProcessReport([m
[31m-      null, processReportDataDto, localisationCodeForName, null, null[m
[32m+[m[32m      null, processReportDataDto, localisationCodeForName, localisationCodeForDescription, null[m
     ).getId();[m
   }[m
 [m
[1mdiff --git a/backend/src/main/java/org/camunda/optimize/service/db/writer/SharingWriter.java b/backend/src/main/java/org/camunda/optimize/service/db/writer/SharingWriter.java[m
[1mnew file mode 100644[m
[1mindex 0000000000..ccb25a41af[m
[1m--- /dev/null[m
[1m+++ b/backend/src/main/java/org/camunda/optimize/service/db/writer/SharingWriter.java[m
[36m@@ -0,0 +1,21 @@[m
[32m+[m[32m/*[m
[32m+[m[32m * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH under one or more contributor license agreements.[m
[32m+[m[32m * Licensed under a proprietary license. See the License.txt file for more information.[m
[32m+[m[32m * You may not use this file except in compliance with the proprietary license.[m
[32m+[m[32m */[m
[32m+[m[32mpackage org.camunda.optimize.service.db.writer;[m
[32m+[m
[32m+[m[32mimport org.camunda.optimize.dto.optimize.query.sharing.DashboardShareRestDto;[m
[32m+[m[32mimport org.camunda.optimize.dto.optimize.query.sharing.ReportShareRestDto;[m
[32m+[m
[32m+[m[32mpublic interface SharingWriter {[m
[32m+[m[32m  ReportShareRestDto saveReportShare(final ReportShareRestDto createSharingDto);[m
[32m+[m
[32m+[m[32m  DashboardShareRestDto saveDashboardShare(final DashboardShareRestDto createSharingDto);[m
[32m+[m
[32m+[m[32m  void updateDashboardShare(final DashboardShareRestDto updatedShare);[m
[32m+[m
[32m+[m[32m  void deleteReportShare(final String shareId);[m
[32m+[m
[32m+[m[32m  void deleteDashboardShare(final String shareId);[m
[32m+[m[32m}[m
[1mdiff --git a/backend/src/main/java/org/camunda/optimize/service/digest/DigestService.java b/backend/src/main/java/org/camunda/optimize/service/digest/DigestService.java[m
[1mindex c775376237..98f41341c6 100644[m
[1m--- a/backend/src/main/java/org/camunda/optimize/service/digest/DigestService.java[m
[1m+++ b/backend/src/main/java/org/camunda/optimize/service/digest/DigestService.java[m
[36m@@ -5,13 +5,15 @@[m
  */[m
 package org.camunda.optimize.service.digest;[m
 [m
[32m+[m[32mimport jakarta.annotation.Nullable;[m
[32m+[m[32mimport jakarta.annotation.PostConstruct;[m
[32m+[m[32mimport jakarta.annotation.PreDestroy;[m
 import lombok.Data;[m
 import lombok.RequiredArgsConstructor;[m
 import lombok.extern.slf4j.Slf4j;[m
 import org.apache.commons.lang3.StringUtils;[m
 import org.camunda.optimize.dto.optimize.DefinitionOptimizeResponseDto;[m
 import org.camunda.optimize.dto.optimize.DefinitionType;[m
[31m-import org.camunda.optimize.dto.optimize.TenantDto;[m
 import org.camunda.optimize.dto.optimize.UserDto;[m
 import org.camunda.optimize.dto.optimize.query.processoverview.KpiResultDto;[m
 import org.camunda.optimize.dto.optimize.query.processoverview.KpiType;[m
[36m@@ -24,13 +26,13 @@[m [mimport org.camunda.optimize.dto.optimize.query.report.single.ViewProperty;[m
 import org.camunda.optimize.dto.optimize.query.report.single.configuration.target_value.TargetValueUnit;[m
 import org.camunda.optimize.service.DefinitionService;[m
 import org.camunda.optimize.service.KpiService;[m
[31m-import org.camunda.optimize.service.TenantService;[m
 import org.camunda.optimize.service.email.EmailService;[m
 import org.camunda.optimize.service.es.reader.ProcessOverviewReader;[m
 import org.camunda.optimize.service.es.reader.ReportReader;[m
 import org.camunda.optimize.service.es.writer.ProcessOverviewWriter;[m
 import org.camunda.optimize.service.exceptions.OptimizeRuntimeException;[m
 import org.camunda.optimize.service.identity.AbstractIdentityService;[m
[32m+[m[32mimport org.camunda.optimize.service.tenant.TenantService;[m
 import org.camunda.optimize.service.util.DurationFormatterUtil;[m
 import org.camunda.optimize.service.util.configuration.ConfigurationReloadable;[m
 import org.camunda.optimize.service.util.configuration.ConfigurationService;[m
[36m@@ -40,9 +42,6 @@[m [mimport org.springframework.scheduling.concurrent.ThreadPoolTaskScheduler;[m
 import org.springframework.scheduling.support.CronTrigger;[m
 import org.springframework.stereotype.Component;[m
 [m
[31m-import jakarta.annotation.Nullable;[m
[31m-import jakarta.annotation.PostConstruct;[m
[31m-import jakarta.annotation.PreDestroy;[m
 import java.util.Collections;[m
 import java.util.HashMap;[m
 import java.util.List;[m
[36m@@ -50,8 +49,6 @@[m [mimport java.util.Map;[m
 import java.util.Optional;[m
 import java.util.concurrent.ScheduledFuture;[m
 [m
[31m-import static java.util.stream.Collectors.toList;[m
[31m-import static org.camunda.optimize.dto.optimize.ReportConstants.ALL_VERSIONS;[m
 import static org.camunda.optimize.dto.optimize.query.processoverview.KpiType.QUALITY;[m
 import static org.camunda.optimize.dto.optimize.query.processoverview.KpiType.TIME;[m
 [m
[36m@@ -184,11 +181,9 @@[m [mpublic class DigestService implements ConfigurationReloadable {[m
   private void composeAndSendDigestEmail(final ProcessOverviewDto overviewDto,[m
                                          final List<KpiResultDto> currentKpiReportResults) {[m
     final Optional<UserDto> processOwner = identityService.getUserById(overviewDto.getOwner());[m
[31m-    final String definitionName = definitionService.getDefinition([m
[32m+[m[32m    final String definitionName = definitionService.getLatestCachedDefinitionOnAnyTenant([m
       DefinitionType.PROCESS,[m
[31m-      overviewDto.getProcessDefinitionKey(),[m
[31m-      List.of(ALL_VERSIONS),[m
[31m-      tenantService.getTenants().stream().map(TenantDto::getId).collect(toList())[m
[32m+[m[32m      overviewDto.getProcessDefinitionKey()[m
     ).map(DefinitionOptimizeResponseDto::getName).orElse(overviewDto.getProcessDefinitionKey());[m
 [m
     emailService.sendTemplatedEmailWithErrorHandling([m
[1mdiff --git a/backend/src/main/java/org/camunda/optimize/service/es/OptimizeElasticsearchClientConfiguration.java b/backend/src/main/java/org/camunda/optimize/service/es/OptimizeElasticsearchClientConfiguration.java[m
[1mindex e8927ac471..3f7a838d98 100644[m
[1m--- a/backend/src/main/java/org/camunda/optimize/service/es/OptimizeElasticsearchClientConfiguration.java[m
[1m+++ b/backend/src/main/java/org/camunda/optimize/service/es/OptimizeElasticsearchClientConfiguration.java[m
[36m@@ -13,12 +13,15 @@[m [mimport org.camunda.optimize.service.es.schema.ElasticSearchSchemaManager;[m
 import org.camunda.optimize.service.es.schema.OptimizeIndexNameService;[m
 import org.camunda.optimize.service.util.BackoffCalculator;[m
 import org.camunda.optimize.service.util.configuration.ConfigurationService;[m
[32m+[m[32mimport org.camunda.optimize.service.util.configuration.condition.ElasticSearchCondition;[m
 import org.springframework.context.annotation.Bean;[m
[32m+[m[32mimport org.springframework.context.annotation.Conditional;[m
 import org.springframework.context.annotation.Configuration;[m
 [m
 @Configuration[m
 @AllArgsConstructor[m
 @Slf4j[m
[32m+[m[32m@Conditional(ElasticSearchCondition.class)[m
 public class OptimizeElasticsearchClientConfiguration {[m
   private final ConfigurationService configurationService;[m
   private final OptimizeIndexNameService optimizeIndexNameService;[m
[1mdiff --git a/backend/src/main/java/org/camunda/optimize/service/es/OptimizeElasticsearchClientFactory.java b/backend/src/main/java/org/camunda/optimize/service/es/OptimizeElasticsearchClientFactory.java[m
[1mindex 79a40b6a00..e52b99775d 100644[m
[1m--- a/backend/src/main/java/org/camunda/optimize/service/es/OptimizeElasticsearchClientFactory.java[m
[1m+++ b/backend/src/main/java/org/camunda/optimize/service/es/OptimizeElasticsearchClientFactory.java[m
[36m@@ -14,17 +14,20 @@[m [mimport org.camunda.optimize.service.es.schema.OptimizeIndexNameService;[m
 import org.camunda.optimize.service.es.schema.RequestOptionsProvider;[m
 import org.camunda.optimize.service.util.BackoffCalculator;[m
 import org.camunda.optimize.service.util.configuration.ConfigurationService;[m
[32m+[m[32mimport org.camunda.optimize.service.util.configuration.condition.ElasticSearchCondition;[m
 import org.camunda.optimize.upgrade.es.ElasticsearchHighLevelRestClientBuilder;[m
 import org.elasticsearch.action.admin.cluster.health.ClusterHealthRequest;[m
 import org.elasticsearch.client.RequestOptions;[m
 import org.elasticsearch.client.RestHighLevelClient;[m
[32m+[m[32mimport org.springframework.context.annotation.Conditional;[m
 [m
 import java.io.IOException;[m
 [m
[31m-import static org.camunda.optimize.service.util.ESVersionChecker.checkESVersionSupport;[m
[32m+[m[32mimport static org.camunda.optimize.service.util.DatabaseVersionChecker.checkESVersionSupport;[m
 [m
 @Slf4j[m
 @NoArgsConstructor(access = AccessLevel.PRIVATE)[m
[32m+[m[32m@Conditional(ElasticSearchCondition.class)[m
 public class OptimizeElasticsearchClientFactory {[m
 [m
   public static OptimizeElasticsearchClient create(final ConfigurationService configurationService,[m
[1mdiff --git a/backend/src/main/java/org/camunda/optimize/service/es/writer/SharingWriter.java b/backend/src/main/java/org/camunda/optimize/service/es/writer/SharingWriterES.java[m
[1msimilarity index 90%[m
[1mrename from backend/src/main/java/org/camunda/optimize/service/es/writer/SharingWriter.java[m
[1mrename to backend/src/main/java/org/camunda/optimize/service/es/writer/SharingWriterES.java[m
[1mindex 84f1c100a3..e2f3407359 100644[m
[1m--- a/backend/src/main/java/org/camunda/optimize/service/es/writer/SharingWriter.java[m
[1m+++ b/backend/src/main/java/org/camunda/optimize/service/es/writer/SharingWriterES.java[m
[36m@@ -6,22 +6,25 @@[m
 package org.camunda.optimize.service.es.writer;[m
 [m
 import com.fasterxml.jackson.databind.ObjectMapper;[m
[32m+[m[32mimport jakarta.ws.rs.NotFoundException;[m
 import lombok.AllArgsConstructor;[m
 import lombok.extern.slf4j.Slf4j;[m
 import org.camunda.optimize.dto.optimize.query.sharing.DashboardShareRestDto;[m
 import org.camunda.optimize.dto.optimize.query.sharing.ReportShareRestDto;[m
[32m+[m[32mimport org.camunda.optimize.service.db.writer.SharingWriter;[m
 import org.camunda.optimize.service.es.OptimizeElasticsearchClient;[m
 import org.camunda.optimize.service.exceptions.OptimizeRuntimeException;[m
 import org.camunda.optimize.service.util.IdGenerator;[m
[32m+[m[32mimport org.camunda.optimize.service.util.configuration.condition.ElasticSearchCondition;[m
 import org.elasticsearch.action.DocWriteResponse;[m
 import org.elasticsearch.action.delete.DeleteRequest;[m
 import org.elasticsearch.action.delete.DeleteResponse;[m
 import org.elasticsearch.action.index.IndexRequest;[m
 import org.elasticsearch.action.index.IndexResponse;[m
 import org.elasticsearch.xcontent.XContentType;[m
[32m+[m[32mimport org.springframework.context.annotation.Conditional;[m
 import org.springframework.stereotype.Component;[m
 [m
[31m-import jakarta.ws.rs.NotFoundException;[m
 import java.io.IOException;[m
 [m
 import static org.camunda.optimize.upgrade.es.ElasticsearchConstants.DASHBOARD_SHARE_INDEX_NAME;[m
[36m@@ -31,12 +34,13 @@[m [mimport static org.elasticsearch.action.support.WriteRequest.RefreshPolicy.IMMEDI[m
 @AllArgsConstructor[m
 @Component[m
 @Slf4j[m
[31m-public class SharingWriter {[m
[32m+[m[32m@Conditional(ElasticSearchCondition.class)[m
[32m+[m[32mpublic class SharingWriterES implements SharingWriter {[m
 [m
   private final OptimizeElasticsearchClient esClient;[m
   private final ObjectMapper objectMapper;[m
 [m
[31m-  public ReportShareRestDto saveReportShare(ReportShareRestDto createSharingDto) {[m
[32m+[m[32m  public ReportShareRestDto saveReportShare(final ReportShareRestDto createSharingDto) {[m
     log.debug("Writing new report share to Elasticsearch");[m
     String id = IdGenerator.getNextId();[m
     createSharingDto.setId(id);[m
[36m@@ -64,7 +68,7 @@[m [mpublic class SharingWriter {[m
     return createSharingDto;[m
   }[m
 [m
[31m-  public DashboardShareRestDto saveDashboardShare(DashboardShareRestDto createSharingDto) {[m
[32m+[m[32m  public DashboardShareRestDto saveDashboardShare(final DashboardShareRestDto createSharingDto) {[m
     log.debug("Writing new dashboard share to Elasticsearch");[m
     String id = IdGenerator.getNextId();[m
     createSharingDto.setId(id);[m
[36m@@ -96,7 +100,7 @@[m [mpublic class SharingWriter {[m
     return createSharingDto;[m
   }[m
 [m
[31m-  public void updateDashboardShare(DashboardShareRestDto updatedShare) {[m
[32m+[m[32m  public void updateDashboardShare(final DashboardShareRestDto updatedShare) {[m
     String id = updatedShare.getId();[m
     try {[m
       IndexRequest request = new IndexRequest(DASHBOARD_SHARE_INDEX_NAME)[m
[36m@@ -125,7 +129,7 @@[m [mpublic class SharingWriter {[m
     log.debug("dashboard share with id [{}] for resource [{}] has been updated", id, updatedShare.getDashboardId());[m
   }[m
 [m
[31m-  public void deleteReportShare(String shareId) {[m
[32m+[m[32m  public void deleteReportShare(final String shareId) {[m
     log.debug("Deleting report share with id [{}]", shareId);[m
     DeleteRequest request =[m
       new DeleteRequest(REPORT_SHARE_INDEX_NAME)[m
[36m@@ -151,7 +155,7 @@[m [mpublic class SharingWriter {[m
     }[m
   }[m
 [m
[31m-  public void deleteDashboardShare(String shareId) {[m
[32m+[m[32m  public void deleteDashboardShare(final String shareId) {[m
     log.debug("Deleting dashboard share with id [{}]", shareId);[m
     DeleteRequest request = new DeleteRequest(DASHBOARD_SHARE_INDEX_NAME)[m
       .id(shareId)[m
[1mdiff --git a/backend/src/main/java/org/camunda/optimize/service/importing/CustomerOnboardingDataImportService.java b/backend/src/main/java/org/camunda/optimize/service/importing/CustomerOnboardingDataImportService.java[m
[1mindex ea275e5268..8b00ad8009 100644[m
[1m--- a/backend/src/main/java/org/camunda/optimize/service/importing/CustomerOnboardingDataImportService.java[m
[1m+++ b/backend/src/main/java/org/camunda/optimize/service/importing/CustomerOnboardingDataImportService.java[m
[36m@@ -120,12 +120,12 @@[m [mpublic class CustomerOnboardingDataImportService {[m
           loadProcessInstancesToElasticSearch(processInstanceDtos, batchSize);[m
         } else {[m
           log.error([m
[31m-            "Could not load customer onboarding process instances to input stream. Please validate the process instance json " +[m
[32m+[m[32m            "Could not load Camunda Customer Onboarding Demo process instances to input stream. Please validate the process instance json " +[m
               "file.");[m
         }[m
       }[m
     } catch (IOException e) {[m
[31m-      log.error("Could not parse customer onboarding process instances file.", e);[m
[32m+[m[32m      log.error("Could not parse Camunda Customer Onboarding Demo process instances file.", e);[m
     }[m
   }[m
 [m
[1mdiff --git a/backend/src/main/java/org/camunda/optimize/service/importing/engine/service/zeebe/ZeebeIncidentImportService.java b/backend/src/main/java/org/camunda/optimize/service/importing/engine/service/zeebe/ZeebeIncidentImportService.java[m
[1mindex 7ff24f524e..ec6e80983f 100644[m
[1m--- a/backend/src/main/java/org/camunda/optimize/service/importing/engine/service/zeebe/ZeebeIncidentImportService.java[m
[1m+++ b/backend/src/main/java/org/camunda/optimize/service/importing/engine/service/zeebe/ZeebeIncidentImportService.java[m
[36m@@ -65,7 +65,8 @@[m [mpublic class ZeebeIncidentImportService extends ZeebeProcessInstanceSubEntityImp[m
     final ProcessInstanceDto instanceToAdd = createSkeletonProcessInstance([m
       firstRecordValue.getBpmnProcessId(),[m
       firstRecordValue.getProcessInstanceKey(),[m
[31m-      firstRecordValue.getProcessDefinitionKey()[m
[32m+[m[32m      firstRecordValue.getProcessDefinitionKey(),[m
[32m+[m[32m      firstRecordValue.getTenantId()[m
     );[m
     return updateIncidents(instanceToAdd, recordsForInstance);[m
   }[m
[36m@@ -106,6 +107,7 @@[m [mpublic class ZeebeIncidentImportService extends ZeebeProcessInstanceSubEntityImp[m
     incidentDto.setIncidentType(IncidentType.valueOfId(incidentDataDto.getErrorType().toString()));[m
     incidentDto.setActivityId(String.valueOf(incidentDataDto.getElementInstanceKey()));[m
     incidentDto.setIncidentMessage(incidentDataDto.getErrorMessage());[m
[32m+[m[32m    incidentDto.setTenantId(incidentDataDto.getTenantId());[m
     return incidentDto;[m
   }[m
 [m
[1mdiff --git a/backend/src/main/java/org/camunda/optimize/service/importing/engine/service/zeebe/ZeebeProcessDefinitionImportService.java b/backend/src/main/java/org/camunda/optimize/service/importing/engine/service/zeebe/ZeebeProcessDefinitionImportService.java[m
[1mindex 264236f009..399bf1c67e 100644[m
[1m--- a/backend/src/main/java/org/camunda/optimize/service/importing/engine/service/zeebe/ZeebeProcessDefinitionImportService.java[m
[1m+++ b/backend/src/main/java/org/camunda/optimize/service/importing/engine/service/zeebe/ZeebeProcessDefinitionImportService.java[m
[36m@@ -105,7 +105,7 @@[m [mpublic class ZeebeProcessDefinitionImportService implements ImportService<ZeebeP[m
               .orElse(recordData.getBpmnProcessId()))[m
       .bpmn20Xml(bpmn)[m
       .dataSource(new ZeebeDataSourceDto(configurationService.getConfiguredZeebe().getName(), partitionId))[m
[31m-      .tenantId(null)[m
[32m+[m[32m      .tenantId(recordData.getTenantId())[m
       .deleted(false)[m
       .flowNodeData(BpmnModelUtil.extractFlowNodeData(bpmn))[m
       .userTaskNames(BpmnModelUtil.extractUserTaskNames(bpmn))[m
[1mdiff --git a/backend/src/main/java/org/camunda/optimize/service/importing/engine/service/zeebe/ZeebeProcessInstanceImportService.java b/backend/src/main/java/org/camunda/optimize/service/importing/engine/service/zeebe/ZeebeProcessInstanceImportService.java[m
[1mindex 4dd23bdb69..787fef5480 100644[m
[1m--- a/backend/src/main/java/org/camunda/optimize/service/importing/engine/service/zeebe/ZeebeProcessInstanceImportService.java[m
[1m+++ b/backend/src/main/java/org/camunda/optimize/service/importing/engine/service/zeebe/ZeebeProcessInstanceImportService.java[m
[36m@@ -88,7 +88,8 @@[m [mpublic class ZeebeProcessInstanceImportService[m
     final ProcessInstanceDto instanceToAdd = createSkeletonProcessInstance([m
       firstRecordValue.getBpmnProcessId(),[m
       firstRecordValue.getProcessInstanceKey(),[m
[31m-      firstRecordValue.getProcessDefinitionKey()[m
[32m+[m[32m      firstRecordValue.getProcessDefinitionKey(),[m
[32m+[m[32m      firstRecordValue.getTenantId()[m
     );[m
     instanceToAdd.setProcessDefinitionVersion(String.valueOf(firstRecordValue.getVersion()));[m
     instanceToAdd.setIncidents(Collections.emptyList());[m
[36m@@ -130,18 +131,18 @@[m [mpublic class ZeebeProcessInstanceImportService[m
     recordsForInstance.stream()[m
       .filter(zeebeRecord -> !BpmnElementType.PROCESS.equals(zeebeRecord.getValue().getBpmnElementType()))[m
       .filter(zeebeRecord -> zeebeRecord.getValue().getBpmnElementType().getElementTypeName().isPresent())[m
[31m-      .forEach(processFlowNodeInstance -> {[m
[31m-        final long recordKey = processFlowNodeInstance.getKey();[m
[32m+[m[32m      .forEach(zeebeFlowNodeInstanceRecord -> {[m
[32m+[m[32m        final long recordKey = zeebeFlowNodeInstanceRecord.getKey();[m
         FlowNodeInstanceDto flowNodeForKey = flowNodeInstancesByRecordKey.getOrDefault([m
[31m-          recordKey, createSkeletonFlowNodeInstance(processFlowNodeInstance));[m
[31m-        final ProcessInstanceIntent instanceIntent = processFlowNodeInstance.getIntent();[m
[32m+[m[32m          recordKey, createSkeletonFlowNodeInstance(zeebeFlowNodeInstanceRecord));[m
[32m+[m[32m        final ProcessInstanceIntent instanceIntent = zeebeFlowNodeInstanceRecord.getIntent();[m
         if (instanceIntent == ELEMENT_COMPLETED) {[m
[31m-          flowNodeForKey.setEndDate(dateForTimestamp(processFlowNodeInstance));[m
[32m+[m[32m          flowNodeForKey.setEndDate(dateForTimestamp(zeebeFlowNodeInstanceRecord));[m
         } else if (instanceIntent == ELEMENT_TERMINATED) {[m
           flowNodeForKey.setCanceled(true);[m
[31m-          flowNodeForKey.setEndDate(dateForTimestamp(processFlowNodeInstance));[m
[32m+[m[32m          flowNodeForKey.setEndDate(dateForTimestamp(zeebeFlowNodeInstanceRecord));[m
         } else if (instanceIntent == ELEMENT_ACTIVATING) {[m
[31m-          flowNodeForKey.setStartDate(dateForTimestamp(processFlowNodeInstance));[m
[32m+[m[32m          flowNodeForKey.setStartDate(dateForTimestamp(zeebeFlowNodeInstanceRecord));[m
         }[m
         updateDurationIfMissing(flowNodeForKey);[m
         flowNodeInstancesByRecordKey.put(recordKey, flowNodeForKey);[m
[36m@@ -154,7 +155,7 @@[m [mpublic class ZeebeProcessInstanceImportService[m
     return new FlowNodeInstanceDto([m
       String.valueOf(zeebeInstanceRecord.getBpmnProcessId()),[m
       String.valueOf(zeebeInstanceRecord.getVersion()),[m
[31m-      null,[m
[32m+[m[32m      zeebeInstanceRecord.getTenantId(),[m
       String.valueOf(zeebeInstanceRecord.getProcessInstanceKey()),[m
       zeebeInstanceRecord.getElementId(),[m
       zeebeInstanceRecord.getBpmnElementType()[m
[1mdiff --git a/backend/src/main/java/org/camunda/optimize/service/importing/engine/service/zeebe/ZeebeProcessInstanceSubEntityImportService.java b/backend/src/main/java/org/camunda/optimize/service/importing/engine/service/zeebe/ZeebeProcessInstanceSubEntityImportService.java[m
[1mindex 0acdbe1bc1..73a5e1d65c 100644[m
[1m--- a/backend/src/main/java/org/camunda/optimize/service/importing/engine/service/zeebe/ZeebeProcessInstanceSubEntityImportService.java[m
[1m+++ b/backend/src/main/java/org/camunda/optimize/service/importing/engine/service/zeebe/ZeebeProcessInstanceSubEntityImportService.java[m
[36m@@ -62,11 +62,13 @@[m [mpublic abstract class ZeebeProcessInstanceSubEntityImportService<T> implements I[m
 [m
   protected ProcessInstanceDto createSkeletonProcessInstance(final String processDefinitionKey,[m
                                                              final Long processInstanceId,[m
[31m-                                                             final Long processDefinitionId) {[m
[32m+[m[32m                                                             final Long processDefinitionId,[m
[32m+[m[32m                                                             final String tenantId) {[m
     final ProcessInstanceDto processInstanceDto = new ProcessInstanceDto();[m
     processInstanceDto.setProcessDefinitionKey(processDefinitionKey);[m
     processInstanceDto.setProcessInstanceId(String.valueOf(processInstanceId));[m
     processInstanceDto.setProcessDefinitionId(String.valueOf(processDefinitionId));[m
[32m+[m[32m    processInstanceDto.setTenantId(tenantId);[m
     processInstanceDto.setDataSource(new ZeebeDataSourceDto([m
       configurationService.getConfiguredZeebe().getName(),[m
       partitionId[m
[1mdiff --git a/backend/src/main/java/org/camunda/optimize/service/importing/engine/service/zeebe/ZeebeVariableImportService.java b/backend/src/main/java/org/camunda/optimize/service/importing/engine/service/zeebe/ZeebeVariableImportService.java[m
[1mindex 9edc148dec..bfaf737671 100644[m
[1m--- a/backend/src/main/java/org/camunda/optimize/service/importing/engine/service/zeebe/ZeebeVariableImportService.java[m
[1m+++ b/backend/src/main/java/org/camunda/optimize/service/importing/engine/service/zeebe/ZeebeVariableImportService.java[m
[36m@@ -10,6 +10,7 @@[m [mimport com.fasterxml.jackson.databind.JsonNode;[m
 import com.fasterxml.jackson.databind.ObjectMapper;[m
 import com.fasterxml.jackson.databind.node.JsonNodeType;[m
 import io.camunda.zeebe.protocol.record.intent.VariableIntent;[m
[32m+[m[32mimport jakarta.ws.rs.core.MediaType;[m
 import lombok.extern.slf4j.Slf4j;[m
 import org.camunda.optimize.dto.optimize.DefinitionOptimizeResponseDto;[m
 import org.camunda.optimize.dto.optimize.ProcessDefinitionOptimizeDto;[m
[36m@@ -25,7 +26,6 @@[m [mimport org.camunda.optimize.service.exceptions.OptimizeRuntimeException;[m
 import org.camunda.optimize.service.importing.engine.service.ObjectVariableService;[m
 import org.camunda.optimize.service.util.configuration.ConfigurationService;[m
 [m
[31m-import jakarta.ws.rs.core.MediaType;[m
 import java.util.ArrayList;[m
 import java.util.List;[m
 import java.util.Map;[m
[36m@@ -34,7 +34,6 @@[m [mimport java.util.Set;[m
 import java.util.function.Function;[m
 import java.util.stream.Collectors;[m
 [m
[31m-import static java.util.stream.Collectors.toList;[m
 import static org.camunda.optimize.dto.optimize.ReportConstants.BOOLEAN_TYPE;[m
 import static org.camunda.optimize.dto.optimize.ReportConstants.DOUBLE_TYPE;[m
 import static org.camunda.optimize.dto.optimize.ReportConstants.OBJECT_TYPE;[m
[36m@@ -89,7 +88,8 @@[m [mpublic class ZeebeVariableImportService extends ZeebeProcessInstanceSubEntityImp[m
     final ProcessInstanceDto instanceToAdd = createSkeletonProcessInstance([m
       getBpmnProcessId(firstRecordValue),[m
       firstRecordValue.getProcessInstanceKey(),[m
[31m-      firstRecordValue.getProcessDefinitionKey()[m
[32m+[m[32m      firstRecordValue.getProcessDefinitionKey(),[m
[32m+[m[32m      firstRecordValue.getTenantId()[m
     );[m
     return updateProcessVariables(instanceToAdd, recordsForInstance);[m
   }[m
[36m@@ -156,6 +156,7 @@[m [mpublic class ZeebeVariableImportService extends ZeebeProcessInstanceSubEntityImp[m
       processVariableDto.setVersion(variableRecordDto.getPosition());[m
       processVariableDto.setType(type);[m
       processVariableDto.setValue(zeebeVariableDataDto.getValue());[m
[32m+[m[32m      processVariableDto.setTenantId(zeebeVariableDataDto.getTenantId());[m
       if (type.equals(STRING_TYPE)) {[m
         processVariableDto.setValue(stripExtraDoubleQuotationsIfExist(zeebeVariableDataDto.getValue()));[m
       } else if (OBJECT_TYPE.equalsIgnoreCase(type)) {[m
[1mdiff --git a/backend/src/main/java/org/camunda/optimize/service/license/LicenseManager.java b/backend/src/main/java/org/camunda/optimize/service/license/LicenseManager.java[m
[1mindex d6448059f4..21b3de40c5 100644[m
[1m--- a/backend/src/main/java/org/camunda/optimize/service/license/LicenseManager.java[m
[1m+++ b/backend/src/main/java/org/camunda/optimize/service/license/LicenseManager.java[m
[36m@@ -5,6 +5,7 @@[m
  */[m
 package org.camunda.optimize.service.license;[m
 [m
[32m+[m[32mimport jakarta.annotation.PostConstruct;[m
 import lombok.RequiredArgsConstructor;[m
 import lombok.extern.slf4j.Slf4j;[m
 import org.camunda.bpm.licensecheck.InvalidLicenseException;[m
[36m@@ -12,20 +13,9 @@[m [mimport org.camunda.bpm.licensecheck.LicenseKey;[m
 import org.camunda.bpm.licensecheck.LicenseKeyImpl;[m
 import org.camunda.bpm.licensecheck.LicenseType;[m
 import org.camunda.optimize.dto.optimize.query.LicenseInformationResponseDto;[m
[31m-import org.camunda.optimize.service.es.OptimizeElasticsearchClient;[m
[31m-import org.camunda.optimize.service.exceptions.OptimizeRuntimeException;[m
 import org.camunda.optimize.service.exceptions.license.OptimizeInvalidLicenseException;[m
 import org.camunda.optimize.service.exceptions.license.OptimizeNoLicenseStoredException;[m
[31m-import org.camunda.optimize.service.metadata.Version;[m
[31m-import org.elasticsearch.action.get.GetRequest;[m
[31m-import org.elasticsearch.action.get.GetResponse;[m
[31m-import org.elasticsearch.action.index.IndexRequest;[m
[31m-import org.elasticsearch.action.index.IndexResponse;[m
[31m-import org.elasticsearch.action.support.replication.ReplicationResponse;[m
[31m-import org.elasticsearch.xcontent.XContentBuilder;[m
[31m-import org.springframework.stereotype.Component;[m
 [m
[31m-import jakarta.annotation.PostConstruct;[m
 import java.io.ByteArrayOutputStream;[m
 import java.io.IOException;[m
 import java.io.InputStream;[m
[36m@@ -35,24 +25,19 @@[m [mimport java.time.ZoneId;[m
 import java.util.Collections;[m
 import java.util.Map;[m
 [m
[31m-import static org.camunda.optimize.service.es.schema.index.LicenseIndex.LICENSE;[m
[31m-import static org.camunda.optimize.upgrade.es.ElasticsearchConstants.LICENSE_INDEX_NAME;[m
[31m-import static org.elasticsearch.action.support.WriteRequest.RefreshPolicy.IMMEDIATE;[m
[31m-import static org.elasticsearch.xcontent.XContentFactory.jsonBuilder;[m
[31m-[m
 @RequiredArgsConstructor[m
[31m-@Component[m
 @Slf4j[m
[31m-public class LicenseManager {[m
[32m+[m[32mpublic abstract class LicenseManager {[m
 [m
   private static final String OPTIMIZE_LICENSE_FILE = "OptimizeLicense.txt";[m
[31m-  private final String licenseDocumentId = "license";[m
[32m+[m[32m  protected final String licenseDocumentId = "license";[m
 [m
[31m-  private final OptimizeElasticsearchClient esClient;[m
[31m-[m
[31m-  private String optimizeLicense;[m
[32m+[m[32m  protected String optimizeLicense;[m
   private final Map<String, String> requiredUnifiedKeyMap = Collections.singletonMap("optimize", "true");[m
 [m
[32m+[m[32m  public abstract void storeLicense(String licenseAsString);[m
[32m+[m[32m  protected abstract String retrieveStoredOptimizeLicense();[m
[32m+[m
   @PostConstruct[m
   public void init() {[m
     optimizeLicense = retrieveStoredOptimizeLicense();[m
[36m@@ -101,45 +86,6 @@[m [mpublic class LicenseManager {[m
     this.optimizeLicense = optimizeLicense;[m
   }[m
 [m
[31m-  public void storeLicense(String licenseAsString) {[m
[31m-    XContentBuilder builder;[m
[31m-    try {[m
[31m-      builder = jsonBuilder()[m
[31m-        .startObject()[m
[31m-        .field(LICENSE, licenseAsString)[m
[31m-        .endObject();[m
[31m-    } catch (IOException exception) {[m
[31m-      throw new OptimizeInvalidLicenseException("Could not parse given license. Please check the encoding!");[m
[31m-    }[m
[31m-[m
[31m-    IndexRequest request = new IndexRequest(LICENSE_INDEX_NAME)[m
[31m-      .id(licenseDocumentId)[m
[31m-      .source(builder)[m
[31m-      .setRefreshPolicy(IMMEDIATE);[m
[31m-[m
[31m-    IndexResponse indexResponse;[m
[31m-    try {[m
[31m-      indexResponse = esClient.index(request);[m
[31m-    } catch (IOException e) {[m
[31m-      String reason = "Could not store license in Elasticsearch. Maybe Optimize is not connected to Elasticsearch?";[m
[31m-      log.error(reason, e);[m
[31m-      throw new OptimizeRuntimeException(reason, e);[m
[31m-    }[m
[31m-    boolean licenseWasStored = indexResponse.getShardInfo().getFailed() == 0;[m
[31m-    if (licenseWasStored) {[m
[31m-      optimizeLicense = licenseAsString;[m
[31m-    } else {[m
[31m-      StringBuilder reason = new StringBuilder();[m
[31m-      for (ReplicationResponse.ShardInfo.Failure failure :[m
[31m-        indexResponse.getShardInfo().getFailures()) {[m
[31m-        reason.append(failure.reason()).append("\n");[m
[31m-      }[m
[31m-      String errorMessage = String.format("Could not store license to Elasticsearch. Reason: %s", reason.toString());[m
[31m-      log.error(errorMessage);[m
[31m-      throw new OptimizeRuntimeException(errorMessage);[m
[31m-    }[m
[31m-  }[m
[31m-[m
   private String readFileToString() throws IOException {[m
     InputStream inputStream = this.getClass()[m
       .getClassLoader()[m
[36m@@ -157,26 +103,6 @@[m [mpublic class LicenseManager {[m
     return result.toString(StandardCharsets.UTF_8.name());[m
   }[m
 [m
[31m-  private String retrieveStoredOptimizeLicense() {[m
[31m-    log.debug("Retrieving stored optimize license!");[m
[31m-    GetRequest getRequest = new GetRequest(LICENSE_INDEX_NAME).id(licenseDocumentId);[m
[31m-[m
[31m-    GetResponse getResponse;[m
[31m-    try {[m
[31m-      getResponse = esClient.get(getRequest);[m
[31m-    } catch (IOException e) {[m
[31m-      String reason = "Could not retrieve license from Elasticsearch.";[m
[31m-      log.error(reason, e);[m
[31m-      throw new OptimizeRuntimeException(reason, e);[m
[31m-    }[m
[31m-[m
[31m-    String licenseAsString = null;[m
[31m-    if (getResponse.isExists()) {[m
[31m-      licenseAsString = getResponse.getSource().get(LICENSE).toString();[m
[31m-    }[m
[31m-    return licenseAsString;[m
[31m-  }[m
[31m-[m
   private void validateLicenseExists() {[m
     if (optimizeLicense == null) {[m
       log.info("\n############### Heads up ################\n" +[m
[1mdiff --git a/backend/src/main/java/org/camunda/optimize/service/license/es/LicenseManagerES.java b/backend/src/main/java/org/camunda/optimize/service/license/es/LicenseManagerES.java[m
[1mnew file mode 100644[m
[1mindex 0000000000..43575823ab[m
[1m--- /dev/null[m
[1m+++ b/backend/src/main/java/org/camunda/optimize/service/license/es/LicenseManagerES.java[m
[36m@@ -0,0 +1,100 @@[m
[32m+[m[32m/*[m
[32m+[m[32m * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH under one or more contributor license agreements.[m
[32m+[m[32m * Licensed under a proprietary license. See the License.txt file for more information.[m
[32m+[m[32m * You may not use this file except in compliance with the proprietary license.[m
[32m+[m[32m */[m
[32m+[m[32mpackage org.camunda.optimize.service.license.es;[m
[32m+[m
[32m+[m[32mimport lombok.RequiredArgsConstructor;[m
[32m+[m[32mimport lombok.extern.slf4j.Slf4j;[m
[32m+[m[32mimport org.camunda.optimize.service.es.OptimizeElasticsearchClient;[m
[32m+[m[32mimport org.camunda.optimize.service.exceptions.OptimizeRuntimeException;[m
[32m+[m[32mimport org.camunda.optimize.service.exceptions.license.OptimizeInvalidLicenseException;[m
[32m+[m[32mimport org.camunda.optimize.service.license.LicenseManager;[m
[32m+[m[32mimport org.camunda.optimize.service.util.configuration.condition.ElasticSearchCondition;[m
[32m+[m[32mimport org.elasticsearch.action.get.GetRequest;[m
[32m+[m[32mimport org.elasticsearch.action.get.GetResponse;[m
[32m+[m[32mimport org.elasticsearch.action.index.IndexRequest;[m
[32m+[m[32mimport org.elasticsearch.action.index.IndexResponse;[m
[32m+[m[32mimport org.elasticsearch.action.support.replication.ReplicationResponse;[m
[32m+[m[32mimport org.elasticsearch.xcontent.XContentBuilder;[m
[32m+[m[32mimport org.springframework.context.annotation.Conditional;[m
[32m+[m[32mimport org.springframework.stereotype.Component;[m
[32m+[m
[32m+[m[32mimport java.io.IOException;[m
[32m+[m
[32m+[m[32mimport static org.camunda.optimize.service.es.schema.index.LicenseIndex.LICENSE;[m
[32m+[m[32mimport static org.camunda.optimize.upgrade.es.ElasticsearchConstants.LICENSE_INDEX_NAME;[m
[32m+[m[32mimport static org.elasticsearch.action.support.WriteRequest.RefreshPolicy.IMMEDIATE;[m
[32m+[m[32mimport static org.elasticsearch.xcontent.XContentFactory.jsonBuilder;[m
[32m+[m
[32m+[m[32m@RequiredArgsConstructor[m
[32m+[m[32m@Component[m
[32m+[m[32m@Slf4j[m
[32m+[m[32m@Conditional(ElasticSearchCondition.class)[m
[32m+[m[32mpublic class LicenseManagerES extends LicenseManager {[m
[32m+[m[32m  private final OptimizeElasticsearchClient esClient;[m
[32m+[m
[32m+[m[32m  @Override[m
[32m+[m[32m  protected String retrieveStoredOptimizeLicense() {[m
[32m+[m[32m    log.debug("Retrieving stored optimize license!");[m
[32m+[m[32m    GetRequest getRequest = new GetRequest(LICENSE_INDEX_NAME).id(licenseDocumentId);[m
[32m+[m
[32m+[m[32m    GetResponse getResponse;[m
[32m+[m[32m    try {[m
[32m+[m[32m      getResponse = esClient.get(getRequest);[m
[32m+[m[32m    } catch (IOException e) {[m
[32m+[m[32m      String reason = "Could not retrieve license from Elasticsearch.";[m
[32m+[m[32m      log.error(reason, e);[m
[32m+[m[32m      throw new OptimizeRuntimeException(reason, e);[m
[32m+[m[32m    }[m
[32m+[m
[32m+[m[32m    String licenseAsString = null;[m
[32m+[m[32m    if (getResponse.isExists()) {[m
[32m+[m[32m      licenseAsString = getResponse.getSource().get(LICENSE).toString();[m
[32m+[m[32m    }[m
[32m+[m[32m    return licenseAsString;[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  @Override[m
[32m+[m[32m  public void storeLicense(String licenseAsString)[m
[32m+[m[32m  {[m
[32m+[m[32m    XContentBuilder builder;[m
[32m+[m[32m    try {[m
[32m+[m[32m      builder = jsonBuilder()[m
[32m+[m[32m        .startObject()[m
[32m+[m[32m        .field(LICENSE, licenseAsString)[m
[32m+[m[32m        .endObject();[m
[32m+[m[32m    } catch (IOException exception) {[m
[32m+[m[32m      throw new OptimizeInvalidLicenseException("Could not parse given license. Please check the encoding!");[m
[32m+[m[32m    }[m
[32m+[m
[32m+[m[32m    IndexRequest request = new IndexRequest(LICENSE_INDEX_NAME)[m
[32m+[m[32m      .id(licenseDocumentId)[m
[32m+[m[32m      .source(builder)[m
[32m+[m[32m      .setRefreshPolicy(IMMEDIATE);[m
[32m+[m
[32m+[m[32m    IndexResponse indexResponse;[m
[32m+[m[32m    try {[m
[32m+[m[32m      indexResponse = esClient.index(request);[m
[32m+[m[32m    } catch (IOException e) {[m
[32m+[m[32m      String reason = "Could not store license in Elasticsearch. Maybe Optimize is not connected to Elasticsearch?";[m
[32m+[m[32m      log.error(reason, e);[m
[32m+[m[32m      throw new OptimizeRuntimeException(reason, e);[m
[32m+[m[32m    }[m
[32m+[m[32m    boolean licenseWasStored = indexResponse.getShardInfo().getFailed() == 0;[m
[32m+[m[32m    if (licenseWasStored) {[m
[32m+[m[32m      optimizeLicense = licenseAsString;[m
[32m+[m[32m    } else {[m
[32m+[m[32m      StringBuilder reason = new StringBuilder();[m
[32m+[m[32m      for (ReplicationResponse.ShardInfo.Failure failure :[m
[32m+[m[32m        indexResponse.getShardInfo().getFailures()) {[m
[32m+[m[32m        reason.append(failure.reason()).append("\n");[m
[32m+[m[32m      }[m
[32m+[m[32m      String errorMessage = String.format("Could not store license to Elasticsearch. Reason: %s", reason.toString());[m
[32m+[m[32m      log.error(errorMessage);[m
[32m+[m[32m      throw new OptimizeRuntimeException(errorMessage);[m
[32m+[m[32m    }[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m}[m
[1mdiff --git a/backend/src/main/java/org/camunda/optimize/service/license/os/LicenseManagerOS.java b/backend/src/main/java/org/camunda/optimize/service/license/os/LicenseManagerOS.java[m
[1mnew file mode 100644[m
[1mindex 0000000000..183accc034[m
[1m--- /dev/null[m
[1m+++ b/backend/src/main/java/org/camunda/optimize/service/license/os/LicenseManagerOS.java[m
[36m@@ -0,0 +1,38 @@[m
[32m+[m[32m/*[m
[32m+[m[32m * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH under one or more contributor license agreements.[m
[32m+[m[32m * Licensed under a proprietary license. See the License.txt file for more information.[m
[32m+[m[32m * You may not use this file except in compliance with the proprietary license.[m
[32m+[m[32m */[m
[32m+[m[32mpackage org.camunda.optimize.service.license.os;[m
[32m+[m
[32m+[m[32mimport jakarta.ws.rs.NotSupportedException;[m
[32m+[m[32mimport lombok.RequiredArgsConstructor;[m
[32m+[m[32mimport lombok.extern.slf4j.Slf4j;[m
[32m+[m[32mimport org.camunda.optimize.service.license.LicenseManager;[m
[32m+[m[32mimport org.camunda.optimize.service.os.OptimizeOpensearchClient;[m
[32m+[m[32mimport org.camunda.optimize.service.util.configuration.condition.OpenSearchCondition;[m
[32m+[m[32mimport org.springframework.context.annotation.Conditional;[m
[32m+[m[32mimport org.springframework.stereotype.Component;[m
[32m+[m
[32m+[m[32m@RequiredArgsConstructor[m
[32m+[m[32m@Component[m
[32m+[m[32m@Slf4j[m
[32m+[m[32m@Conditional(OpenSearchCondition.class)[m
[32m+[m[32mpublic class LicenseManagerOS extends LicenseManager {[m
[32m+[m[32m  private final OptimizeOpensearchClient osClient;[m
[32m+[m
[32m+[m[32m  @Override[m
[32m+[m[32m  protected String retrieveStoredOptimizeLicense() {[m
[32m+[m[32m    log.debug("Retrieving stored optimize license!");[m
[32m+[m[32m    // TODO Will be implemented with OPT-7229[m
[32m+[m[32m    throw new NotSupportedException("functionality not yet supported");[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  @Override[m
[32m+[m[32m  public void storeLicense(String licenseAsString)[m
[32m+[m[32m  {[m
[32m+[m[32m    // TODO Will be implemented with OPT-7229[m
[32m+[m[32m    throw new NotSupportedException("functionality not yet supported");[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m}[m
[1mdiff --git a/backend/src/main/java/org/camunda/optimize/service/metadata/CloudOptimizeVersionService.java b/backend/src/main/java/org/camunda/optimize/service/metadata/CloudOptimizeVersionService.java[m
[1mnew file mode 100644[m
[1mindex 0000000000..5077c19948[m
[1m--- /dev/null[m
[1m+++ b/backend/src/main/java/org/camunda/optimize/service/metadata/CloudOptimizeVersionService.java[m
[36m@@ -0,0 +1,22 @@[m
[32m+[m[32m/*[m
[32m+[m[32m * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH under one or more contributor license agreements.[m
[32m+[m[32m * Licensed under a proprietary license. See the License.txt file for more information.[m
[32m+[m[32m * You may not use this file except in compliance with the proprietary license.[m
[32m+[m[32m */[m
[32m+[m[32mpackage org.camunda.optimize.service.metadata;[m
[32m+[m
[32m+[m[32mimport org.camunda.optimize.service.util.configuration.condition.CamundaCloudCondition;[m
[32m+[m[32mimport org.springframework.context.annotation.Conditional;[m
[32m+[m[32mimport org.springframework.stereotype.Component;[m
[32m+[m
[32m+[m[32m@Component[m
[32m+[m[32m@Conditional(CamundaCloudCondition.class)[m
[32m+[m[32mpublic class CloudOptimizeVersionService extends OptimizeVersionService {[m
[32m+[m
[32m+[m[32m  private static final String C8_VERSION = "8.3.0";[m
[32m+[m
[32m+[m[32m  public CloudOptimizeVersionService() {[m
[32m+[m[32m    super(Version.RAW_VERSION.endsWith("-SNAPSHOT") ? C8_VERSION + "-SNAPSHOT" : C8_VERSION, C8_VERSION);[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m}[m
[1mdiff --git a/backend/src/main/java/org/camunda/optimize/service/metadata/OptimizeVersionService.java b/backend/src/main/java/org/camunda/optimize/service/metadata/OptimizeVersionService.java[m
[1mindex a12345ca91..1f38473382 100644[m
[1m--- a/backend/src/main/java/org/camunda/optimize/service/metadata/OptimizeVersionService.java[m
[1m+++ b/backend/src/main/java/org/camunda/optimize/service/metadata/OptimizeVersionService.java[m
[36m@@ -5,25 +5,16 @@[m
  */[m
 package org.camunda.optimize.service.metadata;[m
 [m
[32m+[m[32mimport lombok.AllArgsConstructor;[m
[32m+[m[32mimport lombok.Getter;[m
 import org.springframework.stereotype.Component;[m
 [m
 @Component[m
[31m-public class OptimizeVersionService {[m
[32m+[m[32m@Getter[m
[32m+[m[32m@AllArgsConstructor[m
[32m+[m[32mpublic abstract class OptimizeVersionService {[m
 [m
   private final String rawVersion;[m
   private final String version;[m
 [m
[31m-  public OptimizeVersionService() {[m
[31m-    this.rawVersion = Version.RAW_VERSION;[m
[31m-    this.version = Version.VERSION;[m
[31m-  }[m
[31m-[m
[31m-  public String getVersion() {[m
[31m-    return version;[m
[31m-  }[m
[31m-[m
[31m-  public String getRawVersion() {[m
[31m-    return rawVersion;[m
[31m-  }[m
[31m-[m
 }[m
[1mdiff --git a/backend/src/main/java/org/camunda/optimize/service/metadata/PlatformOptimizeVersionService.java b/backend/src/main/java/org/camunda/optimize/service/metadata/PlatformOptimizeVersionService.java[m
[1mnew file mode 100644[m
[1mindex 0000000000..487b849ca1[m
[1m--- /dev/null[m
[1m+++ b/backend/src/main/java/org/camunda/optimize/service/metadata/PlatformOptimizeVersionService.java[m
[36m@@ -0,0 +1,20 @@[m
[32m+[m[32m/*[m
[32m+[m[32m * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH under one or more contributor license agreements.[m
[32m+[m[32m * Licensed under a proprietary license. See the License.txt file for more information.[m
[32m+[m[32m * You may not use this file except in compliance with the proprietary license.[m
[32m+[m[32m */[m
[32m+[m[32mpackage org.camunda.optimize.service.metadata;[m
[32m+[m
[32m+[m[32mimport org.camunda.optimize.service.util.configuration.condition.CamundaPlatformCondition;[m
[32m+[m[32mimport org.springframework.context.annotation.Conditional;[m
[32m+[m[32mimport org.springframework.stereotype.Component;[m
[32m+[m
[32m+[m[32m@Component[m
[32m+[m[32m@Conditional(CamundaPlatformCondition.class)[m
[32m+[m[32mpublic class PlatformOptimizeVersionService extends OptimizeVersionService {[m
[32m+[m
[32m+[m[32m  public PlatformOptimizeVersionService() {[m
[32m+[m[32m    super(Version.RAW_VERSION, Version.VERSION);[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m}[m
[1mdiff --git a/backend/src/main/java/org/camunda/optimize/service/onboarding/OnboardingEmailNotificationService.java b/backend/src/main/java/org/camunda/optimize/service/onboarding/OnboardingEmailNotificationService.java[m
[1mindex 41ce3034a5..ad30236dc6 100644[m
[1m--- a/backend/src/main/java/org/camunda/optimize/service/onboarding/OnboardingEmailNotificationService.java[m
[1m+++ b/backend/src/main/java/org/camunda/optimize/service/onboarding/OnboardingEmailNotificationService.java[m
[36m@@ -10,24 +10,19 @@[m [mimport lombok.NonNull;[m
 import lombok.extern.slf4j.Slf4j;[m
 import org.camunda.optimize.dto.optimize.DefinitionOptimizeResponseDto;[m
 import org.camunda.optimize.dto.optimize.DefinitionType;[m
[31m-import org.camunda.optimize.dto.optimize.TenantDto;[m
 import org.camunda.optimize.dto.optimize.UserDto;[m
 import org.camunda.optimize.dto.optimize.query.processoverview.ProcessOverviewDto;[m
 import org.camunda.optimize.service.DefinitionService;[m
[31m-import org.camunda.optimize.service.TenantService;[m
 import org.camunda.optimize.service.email.EmailService;[m
 import org.camunda.optimize.service.es.reader.ProcessOverviewReader;[m
 import org.camunda.optimize.service.identity.AbstractIdentityService;[m
[32m+[m[32mimport org.camunda.optimize.service.tenant.TenantService;[m
 import org.camunda.optimize.service.util.configuration.ConfigurationService;[m
 import org.springframework.stereotype.Component;[m
 [m
[31m-import java.util.List;[m
 import java.util.Map;[m
 import java.util.Optional;[m
 [m
[31m-import static java.util.stream.Collectors.toList;[m
[31m-import static org.camunda.optimize.dto.optimize.ReportConstants.ALL_VERSIONS;[m
[31m-[m
 @AllArgsConstructor[m
 @Component[m
 @Slf4j[m
[36m@@ -54,11 +49,9 @@[m [mpublic class OnboardingEmailNotificationService {[m
       final Optional<UserDto> optProcessOwner = identityService.getUserById(ownerId);[m
       if (optProcessOwner.isPresent()) {[m
         UserDto processOwner = optProcessOwner.get();[m
[31m-        final String definitionName = definitionService.getDefinition([m
[32m+[m[32m        final String definitionName = definitionService.getLatestCachedDefinitionOnAnyTenant([m
           DefinitionType.PROCESS,[m
[31m-          overviewDto.getProcessDefinitionKey(),[m
[31m-          List.of(ALL_VERSIONS),[m
[31m-          tenantService.getTenants().stream().map(TenantDto::getId).collect(toList())[m
[32m+[m[32m          overviewDto.getProcessDefinitionKey()[m
         ).map(DefinitionOptimizeResponseDto::getName).orElse(overviewDto.getProcessDefinitionKey());[m
 [m
         emailService.sendTemplatedEmailWithErrorHandling([m
[1mdiff --git a/backend/src/main/java/org/camunda/optimize/service/os/OptimizeOpensearchClientConfiguration.java b/backend/src/main/java/org/camunda/optimize/service/os/OptimizeOpensearchClientConfiguration.java[m
[1mnew file mode 100644[m
[1mindex 0000000000..7036b36db4[m
[1m--- /dev/null[m
[1m+++ b/backend/src/main/java/org/camunda/optimize/service/os/OptimizeOpensearchClientConfiguration.java[m
[36m@@ -0,0 +1,43 @@[m
[32m+[m[32m/*[m
[32m+[m[32m * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH under one or more contributor license agreements.[m
[32m+[m[32m * Licensed under a proprietary license. See the License.txt file for more information.[m
[32m+[m[32m * You may not use this file except in compliance with the proprietary license.[m
[32m+[m[32m */[m
[32m+[m[32mpackage org.camunda.optimize.service.os;[m
[32m+[m
[32m+[m[32mimport lombok.AllArgsConstructor;[m
[32m+[m[32mimport lombok.SneakyThrows;[m
[32m+[m[32mimport lombok.extern.slf4j.Slf4j;[m
[32m+[m[32mimport org.camunda.optimize.plugin.OpensearchCustomHeaderProvider;[m
[32m+[m[32mimport org.camunda.optimize.service.es.schema.OptimizeIndexNameService;[m
[32m+[m[32mimport org.camunda.optimize.service.util.BackoffCalculator;[m
[32m+[m[32mimport org.camunda.optimize.service.util.configuration.ConfigurationService;[m
[32m+[m[32mimport org.camunda.optimize.service.util.configuration.condition.OpenSearchCondition;[m
[32m+[m[32mimport org.springframework.context.annotation.Bean;[m
[32m+[m[32mimport org.springframework.context.annotation.Conditional;[m
[32m+[m[32mimport org.springframework.context.annotation.Configuration;[m
[32m+[m
[32m+[m[32m@Configuration[m
[32m+[m[32m@AllArgsConstructor[m
[32m+[m[32m@Slf4j[m
[32m+[m[32m@Conditional(OpenSearchCondition.class)[m
[32m+[m[32mpublic class OptimizeOpensearchClientConfiguration {[m
[32m+[m[32m  private final ConfigurationService configurationService;[m
[32m+[m[32m  private final OptimizeIndexNameService optimizeIndexNameService;[m
[32m+[m[32m  // private final OpenSearchSchemaManager openSearchSchemaManager; // TODO re-add with OPT-7229[m
[32m+[m[32m  private final OpensearchCustomHeaderProvider opensearchCustomHeaderProvider;[m
[32m+[m
[32m+[m[32m  @Bean(destroyMethod = "close")[m
[32m+[m[32m  public OptimizeOpensearchClient optimizeOpensearchClient(final BackoffCalculator backoffCalculator) {[m
[32m+[m[32m    return createOptimizeOpensearchClient(backoffCalculator);[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  @SneakyThrows[m
[32m+[m[32m  public OptimizeOpensearchClient createOptimizeOpensearchClient(final BackoffCalculator backoffCalculator) {[m
[32m+[m[32m    return OptimizeOpensearchClientFactory.create([m
[32m+[m[32m      configurationService, optimizeIndexNameService,[m
[32m+[m[32m      opensearchCustomHeaderProvider, backoffCalculator[m
[32m+[m[32m    );[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m}[m
[1mdiff --git a/backend/src/main/java/org/camunda/optimize/service/os/OptimizeOpensearchClientFactory.java b/backend/src/main/java/org/camunda/optimize/service/os/OptimizeOpensearchClientFactory.java[m
[1mnew file mode 100644[m
[1mindex 0000000000..19b2e7cc1a[m
[1m--- /dev/null[m
[1m+++ b/backend/src/main/java/org/camunda/optimize/service/os/OptimizeOpensearchClientFactory.java[m
[36m@@ -0,0 +1,292 @@[m
[32m+[m[32m/*[m
[32m+[m[32m * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH under one or more contributor license agreements.[m
[32m+[m[32m * Licensed under a proprietary license. See the License.txt file for more information.[m
[32m+[m[32m * You may not use this file except in compliance with the proprietary license.[m
[32m+[m[32m */[m
[32m+[m[32mpackage org.camunda.optimize.service.os;[m
[32m+[m
[32m+[m[32mimport com.fasterxml.jackson.databind.ObjectMapper;[m
[32m+[m[32mimport lombok.AccessLevel;[m
[32m+[m[32mimport lombok.NoArgsConstructor;[m
[32m+[m[32mimport lombok.extern.slf4j.Slf4j;[m
[32m+[m[32mimport net.jodah.failsafe.RetryPolicy;[m
[32m+[m[32mimport org.apache.hc.client5.http.auth.AuthScope;[m
[32m+[m[32mimport org.apache.hc.client5.http.auth.UsernamePasswordCredentials;[m
[32m+[m[32mimport org.apache.hc.client5.http.config.RequestConfig;[m
[32m+[m[32mimport org.apache.hc.client5.http.impl.async.HttpAsyncClientBuilder;[m
[32m+[m[32mimport org.apache.hc.client5.http.impl.auth.BasicCredentialsProvider;[m
[32m+[m[32mimport org.apache.hc.client5.http.impl.nio.PoolingAsyncClientConnectionManager;[m
[32m+[m[32mimport org.apache.hc.client5.http.impl.nio.PoolingAsyncClientConnectionManagerBuilder;[m
[32m+[m[32mimport org.apache.hc.client5.http.ssl.ClientTlsStrategyBuilder;[m
[32m+[m[32mimport org.apache.hc.core5.http.HttpHost;[m
[32m+[m[32mimport org.apache.hc.core5.http.nio.ssl.TlsStrategy;[m
[32m+[m[32mimport org.apache.hc.core5.util.Timeout;[m
[32m+[m[32mimport org.apache.http.conn.ssl.NoopHostnameVerifier;[m
[32m+[m[32mimport org.apache.http.conn.ssl.TrustSelfSignedStrategy;[m
[32m+[m[32mimport org.apache.http.ssl.SSLContexts;[m
[32m+[m[32mimport org.apache.http.ssl.TrustStrategy;[m
[32m+[m[32mimport org.camunda.optimize.plugin.OpensearchCustomHeaderProvider;[m
[32m+[m[32mimport org.camunda.optimize.service.es.schema.OptimizeIndexNameService;[m
[32m+[m[32mimport org.camunda.optimize.service.es.schema.RequestOptionsProvider;[m
[32m+[m[32mimport org.camunda.optimize.service.exceptions.OptimizeRuntimeException;[m
[32m+[m[32mimport org.camunda.optimize.service.util.BackoffCalculator;[m
[32m+[m[32mimport org.camunda.optimize.service.util.configuration.ConfigurationService;[m
[32m+[m[32mimport org.camunda.optimize.service.util.configuration.condition.OpenSearchCondition;[m
[32m+[m[32mimport org.camunda.optimize.service.util.configuration.elasticsearch.DatabaseConnectionNodeConfiguration;[m
[32m+[m[32mimport org.elasticsearch.client.RequestOptions;[m
[32m+[m[32mimport org.opensearch.client.json.jackson.JacksonJsonpMapper;[m
[32m+[m[32mimport org.opensearch.client.opensearch.OpenSearchClient;[m
[32m+[m[32mimport org.opensearch.client.opensearch._types.OpenSearchException;[m
[32m+[m[32mimport org.opensearch.client.transport.OpenSearchTransport;[m
[32m+[m[32mimport org.opensearch.client.transport.httpclient5.ApacheHttpClient5TransportBuilder;[m
[32m+[m[32mimport org.springframework.context.annotation.Conditional;[m
[32m+[m[32mimport org.springframework.util.StringUtils;[m
[32m+[m
[32m+[m[32mimport javax.net.ssl.SSLContext;[m
[32m+[m[32mimport java.io.BufferedInputStream;[m
[32m+[m[32mimport java.io.FileInputStream;[m
[32m+[m[32mimport java.io.IOException;[m
[32m+[m[32mimport java.net.URI;[m
[32m+[m[32mimport java.net.URISyntaxException;[m
[32m+[m[32mimport java.security.KeyManagementException;[m
[32m+[m[32mimport java.security.KeyStore;[m
[32m+[m[32mimport java.security.KeyStoreException;[m
[32m+[m[32mimport java.security.NoSuchAlgorithmException;[m
[32m+[m[32mimport java.security.cert.Certificate;[m
[32m+[m[32mimport java.security.cert.CertificateException;[m
[32m+[m[32mimport java.security.cert.CertificateFactory;[m
[32m+[m[32mimport java.time.Duration;[m
[32m+[m
[32m+[m[32mimport static org.camunda.optimize.service.util.DatabaseVersionChecker.checkOSVersionSupport;[m
[32m+[m
[32m+[m
[32m+[m[32m@NoArgsConstructor(access = AccessLevel.PRIVATE)[m
[32m+[m[32m@Conditional(OpenSearchCondition.class)[m
[32m+[m[32m@Slf4j[m
[32m+[m[32mpublic class OptimizeOpensearchClientFactory {[m
[32m+[m
[32m+[m[32m  // TODO add the Schema manager when implementing OPT-7229[m
[32m+[m[32m  public static OptimizeOpensearchClient create(final ConfigurationService configurationService,[m
[32m+[m[32m                                                   final OptimizeIndexNameService optimizeIndexNameService,[m
[32m+[m[32m                                                   final OpensearchCustomHeaderProvider opensearchCustomHeaderProvider,[m
[32m+[m[32m                                                   final BackoffCalculator backoffCalculator) throws IOException {[m
[32m+[m
[32m+[m[32m    log.info("Creating OpenSearch connection...");[m
[32m+[m[32m    final RequestOptionsProvider requestOptionsProvider =[m
[32m+[m[32m      new RequestOptionsProvider(opensearchCustomHeaderProvider.getPlugins(), configurationService);[m
[32m+[m[32m    final HttpHost host = getHttpHost(configurationService.getFirstOpensearchConnectionNode());[m
[32m+[m[32m    final ApacheHttpClient5TransportBuilder builder =[m
[32m+[m[32m        ApacheHttpClient5TransportBuilder.builder(host);[m
[32m+[m
[32m+[m[32m    builder.setHttpClientConfigCallback([m
[32m+[m[32m        httpClientBuilder -> {[m
[32m+[m[32m          configureHttpClient(httpClientBuilder, configurationService);[m
[32m+[m[32m          return httpClientBuilder;[m
[32m+[m[32m        });[m
[32m+[m
[32m+[m[32m    builder.setRequestConfigCallback([m
[32m+[m[32m        requestConfigBuilder -> {[m
[32m+[m[32m          setTimeouts(requestConfigBuilder, configurationService);[m
[32m+[m[32m          return requestConfigBuilder;[m
[32m+[m[32m        });[m
[32m+[m
[32m+[m[32m    final JacksonJsonpMapper jsonpMapper = new JacksonJsonpMapper(new ObjectMapper());[m
[32m+[m[32m    builder.setMapper(jsonpMapper);[m
[32m+[m
[32m+[m[32m    final OpenSearchTransport transport = builder.build();[m
[32m+[m[32m    final OpenSearchClient openSearchClient = new OpenSearchClient(transport);[m
[32m+[m[32m    waitForOpensearch(openSearchClient, backoffCalculator, requestOptionsProvider.getRequestOptions());[m
[32m+[m[32m    log.info("OpenSearch cluster successfully started");[m
[32m+[m
[32m+[m[32m    return new OptimizeOpensearchClient(openSearchClient, optimizeIndexNameService, requestOptionsProvider);[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  private static void waitForOpensearch(final OpenSearchClient osClient,[m
[32m+[m[32m                                       final BackoffCalculator backoffCalculator,[m
[32m+[m[32m                                       final RequestOptions requestOptions) throws IOException {[m
[32m+[m[32m    boolean isConnected = false;[m
[32m+[m[32m    while (!isConnected) {[m
[32m+[m[32m      try {[m
[32m+[m[32m        isConnected = getNumberOfClusterNodes(osClient) > 0;[m
[32m+[m[32m      } catch (final Exception e) {[m
[32m+[m[32m        log.error([m
[32m+[m[32m          "Can't connect to any Opensearch node {}. Please check the connection!",[m
[32m+[m[32m          osClient.nodes(), e[m
[32m+[m[32m        );[m
[32m+[m[32m      } finally {[m
[32m+[m[32m        if (!isConnected) {[m
[32m+[m[32m          long sleepTime = backoffCalculator.calculateSleepTime();[m
[32m+[m[32m          log.info("No Opensearch nodes available, waiting [{}] ms to retry connecting", sleepTime);[m
[32m+[m[32m          try {[m
[32m+[m[32m            Thread.sleep(sleepTime);[m
[32m+[m[32m          } catch (final InterruptedException e) {[m
[32m+[m[32m            log.warn("Got interrupted while waiting to retry connecting to Opensearch.", e);[m
[32m+[m[32m            Thread.currentThread().interrupt();[m
[32m+[m[32m          }[m
[32m+[m[32m        }[m
[32m+[m[32m      }[m
[32m+[m[32m    }[m
[32m+[m[32m    checkOSVersionSupport(osClient, requestOptions);[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  public static String getCurrentOSVersion(final OpenSearchClient osClient) throws IOException {[m
[32m+[m[32m    String version = osClient.info().version().number();[m
[32m+[m[32m    return version;[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  private static int getNumberOfClusterNodes(final OpenSearchClient openSearchClient) throws IOException {[m
[32m+[m[32m    return openSearchClient.cluster().health().numberOfNodes();[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m
[32m+[m[32m  private static HttpHost getHttpHost(DatabaseConnectionNodeConfiguration configuration) {[m
[32m+[m[32m    String uriConfig = String.format("http://%s:%d", configuration.getHost(), configuration.getHttpPort());[m
[32m+[m[32m    try {[m
[32m+[m[32m      final URI uri = new URI(uriConfig);[m
[32m+[m[32m      return new HttpHost(uri.getScheme(), uri.getHost(), uri.getPort());[m
[32m+[m[32m    } catch (URISyntaxException e) {[m
[32m+[m[32m      throw new OptimizeRuntimeException("Error in url: " + uriConfig, e);[m
[32m+[m[32m    }[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  private static HttpAsyncClientBuilder setupAuthentication([m
[32m+[m[32m      final HttpAsyncClientBuilder builder, ConfigurationService configurationService) {[m
[32m+[m[32m    // TODO change to opensearch?[m
[32m+[m[32m    String username = configurationService.getElasticsearchSecurityUsername();[m
[32m+[m[32m    String password = configurationService.getElasticsearchSecurityPassword();[m
[32m+[m[32m    if (!StringUtils.hasText(username)[m
[32m+[m[32m        || !StringUtils.hasText(password)) {[m
[32m+[m[32m      log.warn([m
[32m+[m[32m          "Username and/or password for are empty. Basic authentication for OpenSearch is not used.");[m
[32m+[m[32m      return builder;[m
[32m+[m[32m    }[m
[32m+[m
[32m+[m[32m    final BasicCredentialsProvider credentialsProvider = new BasicCredentialsProvider();[m
[32m+[m[32m    credentialsProvider.setCredentials([m
[32m+[m[32m        new AuthScope(getHttpHost(configurationService.getFirstOpensearchConnectionNode())),[m
[32m+[m[32m        new UsernamePasswordCredentials([m
[32m+[m[32m            username, password.toCharArray()));[m
[32m+[m
[32m+[m[32m    builder.setDefaultCredentialsProvider(credentialsProvider);[m
[32m+[m[32m    return builder;[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  private static void setupSSLContext([m
[32m+[m[32m    HttpAsyncClientBuilder httpAsyncClientBuilder, ConfigurationService configurationService) {[m
[32m+[m[32m    try {[m
[32m+[m[32m      final ClientTlsStrategyBuilder tlsStrategyBuilder = ClientTlsStrategyBuilder.create();[m
[32m+[m[32m      tlsStrategyBuilder.setSslContext(getSSLContext(configurationService));[m
[32m+[m[32m      if (configurationService.getElasticsearchSkipHostnameVerification()) {[m
[32m+[m[32m        tlsStrategyBuilder.setHostnameVerifier(NoopHostnameVerifier.INSTANCE);[m
[32m+[m[32m      }[m
[32m+[m
[32m+[m[32m      final TlsStrategy tlsStrategy = tlsStrategyBuilder.build();[m
[32m+[m[32m      final PoolingAsyncClientConnectionManager connectionManager =[m
[32m+[m[32m          PoolingAsyncClientConnectionManagerBuilder.create().setTlsStrategy(tlsStrategy).build();[m
[32m+[m
[32m+[m[32m      httpAsyncClientBuilder.setConnectionManager(connectionManager);[m
[32m+[m
[32m+[m[32m    } catch (Exception e) {[m
[32m+[m[32m      log.error("Error in setting up SSLContext", e);[m
[32m+[m[32m    }[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  private static SSLContext getSSLContext(ConfigurationService configurationService)[m
[32m+[m
[32m+[m[32m      throws KeyStoreException, NoSuchAlgorithmException, KeyManagementException {[m
[32m+[m[32m    final KeyStore truststore = loadCustomTrustStore(configurationService);[m
[32m+[m[32m    final TrustStrategy trustStrategy =[m
[32m+[m[32m        configurationService.getElasticsearchSecuritySslSelfSigned() ? new TrustSelfSignedStrategy() : null; // default;[m
[32m+[m[32m    if (truststore.size() > 0) {[m
[32m+[m[32m      return SSLContexts.custom().loadTrustMaterial(truststore, trustStrategy).build();[m
[32m+[m[32m    } else {[m
[32m+[m[32m      // default if custom truststore is empty[m
[32m+[m[32m      return SSLContext.getDefault();[m
[32m+[m[32m    }[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  private static KeyStore loadCustomTrustStore(ConfigurationService configurationService) {[m
[32m+[m[32m    try {[m
[32m+[m[32m      final KeyStore trustStore = KeyStore.getInstance(KeyStore.getDefaultType());[m
[32m+[m[32m      trustStore.load(null);[m
[32m+[m[32m      // load custom es server certificate if configured[m
[32m+[m[32m      final String serverCertificate = configurationService.getElasticsearchSecuritySSLCertificate();[m
[32m+[m[32m      if (serverCertificate != null) {[m
[32m+[m[32m        setCertificateInTrustStore(trustStore, serverCertificate);[m
[32m+[m[32m      }[m
[32m+[m[32m      return trustStore;[m
[32m+[m[32m    } catch (Exception e) {[m
[32m+[m[32m      final String message =[m
[32m+[m[32m          "Could not create certificate trustStore for the secured OpenSearch Connection!";[m
[32m+[m[32m      throw new OptimizeRuntimeException(message, e);[m
[32m+[m[32m    }[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  private static void setCertificateInTrustStore([m
[32m+[m[32m    final KeyStore trustStore, final String serverCertificate) {[m
[32m+[m[32m    try {[m
[32m+[m[32m      final Certificate cert = loadCertificateFromPath(serverCertificate);[m
[32m+[m[32m      trustStore.setCertificateEntry("opensearch-host", cert);[m
[32m+[m[32m    } catch (Exception e) {[m
[32m+[m[32m      final String message =[m
[32m+[m[32m          "Could not load configured server certificate for the secured OpenSearch Connection!";[m
[32m+[m[32m      throw new OptimizeRuntimeException(message, e);[m
[32m+[m[32m    }[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  private static Certificate loadCertificateFromPath(final String certificatePath)[m
[32m+[m[32m      throws IOException, CertificateException {[m
[32m+[m[32m    final Certificate cert;[m
[32m+[m[32m    try (BufferedInputStream bis = new BufferedInputStream(new FileInputStream(certificatePath))) {[m
[32m+[m[32m      final CertificateFactory cf = CertificateFactory.getInstance("X.509");[m
[32m+[m
[32m+[m[32m      if (bis.available() > 0) {[m
[32m+[m[32m        cert = cf.generateCertificate(bis);[m
[32m+[m[32m        log.debug("Found certificate: {}", cert);[m
[32m+[m[32m      } else {[m
[32m+[m[32m        throw new OptimizeRuntimeException([m
[32m+[m[32m            "Could not load certificate from file, file is empty. File: " + certificatePath);[m
[32m+[m[32m      }[m
[32m+[m[32m    }[m
[32m+[m[32m    return cert;[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  private static HttpAsyncClientBuilder configureHttpClient(HttpAsyncClientBuilder httpAsyncClientBuilder,[m
[32m+[m[32m                                                     ConfigurationService configurationService) {[m
[32m+[m[32m    setupAuthentication(httpAsyncClientBuilder, configurationService);[m
[32m+[m[32m    if (configurationService.getElasticsearchSecuritySSLEnabled()) {[m
[32m+[m[32m      setupSSLContext(httpAsyncClientBuilder, configurationService);[m
[32m+[m[32m    }[m
[32m+[m[32m    return httpAsyncClientBuilder;[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  private static RequestConfig.Builder setTimeouts([m
[32m+[m[32m      final RequestConfig.Builder builder, final ConfigurationService configurationService) {[m
[32m+[m
[32m+[m[32m    builder.setResponseTimeout(Timeout.ofMilliseconds(configurationService.getElasticsearchConnectionTimeout()));[m
[32m+[m[32m    //TODO check[m
[32m+[m
[32m+[m[32m    builder.setConnectTimeout(Timeout.ofMilliseconds(configurationService.getElasticsearchConnectionTimeout()));[m
[32m+[m[32m    //TODO check[m
[32m+[m[32m    return builder;[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  private RetryPolicy<Boolean> getConnectionRetryPolicy(ConfigurationService configurationService) {[m
[32m+[m[32m    final String logMessage = String.format("connect to OpenSearch at %s",[m
[32m+[m[32m                                            configurationService.getFirstOpensearchConnectionNode().getHost());[m
[32m+[m[32m    return new RetryPolicy<Boolean>()[m
[32m+[m[32m        .handle(IOException.class, OpenSearchException.class)[m
[32m+[m[32m        .withDelay(Duration.ofSeconds(3))[m
[32m+[m[32m        .withMaxAttempts(50)[m
[32m+[m[32m        .onRetry([m
[32m+[m[32m            e ->[m
[32m+[m[32m                log.info([m
[32m+[m[32m                    "Retrying #{} {} due to {}",[m
[32m+[m[32m                    e.getAttemptCount(),[m
[32m+[m[32m                    logMessage,[m
[32m+[m[32m                    e.getLastFailure()))[m
[32m+[m[32m        .onAbort(e -> log.error("Abort {} by {}", logMessage, e.getFailure()))[m
[32m+[m[32m        .onRetriesExceeded([m
[32m+[m[32m            e -> log.error("Retries {} exceeded for {}", e.getAttemptCount(), logMessage));[m
[32m+[m[32m  }[m
[32m+[m[32m}[m
[1mdiff --git a/backend/src/main/java/org/camunda/optimize/service/os/writer/SharingWriterOS.java b/backend/src/main/java/org/camunda/optimize/service/os/writer/SharingWriterOS.java[m
[1mnew file mode 100644[m
[1mindex 0000000000..e3fb4bb2b3[m
[1m--- /dev/null[m
[1m+++ b/backend/src/main/java/org/camunda/optimize/service/os/writer/SharingWriterOS.java[m
[36m@@ -0,0 +1,142 @@[m
[32m+[m[32m/*[m
[32m+[m[32m * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH under one or more contributor license agreements.[m
[32m+[m[32m * Licensed under a proprietary license. See the License.txt file for more information.[m
[32m+[m[32m * You may not use this file except in compliance with the proprietary license.[m
[32m+[m[32m */[m
[32m+[m[32mpackage org.camunda.optimize.service.os.writer;[m
[32m+[m
[32m+[m[32mimport jakarta.ws.rs.NotFoundException;[m
[32m+[m[32mimport lombok.AllArgsConstructor;[m
[32m+[m[32mimport lombok.extern.slf4j.Slf4j;[m
[32m+[m[32mimport org.camunda.optimize.dto.optimize.query.sharing.DashboardShareRestDto;[m
[32m+[m[32mimport org.camunda.optimize.dto.optimize.query.sharing.ReportShareRestDto;[m
[32m+[m[32mimport org.camunda.optimize.service.db.writer.SharingWriter;[m
[32m+[m[32mimport org.camunda.optimize.service.exceptions.OptimizeRuntimeException;[m
[32m+[m[32mimport org.camunda.optimize.service.os.OptimizeOpensearchClient;[m
[32m+[m[32mimport org.camunda.optimize.service.util.IdGenerator;[m
[32m+[m[32mimport org.camunda.optimize.service.util.configuration.condition.OpenSearchCondition;[m
[32m+[m[32mimport org.opensearch.client.opensearch._types.Result;[m
[32m+[m[32mimport org.opensearch.client.opensearch.core.DeleteResponse;[m
[32m+[m[32mimport org.opensearch.client.opensearch.core.IndexRequest;[m
[32m+[m[32mimport org.opensearch.client.opensearch.core.IndexResponse;[m
[32m+[m[32mimport org.springframework.context.annotation.Conditional;[m
[32m+[m[32mimport org.springframework.stereotype.Component;[m
[32m+[m
[32m+[m[32mimport static org.camunda.optimize.upgrade.es.ElasticsearchConstants.DASHBOARD_SHARE_INDEX_NAME;[m
[32m+[m[32mimport static org.camunda.optimize.upgrade.es.ElasticsearchConstants.REPORT_SHARE_INDEX_NAME;[m
[32m+[m
[32m+[m
[32m+[m[32m@AllArgsConstructor[m
[32m+[m[32m@Component[m
[32m+[m[32m@Slf4j[m
[32m+[m[32m@Conditional(OpenSearchCondition.class)[m
[32m+[m[32mpublic class SharingWriterOS implements SharingWriter {[m
[32m+[m
[32m+[m[32m  private final OptimizeOpensearchClient osClient;[m
[32m+[m
[32m+[m[32m  public ReportShareRestDto saveReportShare(final ReportShareRestDto createSharingDto) {[m
[32m+[m[32m    log.debug("Writing new report share to Opensearch");[m
[32m+[m[32m    String id = IdGenerator.getNextId();[m
[32m+[m[32m    createSharingDto.setId(id);[m
[32m+[m
[32m+[m[32m    final IndexRequest.Builder<ReportShareRestDto> indexRequestBuilder =[m
[32m+[m[32m      new IndexRequest.Builder<ReportShareRestDto>()[m
[32m+[m[32m      .index(REPORT_SHARE_INDEX_NAME) // TODO Check that prefix works[m
[32m+[m[32m      .id(createSharingDto.getId())[m
[32m+[m[32m      .document(createSharingDto);[m
[32m+[m
[32m+[m[32m    IndexResponse indexResponse = osClient.index(indexRequestBuilder);[m
[32m+[m
[32m+[m[32m    if (!indexResponse.result().equals(Result.Created)) {[m
[32m+[m[32m      String message = "Could not write report share to Opensearch.";[m
[32m+[m[32m      log.error(message);[m
[32m+[m[32m      throw new OptimizeRuntimeException(message);[m
[32m+[m[32m    }[m
[32m+[m
[32m+[m[32m    log.debug("report share with id [{}] for resource [{}] has been created", id, createSharingDto.getReportId());[m
[32m+[m[32m    return createSharingDto;[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  public DashboardShareRestDto saveDashboardShare(final DashboardShareRestDto createSharingDto) {[m
[32m+[m[32m    log.debug("Writing new dashboard share to Opensearch");[m
[32m+[m[32m    String id = IdGenerator.getNextId();[m
[32m+[m[32m    createSharingDto.setId(id);[m
[32m+[m
[32m+[m[32m    final IndexRequest.Builder<DashboardShareRestDto> indexRequestBuilder =[m
[32m+[m[32m      new IndexRequest.Builder<DashboardShareRestDto>()[m
[32m+[m[32m        .index(DASHBOARD_SHARE_INDEX_NAME) // TODO Check that prefix works[m
[32m+[m[32m        .id(createSharingDto.getId())[m
[32m+[m[32m        .document(createSharingDto);[m
[32m+[m
[32m+[m[32m    IndexResponse indexResponse = osClient.index(indexRequestBuilder);[m
[32m+[m
[32m+[m[32m    if (!indexResponse.result().equals(Result.Created)) {[m
[32m+[m[32m      String message = "Could not write dashboard share to Opensearch";[m
[32m+[m[32m      log.error(message);[m
[32m+[m[32m      throw new OptimizeRuntimeException(message);[m
[32m+[m[32m    }[m
[32m+[m
[32m+[m[32m    log.debug([m
[32m+[m[32m      "dashboard share with id [{}] for resource [{}] has been created",[m
[32m+[m[32m      id,[m
[32m+[m[32m      createSharingDto.getDashboardId()[m
[32m+[m[32m    );[m
[32m+[m[32m    return createSharingDto;[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  public void updateDashboardShare(final DashboardShareRestDto updatedShare) {[m
[32m+[m[32m    String id = updatedShare.getId();[m
[32m+[m
[32m+[m[32m    final IndexRequest.Builder<DashboardShareRestDto> indexRequestBuilder =[m
[32m+[m[32m      new IndexRequest.Builder<DashboardShareRestDto>()[m
[32m+[m[32m        .index(DASHBOARD_SHARE_INDEX_NAME) // TODO Check that prefix works[m
[32m+[m[32m        .id(updatedShare.getId())[m
[32m+[m[32m        .document(updatedShare);[m
[32m+[m
[32m+[m[32m    IndexResponse indexResponse = osClient.index(indexRequestBuilder);[m
[32m+[m
[32m+[m[32m    if (!indexResponse.result().equals(Result.Created) &&[m
[32m+[m[32m        !indexResponse.result().equals(Result.Updated)) {[m
[32m+[m[32m      String message = String.format([m
[32m+[m[32m        "Was not able to update dashboard share with id [%s] for resource [%s].",[m
[32m+[m[32m        id,[m
[32m+[m[32m        updatedShare.getDashboardId()[m
[32m+[m[32m      );[m
[32m+[m[32m      log.error(message);[m
[32m+[m[32m      throw new OptimizeRuntimeException(message);[m
[32m+[m[32m    }[m
[32m+[m[32m    log.debug("dashboard share with id [{}] for resource [{}] has been updated", id, updatedShare.getDashboardId());[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  public void deleteReportShare(final String shareId) {[m
[32m+[m[32m    log.debug("Deleting report share with id [{}]", shareId);[m
[32m+[m[32m    final DeleteResponse deleteResponse = osClient.delete([m
[32m+[m[32m      REPORT_SHARE_INDEX_NAME,[m
[32m+[m[32m      shareId[m
[32m+[m[32m    );[m
[32m+[m
[32m+[m[32m    if (!deleteResponse.result().equals(Result.Deleted)) {[m
[32m+[m[32m      String message =[m
[32m+[m[32m        String.format("Could not delete report share with id [%s]. Report share does not exist." +[m
[32m+[m[32m                        "Maybe it was already deleted by someone else?", shareId);[m
[32m+[m[32m      log.error(message);[m
[32m+[m[32m      throw new NotFoundException(message);[m
[32m+[m[32m    }[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  public void deleteDashboardShare(final String shareId) {[m
[32m+[m[32m    log.debug("Deleting dashboard share with id [{}]", shareId);[m
[32m+[m[32m    final DeleteResponse deleteResponse = osClient.delete([m
[32m+[m[32m      DASHBOARD_SHARE_INDEX_NAME,[m
[32m+[m[32m      shareId[m
[32m+[m[32m    );[m
[32m+[m
[32m+[m[32m    if (!deleteResponse.result().equals(Result.Deleted)) {[m
[32m+[m[32m      String message =[m
[32m+[m[32m        String.format("Could not delete dashboard share with id [%s]. Dashboard share does not exist." +[m
[32m+[m[32m                        "Maybe it was already deleted by someone else?", shareId);[m
[32m+[m[32m      log.error(message);[m
[32m+[m[32m      throw new NotFoundException(message);[m
[32m+[m[32m    }[m
[32m+[m[32m  }[m
[32m+[m[32m}[m
[1mdiff --git a/backend/src/main/java/org/camunda/optimize/service/security/CCSMTokenService.java b/backend/src/main/java/org/camunda/optimize/service/security/CCSMTokenService.java[m
[1mindex 63d7803755..9796310e90 100644[m
[1m--- a/backend/src/main/java/org/camunda/optimize/service/security/CCSMTokenService.java[m
[1m+++ b/backend/src/main/java/org/camunda/optimize/service/security/CCSMTokenService.java[m
[36m@@ -12,9 +12,14 @@[m [mimport io.camunda.identity.sdk.authentication.Authentication;[m
 import io.camunda.identity.sdk.authentication.Tokens;[m
 import io.camunda.identity.sdk.authentication.UserDetails;[m
 import io.camunda.identity.sdk.authentication.dto.AuthCodeDto;[m
[32m+[m[32mimport jakarta.servlet.http.Cookie;[m
[32m+[m[32mimport jakarta.ws.rs.NotAuthorizedException;[m
[32m+[m[32mimport jakarta.ws.rs.container.ContainerRequestContext;[m
[32m+[m[32mimport jakarta.ws.rs.core.NewCookie;[m
 import lombok.AllArgsConstructor;[m
 import lombok.extern.slf4j.Slf4j;[m
 import org.apache.commons.lang3.StringUtils;[m
[32m+[m[32mimport org.camunda.optimize.dto.optimize.TenantDto;[m
 import org.camunda.optimize.dto.optimize.UserDto;[m
 import org.camunda.optimize.service.util.configuration.ConfigurationService;[m
 import org.camunda.optimize.service.util.configuration.condition.CCSMCondition;[m
[36m@@ -22,13 +27,13 @@[m [mimport org.camunda.optimize.service.util.configuration.security.CCSMAuthConfigur[m
 import org.springframework.context.annotation.Bean;[m
 import org.springframework.context.annotation.Conditional;[m
 import org.springframework.stereotype.Component;[m
[32m+[m[32mimport org.springframework.web.context.request.RequestContextHolder;[m
[32m+[m[32mimport org.springframework.web.context.request.ServletRequestAttributes;[m
 [m
[31m-import jakarta.servlet.http.Cookie;[m
[31m-import jakarta.ws.rs.NotAuthorizedException;[m
[31m-import jakarta.ws.rs.core.NewCookie;[m
 import java.net.URI;[m
 import java.util.Collections;[m
 import java.util.List;[m
[32m+[m[32mimport java.util.Optional;[m
 [m
 import static org.camunda.optimize.jetty.OptimizeResourceConstants.REST_API_PATH;[m
 import static org.camunda.optimize.rest.AuthenticationRestService.AUTHENTICATION_PATH;[m
[36m@@ -36,6 +41,7 @@[m [mimport static org.camunda.optimize.rest.AuthenticationRestService.CALLBACK;[m
 import static org.camunda.optimize.rest.constants.RestConstants.AUTH_COOKIE_TOKEN_VALUE_PREFIX;[m
 import static org.camunda.optimize.rest.constants.RestConstants.OPTIMIZE_AUTHORIZATION;[m
 import static org.camunda.optimize.rest.constants.RestConstants.OPTIMIZE_REFRESH_TOKEN;[m
[32m+[m[32mimport static org.camunda.optimize.upgrade.es.ElasticsearchConstants.ZEEBE_DATA_SOURCE;[m
 [m
 @AllArgsConstructor[m
 @Component[m
[36m@@ -100,16 +106,32 @@[m [mpublic class CCSMTokenService {[m
     );[m
   }[m
 [m
[31m-  public Tokens exchangeAuthCode(final AuthCodeDto authCode, final String redirectUri) {[m
[32m+[m[32m  public URI buildAuthorizeUri(final String redirectUri) {[m
[32m+[m[32m    // If a redirect root URL is explicitly set, we use that. Otherwise, we use the one provided[m
[32m+[m[32m    final String authorizeUri = appendCallbackSubpath(getConfiguredRedirectUri().orElse(redirectUri));[m
[32m+[m[32m    log.trace("Authorizing with authorizeUri: {}", authorizeUri);[m
[32m+[m[32m    return authentication().authorizeUriBuilder(authorizeUri).build();[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  public Tokens exchangeAuthCode(final AuthCodeDto authCode, final ContainerRequestContext requestContext) {[m
[32m+[m[32m    // If a redirect root URL is explicitly set, we append the callback subpath and use that.[m
[32m+[m[32m    // Otherwise, we use the one provided in the request[m
[32m+[m[32m    final String redirectUri = getConfiguredRedirectUri()[m
[32m+[m[32m      .map(CCSMTokenService::appendCallbackSubpath)[m
[32m+[m[32m      .orElse(requestContext.getUriInfo().getAbsolutePath().toString());[m
[32m+[m[32m    log.trace("Exchanging auth code with redirectUri: {}", redirectUri);[m
     return authentication().exchangeAuthCode(authCode, redirectUri);[m
   }[m
 [m
[31m-  public URI buildAuthorizeUri(final String redirectUri) {[m
[31m-    // If a redirect root URL is explicitly set, we use that. Otherwise, we use the one provided[m
[31m-    final String redirectRootUrl = configurationService.getAuthConfiguration().getCcsmAuthConfiguration().getRedirectRootUrl();[m
[31m-    return authentication().authorizeUriBuilder([m
[31m-        StringUtils.isEmpty(redirectRootUrl) ? redirectUri : redirectRootUrl + REST_API_PATH + AUTHENTICATION_PATH + CALLBACK)[m
[31m-      .build();[m
[32m+[m[32m  private static String appendCallbackSubpath(final String configuredRedirectUri) {[m
[32m+[m[32m    return configuredRedirectUri + REST_API_PATH + AUTHENTICATION_PATH + CALLBACK;[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  private Optional<String> getConfiguredRedirectUri() {[m
[32m+[m[32m    final String configuredRedirectRootUrl = configurationService.getAuthConfiguration()[m
[32m+[m[32m      .getCcsmAuthConfiguration()[m
[32m+[m[32m      .getRedirectRootUrl();[m
[32m+[m[32m    return StringUtils.isEmpty(configuredRedirectRootUrl) ? Optional.empty() : Optional.of(configuredRedirectRootUrl);[m
   }[m
 [m
   public AccessToken verifyToken(final String accessToken) {[m
[36m@@ -142,6 +164,32 @@[m [mpublic class CCSMTokenService {[m
     );[m
   }[m
 [m
[32m+[m[32m  public Optional<String> getCurrentUserIdFromAuthToken() {[m
[32m+[m[32m    // The userID is the subject of the current JWT token[m
[32m+[m[32m    return getCurrentUserAuthToken().map(token -> authentication().decodeJWT(token).getSubject());[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  public Optional<String> getCurrentUserAuthToken() {[m
[32m+[m[32m    return Optional.ofNullable(RequestContextHolder.getRequestAttributes())[m
[32m+[m[32m      .filter(ServletRequestAttributes.class::isInstance)[m
[32m+[m[32m      .map(ServletRequestAttributes.class::cast)[m
[32m+[m[32m      .map(ServletRequestAttributes::getRequest)[m
[32m+[m[32m      .flatMap(AuthCookieService::getAuthCookieToken);[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  public List<TenantDto> getAuthorizedTenantsFromToken(final String accessToken) {[m
[32m+[m[32m    try {[m
[32m+[m[32m      return identity().tenants()[m
[32m+[m[32m        .forToken(accessToken)[m
[32m+[m[32m        .stream()[m
[32m+[m[32m        .map(tenant -> new TenantDto(tenant.getTenantId(), tenant.getName(), ZEEBE_DATA_SOURCE))[m
[32m+[m[32m        .toList();[m
[32m+[m[32m    } catch (Exception e) {[m
[32m+[m[32m      log.error("Could not retrieve authorized tenants from identity.", e);[m
[32m+[m[32m      return Collections.emptyList();[m
[32m+[m[32m    }[m
[32m+[m[32m  }[m
[32m+[m
   private String extractTokenFromAuthorizationValue(final String cookieValue) {[m
     if (cookieValue.startsWith(AUTH_COOKIE_TOKEN_VALUE_PREFIX)) {[m
       return cookieValue.substring(AUTH_COOKIE_TOKEN_VALUE_PREFIX.length()).trim();[m
[1mdiff --git a/backend/src/main/java/org/camunda/optimize/service/security/SharingService.java b/backend/src/main/java/org/camunda/optimize/service/security/SharingService.java[m
[1mindex cf26c25c12..076f0cc724 100644[m
[1m--- a/backend/src/main/java/org/camunda/optimize/service/security/SharingService.java[m
[1m+++ b/backend/src/main/java/org/camunda/optimize/service/security/SharingService.java[m
[36m@@ -5,6 +5,8 @@[m
  */[m
 package org.camunda.optimize.service.security;[m
 [m
[32m+[m[32mimport jakarta.ws.rs.ForbiddenException;[m
[32m+[m[32mimport jakarta.ws.rs.NotFoundException;[m
 import lombok.RequiredArgsConstructor;[m
 import lombok.extern.slf4j.Slf4j;[m
 import org.camunda.optimize.dto.optimize.query.IdResponseDto;[m
[36m@@ -22,10 +24,10 @@[m [mimport org.camunda.optimize.dto.optimize.rest.AuthorizedReportDefinitionResponse[m
 import org.camunda.optimize.dto.optimize.rest.ConflictedItemDto;[m
 import org.camunda.optimize.dto.optimize.rest.pagination.PaginationDto;[m
 import org.camunda.optimize.service.dashboard.DashboardService;[m
[32m+[m[32mimport org.camunda.optimize.service.db.writer.SharingWriter;[m
 import org.camunda.optimize.service.es.reader.SharingReader;[m
 import org.camunda.optimize.service.es.report.PlainReportEvaluationHandler;[m
 import org.camunda.optimize.service.es.report.ReportEvaluationInfo;[m
[31m-import org.camunda.optimize.service.es.writer.SharingWriter;[m
 import org.camunda.optimize.service.exceptions.OptimizeRuntimeException;[m
 import org.camunda.optimize.service.exceptions.OptimizeValidationException;[m
 import org.camunda.optimize.service.exceptions.evaluation.ReportEvaluationException;[m
[36m@@ -35,8 +37,6 @@[m [mimport org.camunda.optimize.service.report.ReportService;[m
 import org.camunda.optimize.service.util.ValidationHelper;[m
 import org.springframework.stereotype.Component;[m
 [m
[31m-import jakarta.ws.rs.ForbiddenException;[m
[31m-import jakarta.ws.rs.NotFoundException;[m
 import java.time.ZoneId;[m
 import java.util.Collections;[m
 import java.util.HashSet;[m
[1mdiff --git a/backend/src/main/java/org/camunda/optimize/service/security/authentication/CCSMAuthenticationService.java b/backend/src/main/java/org/camunda/optimize/service/security/authentication/CCSMAuthenticationService.java[m
[1mindex 3f706f0462..4f9b567c91 100644[m
[1m--- a/backend/src/main/java/org/camunda/optimize/service/security/authentication/CCSMAuthenticationService.java[m
[1m+++ b/backend/src/main/java/org/camunda/optimize/service/security/authentication/CCSMAuthenticationService.java[m
[36m@@ -56,7 +56,7 @@[m [mpublic class CCSMAuthenticationService extends AbstractAuthenticationService {[m
   @Override[m
   public Response loginCallback(final ContainerRequestContext requestContext,[m
                                 final AuthCodeDto authCode) {[m
[31m-    final Tokens tokens = ccsmTokenService.exchangeAuthCode(authCode, requestContext.getUriInfo().getAbsolutePath().toString());[m
[32m+[m[32m    final Tokens tokens = ccsmTokenService.exchangeAuthCode(authCode, requestContext);[m
     final AccessToken accessToken;[m
     try {[m
       accessToken = ccsmTokenService.verifyToken(tokens.getAccessToken());[m
[1mdiff --git a/backend/src/main/java/org/camunda/optimize/service/security/util/definition/CamundaCCSMDefinitionAuthorizationService.java b/backend/src/main/java/org/camunda/optimize/service/security/util/definition/CamundaCCSMDefinitionAuthorizationService.java[m
[1mnew file mode 100644[m
[1mindex 0000000000..ff923d9620[m
[1m--- /dev/null[m
[1m+++ b/backend/src/main/java/org/camunda/optimize/service/security/util/definition/CamundaCCSMDefinitionAuthorizationService.java[m
[36m@@ -0,0 +1,69 @@[m
[32m+[m[32m/*[m
[32m+[m[32m * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH under one or more contributor license agreements.[m
[32m+[m[32m * Licensed under a proprietary license. See the License.txt file for more information.[m
[32m+[m[32m * You may not use this file except in compliance with the proprietary license.[m
[32m+[m[32m */[m
[32m+[m[32mpackage org.camunda.optimize.service.security.util.definition;[m
[32m+[m
[32m+[m[32mimport lombok.AllArgsConstructor;[m
[32m+[m[32mimport org.apache.commons.lang3.StringUtils;[m
[32m+[m[32mimport org.camunda.optimize.dto.optimize.DefinitionOptimizeResponseDto;[m
[32m+[m[32mimport org.camunda.optimize.dto.optimize.DefinitionType;[m
[32m+[m[32mimport org.camunda.optimize.dto.optimize.IdentityType;[m
[32m+[m[32mimport org.camunda.optimize.dto.optimize.SimpleDefinitionDto;[m
[32m+[m[32mimport org.camunda.optimize.dto.optimize.TenantDto;[m
[32m+[m[32mimport org.camunda.optimize.service.security.util.tenant.CamundaCCSMTenantAuthorizationService;[m
[32m+[m[32mimport org.camunda.optimize.service.util.configuration.condition.CCSMCondition;[m
[32m+[m[32mimport org.springframework.context.annotation.Conditional;[m
[32m+[m[32mimport org.springframework.stereotype.Component;[m
[32m+[m
[32m+[m[32mimport java.util.Comparator;[m
[32m+[m[32mimport java.util.List;[m
[32m+[m[32mimport java.util.Map;[m
[32m+[m[32mimport java.util.Objects;[m
[32m+[m[32mimport java.util.Set;[m
[32m+[m
[32m+[m[32m@AllArgsConstructor[m
[32m+[m[32m@Conditional(CCSMCondition.class)[m
[32m+[m[32m@Component[m
[32m+[m[32mpublic class CamundaCCSMDefinitionAuthorizationService implements DataSourceDefinitionAuthorizationService {[m
[32m+[m
[32m+[m[32m  private final CamundaCCSMTenantAuthorizationService tenantAuthorizationService;[m
[32m+[m
[32m+[m[32m  @Override[m
[32m+[m[32m  public List<TenantDto> resolveAuthorizedTenantsForProcess(final String userId,[m
[32m+[m[32m                                                            final SimpleDefinitionDto definitionDto,[m
[32m+[m[32m                                                            final List<String> tenantIds,[m
[32m+[m[32m                                                            final Set<String> engines) {[m
[32m+[m[32m    final Map<String, TenantDto> allUserAuthorizedTenants = tenantAuthorizationService.getCurrentUserTenantAuthorizations();[m
[32m+[m[32m    return tenantIds[m
[32m+[m[32m      .stream()[m
[32m+[m[32m      .map(allUserAuthorizedTenants::get)[m
[32m+[m[32m      .filter(Objects::nonNull)[m
[32m+[m[32m      .sorted(Comparator.comparing(TenantDto::getId, Comparator.naturalOrder()))[m
[32m+[m[32m      .toList();[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  @Override[m
[32m+[m[32m  public boolean isAuthorizedToAccessDefinition(final String identityId,[m
[32m+[m[32m                                                final IdentityType identityType,[m
[32m+[m[32m                                                final String definitionKey,[m
[32m+[m[32m                                                final DefinitionType definitionType,[m
[32m+[m[32m                                                final List<String> tenantIds) {[m
[32m+[m[32m    return StringUtils.isBlank(definitionKey) || tenantAuthorizationService.isCurrentUserAuthorizedToSeeAllTenants(tenantIds);[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  @Override[m
[32m+[m[32m  public boolean isAuthorizedToAccessDefinition(final String userId,[m
[32m+[m[32m                                                final String tenantId,[m
[32m+[m[32m                                                final SimpleDefinitionDto definition) {[m
[32m+[m[32m    return tenantAuthorizationService.isCurrentUserAuthorizedToSeeTenant(tenantId);[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  @Override[m
[32m+[m[32m  public <T extends DefinitionOptimizeResponseDto> boolean isAuthorizedToAccessDefinition(final String userId,[m
[32m+[m[32m                                                                                          final T definition) {[m
[32m+[m[32m    return tenantAuthorizationService.isCurrentUserAuthorizedToSeeTenant(definition.getTenantId());[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m}[m
[1mdiff --git a/backend/src/main/java/org/camunda/optimize/service/security/util/definition/CamundaPlatformDefinitionAuthorizationService.java b/backend/src/main/java/org/camunda/optimize/service/security/util/definition/CamundaPlatformDefinitionAuthorizationService.java[m
[1mindex 287e998b1f..c1c763a936 100644[m
[1m--- a/backend/src/main/java/org/camunda/optimize/service/security/util/definition/CamundaPlatformDefinitionAuthorizationService.java[m
[1m+++ b/backend/src/main/java/org/camunda/optimize/service/security/util/definition/CamundaPlatformDefinitionAuthorizationService.java[m
[36m@@ -15,8 +15,8 @@[m [mimport org.camunda.optimize.dto.optimize.ProcessDefinitionOptimizeDto;[m
 import org.camunda.optimize.dto.optimize.SimpleDefinitionDto;[m
 import org.camunda.optimize.dto.optimize.TenantDto;[m
 import org.camunda.optimize.dto.optimize.datasource.EngineDataSourceDto;[m
[31m-import org.camunda.optimize.service.TenantService;[m
 import org.camunda.optimize.service.security.EventProcessAuthorizationService;[m
[32m+[m[32mimport org.camunda.optimize.service.tenant.TenantService;[m
 import org.camunda.optimize.service.util.configuration.condition.CamundaPlatformCondition;[m
 import org.springframework.context.annotation.Conditional;[m
 import org.springframework.stereotype.Component;[m
[36m@@ -32,9 +32,8 @@[m [mimport java.util.function.Function;[m
 import java.util.stream.Stream;[m
 [m
 import static java.util.Comparator.naturalOrder;[m
[31m-import static java.util.stream.Collectors.toList;[m
 import static java.util.stream.Collectors.toMap;[m
[31m-import static org.camunda.optimize.service.TenantService.TENANT_NOT_DEFINED;[m
[32m+[m[32mimport static org.camunda.optimize.service.tenant.CamundaPlatformTenantService.TENANT_NOT_DEFINED;[m
 [m
 @RequiredArgsConstructor[m
 @Conditional(CamundaPlatformCondition.class)[m
[1mdiff --git a/backend/src/main/java/org/camunda/optimize/service/security/util/definition/CamundaCloudDefinitionAuthorizationService.java b/backend/src/main/java/org/camunda/optimize/service/security/util/definition/CamundaSaaSDefinitionAuthorizationService.java[m
[1msimilarity index 93%[m
[1mrename from backend/src/main/java/org/camunda/optimize/service/security/util/definition/CamundaCloudDefinitionAuthorizationService.java[m
[1mrename to backend/src/main/java/org/camunda/optimize/service/security/util/definition/CamundaSaaSDefinitionAuthorizationService.java[m
[1mindex a972dbab92..ea1c35e6db 100644[m
[1m--- a/backend/src/main/java/org/camunda/optimize/service/security/util/definition/CamundaCloudDefinitionAuthorizationService.java[m
[1m+++ b/backend/src/main/java/org/camunda/optimize/service/security/util/definition/CamundaSaaSDefinitionAuthorizationService.java[m
[36m@@ -12,7 +12,7 @@[m [mimport org.camunda.optimize.dto.optimize.IdentityType;[m
 import org.camunda.optimize.dto.optimize.SimpleDefinitionDto;[m
 import org.camunda.optimize.dto.optimize.TenantDto;[m
 import org.camunda.optimize.service.util.configuration.ConfigurationService;[m
[31m-import org.camunda.optimize.service.util.configuration.condition.CamundaCloudCondition;[m
[32m+[m[32mimport org.camunda.optimize.service.util.configuration.condition.CCSaaSCondition;[m
 import org.springframework.context.annotation.Conditional;[m
 import org.springframework.stereotype.Component;[m
 [m
[36m@@ -21,9 +21,9 @@[m [mimport java.util.List;[m
 import java.util.Set;[m
 [m
 @RequiredArgsConstructor[m
[31m-@Conditional(CamundaCloudCondition.class)[m
[32m+[m[32m@Conditional(CCSaaSCondition.class)[m
 @Component[m
[31m-public class CamundaCloudDefinitionAuthorizationService implements DataSourceDefinitionAuthorizationService {[m
[32m+[m[32mpublic class CamundaSaaSDefinitionAuthorizationService implements DataSourceDefinitionAuthorizationService {[m
 [m
   private final ConfigurationService configurationService;[m
 [m
[1mdiff --git a/backend/src/main/java/org/camunda/optimize/service/security/util/definition/DataSourceDefinitionAuthorizationService.java b/backend/src/main/java/org/camunda/optimize/service/security/util/definition/DataSourceDefinitionAuthorizationService.java[m
[1mindex ddd3dabd32..1bd5954692 100644[m
[1m--- a/backend/src/main/java/org/camunda/optimize/service/security/util/definition/DataSourceDefinitionAuthorizationService.java[m
[1m+++ b/backend/src/main/java/org/camunda/optimize/service/security/util/definition/DataSourceDefinitionAuthorizationService.java[m
[36m@@ -17,9 +17,9 @@[m [mimport java.util.Set;[m
 public interface DataSourceDefinitionAuthorizationService {[m
 [m
   default boolean isAuthorizedToAccessDefinition(final String userId,[m
[31m-                                                final DefinitionType definitionType,[m
[31m-                                                final String definitionKey,[m
[31m-                                                final List<String> tenantIds) {[m
[32m+[m[32m                                                 final DefinitionType definitionType,[m
[32m+[m[32m                                                 final String definitionKey,[m
[32m+[m[32m                                                 final List<String> tenantIds) {[m
     return isAuthorizedToAccessDefinition(userId, IdentityType.USER, definitionKey, definitionType, tenantIds);[m
   }[m
 [m
[1mdiff --git a/backend/src/main/java/org/camunda/optimize/service/security/util/definition/EngineDefinitionAuthorizationService.java b/backend/src/main/java/org/camunda/optimize/service/security/util/definition/EngineDefinitionAuthorizationService.java[m
[1mindex d6a8d350b5..051eb8c1f4 100644[m
[1m--- a/backend/src/main/java/org/camunda/optimize/service/security/util/definition/EngineDefinitionAuthorizationService.java[m
[1m+++ b/backend/src/main/java/org/camunda/optimize/service/security/util/definition/EngineDefinitionAuthorizationService.java[m
[36m@@ -14,7 +14,6 @@[m [mimport org.camunda.optimize.dto.optimize.DefinitionType;[m
 import org.camunda.optimize.dto.optimize.IdentityType;[m
 import org.camunda.optimize.rest.engine.EngineContext;[m
 import org.camunda.optimize.rest.engine.EngineContextFactory;[m
[31m-import org.camunda.optimize.service.TenantService;[m
 import org.camunda.optimize.service.es.reader.DefinitionReader;[m
 import org.camunda.optimize.service.exceptions.OptimizeRuntimeException;[m
 import org.camunda.optimize.service.security.AbstractCachingAuthorizationService;[m
[36m@@ -22,6 +21,7 @@[m [mimport org.camunda.optimize.service.security.ApplicationAuthorizationService;[m
 import org.camunda.optimize.service.security.EngineAuthorizations;[m
 import org.camunda.optimize.service.security.ResolvedResourceTypeAuthorizations;[m
 import org.camunda.optimize.service.security.util.tenant.DataSourceTenantAuthorizationService;[m
[32m+[m[32mimport org.camunda.optimize.service.tenant.CamundaPlatformTenantService;[m
 import org.camunda.optimize.service.util.configuration.CacheConfiguration;[m
 import org.camunda.optimize.service.util.configuration.ConfigurationService;[m
 import org.camunda.optimize.service.util.configuration.condition.CamundaPlatformCondition;[m
[36m@@ -41,8 +41,7 @@[m [mimport java.util.concurrent.TimeUnit;[m
 import java.util.stream.Collectors;[m
 [m
 import static java.util.stream.Collectors.groupingBy;[m
[31m-import static java.util.stream.Collectors.toList;[m
[31m-import static org.camunda.optimize.service.TenantService.TENANT_NOT_DEFINED;[m
[32m+[m[32mimport static org.camunda.optimize.service.tenant.CamundaPlatformTenantService.TENANT_NOT_DEFINED;[m
 import static org.camunda.optimize.service.util.importing.EngineConstants.ALL_PERMISSION;[m
 import static org.camunda.optimize.service.util.importing.EngineConstants.READ_HISTORY_PERMISSION;[m
 import static org.camunda.optimize.service.util.importing.EngineConstants.RESOURCE_TYPE_DECISION_DEFINITION;[m
[36m@@ -58,7 +57,7 @@[m [mpublic class EngineDefinitionAuthorizationService[m
 [m
   private final ApplicationAuthorizationService applicationAuthorizationService;[m
   private final DataSourceTenantAuthorizationService tenantAuthorizationService;[m
[31m-  private final TenantService tenantService;[m
[32m+[m[32m  private final CamundaPlatformTenantService tenantService;[m
   private final LoadingCache<DefinitionTypeAndKey, Set<String>> definitionEnginesReadCache;[m
 [m
   public EngineDefinitionAuthorizationService(final ApplicationAuthorizationService applicationAuthorizationService,[m
[36m@@ -66,7 +65,7 @@[m [mpublic class EngineDefinitionAuthorizationService[m
                                               final EngineContextFactory engineContextFactory,[m
                                               final ConfigurationService configurationService,[m
                                               final DefinitionReader definitionReader,[m
[31m-                                              final TenantService tenantService) {[m
[32m+[m[32m                                              final CamundaPlatformTenantService tenantService) {[m
     super(engineContextFactory, configurationService);[m
     this.applicationAuthorizationService = applicationAuthorizationService;[m
     this.tenantAuthorizationService = tenantAuthorizationService;[m
[36m@@ -98,7 +97,6 @@[m [mpublic class EngineDefinitionAuthorizationService[m
     return result;[m
   }[m
 [m
[31m-[m
   @Override[m
   protected Map<String, EngineAuthorizations> fetchAuthorizationsForGroupId(final String groupId) {[m
     final List<String> authorizedEngines = applicationAuthorizationService.getAuthorizedEnginesForGroup(groupId);[m
[36m@@ -120,21 +118,6 @@[m [mpublic class EngineDefinitionAuthorizationService[m
     definitionEnginesReadCache.invalidateAll();[m
   }[m
 [m
[31m-  public boolean isAuthorizedToSeeDefinition(final String identityId,[m
[31m-                                             final IdentityType identityType,[m
[31m-                                             final String definitionKey,[m
[31m-                                             final DefinitionType definitionType,[m
[31m-                                             final List<String> tenantIds) {[m
[31m-    return isAuthorizedToSeeDefinition([m
[31m-      identityId,[m
[31m-      identityType,[m
[31m-      definitionKey,[m
[31m-      definitionType,[m
[31m-      tenantIds,[m
[31m-      getDefinitionEngines(definitionKey, definitionType)[m
[31m-    );[m
[31m-  }[m
[31m-[m
   public boolean isAuthorizedToSeeDefinition(final String identityId,[m
                                              final IdentityType identityType,[m
                                              final String definitionKey,[m
[36m@@ -216,6 +199,21 @@[m [mpublic class EngineDefinitionAuthorizationService[m
     return new ArrayList<>(authorizedTenants);[m
   }[m
 [m
[32m+[m[32m  private boolean isAuthorizedToSeeDefinition(final String identityId,[m
[32m+[m[32m                                              final IdentityType identityType,[m
[32m+[m[32m                                              final String definitionKey,[m
[32m+[m[32m                                              final DefinitionType definitionType,[m
[32m+[m[32m                                              final List<String> tenantIds) {[m
[32m+[m[32m    return isAuthorizedToSeeDefinition([m
[32m+[m[32m      identityId,[m
[32m+[m[32m      identityType,[m
[32m+[m[32m      definitionKey,[m
[32m+[m[32m      definitionType,[m
[32m+[m[32m      tenantIds,[m
[32m+[m[32m      getDefinitionEngines(definitionKey, definitionType)[m
[32m+[m[32m    );[m
[32m+[m[32m  }[m
[32m+[m
   private boolean isAuthorizedToSeeDefinition(final String identityId,[m
                                               final IdentityType identityType,[m
                                               final String definitionKey,[m
[1mdiff --git a/backend/src/main/java/org/camunda/optimize/service/security/util/tenant/CamundaCCSMTenantAuthorizationService.java b/backend/src/main/java/org/camunda/optimize/service/security/util/tenant/CamundaCCSMTenantAuthorizationService.java[m
[1mnew file mode 100644[m
[1mindex 0000000000..b8e6148ae1[m
[1m--- /dev/null[m
[1m+++ b/backend/src/main/java/org/camunda/optimize/service/security/util/tenant/CamundaCCSMTenantAuthorizationService.java[m
[36m@@ -0,0 +1,120 @@[m
[32m+[m[32m/*[m
[32m+[m[32m * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH under one or more contributor license agreements.[m
[32m+[m[32m * Licensed under a proprietary license. See the License.txt file for more information.[m
[32m+[m[32m * You may not use this file except in compliance with the proprietary license.[m
[32m+[m[32m */[m
[32m+[m[32mpackage org.camunda.optimize.service.security.util.tenant;[m
[32m+[m
[32m+[m[32mimport com.github.benmanes.caffeine.cache.Cache;[m
[32m+[m[32mimport com.github.benmanes.caffeine.cache.Caffeine;[m
[32m+[m[32mimport lombok.extern.slf4j.Slf4j;[m
[32m+[m[32mimport org.camunda.optimize.dto.optimize.IdentityType;[m
[32m+[m[32mimport org.camunda.optimize.dto.optimize.TenantDto;[m
[32m+[m[32mimport org.camunda.optimize.service.security.CCSMTokenService;[m
[32m+[m[32mimport org.camunda.optimize.service.util.configuration.ConfigurationService;[m
[32m+[m[32mimport org.camunda.optimize.service.util.configuration.condition.CCSMCondition;[m
[32m+[m[32mimport org.springframework.context.annotation.Conditional;[m
[32m+[m[32mimport org.springframework.stereotype.Component;[m
[32m+[m
[32m+[m[32mimport java.util.Collections;[m
[32m+[m[32mimport java.util.List;[m
[32m+[m[32mimport java.util.Map;[m
[32m+[m[32mimport java.util.Objects;[m
[32m+[m[32mimport java.util.Optional;[m
[32m+[m[32mimport java.util.concurrent.TimeUnit;[m
[32m+[m[32mimport java.util.function.Function;[m
[32m+[m
[32m+[m[32mimport static java.util.stream.Collectors.toMap;[m
[32m+[m[32mimport static org.camunda.optimize.service.util.importing.ZeebeConstants.ZEEBE_DEFAULT_TENANT;[m
[32m+[m
[32m+[m[32m@Conditional(CCSMCondition.class)[m
[32m+[m[32m@Component[m
[32m+[m[32m@Slf4j[m
[32m+[m[32mpublic class CamundaCCSMTenantAuthorizationService implements DataSourceTenantAuthorizationService {[m
[32m+[m[32m  private final CCSMTokenService ccsmTokenService;[m
[32m+[m[32m  private final ConfigurationService configurationService;[m
[32m+[m[32m  private final Cache<String, List<TenantDto>> userTenantAuthorizations;[m
[32m+[m
[32m+[m[32m  public CamundaCCSMTenantAuthorizationService(final CCSMTokenService ccsmTokenService,[m
[32m+[m[32m                                               final ConfigurationService configurationService) {[m
[32m+[m[32m    this.ccsmTokenService = ccsmTokenService;[m
[32m+[m[32m    this.configurationService = configurationService;[m
[32m+[m[32m    userTenantAuthorizations = Caffeine.newBuilder()[m
[32m+[m[32m      .maximumSize(configurationService.getCaches().getCloudTenantAuthorizations().getMaxSize())[m
[32m+[m[32m      .expireAfterWrite([m
[32m+[m[32m        configurationService.getCaches().getCloudTenantAuthorizations().getDefaultTtlMillis(),[m
[32m+[m[32m        TimeUnit.MILLISECONDS[m
[32m+[m[32m      )[m
[32m+[m[32m      .build();[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  public boolean isAuthorizedToSeeAllTenants(final String identityId, final IdentityType identityType,[m
[32m+[m[32m                                             final List<String> tenantIds) {[m
[32m+[m[32m    // In CCSM, we can only retrieve tenant auths for the current user using the user's token, so we have no use for the other[m
[32m+[m[32m    // params[m
[32m+[m[32m    return isCurrentUserAuthorizedToSeeAllTenants(tenantIds);[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  @Override[m
[32m+[m[32m  public boolean isAuthorizedToSeeTenant(final String identityId, final IdentityType identityType,[m
[32m+[m[32m                                         final String tenantId) {[m
[32m+[m[32m    // In CCSM, we can only retrieve tenant auths for the current user using the user's token, so we have no use for the other[m
[32m+[m[32m    // params[m
[32m+[m[32m    return isCurrentUserAuthorizedToSeeTenant(tenantId);[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  @Override[m
[32m+[m[32m  public boolean isAuthorizedToSeeTenant(final String identityId, final IdentityType identityType,[m
[32m+[m[32m                                         final String tenantId, final String dataSourceName) {[m
[32m+[m[32m    // In CCSM, we can only retrieve tenant auths for the current user using the user's token, so we have no use for the other[m
[32m+[m[32m    // params. Datasource is always zeebe in CCSM[m
[32m+[m[32m    return isCurrentUserAuthorizedToSeeTenant(tenantId);[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  public Map<String, TenantDto> getCurrentUserTenantAuthorizations() {[m
[32m+[m[32m    return getCurrentUserAuthorizedTenants().stream().collect(toMap(TenantDto::getId, Function.identity()));[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  public boolean isCurrentUserAuthorizedToSeeAllTenants(final List<String> tenantIds) {[m
[32m+[m[32m    return tenantIds.stream().allMatch(this::isCurrentUserAuthorizedToSeeTenant);[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  public boolean isCurrentUserAuthorizedToSeeTenant(final String tenantId) {[m
[32m+[m[32m    return getCurrentUserAuthorizedTenants().stream().anyMatch(tenant -> Objects.equals(tenantId, tenant.getId()));[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  public List<TenantDto> getCurrentUserAuthorizedTenants() {[m
[32m+[m[32m    if (configurationService.isMultiTenancyEnabled()) {[m
[32m+[m[32m      Optional<String> currentUserId = getCurrentUserId();[m
[32m+[m[32m      if (currentUserId.isEmpty()) {[m
[32m+[m[32m        log.warn("Unable to determine currently logged in user ID to retrieve tenant authorizations.");[m
[32m+[m[32m        return Collections.emptyList();[m
[32m+[m[32m      }[m
[32m+[m[32m      Optional<List<TenantDto>> userTenantAuths =[m
[32m+[m[32m        Optional.ofNullable(userTenantAuthorizations.getIfPresent(currentUserId.get()));[m
[32m+[m[32m      if (userTenantAuths.isEmpty()) {[m
[32m+[m[32m        repopulateCacheWithCurrentUserTenantAuthorization();[m
[32m+[m[32m        userTenantAuths =[m
[32m+[m[32m          Optional.ofNullable(userTenantAuthorizations.getIfPresent(currentUserId.get()));[m
[32m+[m[32m      }[m
[32m+[m[32m      return userTenantAuths.orElse(Collections.emptyList());[m
[32m+[m[32m    } else {[m
[32m+[m[32m      return Collections.singletonList(ZEEBE_DEFAULT_TENANT);[m
[32m+[m[32m    }[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  private void repopulateCacheWithCurrentUserTenantAuthorization() {[m
[32m+[m[32m    getCurrentUserId().ifPresent(id -> userTenantAuthorizations.put(id, fetchCurrentUserAuthorizedTenants()));[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  private List<TenantDto> fetchCurrentUserAuthorizedTenants() {[m
[32m+[m[32m    return ccsmTokenService.getCurrentUserAuthToken()[m
[32m+[m[32m      .map(ccsmTokenService::getAuthorizedTenantsFromToken)[m
[32m+[m[32m      .orElse(Collections.emptyList());[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  private Optional<String> getCurrentUserId() {[m
[32m+[m[32m    return ccsmTokenService.getCurrentUserIdFromAuthToken();[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m}[m
\ No newline at end of file[m
[1mdiff --git a/backend/src/main/java/org/camunda/optimize/service/security/util/tenant/CamundaCloudTenantAuthorizationService.java b/backend/src/main/java/org/camunda/optimize/service/security/util/tenant/CamundaSaaSTenantAuthorizationService.java[m
[1msimilarity index 88%[m
[1mrename from backend/src/main/java/org/camunda/optimize/service/security/util/tenant/CamundaCloudTenantAuthorizationService.java[m
[1mrename to backend/src/main/java/org/camunda/optimize/service/security/util/tenant/CamundaSaaSTenantAuthorizationService.java[m
[1mindex cb5afa1c4a..d2b7dffadd 100644[m
[1m--- a/backend/src/main/java/org/camunda/optimize/service/security/util/tenant/CamundaCloudTenantAuthorizationService.java[m
[1m+++ b/backend/src/main/java/org/camunda/optimize/service/security/util/tenant/CamundaSaaSTenantAuthorizationService.java[m
[36m@@ -6,15 +6,15 @@[m
 package org.camunda.optimize.service.security.util.tenant;[m
 [m
 import org.camunda.optimize.dto.optimize.IdentityType;[m
[31m-import org.camunda.optimize.service.util.configuration.condition.CamundaCloudCondition;[m
[32m+[m[32mimport org.camunda.optimize.service.util.configuration.condition.CCSaaSCondition;[m
 import org.springframework.context.annotation.Conditional;[m
 import org.springframework.stereotype.Component;[m
 [m
 import java.util.List;[m
 [m
[31m-@Conditional(CamundaCloudCondition.class)[m
[32m+[m[32m@Conditional(CCSaaSCondition.class)[m
 @Component[m
[31m-public class CamundaCloudTenantAuthorizationService implements DataSourceTenantAuthorizationService {[m
[32m+[m[32mpublic class CamundaSaaSTenantAuthorizationService implements DataSourceTenantAuthorizationService {[m
 [m
   @Override[m
   public boolean isAuthorizedToSeeAllTenants(final String identityId, final IdentityType identityType,[m
[1mdiff --git a/backend/src/main/java/org/camunda/optimize/service/status/StatusCheckingService.java b/backend/src/main/java/org/camunda/optimize/service/status/StatusCheckingService.java[m
[1mindex 3f7b3766c7..62b874681a 100644[m
[1m--- a/backend/src/main/java/org/camunda/optimize/service/status/StatusCheckingService.java[m
[1m+++ b/backend/src/main/java/org/camunda/optimize/service/status/StatusCheckingService.java[m
[36m@@ -15,7 +15,6 @@[m [mimport org.camunda.optimize.dto.optimize.query.status.EngineStatusDto;[m
 import org.camunda.optimize.dto.optimize.query.status.StatusResponseDto;[m
 import org.camunda.optimize.rest.engine.EngineContext;[m
 import org.camunda.optimize.rest.engine.EngineContextFactory;[m
[31m-import org.camunda.optimize.service.es.OptimizeElasticsearchClient;[m
 import org.camunda.optimize.service.es.schema.OptimizeIndexNameService;[m
 import org.camunda.optimize.service.importing.ImportSchedulerManagerService;[m
 import org.camunda.optimize.service.util.configuration.ConfigurationService;[m
[36m@@ -36,13 +35,14 @@[m [mimport java.util.concurrent.TimeUnit;[m
 @RequiredArgsConstructor[m
 @Component[m
 @Slf4j[m
[31m-public class StatusCheckingService {[m
[32m+[m[32mpublic abstract class StatusCheckingService {[m
 [m
[31m-  private final OptimizeElasticsearchClient esClient;[m
[31m-  private final ConfigurationService configurationService;[m
[31m-  private final EngineContextFactory engineContextFactory;[m
[31m-  private final ImportSchedulerManagerService importSchedulerManagerService;[m
[31m-  private final OptimizeIndexNameService optimizeIndexNameService;[m
[32m+[m[32m  protected final ConfigurationService configurationService;[m
[32m+[m[32m  protected final EngineContextFactory engineContextFactory;[m
[32m+[m[32m  protected final ImportSchedulerManagerService importSchedulerManagerService;[m
[32m+[m[32m  protected final OptimizeIndexNameService optimizeIndexNameService;[m
[32m+[m
[32m+[m[32m  public abstract boolean isConnectedToDatabase();[m
 [m
   private final LoadingCache<EngineContext, Boolean> engineConnectionCache = CacheBuilder.newBuilder()[m
     .expireAfterWrite(1, TimeUnit.MINUTES)[m
[36m@@ -61,20 +61,6 @@[m [mpublic class StatusCheckingService {[m
     return getStatusResponse(false);[m
   }[m
 [m
[31m-  public boolean isConnectedToElasticSearch() {[m
[31m-    boolean isConnected = false;[m
[31m-    try {[m
[31m-      ClusterHealthRequest request = new ClusterHealthRequest(optimizeIndexNameService.getIndexPrefix() + "*");[m
[31m-      final ClusterHealthResponse healthResponse = esClient.getClusterHealth(request);[m
[31m-[m
[31m-      isConnected = healthResponse.status().getStatus() == Response.Status.OK.getStatusCode()[m
[31m-        && healthResponse.getStatus() != ClusterHealthStatus.RED;[m
[31m-    } catch (Exception ignored) {[m
[31m-      // do nothing[m
[31m-    }[m
[31m-    return isConnected;[m
[31m-  }[m
[31m-[m
   public boolean isConnectedToAtLeastOnePlatformEngineOrCloud() {[m
     final Collection<EngineContext> configuredEngines = engineContextFactory.getConfiguredEngines();[m
     // if there is no engine configured == cloud[m
[36m@@ -87,7 +73,7 @@[m [mpublic class StatusCheckingService {[m
 [m
   private StatusResponseDto getStatusResponse(final boolean skipCache) {[m
     StatusResponseDto statusWithProgress = new StatusResponseDto();[m
[31m-    statusWithProgress.setConnectedToElasticsearch(isConnectedToElasticSearch());[m
[32m+[m[32m    statusWithProgress.setConnectedToElasticsearch(isConnectedToDatabase());[m
     Map<String, Boolean> importStatusMap = importSchedulerManagerService.getImportStatusMap();[m
     Map<String, EngineStatusDto> engineConnections = new HashMap<>();[m
     for (EngineContext e : engineContextFactory.getConfiguredEngines()) {[m
[1mdiff --git a/backend/src/main/java/org/camunda/optimize/service/status/StatusCheckingServiceES.java b/backend/src/main/java/org/camunda/optimize/service/status/StatusCheckingServiceES.java[m
[1mnew file mode 100644[m
[1mindex 0000000000..05996d4da9[m
[1m--- /dev/null[m
[1m+++ b/backend/src/main/java/org/camunda/optimize/service/status/StatusCheckingServiceES.java[m
[36m@@ -0,0 +1,57 @@[m
[32m+[m[32m/*[m
[32m+[m[32m * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH under one or more contributor license agreements.[m
[32m+[m[32m * Licensed under a proprietary license. See the License.txt file for more information.[m
[32m+[m[32m * You may not use this file except in compliance with the proprietary license.[m
[32m+[m[32m */[m
[32m+[m[32mpackage org.camunda.optimize.service.status;[m
[32m+[m
[32m+[m[32mimport jakarta.ws.rs.core.Response;[m
[32m+[m[32mimport lombok.extern.slf4j.Slf4j;[m
[32m+[m[32mimport org.camunda.optimize.rest.engine.EngineContextFactory;[m
[32m+[m[32mimport org.camunda.optimize.service.es.OptimizeElasticsearchClient;[m
[32m+[m[32mimport org.camunda.optimize.service.es.schema.OptimizeIndexNameService;[m
[32m+[m[32mimport org.camunda.optimize.service.importing.ImportSchedulerManagerService;[m
[32m+[m[32mimport org.camunda.optimize.service.util.configuration.ConfigurationService;[m
[32m+[m[32mimport org.camunda.optimize.service.util.configuration.condition.ElasticSearchCondition;[m
[32m+[m[32mimport org.elasticsearch.action.admin.cluster.health.ClusterHealthRequest;[m
[32m+[m[32mimport org.elasticsearch.action.admin.cluster.health.ClusterHealthResponse;[m
[32m+[m[32mimport org.elasticsearch.cluster.health.ClusterHealthStatus;[m
[32m+[m[32mimport org.springframework.context.annotation.Conditional;[m
[32m+[m[32mimport org.springframework.stereotype.Component;[m
[32m+[m
[32m+[m[32m@Component[m
[32m+[m[32m@Slf4j[m
[32m+[m[32m@Conditional(ElasticSearchCondition.class)[m
[32m+[m[32mpublic class StatusCheckingServiceES extends StatusCheckingService {[m
[32m+[m
[32m+[m[32m  private final OptimizeElasticsearchClient esClient;[m
[32m+[m
[32m+[m[32m  public StatusCheckingServiceES(final OptimizeElasticsearchClient esClient,[m
[32m+[m[32m                                 final ConfigurationService configurationService,[m
[32m+[m[32m                                 final EngineContextFactory engineContextFactory,[m
[32m+[m[32m                                 final ImportSchedulerManagerService importSchedulerManagerService,[m
[32m+[m[32m                                 final OptimizeIndexNameService optimizeIndexNameService) {[m
[32m+[m[32m    super([m
[32m+[m[32m      configurationService,[m
[32m+[m[32m      engineContextFactory,[m
[32m+[m[32m      importSchedulerManagerService,[m
[32m+[m[32m      optimizeIndexNameService[m
[32m+[m[32m    );[m
[32m+[m[32m    this.esClient = esClient;[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  @Override[m
[32m+[m[32m  public boolean isConnectedToDatabase() {[m
[32m+[m[32m    boolean isConnected = false;[m
[32m+[m[32m    try {[m
[32m+[m[32m      ClusterHealthRequest request = new ClusterHealthRequest(optimizeIndexNameService.getIndexPrefix() + "*");[m
[32m+[m[32m      final ClusterHealthResponse healthResponse = esClient.getClusterHealth(request);[m
[32m+[m
[32m+[m[32m      isConnected = healthResponse.status().getStatus() == Response.Status.OK.getStatusCode()[m
[32m+[m[32m        && healthResponse.getStatus() != ClusterHealthStatus.RED;[m
[32m+[m[32m    } catch (Exception ignored) {[m
[32m+[m[32m      // do nothing[m
[32m+[m[32m    }[m
[32m+[m[32m    return isConnected;[m
[32m+[m[32m  }[m
[32m+[m[32m}[m
[1mdiff --git a/backend/src/main/java/org/camunda/optimize/service/status/StatusCheckingServiceOS.java b/backend/src/main/java/org/camunda/optimize/service/status/StatusCheckingServiceOS.java[m
[1mnew file mode 100644[m
[1mindex 0000000000..d3065570f2[m
[1m--- /dev/null[m
[1m+++ b/backend/src/main/java/org/camunda/optimize/service/status/StatusCheckingServiceOS.java[m
[36m@@ -0,0 +1,59 @@[m
[32m+[m[32m/*[m
[32m+[m[32m * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH under one or more contributor license agreements.[m
[32m+[m[32m * Licensed under a proprietary license. See the License.txt file for more information.[m
[32m+[m[32m * You may not use this file except in compliance with the proprietary license.[m
[32m+[m[32m */[m
[32m+[m[32mpackage org.camunda.optimize.service.status;[m
[32m+[m
[32m+[m[32mimport lombok.extern.slf4j.Slf4j;[m
[32m+[m[32mimport net.jodah.failsafe.Failsafe;[m
[32m+[m[32mimport net.jodah.failsafe.RetryPolicy;[m
[32m+[m[32mimport org.camunda.optimize.rest.engine.EngineContextFactory;[m
[32m+[m[32mimport org.camunda.optimize.service.es.schema.OptimizeIndexNameService;[m
[32m+[m[32mimport org.camunda.optimize.service.importing.ImportSchedulerManagerService;[m
[32m+[m[32mimport org.camunda.optimize.service.os.OptimizeOpensearchClient;[m
[32m+[m[32mimport org.camunda.optimize.service.util.configuration.ConfigurationService;[m
[32m+[m[32mimport org.camunda.optimize.service.util.configuration.condition.OpenSearchCondition;[m
[32m+[m[32mimport org.opensearch.client.opensearch._types.HealthStatus;[m
[32m+[m[32mimport org.opensearch.client.opensearch.cluster.HealthRequest;[m
[32m+[m[32mimport org.opensearch.client.opensearch.cluster.HealthResponse;[m
[32m+[m[32mimport org.springframework.context.annotation.Conditional;[m
[32m+[m[32mimport org.springframework.stereotype.Component;[m
[32m+[m
[32m+[m[32mimport java.time.Duration;[m
[32m+[m
[32m+[m[32m@Component[m
[32m+[m[32m@Slf4j[m
[32m+[m[32m@Conditional(OpenSearchCondition.class)[m
[32m+[m[32mpublic class StatusCheckingServiceOS extends StatusCheckingService {[m
[32m+[m
[32m+[m[32m  private final OptimizeOpensearchClient osClient;[m
[32m+[m
[32m+[m[32m  public StatusCheckingServiceOS(final OptimizeOpensearchClient osClient,[m
[32m+[m[32m                                 final ConfigurationService configurationService,[m
[32m+[m[32m                                 final EngineContextFactory engineContextFactory,[m
[32m+[m[32m                                 final ImportSchedulerManagerService importSchedulerManagerService,[m
[32m+[m[32m                                 final OptimizeIndexNameService optimizeIndexNameService) {[m
[32m+[m[32m    super([m
[32m+[m[32m      configurationService,[m
[32m+[m[32m      engineContextFactory,[m
[32m+[m[32m      importSchedulerManagerService,[m
[32m+[m[32m      optimizeIndexNameService[m
[32m+[m[32m    );[m
[32m+[m[32m    this.osClient = osClient;[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  @Override[m
[32m+[m[32m  public boolean isConnectedToDatabase() {[m
[32m+[m[32m    final RetryPolicy<Boolean> retryPolicy = new RetryPolicy<>();[m
[32m+[m[32m    retryPolicy.withDelay(Duration.ofSeconds(1));[m
[32m+[m[32m    return Failsafe.with(retryPolicy)[m
[32m+[m[32m      .get([m
[32m+[m[32m        () -> {[m
[32m+[m[32m          final HealthResponse clusterHealthResponse =[m
[32m+[m[32m            osClient.getDatabaseClient().cluster().health(new HealthRequest.Builder().build());[m
[32m+[m[32m          return clusterHealthResponse.status() != HealthStatus.Red;[m
[32m+[m[32m        });[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m}[m
[1mdiff --git a/backend/src/main/java/org/camunda/optimize/service/tenant/CamundaCCSMTenantService.java b/backend/src/main/java/org/camunda/optimize/service/tenant/CamundaCCSMTenantService.java[m
[1mnew file mode 100644[m
[1mindex 0000000000..c85a839a9a[m
[1m--- /dev/null[m
[1m+++ b/backend/src/main/java/org/camunda/optimize/service/tenant/CamundaCCSMTenantService.java[m
[36m@@ -0,0 +1,46 @@[m
[32m+[m[32m/*[m
[32m+[m[32m * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH under one or more contributor license agreements.[m
[32m+[m[32m * Licensed under a proprietary license. See the License.txt file for more information.[m
[32m+[m[32m * You may not use this file except in compliance with the proprietary license.[m
[32m+[m[32m */[m
[32m+[m[32mpackage org.camunda.optimize.service.tenant;[m
[32m+[m
[32m+[m[32mimport lombok.AllArgsConstructor;[m
[32m+[m[32mimport org.camunda.optimize.dto.optimize.TenantDto;[m
[32m+[m[32mimport org.camunda.optimize.service.security.util.tenant.CamundaCCSMTenantAuthorizationService;[m
[32m+[m[32mimport org.camunda.optimize.service.util.configuration.ConfigurationService;[m
[32m+[m[32mimport org.camunda.optimize.service.util.configuration.condition.CCSMCondition;[m
[32m+[m[32mimport org.springframework.context.annotation.Conditional;[m
[32m+[m[32mimport org.springframework.stereotype.Component;[m
[32m+[m
[32m+[m[32mimport java.util.List;[m
[32m+[m
[32m+[m[32m@AllArgsConstructor[m
[32m+[m[32m@Component[m
[32m+[m[32m@Conditional(CCSMCondition.class)[m
[32m+[m[32mpublic class CamundaCCSMTenantService implements TenantService {[m
[32m+[m[32m  private final CamundaCCSMTenantAuthorizationService tenantAuthorizationService;[m
[32m+[m[32m  private final ConfigurationService configurationService;[m
[32m+[m
[32m+[m[32m  @Override[m
[32m+[m[32m  public boolean isAuthorizedToSeeTenant(final String userId, final String tenantId) {[m
[32m+[m[32m    // In CCSM, we can only retrieve tenant auths for the current user using the user's token[m
[32m+[m[32m    return tenantAuthorizationService.isCurrentUserAuthorizedToSeeTenant(tenantId);[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  @Override[m
[32m+[m[32m  public List<TenantDto> getTenantsForUser(final String userId) {[m
[32m+[m[32m    // In CCSM, we can only retrieve tenant auths for the current user using the user's token[m
[32m+[m[32m    return getTenantsForCurrentUser();[m
[32m+[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  @Override[m
[32m+[m[32m  public boolean isMultiTenantEnvironment() {[m
[32m+[m[32m    return configurationService.isMultiTenancyEnabled();[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  private List<TenantDto> getTenantsForCurrentUser() {[m
[32m+[m[32m    return tenantAuthorizationService.getCurrentUserAuthorizedTenants();[m
[32m+[m[32m  }[m
[32m+[m[32m}[m
[1mdiff --git a/backend/src/main/java/org/camunda/optimize/service/TenantService.java b/backend/src/main/java/org/camunda/optimize/service/tenant/CamundaPlatformTenantService.java[m
[1msimilarity index 81%[m
[1mrename from backend/src/main/java/org/camunda/optimize/service/TenantService.java[m
[1mrename to backend/src/main/java/org/camunda/optimize/service/tenant/CamundaPlatformTenantService.java[m
[1mindex 7bd7c189ba..ffc6999f17 100644[m
[1m--- a/backend/src/main/java/org/camunda/optimize/service/TenantService.java[m
[1m+++ b/backend/src/main/java/org/camunda/optimize/service/tenant/CamundaPlatformTenantService.java[m
[36m@@ -3,7 +3,7 @@[m
  * Licensed under a proprietary license. See the License.txt file for more information.[m
  * You may not use this file except in compliance with the proprietary license.[m
  */[m
[31m-package org.camunda.optimize.service;[m
[32m+[m[32mpackage org.camunda.optimize.service.tenant;[m
 [m
 import com.github.benmanes.caffeine.cache.Caffeine;[m
 import com.github.benmanes.caffeine.cache.LoadingCache;[m
[36m@@ -15,7 +15,9 @@[m [mimport org.camunda.optimize.service.security.util.tenant.DataSourceTenantAuthori[m
 import org.camunda.optimize.service.util.configuration.CacheConfiguration;[m
 import org.camunda.optimize.service.util.configuration.ConfigurationReloadable;[m
 import org.camunda.optimize.service.util.configuration.ConfigurationService;[m
[32m+[m[32mimport org.camunda.optimize.service.util.configuration.condition.CamundaPlatformCondition;[m
 import org.springframework.context.ApplicationContext;[m
[32m+[m[32mimport org.springframework.context.annotation.Conditional;[m
 import org.springframework.stereotype.Component;[m
 [m
 import java.util.ArrayList;[m
[36m@@ -24,19 +26,19 @@[m [mimport java.util.concurrent.TimeUnit;[m
 import java.util.stream.Stream;[m
 [m
 @Component[m
[31m-public class TenantService implements ConfigurationReloadable {[m
[32m+[m[32m@Conditional(CamundaPlatformCondition.class)[m
[32m+[m[32mpublic class CamundaPlatformTenantService implements TenantService, ConfigurationReloadable {[m
   public static final TenantDto TENANT_NOT_DEFINED = new TenantDto(null, "Not defined", null);[m
 [m
   private final TenantReader tenantReader;[m
   private final DataSourceTenantAuthorizationService tenantAuthorizationService;[m
   private final ConfigurationService configurationService;[m
   private final LoadingCache<String, List<TenantDto>> tenantsReadCache;[m
[31m-[m
   private List<TenantDto> configuredDefaultTenants;[m
 [m
[31m-  public TenantService(final TenantReader tenantReader,[m
[31m-                       final DataSourceTenantAuthorizationService tenantAuthorizationService,[m
[31m-                       final ConfigurationService configurationService) {[m
[32m+[m[32m  public CamundaPlatformTenantService(final TenantReader tenantReader,[m
[32m+[m[32m                                      final DataSourceTenantAuthorizationService tenantAuthorizationService,[m
[32m+[m[32m                                      final ConfigurationService configurationService) {[m
     this.tenantReader = tenantReader;[m
     this.tenantAuthorizationService = tenantAuthorizationService;[m
     this.configurationService = configurationService;[m
[36m@@ -55,16 +57,19 @@[m [mpublic class TenantService implements ConfigurationReloadable {[m
       .build(key -> fetchTenants());[m
   }[m
 [m
[32m+[m[32m  @Override[m
   public boolean isAuthorizedToSeeTenant(final String userId, final String tenantId) {[m
     return tenantAuthorizationService.isAuthorizedToSeeTenant(userId, IdentityType.USER, tenantId);[m
   }[m
 [m
[31m-  public List<String> getTenantIdsForUser(final String userId) {[m
[31m-    return getTenantsForUser(userId).stream().map(TenantDto::getId).toList();[m
[32m+[m[32m  @Override[m
[32m+[m[32m  public boolean isMultiTenantEnvironment() {[m
[32m+[m[32m    return getAvailableTenants().size() > 1;[m
   }[m
 [m
[32m+[m[32m  @Override[m
   public List<TenantDto> getTenantsForUser(final String userId) {[m
[31m-    return getTenants().stream()[m
[32m+[m[32m    return getAvailableTenants().stream()[m
       .filter(tenantDto -> tenantAuthorizationService.isAuthorizedToSeeTenant([m
         userId,[m
         IdentityType.USER,[m
[36m@@ -74,31 +79,16 @@[m [mpublic class TenantService implements ConfigurationReloadable {[m
       .toList();[m
   }[m
 [m
[31m-  public List<TenantDto> getTenantsForUserByEngine(final String userId, final String engineAlias) {[m
[31m-    return getTenantsByEngine(engineAlias).stream()[m
[31m-      .filter(tenantDto -> tenantAuthorizationService.isAuthorizedToSeeTenant([m
[31m-        userId,[m
[31m-        IdentityType.USER,[m
[31m-        tenantDto.getId(),[m
[31m-        engineAlias[m
[31m-      ))[m
[31m-      .toList();[m
[31m-  }[m
[31m-[m
   public List<TenantDto> getTenantsByEngine(final String engineAlias) {[m
[31m-    return getTenants().stream()[m
[32m+[m[32m    return getAvailableTenants().stream()[m
       .filter(tenantDto -> tenantDto.equals(TENANT_NOT_DEFINED) || tenantDto.getEngine().equals(engineAlias))[m
       .toList();[m
   }[m
 [m
[31m-  public List<TenantDto> getTenants() {[m
[32m+[m[32m  public List<TenantDto> getAvailableTenants() {[m
     return tenantsReadCache.get("getTenants");[m
   }[m
 [m
[31m-  public boolean isMultiTenantEnvironment() {[m
[31m-    return getTenants().size() > 1;[m
[31m-  }[m
[31m-[m
   private List<TenantDto> fetchTenants() {[m
     final List<TenantDto> tenants = new ArrayList<>(configuredDefaultTenants);[m
     tenants.addAll(tenantReader.getTenants());[m
[36m@@ -123,3 +113,4 @@[m [mpublic class TenantService implements ConfigurationReloadable {[m
     tenantsReadCache.invalidateAll();[m
   }[m
 }[m
[41m+[m
[1mdiff --git a/backend/src/main/java/org/camunda/optimize/service/tenant/CamundaSaaSTenantService.java b/backend/src/main/java/org/camunda/optimize/service/tenant/CamundaSaaSTenantService.java[m
[1mnew file mode 100644[m
[1mindex 0000000000..41a4493ab8[m
[1m--- /dev/null[m
[1m+++ b/backend/src/main/java/org/camunda/optimize/service/tenant/CamundaSaaSTenantService.java[m
[36m@@ -0,0 +1,36 @@[m
[32m+[m[32m/*[m
[32m+[m[32m * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH under one or more contributor license agreements.[m
[32m+[m[32m * Licensed under a proprietary license. See the License.txt file for more information.[m
[32m+[m[32m * You may not use this file except in compliance with the proprietary license.[m
[32m+[m[32m */[m
[32m+[m[32mpackage org.camunda.optimize.service.tenant;[m
[32m+[m
[32m+[m[32mimport org.camunda.optimize.dto.optimize.TenantDto;[m
[32m+[m[32mimport org.camunda.optimize.service.util.configuration.condition.CCSaaSCondition;[m
[32m+[m[32mimport org.springframework.context.annotation.Conditional;[m
[32m+[m[32mimport org.springframework.stereotype.Component;[m
[32m+[m
[32m+[m[32mimport java.util.Collections;[m
[32m+[m[32mimport java.util.List;[m
[32m+[m
[32m+[m[32mimport static org.camunda.optimize.service.util.importing.ZeebeConstants.ZEEBE_DEFAULT_TENANT_ID;[m
[32m+[m[32mimport static org.camunda.optimize.upgrade.es.ElasticsearchConstants.ZEEBE_DATA_SOURCE;[m
[32m+[m
[32m+[m[32m@Component[m
[32m+[m[32m@Conditional(CCSaaSCondition.class)[m
[32m+[m[32mpublic class CamundaSaaSTenantService implements TenantService {[m
[32m+[m[32m  @Override[m
[32m+[m[32m  public boolean isAuthorizedToSeeTenant(final String userId, final String tenantId) {[m
[32m+[m[32m    return true;[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  @Override[m
[32m+[m[32m  public List<TenantDto> getTenantsForUser(final String userId) {[m
[32m+[m[32m    return Collections.singletonList(new TenantDto(ZEEBE_DEFAULT_TENANT_ID, null, ZEEBE_DATA_SOURCE));[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  @Override[m
[32m+[m[32m  public boolean isMultiTenantEnvironment() {[m
[32m+[m[32m    return false;[m
[32m+[m[32m  }[m
[32m+[m[32m}[m
[1mdiff --git a/backend/src/main/java/org/camunda/optimize/service/tenant/TenantService.java b/backend/src/main/java/org/camunda/optimize/service/tenant/TenantService.java[m
[1mnew file mode 100644[m
[1mindex 0000000000..c20cc467bf[m
[1m--- /dev/null[m
[1m+++ b/backend/src/main/java/org/camunda/optimize/service/tenant/TenantService.java[m
[36m@@ -0,0 +1,22 @@[m
[32m+[m[32m/*[m
[32m+[m[32m * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH under one or more contributor license agreements.[m
[32m+[m[32m * Licensed under a proprietary license. See the License.txt file for more information.[m
[32m+[m[32m * You may not use this file except in compliance with the proprietary license.[m
[32m+[m[32m */[m
[32m+[m[32mpackage org.camunda.optimize.service.tenant;[m
[32m+[m
[32m+[m[32mimport org.camunda.optimize.dto.optimize.TenantDto;[m
[32m+[m
[32m+[m[32mimport java.util.List;[m
[32m+[m
[32m+[m[32mpublic interface TenantService {[m
[32m+[m[32m  boolean isAuthorizedToSeeTenant(final String userId, final String tenantId);[m
[32m+[m
[32m+[m[32m  default List<String> getTenantIdsForUser(final String userId) {[m
[32m+[m[32m    return getTenantsForUser(userId).stream().map(TenantDto::getId).toList();[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  boolean isMultiTenantEnvironment();[m
[32m+[m
[32m+[m[32m  List<TenantDto> getTenantsForUser(final String userId);[m
[32m+[m[32m}[m
[1mdiff --git a/backend/src/main/java/org/camunda/optimize/service/util/DatabaseVersionChecker.java b/backend/src/main/java/org/camunda/optimize/service/util/DatabaseVersionChecker.java[m
[1mnew file mode 100644[m
[1mindex 0000000000..dfd965b9b7[m
[1m--- /dev/null[m
[1m+++ b/backend/src/main/java/org/camunda/optimize/service/util/DatabaseVersionChecker.java[m
[36m@@ -0,0 +1,154 @@[m
[32m+[m[32m/*[m
[32m+[m[32m * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH under one or more contributor license agreements.[m
[32m+[m[32m * Licensed under a proprietary license. See the License.txt file for more information.[m
[32m+[m[32m * You may not use this file except in compliance with the proprietary license.[m
[32m+[m[32m */[m
[32m+[m[32mpackage org.camunda.optimize.service.util;[m
[32m+[m
[32m+[m[32mimport lombok.AccessLevel;[m
[32m+[m[32mimport lombok.Getter;[m
[32m+[m[32mimport lombok.NoArgsConstructor;[m
[32m+[m[32mimport lombok.Setter;[m
[32m+[m[32mimport lombok.extern.slf4j.Slf4j;[m
[32m+[m[32mimport org.camunda.optimize.service.exceptions.OptimizeRuntimeException;[m
[32m+[m[32mimport org.elasticsearch.client.RequestOptions;[m
[32m+[m[32mimport org.elasticsearch.client.RestHighLevelClient;[m
[32m+[m[32mimport org.opensearch.client.opensearch.OpenSearchClient;[m
[32m+[m
[32m+[m[32mimport java.io.IOException;[m
[32m+[m[32mimport java.util.ArrayList;[m
[32m+[m[32mimport java.util.Comparator;[m
[32m+[m[32mimport java.util.List;[m
[32m+[m
[32m+[m[32mimport static org.camunda.optimize.service.metadata.Version.getMajorAndMinor;[m
[32m+[m[32mimport static org.camunda.optimize.service.metadata.Version.getMajorVersionFrom;[m
[32m+[m[32mimport static org.camunda.optimize.service.metadata.Version.getMinorVersionFrom;[m
[32m+[m[32mimport static org.camunda.optimize.service.metadata.Version.getPatchVersionFrom;[m
[32m+[m[32mimport static org.camunda.optimize.service.metadata.Version.stripToPlainVersion;[m
[32m+[m[32mimport static org.camunda.optimize.service.os.OptimizeOpensearchClientFactory.getCurrentOSVersion;[m
[32m+[m[32mimport static org.camunda.optimize.upgrade.es.ElasticsearchHighLevelRestClientBuilder.getCurrentESVersion;[m
[32m+[m
[32m+[m[32m@Slf4j[m
[32m+[m[32m@NoArgsConstructor(access = AccessLevel.PRIVATE)[m
[32m+[m[32mpublic abstract class DatabaseVersionChecker {[m
[32m+[m[32m  @Getter[m
[32m+[m[32m  @Setter[m
[32m+[m[32m  private static List<String> supportedVersionsES = new ArrayList<>();[m
[32m+[m[32m  @Getter[m
[32m+[m[32m  @Setter[m
[32m+[m[32m  private static List<String> supportedVersionsOS = new ArrayList<>();[m
[32m+[m
[32m+[m[32m  public final static String ELASTICSEARCH = "Elasticsearch"; //TODO will be moved to DatabaseConstants in OPT-7229[m
[32m+[m[32m  public final static String OPENSEARCH = "Opensearch"; //TODO will be moved to DatabaseConstants in OPT-7229[m
[32m+[m
[32m+[m[32m  static {[m
[32m+[m[32m    // Elasticsearch versions[m
[32m+[m[32m    supportedVersionsES.add("7.10.0");[m
[32m+[m[32m    supportedVersionsES.add("7.11.0");[m
[32m+[m[32m    supportedVersionsES.add("7.12.0");[m
[32m+[m[32m    supportedVersionsES.add("7.13.0");[m
[32m+[m[32m    supportedVersionsES.add("7.14.0");[m
[32m+[m[32m    supportedVersionsES.add("7.15.0");[m
[32m+[m[32m    supportedVersionsES.add("7.16.2");[m
[32m+[m[32m    supportedVersionsES.add("7.17.0");[m
[32m+[m[32m    supportedVersionsES.add("8.7.0");[m
[32m+[m[32m    supportedVersionsES.add("8.8.0");[m
[32m+[m
[32m+[m[32m    // Opensearch versions[m
[32m+[m[32m    supportedVersionsOS.add("2.5.0");[m
[32m+[m[32m    supportedVersionsOS.add("2.6.0");[m
[32m+[m[32m    supportedVersionsOS.add("2.7.0");[m
[32m+[m[32m    supportedVersionsOS.add("2.8.0");[m
[32m+[m[32m    supportedVersionsOS.add("2.9.0");[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  private static final Comparator<String> MAJOR_COMPARATOR = Comparator.comparingInt(major -> Integer.parseInt([m
[32m+[m[32m    getMajorVersionFrom(major)));[m
[32m+[m[32m  private static final Comparator<String> MINOR_COMPARATOR = Comparator.comparingInt(minor -> Integer.parseInt([m
[32m+[m[32m    getMinorVersionFrom(minor)));[m
[32m+[m[32m  private static final Comparator<String> PATCH_COMPARATOR = Comparator.comparingInt(patch -> Integer.parseInt([m
[32m+[m[32m    getPatchVersionFrom(patch)));[m
[32m+[m[32m  private static final Comparator<String> LATEST_VERSION_COMPARATOR =[m
[32m+[m[32m    MAJOR_COMPARATOR.thenComparing(MINOR_COMPARATOR).thenComparing(PATCH_COMPARATOR);[m
[32m+[m
[32m+[m[32m  public static void checkESVersionSupport(final RestHighLevelClient esClient,[m
[32m+[m[32m                                           final RequestOptions requestOptions) throws IOException {[m
[32m+[m[32m    checkDatabaseVersionSupported(getCurrentESVersion(esClient, requestOptions), ELASTICSEARCH);[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  public static void checkOSVersionSupport(final OpenSearchClient osClient,[m
[32m+[m[32m                                           final RequestOptions requestOptions) throws IOException {[m
[32m+[m[32m    checkDatabaseVersionSupported(getCurrentOSVersion(osClient), OPENSEARCH);[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  private static void checkDatabaseVersionSupported(final String currentVersion,[m
[32m+[m[32m                                                    final String database) {[m
[32m+[m[32m    List<String> supportedVersions = ELASTICSEARCH.equals(database) ? supportedVersionsES : supportedVersionsOS;[m
[32m+[m[32m    if (!isCurrentVersionSupported(currentVersion, supportedVersions)) {[m
[32m+[m[32m      if (doesVersionNeedWarning(currentVersion, getLatestSupportedVersion(supportedVersions))) {[m
[32m+[m[32m        log.warn(String.format("""[m
[32m+[m[32m                  The version of %1$s you're using is not officially supported by Camunda Optimize.[m
[32m+[m[32m                  We can not guarantee full functionality.[m
[32m+[m[32m                  Please check the technical guide for the list of supported %1$s versions[m
[32m+[m[32m                 """, database));[m
[32m+[m
[32m+[m[32m      } else {[m
[32m+[m[32m        throw new OptimizeRuntimeException(buildUnsupportedErrorMessage(currentVersion, database, supportedVersions));[m
[32m+[m[32m      }[m
[32m+[m[32m    }[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  public static boolean doesVersionNeedWarning(String currentVersion, String latestSupportedVersion) {[m
[32m+[m[32m    return (Integer.parseInt(getMajorVersionFrom(currentVersion))[m
[32m+[m[32m      == Integer.parseInt(getMajorVersionFrom(latestSupportedVersion)))[m
[32m+[m[32m      && (Integer.parseInt(getMinorVersionFrom(currentVersion)) > Integer.parseInt(getMinorVersionFrom(latestSupportedVersion)));[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  public static boolean isCurrentElasticsearchVersionSupported(String currentVersion) {[m
[32m+[m[32m    return isCurrentVersionSupported(currentVersion, supportedVersionsES);[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  public static boolean isCurrentOpensearchVersionSupported(String currentVersion) {[m
[32m+[m[32m    return isCurrentVersionSupported(currentVersion, supportedVersionsOS);[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  private static boolean isCurrentVersionSupported(String currentVersion, List<String> supportedVersions) {[m
[32m+[m[32m    String currentMajorAndMinor = getMajorAndMinor(currentVersion);[m
[32m+[m[32m    return supportedVersions.stream().anyMatch(v -> {[m
[32m+[m[32m      String neededVersion = stripToPlainVersion(v);[m
[32m+[m[32m      String neededMajorAndMinor = getMajorAndMinor(neededVersion);[m
[32m+[m
[32m+[m[32m      return currentMajorAndMinor.equals(neededMajorAndMinor)[m
[32m+[m[32m        && Integer.parseInt(getPatchVersionFrom(currentVersion)) >=[m
[32m+[m[32m        Integer.parseInt(getPatchVersionFrom(neededVersion));[m
[32m+[m[32m    });[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  public static String getLatestSupportedESVersion() {[m
[32m+[m[32m    return getLatestSupportedVersion(supportedVersionsES);[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  public static String getLatestSupportedOSVersion() {[m
[32m+[m[32m    return getLatestSupportedVersion(supportedVersionsOS);[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  private static String getLatestSupportedVersion(List<String> supportedVersions) {[m
[32m+[m[32m    return supportedVersions.stream()[m
[32m+[m[32m      .max(LATEST_VERSION_COMPARATOR)[m
[32m+[m[32m      .orElseThrow(() -> new IllegalStateException("No supported versions found"));[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  private static String buildUnsupportedErrorMessage(String dbVersion, String database,[m
[32m+[m[32m                                                     List<String> supportedVersions ) {[m
[32m+[m[32m    StringBuilder message = new StringBuilder(database + " version is not supported by Optimize.\n");[m
[32m+[m
[32m+[m[32m    message.append("Current version of Optimize supports the following ").append(database).append(" versions:\n");[m
[32m+[m[32m    for (String version : supportedVersions) {[m
[32m+[m[32m      message.append(version).append("+\n");[m
[32m+[m[32m    }[m
[32m+[m
[32m+[m[32m    message.append("Your current ").append(database).append(" version is: ").append(dbVersion);[m
[32m+[m[32m    return message.toString();[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m}[m
[1mdiff --git a/backend/src/main/java/org/camunda/optimize/service/util/ESVersionChecker.java b/backend/src/main/java/org/camunda/optimize/service/util/ESVersionChecker.java[m
[1mdeleted file mode 100644[m
[1mindex 365f9360ca..0000000000[m
[1m--- a/backend/src/main/java/org/camunda/optimize/service/util/ESVersionChecker.java[m
[1m+++ /dev/null[m
[36m@@ -1,109 +0,0 @@[m
[31m-/*[m
[31m- * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH under one or more contributor license agreements.[m
[31m- * Licensed under a proprietary license. See the License.txt file for more information.[m
[31m- * You may not use this file except in compliance with the proprietary license.[m
[31m- */[m
[31m-package org.camunda.optimize.service.util;[m
[31m-[m
[31m-import lombok.AccessLevel;[m
[31m-import lombok.Getter;[m
[31m-import lombok.NoArgsConstructor;[m
[31m-import lombok.Setter;[m
[31m-import lombok.extern.slf4j.Slf4j;[m
[31m-import org.camunda.optimize.service.exceptions.OptimizeRuntimeException;[m
[31m-import org.elasticsearch.client.RequestOptions;[m
[31m-import org.elasticsearch.client.RestHighLevelClient;[m
[31m-[m
[31m-import java.io.IOException;[m
[31m-import java.util.ArrayList;[m
[31m-import java.util.Comparator;[m
[31m-import java.util.List;[m
[31m-[m
[31m-import static org.camunda.optimize.service.metadata.Version.getMajorAndMinor;[m
[31m-import static org.camunda.optimize.service.metadata.Version.getMajorVersionFrom;[m
[31m-import static org.camunda.optimize.service.metadata.Version.getMinorVersionFrom;[m
[31m-import static org.camunda.optimize.service.metadata.Version.getPatchVersionFrom;[m
[31m-import static org.camunda.optimize.service.metadata.Version.stripToPlainVersion;[m
[31m-import static org.camunda.optimize.upgrade.es.ElasticsearchHighLevelRestClientBuilder.getCurrentESVersion;[m
[31m-[m
[31m-@Slf4j[m
[31m-@NoArgsConstructor(access = AccessLevel.PRIVATE)[m
[31m-public class ESVersionChecker {[m
[31m-  @Getter[m
[31m-  @Setter[m
[31m-  private static List<String> supportedVersions = new ArrayList<>();[m
[31m-[m
[31m-  static {[m
[31m-    supportedVersions.add("7.10.0");[m
[31m-    supportedVersions.add("7.11.0");[m
[31m-    supportedVersions.add("7.12.0");[m
[31m-    supportedVersions.add("7.13.0");[m
[31m-    supportedVersions.add("7.14.0");[m
[31m-    supportedVersions.add("7.15.0");[m
[31m-    supportedVersions.add("7.16.2");[m
[31m-    supportedVersions.add("7.17.0");[m
[31m-    supportedVersions.add("8.7.0");[m
[31m-    supportedVersions.add("8.8.0");[m
[31m-  }[m
[31m-[m
[31m-  private static final Comparator<String> MAJOR_COMPARATOR = Comparator.comparingInt(major -> Integer.parseInt([m
[31m-    getMajorVersionFrom(major)));[m
[31m-  private static final Comparator<String> MINOR_COMPARATOR = Comparator.comparingInt(minor -> Integer.parseInt([m
[31m-    getMinorVersionFrom(minor)));[m
[31m-  private static final Comparator<String> PATCH_COMPARATOR = Comparator.comparingInt(patch -> Integer.parseInt([m
[31m-    getPatchVersionFrom(patch)));[m
[31m-  private static final Comparator<String> LATEST_VERSION_COMPARATOR =[m
[31m-    MAJOR_COMPARATOR.thenComparing(MINOR_COMPARATOR).thenComparing(PATCH_COMPARATOR);[m
[31m-[m
[31m-  public static void checkESVersionSupport(final RestHighLevelClient esClient,[m
[31m-                                           final RequestOptions requestOptions) throws IOException {[m
[31m-    String currentVersion = getCurrentESVersion(esClient, requestOptions);[m
[31m-[m
[31m-    if (!isCurrentVersionSupported(currentVersion)) {[m
[31m-      if (doesVersionNeedWarning(currentVersion)) {[m
[31m-        log.warn("The version of Elasticsearch you're using is not officially supported by Camunda Optimize." +[m
[31m-                   "\nWe can not guarantee full functionality." +[m
[31m-                   "\nPlease check the technical guide for the list of supported Elasticsearch versions");[m
[31m-      } else {[m
[31m-        throw new OptimizeRuntimeException(buildUnsupportedESErrorMessage(currentVersion));[m
[31m-      }[m
[31m-    }[m
[31m-  }[m
[31m-[m
[31m-  public static boolean doesVersionNeedWarning(String currentVersion) {[m
[31m-    return (Integer.parseInt(getMajorVersionFrom(currentVersion))[m
[31m-      == Integer.parseInt(getMajorVersionFrom(getLatestSupportedESVersion())))[m
[31m-      && (Integer.parseInt(getMinorVersionFrom(currentVersion)) > Integer.parseInt(getMinorVersionFrom(getLatestSupportedESVersion())));[m
[31m-  }[m
[31m-[m
[31m-  public static boolean isCurrentVersionSupported(String currentVersion) {[m
[31m-    String currentMajorAndMinor = getMajorAndMinor(currentVersion);[m
[31m-    return supportedVersions.stream().anyMatch(v -> {[m
[31m-      String neededVersion = stripToPlainVersion(v);[m
[31m-      String neededMajorAndMinor = getMajorAndMinor(neededVersion);[m
[31m-[m
[31m-      return currentMajorAndMinor.equals(neededMajorAndMinor)[m
[31m-        && Integer.parseInt(getPatchVersionFrom(currentVersion)) >=[m
[31m-        Integer.parseInt(getPatchVersionFrom(neededVersion));[m
[31m-    });[m
[31m-  }[m
[31m-[m
[31m-  public static String getLatestSupportedESVersion() {[m
[31m-    return supportedVersions.stream()[m
[31m-      .max(LATEST_VERSION_COMPARATOR)[m
[31m-      .orElseThrow(() -> new IllegalStateException("No supported versions found"));[m
[31m-  }[m
[31m-[m
[31m-  private static String buildUnsupportedESErrorMessage(String esVersion) {[m
[31m-    StringBuilder message = new StringBuilder("Elasticsearch version is not supported by Optimize.\n");[m
[31m-[m
[31m-    message.append("Current version of Optimize supports following Elasticsearch versions:\n");[m
[31m-    for (String version : supportedVersions) {[m
[31m-      message.append(version).append("+\n");[m
[31m-    }[m
[31m-[m
[31m-    message.append("Your current Elasticsearch version is: ").append(esVersion);[m
[31m-    return message.toString();[m
[31m-  }[m
[31m-[m
[31m-}[m
[1mdiff --git a/backend/src/main/java/org/camunda/optimize/service/util/EngineVersionChecker.java b/backend/src/main/java/org/camunda/optimize/service/util/EngineVersionChecker.java[m
[1mindex 1aa2569c72..acba93f968 100644[m
[1m--- a/backend/src/main/java/org/camunda/optimize/service/util/EngineVersionChecker.java[m
[1m+++ b/backend/src/main/java/org/camunda/optimize/service/util/EngineVersionChecker.java[m
[36m@@ -39,6 +39,7 @@[m [mpublic class EngineVersionChecker {[m
   static {[m
     supportedEngines.add("7.18.0");[m
     supportedEngines.add("7.19.0");[m
[32m+[m[32m    supportedEngines.add("7.20.0");[m
   }[m
 [m
   public static void checkEngineVersionSupport(final Client engineClient,[m
[1mdiff --git a/backend/src/main/resources/customer_onboarding_definition.json b/backend/src/main/resources/customer_onboarding_definition.json[m
[1mindex 92676cd802..b4aa2df908 100644[m
[1m--- a/backend/src/main/resources/customer_onboarding_definition.json[m
[1m+++ b/backend/src/main/resources/customer_onboarding_definition.json[m
[36m@@ -3,7 +3,7 @@[m
   "key": "customer_onboarding_en",[m
   "version": "1",[m
   "versionTag": null,[m
[31m-  "name": "Customer Onboarding",[m
[32m+[m[32m  "name": "Camunda Customer Onboarding Demo",[m
   "dataSource": {[m
     "name": "zeebe-record",[m
     "type": "zeebe"[m
[36m@@ -11,7 +11,7 @@[m
   "tenantId": null,[m
   "deleted": false,[m
   "onboarded": true,[m
[31m-  "bpmn20Xml": "<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<bpmn2:definitions xmlns:bpmn2=\"http://www.omg.org/spec/BPMN/20100524/MODEL\" xmlns:camunda=\"http://camunda.org/schema/1.0/bpmn\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns:bpmndi=\"http://www.omg.org/spec/BPMN/20100524/DI\" xmlns:di=\"http://www.omg.org/spec/DD/20100524/DI\" xmlns:dc=\"http://www.omg.org/spec/DD/20100524/DC\" id=\"_5SVkEIXnEeSmwfgVk-ryvQ\" targetNamespace=\"http://camunda.org/schema/1.0/bpmn\" exporter=\"Camunda Modeler\" exporterVersion=\"3.6.0\" xsi:schemaLocation=\"http://www.omg.org/spec/BPMN/20100524/MODEL BPMN20.xsd\">\n  <bpmn2:collaboration id=\"Collaboration_1u35ano\">\n    <bpmn2:participant id=\"Participant_0477s11\" name=\"Customer Onboarding\" processRef=\"customer_onboarding_en\" />\n  </bpmn2:collaboration>\n  <bpmn2:process id=\"customer_onboarding_en\" name=\"Customer Onboarding\" isExecutable=\"true\">\n    <bpmn2:startEvent id=\"StartEvent_1\" name=\"Application received\" camunda:asyncAfter=\"true\" camunda:formKey=\"app:camunda/online/index.html\">\n      <bpmn2:extensionElements>\n        <camunda:properties>\n          <camunda:property name=\"simNextFire\" value=\"${g.timesPerDay(&#34;onboard&#34;,&#34;07:30&#34;,&#34;22:30&#34;, g.linearBySimulationTime(5,15))}\" />\n          <camunda:property name=\"simInitPayload\" value=\"application=${g.json(generator.newApplication(false))}\" />\n          <camunda:property name=\"simGeneratePayload\" value=\"applicationNumber=${application.getApplicationNumber()}\" />\n          <camunda:property name=\"simGeneratePayload\" value=\"applicantName=${application.getApplicant().getName()}\" />\n          <camunda:property name=\"simInitBusinessKey\" value=\"A-${g.format1(&#39;%05d&#39;, g.uniqueNumber())}\" />\n          <camunda:property name=\"simGeneratePayload\" value=\"category=${application.getCategory()}\" />\n          <camunda:property name=\"simKeepListeners\" value=\"true\" />\n        </camunda:properties>\n        <camunda:executionListener delegateExpression=\"${corporationMapper}\" event=\"start\" />\n      </bpmn2:extensionElements>\n      <bpmn2:outgoing>SequenceFlow_6</bpmn2:outgoing>\n    </bpmn2:startEvent>\n    <bpmn2:exclusiveGateway id=\"ExclusiveGateway_2\" name=\"Decision?\">\n      <bpmn2:extensionElements>\n        <camunda:properties>\n          <camunda:property name=\"simulateKeepImplementation\" value=\"true\" />\n        </camunda:properties>\n      </bpmn2:extensionElements>\n      <bpmn2:incoming>SequenceFlow_1h4oxvl</bpmn2:incoming>\n      <bpmn2:outgoing>SequenceFlow_8</bpmn2:outgoing>\n      <bpmn2:outgoing>SequenceFlow_12</bpmn2:outgoing>\n    </bpmn2:exclusiveGateway>\n    <bpmn2:endEvent id=\"EndEvent_ApplicationIssued\" name=\"Application&#10; issued\">\n      <bpmn2:extensionElements>\n        <camunda:properties>\n          <camunda:property name=\"KPI-Ratio\" value=\"Policed\" />\n        </camunda:properties>\n      </bpmn2:extensionElements>\n      <bpmn2:incoming>SequenceFlow_11</bpmn2:incoming>\n    </bpmn2:endEvent>\n    <bpmn2:sendTask id=\"SendTask_SendPolicy\" name=\"Send confirmation\" camunda:async=\"true\" camunda:type=\"external\" camunda:topic=\"emailService\">\n      <bpmn2:extensionElements>\n        <camunda:inputOutput>\n          <camunda:inputParameter name=\"mailBody\">\n            <camunda:script scriptFormat=\"freemarker\">Dear ${application.applicant.name}.\n\nWe happily inform you that your request was accepted.\n\nPlease check the key facts: \n- Application Number: ${application.applicationNumber}\n- Premium per anno: ${application.premium}\n- Product: ${application.product}\n\nKind regards,\n${application.corporation}.</camunda:script>\n          </camunda:inputParameter>\n          <camunda:inputParameter name=\"mailSubject\">Your request was issued</camunda:inputParameter>\n        </camunda:inputOutput>\n        <camunda:properties>\n          <camunda:property name=\"simNextFire\" value=\"${g.now()}\" />\n        </camunda:properties>\n      </bpmn2:extensionElements>\n      <bpmn2:incoming>SequenceFlow_10</bpmn2:incoming>\n      <bpmn2:outgoing>SequenceFlow_11</bpmn2:outgoing>\n    </bpmn2:sendTask>\n    <bpmn2:serviceTask id=\"ServiceTask_DeliverPolicy\" name=\"Deliver confirmation\" camunda:delegateExpression=\"${issuePolicyAdapter}\">\n      <bpmn2:extensionElements>\n        <camunda:properties>\n          <camunda:property name=\"simCallRealImplementation\" value=\"true\" />\n        </camunda:properties>\n      </bpmn2:extensionElements>\n      <bpmn2:incoming>SequenceFlow_8</bpmn2:incoming>\n      <bpmn2:incoming>SequenceFlow_7</bpmn2:incoming>\n      <bpmn2:outgoing>SequenceFlow_10</bpmn2:outgoing>\n    </bpmn2:serviceTask>\n    <bpmn2:businessRuleTask id=\"BusinessRuleTask_CheckApplicationAutomatically\" name=\"Check application automatically\" camunda:resultVariable=\"riskDMNresult\" camunda:decisionRef=\"checkRisk_en\">\n      <bpmn2:extensionElements>\n        <camunda:executionListener class=\"com.camunda.demo.customeronboarding.adapter.MapDmnResult\" event=\"end\" />\n        <camunda:properties>\n          <camunda:property name=\"simCallRealImplementation\" value=\"true\" />\n          <camunda:property name=\"simKeepListeners\" value=\"true\" />\n        </camunda:properties>\n        <camunda:executionListener event=\"start\">\n          <camunda:script scriptFormat=\"javascript\">if(execution.hasVariable(\"riskDMNresult\")) {\n      execution.removeVariable(\"riskDMNresult\");\n    }</camunda:script>\n        </camunda:executionListener>\n      </bpmn2:extensionElements>\n      <bpmn2:incoming>SequenceFlow_1gd6p37</bpmn2:incoming>\n      <bpmn2:outgoing>SequenceFlow_2</bpmn2:outgoing>\n    </bpmn2:businessRuleTask>\n    <bpmn2:exclusiveGateway id=\"ExclusiveGatewayPruefung\" name=\"Risk?\">\n      <bpmn2:extensionElements>\n        <camunda:properties>\n          <camunda:property name=\"simulateKeepImplementation\" value=\"true\" />\n        </camunda:properties>\n      </bpmn2:extensionElements>\n      <bpmn2:incoming>SequenceFlow_2</bpmn2:incoming>\n      <bpmn2:outgoing>SequenceFlow_7</bpmn2:outgoing>\n      <bpmn2:outgoing>SequenceFlow_16</bpmn2:outgoing>\n      <bpmn2:outgoing>SequenceFlow_3</bpmn2:outgoing>\n    </bpmn2:exclusiveGateway>\n    <bpmn2:endEvent id=\"EndEvent_DecisionAccelerated\" name=\"Decision accelerated\">\n      <bpmn2:incoming>SequenceFlow_5</bpmn2:incoming>\n    </bpmn2:endEvent>\n    <bpmn2:endEvent id=\"EndEvent_ApplicationRejected\" name=\"Application &#10;rejected\">\n      <bpmn2:extensionElements>\n        <camunda:properties>\n          <camunda:property name=\"KPI-Ratio\" value=\"Rejected\" />\n        </camunda:properties>\n      </bpmn2:extensionElements>\n      <bpmn2:incoming>SequenceFlow_13</bpmn2:incoming>\n    </bpmn2:endEvent>\n    <bpmn2:serviceTask id=\"ServiceTask_RejectPolicy\" name=\"Reject application\" camunda:delegateExpression=\"${loggerDelegate}\">\n      <bpmn2:incoming>SequenceFlow_12</bpmn2:incoming>\n      <bpmn2:incoming>SequenceFlow_16</bpmn2:incoming>\n      <bpmn2:outgoing>SequenceFlow_01vh1zw</bpmn2:outgoing>\n    </bpmn2:serviceTask>\n    <bpmn2:sendTask id=\"SendTask_SendRejection\" name=\"Send rejection\" camunda:async=\"true\" camunda:type=\"external\" camunda:topic=\"emailService\">\n      <bpmn2:extensionElements>\n        <camunda:inputOutput>\n          <camunda:inputParameter name=\"mailBody\">\n            <camunda:script scriptFormat=\"freemarker\">Dear ${application.applicant.name}.\n\nUnfortunately we have to inform you that we cannot issue the desired request.\n\nKind regards,\n${application.corporation}.</camunda:script>\n          </camunda:inputParameter>\n          <camunda:inputParameter name=\"mailSubject\">Request rejected</camunda:inputParameter>\n        </camunda:inputOutput>\n        <camunda:properties>\n          <camunda:property name=\"simNextFire\" value=\"${g.now()}\" />\n        </camunda:properties>\n      </bpmn2:extensionElements>\n      <bpmn2:incoming>SequenceFlow_01vh1zw</bpmn2:incoming>\n      <bpmn2:outgoing>SequenceFlow_13</bpmn2:outgoing>\n    </bpmn2:sendTask>\n    <bpmn2:userTask id=\"UserTask_DecideOnApplication\" name=\"Decide on application\" camunda:asyncAfter=\"true\" camunda:formKey=\"embedded:app:forms/decide_en.html\" camunda:candidateGroups=\"clerk\" camunda:dueDate=\"${dateTime().plusDays(1).toDate()}\">\n      <bpmn2:extensionElements>\n        <camunda:properties>\n          <camunda:property name=\"simGeneratePayload\" value=\"approved=${g.randBool(0.75)}\" />\n          <camunda:property name=\"simNextFire\" value=\"${g.nowPlusHours(g.uniformInt(g.exponentialBySimulationTime(1,48,3),72))}\" />\n          <camunda:property name=\"simKeepListeners\" value=\"true\" />\n          <camunda:property name=\"simGeneratePayload\" value=\"requestedDocumentDescription=someDocument\" />\n        </camunda:properties>\n        <camunda:taskListener event=\"create\">\n          <camunda:script scriptFormat=\"JavaScript\">task.setVariable('documentReferenceId', String(Date.now()));\n\nvar lastAssignee = task.getVariable('lastAssignee');\nif (lastAssignee != null) {\n  task.setAssignee(lastAssignee);\n}</camunda:script>\n        </camunda:taskListener>\n        <camunda:taskListener event=\"assignment\">\n          <camunda:script scriptFormat=\"JavaScript\">task.setVariable('lastAssignee', task.getAssignee());</camunda:script>\n        </camunda:taskListener>\n      </bpmn2:extensionElements>\n      <bpmn2:incoming>SequenceFlow_1te4zir</bpmn2:incoming>\n      <bpmn2:incoming>SequenceFlow_3</bpmn2:incoming>\n      <bpmn2:outgoing>SequenceFlow_1h4oxvl</bpmn2:outgoing>\n    </bpmn2:userTask>\n    <bpmn2:callActivity id=\"CallActivity_RequestDocument\" name=\"Request document\" calledElement=\"requestDocument_en\">\n      <bpmn2:extensionElements>\n        <camunda:in source=\"application\" target=\"application\" />\n        <camunda:in source=\"requestedDocumentDescription\" target=\"requestedDocumentDescription\" />\n        <camunda:out source=\"document\" target=\"document\" />\n        <camunda:executionListener event=\"end\">\n          <camunda:script scriptFormat=\"JavaScript\">var typedDocument = execution.getVariableTyped('document');\nvar oldDocuments = execution.getVariable('documents');\n\nif (typedDocument != null &amp;&amp; typedDocument.getValue() != null) {\n  execution.setVariable('document_' + documentReferenceId, typedDocument);\n\n  var json = S('{}');\n  json.prop('description', requestedDocumentDescription);\n  json.prop('filename', typedDocument.getFilename());\n\n  var documents = S(oldDocuments != null ? oldDocuments : '{}');\n  documents.prop(documentReferenceId, json);\n  execution.setVariable('documents', documents);\n}</camunda:script>\n        </camunda:executionListener>\n        <camunda:in source=\"documentReferenceId\" target=\"documentReferenceId\" />\n        <camunda:in source=\"uiBaseUrl\" target=\"uiBaseUrl\" />\n        <camunda:properties>\n          <camunda:property name=\"simKeepListeners\" value=\"true\" />\n        </camunda:properties>\n        <camunda:in businessKey=\"#{execution.processBusinessKey}\" />\n      </bpmn2:extensionElements>\n      <bpmn2:incoming>SequenceFlow_0lwkj1f</bpmn2:incoming>\n      <bpmn2:outgoing>SequenceFlow_1te4zir</bpmn2:outgoing>\n    </bpmn2:callActivity>\n    <bpmn2:userTask id=\"UserTask_AccelerateDecision\" name=\"Accelerate decision making\" camunda:candidateGroups=\"teamlead\">\n      <bpmn2:extensionElements>\n        <camunda:properties>\n          <camunda:property name=\"simNextComplete\" value=\"${g.nowPlusHours(g.uniformInt(2,10))}\" />\n        </camunda:properties>\n      </bpmn2:extensionElements>\n      <bpmn2:incoming>SequenceFlow_0o6gf8v</bpmn2:incoming>\n      <bpmn2:outgoing>SequenceFlow_5</bpmn2:outgoing>\n    </bpmn2:userTask>\n    <bpmn2:serviceTask id=\"ServiceTask_0tixwo5\" name=\"Get credit score\" camunda:delegateExpression=\"${calculateScore}\">\n      <bpmn2:extensionElements>\n        <camunda:properties>\n          <camunda:property name=\"simCallRealImplementation\" value=\"true\" />\n        </camunda:properties>\n      </bpmn2:extensionElements>\n      <bpmn2:incoming>SequenceFlow_6</bpmn2:incoming>\n      <bpmn2:outgoing>SequenceFlow_1gd6p37</bpmn2:outgoing>\n    </bpmn2:serviceTask>\n    <bpmn2:boundaryEvent id=\"BoundaryEvent_1i1spfe\" name=\"document needed\" attachedToRef=\"UserTask_DecideOnApplication\">\n      <bpmn2:extensionElements>\n        <camunda:properties>\n          <camunda:property name=\"simNextFire\" value=\"${generator.nowPlusHours(generator.uniformInt(24,72))}\" />\n          <camunda:property name=\"simGeneratePayload\" value=\"requestedDocumentDescription=&#34;very important document&#34;\" />\n          <camunda:property name=\"simGeneratePayload\" value=\"uiBaseUrl=&#34;camunda.com&#34;\" />\n          <camunda:property name=\"simGeneratePayload\" value=\"documentReferenceId=&#34;123456&#34;\" />\n        </camunda:properties>\n      </bpmn2:extensionElements>\n      <bpmn2:outgoing>SequenceFlow_0lwkj1f</bpmn2:outgoing>\n      <bpmn2:messageEventDefinition messageRef=\"Message_0fvpzfg\" />\n    </bpmn2:boundaryEvent>\n    <bpmn2:boundaryEvent id=\"BoundaryEvent_0mcjys5\" name=\"after 2 days\" cancelActivity=\"false\" attachedToRef=\"UserTask_DecideOnApplication\">\n      <bpmn2:outgoing>SequenceFlow_0o6gf8v</bpmn2:outgoing>\n      <bpmn2:timerEventDefinition>\n        <bpmn2:timeDuration xsi:type=\"bpmn2:tFormalExpression\">P2D</bpmn2:timeDuration>\n      </bpmn2:timerEventDefinition>\n    </bpmn2:boundaryEvent>\n    <bpmn2:sequenceFlow id=\"SequenceFlow_1gd6p37\" sourceRef=\"ServiceTask_0tixwo5\" targetRef=\"BusinessRuleTask_CheckApplicationAutomatically\" />\n    <bpmn2:sequenceFlow id=\"SequenceFlow_0o6gf8v\" sourceRef=\"BoundaryEvent_0mcjys5\" targetRef=\"UserTask_AccelerateDecision\" />\n    <bpmn2:sequenceFlow id=\"SequenceFlow_0lwkj1f\" sourceRef=\"BoundaryEvent_1i1spfe\" targetRef=\"CallActivity_RequestDocument\" />\n    <bpmn2:sequenceFlow id=\"SequenceFlow_1te4zir\" sourceRef=\"CallActivity_RequestDocument\" targetRef=\"UserTask_DecideOnApplication\" />\n    <bpmn2:sequenceFlow id=\"SequenceFlow_01vh1zw\" sourceRef=\"ServiceTask_RejectPolicy\" targetRef=\"SendTask_SendRejection\" />\n    <bpmn2:sequenceFlow id=\"SequenceFlow_13\" name=\"\" sourceRef=\"SendTask_SendRejection\" targetRef=\"EndEvent_ApplicationRejected\" />\n    <bpmn2:sequenceFlow id=\"SequenceFlow_5\" name=\"\" sourceRef=\"UserTask_AccelerateDecision\" targetRef=\"EndEvent_DecisionAccelerated\" />\n    <bpmn2:sequenceFlow id=\"SequenceFlow_16\" name=\"red &#10;(severe risk)\" sourceRef=\"ExclusiveGatewayPruefung\" targetRef=\"ServiceTask_RejectPolicy\">\n      <bpmn2:conditionExpression xsi:type=\"bpmn2:tFormalExpression\">#{riskLevel == 'red'}</bpmn2:conditionExpression>\n    </bpmn2:sequenceFlow>\n    <bpmn2:sequenceFlow id=\"SequenceFlow_3\" name=\"yellow&#10;(moderate risk)&#10;\" sourceRef=\"ExclusiveGatewayPruefung\" targetRef=\"UserTask_DecideOnApplication\">\n      <bpmn2:conditionExpression xsi:type=\"bpmn2:tFormalExpression\">#{riskLevel == 'yellow'}</bpmn2:conditionExpression>\n    </bpmn2:sequenceFlow>\n    <bpmn2:sequenceFlow id=\"SequenceFlow_2\" name=\"\" sourceRef=\"BusinessRuleTask_CheckApplicationAutomatically\" targetRef=\"ExclusiveGatewayPruefung\" />\n    <bpmn2:sequenceFlow id=\"SequenceFlow_7\" name=\"green&#10;(no risk)\" sourceRef=\"ExclusiveGatewayPruefung\" targetRef=\"ServiceTask_DeliverPolicy\">\n      <bpmn2:conditionExpression xsi:type=\"bpmn2:tFormalExpression\">#{riskLevel == 'green'}</bpmn2:conditionExpression>\n    </bpmn2:sequenceFlow>\n    <bpmn2:sequenceFlow id=\"SequenceFlow_10\" name=\"\" sourceRef=\"ServiceTask_DeliverPolicy\" targetRef=\"SendTask_SendPolicy\" />\n    <bpmn2:sequenceFlow id=\"SequenceFlow_11\" name=\"\" sourceRef=\"SendTask_SendPolicy\" targetRef=\"EndEvent_ApplicationIssued\" />\n    <bpmn2:sequenceFlow id=\"SequenceFlow_8\" name=\"application accepted\" camunda:modelerTemplate=\"com.camunda.demo.environment.probability\" sourceRef=\"ExclusiveGateway_2\" targetRef=\"ServiceTask_DeliverPolicy\">\n      <bpmn2:conditionExpression xsi:type=\"bpmn2:tFormalExpression\">#{approved}</bpmn2:conditionExpression>\n    </bpmn2:sequenceFlow>\n    <bpmn2:sequenceFlow id=\"SequenceFlow_12\" name=\"application declined\" sourceRef=\"ExclusiveGateway_2\" targetRef=\"ServiceTask_RejectPolicy\">\n      <bpmn2:conditionExpression xsi:type=\"bpmn2:tFormalExpression\">#{not approved}</bpmn2:conditionExpression>\n    </bpmn2:sequenceFlow>\n    <bpmn2:sequenceFlow id=\"SequenceFlow_1h4oxvl\" sourceRef=\"UserTask_DecideOnApplication\" targetRef=\"ExclusiveGateway_2\" />\n    <bpmn2:sequenceFlow id=\"SequenceFlow_6\" name=\"\" sourceRef=\"StartEvent_1\" targetRef=\"ServiceTask_0tixwo5\" />\n  </bpmn2:process>\n  <bpmn2:message id=\"Message_0fvpzfg\" name=\"Message_DocumentRequested\" />\n  <bpmndi:BPMNDiagram id=\"BPMNDiagram_1\">\n    <bpmndi:BPMNPlane id=\"BPMNPlane_1\" bpmnElement=\"Collaboration_1u35ano\">\n      <bpmndi:BPMNShape id=\"Participant_0477s11_di\" bpmnElement=\"Participant_0477s11\" isHorizontal=\"true\">\n        <dc:Bounds x=\"156\" y=\"71\" width=\"1360\" height=\"563\" />\n      </bpmndi:BPMNShape>\n      <bpmndi:BPMNShape id=\"_BPMNShape_StartEvent_4\" bpmnElement=\"StartEvent_1\">\n        <dc:Bounds x=\"206\" y=\"113\" width=\"36\" height=\"36\" />\n        <bpmndi:BPMNLabel>\n          <dc:Bounds x=\"199\" y=\"154\" width=\"53\" height=\"27\" />\n        </bpmndi:BPMNLabel>\n      </bpmndi:BPMNShape>\n      <bpmndi:BPMNShape id=\"_BPMNShape_SendTask_2\" bpmnElement=\"SendTask_SendPolicy\">\n        <dc:Bounds x=\"1290\" y=\"91\" width=\"100\" height=\"80\" />\n      </bpmndi:BPMNShape>\n      <bpmndi:BPMNShape id=\"_BPMNShape_ServiceTask_3\" bpmnElement=\"ServiceTask_DeliverPolicy\">\n        <dc:Bounds x=\"1139\" y=\"91\" width=\"100\" height=\"80\" />\n      </bpmndi:BPMNShape>\n      <bpmndi:BPMNShape id=\"_BPMNShape_EndEvent_2\" bpmnElement=\"EndEvent_ApplicationIssued\">\n        <dc:Bounds x=\"1445\" y=\"113\" width=\"36\" height=\"36\" />\n        <bpmndi:BPMNLabel>\n          <dc:Bounds x=\"1438\" y=\"154\" width=\"53\" height=\"27\" />\n        </bpmndi:BPMNLabel>\n      </bpmndi:BPMNShape>\n      <bpmndi:BPMNShape id=\"_BPMNShape_ExclusiveGateway_2\" bpmnElement=\"ExclusiveGatewayPruefung\" isMarkerVisible=\"true\">\n        <dc:Bounds x=\"556\" y=\"106\" width=\"50\" height=\"50\" />\n        <bpmndi:BPMNLabel>\n          <dc:Bounds x=\"567\" y=\"81\" width=\"28\" height=\"14\" />\n        </bpmndi:BPMNLabel>\n      </bpmndi:BPMNShape>\n      <bpmndi:BPMNShape id=\"_BPMNShape_BusinessRuleTask_2\" bpmnElement=\"BusinessRuleTask_CheckApplicationAutomatically\">\n        <dc:Bounds x=\"421\" y=\"91\" width=\"100\" height=\"80\" />\n      </bpmndi:BPMNShape>\n      <bpmndi:BPMNShape id=\"_BPMNShape_ExclusiveGateway_3\" bpmnElement=\"ExclusiveGateway_2\" isMarkerVisible=\"true\">\n        <dc:Bounds x=\"1055\" y=\"302\" width=\"50\" height=\"50\" />\n        <bpmndi:BPMNLabel>\n          <dc:Bounds x=\"1129\" y=\"317\" width=\"49\" height=\"14\" />\n        </bpmndi:BPMNLabel>\n      </bpmndi:BPMNShape>\n      <bpmndi:BPMNShape id=\"_BPMNShape_SendTask_3\" bpmnElement=\"SendTask_SendRejection\">\n        <dc:Bounds x=\"1290\" y=\"534\" width=\"100\" height=\"80\" />\n      </bpmndi:BPMNShape>\n      <bpmndi:BPMNShape id=\"_BPMNShape_EndEvent_3\" bpmnElement=\"EndEvent_ApplicationRejected\">\n        <dc:Bounds x=\"1445\" y=\"556\" width=\"36\" height=\"36\" />\n        <bpmndi:BPMNLabel>\n          <dc:Bounds x=\"1436\" y=\"597\" width=\"56\" height=\"27\" />\n        </bpmndi:BPMNLabel>\n      </bpmndi:BPMNShape>\n      <bpmndi:BPMNEdge id=\"BPMNEdge_SequenceFlow_6\" bpmnElement=\"SequenceFlow_6\" sourceElement=\"_BPMNShape_StartEvent_4\" targetElement=\"ServiceTask_0tixwo5_di\">\n        <di:waypoint x=\"242\" y=\"131\" />\n        <di:waypoint x=\"276\" y=\"131\" />\n        <bpmndi:BPMNLabel>\n          <dc:Bounds x=\"125\" y=\"131\" width=\"90\" height=\"6\" />\n        </bpmndi:BPMNLabel>\n      </bpmndi:BPMNEdge>\n      <bpmndi:BPMNEdge id=\"BPMNEdge_SequenceFlow_10\" bpmnElement=\"SequenceFlow_10\" sourceElement=\"_BPMNShape_ServiceTask_3\" targetElement=\"_BPMNShape_SendTask_2\">\n        <di:waypoint x=\"1239\" y=\"131\" />\n        <di:waypoint x=\"1290\" y=\"131\" />\n        <bpmndi:BPMNLabel>\n          <dc:Bounds x=\"999\" y=\"133\" width=\"90\" height=\"6\" />\n        </bpmndi:BPMNLabel>\n      </bpmndi:BPMNEdge>\n      <bpmndi:BPMNEdge id=\"BPMNEdge_SequenceFlow_11\" bpmnElement=\"SequenceFlow_11\" sourceElement=\"_BPMNShape_SendTask_2\" targetElement=\"_BPMNShape_EndEvent_2\">\n        <di:waypoint x=\"1390\" y=\"131\" />\n        <di:waypoint x=\"1445\" y=\"131\" />\n        <bpmndi:BPMNLabel>\n          <dc:Bounds x=\"1159\" y=\"143\" width=\"90\" height=\"6\" />\n        </bpmndi:BPMNLabel>\n      </bpmndi:BPMNEdge>\n      <bpmndi:BPMNEdge id=\"BPMNEdge_SequenceFlow_2\" bpmnElement=\"SequenceFlow_2\" sourceElement=\"_BPMNShape_BusinessRuleTask_2\" targetElement=\"_BPMNShape_ExclusiveGateway_2\">\n        <di:waypoint x=\"521\" y=\"131\" />\n        <di:waypoint x=\"556\" y=\"131\" />\n        <bpmndi:BPMNLabel>\n          <dc:Bounds x=\"301\" y=\"131\" width=\"90\" height=\"6\" />\n        </bpmndi:BPMNLabel>\n      </bpmndi:BPMNEdge>\n      <bpmndi:BPMNEdge id=\"BPMNEdge_SequenceFlow_7\" bpmnElement=\"SequenceFlow_7\" sourceElement=\"_BPMNShape_ExclusiveGateway_2\">\n        <di:waypoint x=\"606\" y=\"131\" />\n        <di:waypoint x=\"1139\" y=\"131\" />\n        <bpmndi:BPMNLabel>\n          <dc:Bounds x=\"604\" y=\"136\" width=\"41\" height=\"27\" />\n        </bpmndi:BPMNLabel>\n      </bpmndi:BPMNEdge>\n      <bpmndi:BPMNEdge id=\"BPMNEdge_SequenceFlow_16\" bpmnElement=\"SequenceFlow_16\" sourceElement=\"_BPMNShape_ExclusiveGateway_2\">\n        <di:waypoint x=\"581\" y=\"156\" />\n        <di:waypoint x=\"581\" y=\"574\" />\n        <di:waypoint x=\"1139\" y=\"574\" />\n        <bpmndi:BPMNLabel>\n          <dc:Bounds x=\"596\" y=\"542\" width=\"61\" height=\"27\" />\n        </bpmndi:BPMNLabel>\n      </bpmndi:BPMNEdge>\n      <bpmndi:BPMNEdge id=\"BPMNEdge_SequenceFlow_8\" bpmnElement=\"SequenceFlow_8\" sourceElement=\"_BPMNShape_ExclusiveGateway_3\">\n        <di:waypoint x=\"1080\" y=\"302\" />\n        <di:waypoint x=\"1080\" y=\"149\" />\n        <di:waypoint x=\"1139\" y=\"149\" />\n        <bpmndi:BPMNLabel>\n          <dc:Bounds x=\"1096\" y=\"255\" width=\"53\" height=\"27\" />\n        </bpmndi:BPMNLabel>\n      </bpmndi:BPMNEdge>\n      <bpmndi:BPMNEdge id=\"BPMNEdge_SequenceFlow_12\" bpmnElement=\"SequenceFlow_12\" sourceElement=\"_BPMNShape_ExclusiveGateway_3\">\n        <di:waypoint x=\"1080\" y=\"352\" />\n        <di:waypoint x=\"1080\" y=\"555\" />\n        <di:waypoint x=\"1139\" y=\"555\" />\n        <bpmndi:BPMNLabel>\n          <dc:Bounds x=\"1090\" y=\"364\" width=\"53\" height=\"27\" />\n        </bpmndi:BPMNLabel>\n      </bpmndi:BPMNEdge>\n      <bpmndi:BPMNEdge id=\"BPMNEdge_SequenceFlow_13\" bpmnElement=\"SequenceFlow_13\" sourceElement=\"_BPMNShape_SendTask_3\" targetElement=\"_BPMNShape_EndEvent_3\">\n        <di:waypoint x=\"1390\" y=\"574\" />\n        <di:waypoint x=\"1445\" y=\"574\" />\n        <bpmndi:BPMNLabel>\n          <dc:Bounds x=\"1054\" y=\"575\" width=\"90\" height=\"6\" />\n        </bpmndi:BPMNLabel>\n      </bpmndi:BPMNEdge>\n      <bpmndi:BPMNShape id=\"ServiceTask_0o3o39j_di\" bpmnElement=\"ServiceTask_RejectPolicy\">\n        <dc:Bounds x=\"1139\" y=\"534\" width=\"100\" height=\"80\" />\n      </bpmndi:BPMNShape>\n      <bpmndi:BPMNEdge id=\"SequenceFlow_01vh1zw_di\" bpmnElement=\"SequenceFlow_01vh1zw\">\n        <di:waypoint x=\"1239\" y=\"574\" />\n        <di:waypoint x=\"1290\" y=\"574\" />\n        <bpmndi:BPMNLabel>\n          <dc:Bounds x=\"1009\" y=\"564\" width=\"90\" height=\"20\" />\n        </bpmndi:BPMNLabel>\n      </bpmndi:BPMNEdge>\n      <bpmndi:BPMNEdge id=\"BPMNEdge_SequenceFlow_3\" bpmnElement=\"SequenceFlow_3\">\n        <di:waypoint x=\"581\" y=\"156\" />\n        <di:waypoint x=\"581\" y=\"313\" />\n        <di:waypoint x=\"717\" y=\"313\" />\n        <bpmndi:BPMNLabel>\n          <dc:Bounds x=\"593\" y=\"280\" width=\"75\" height=\"40\" />\n        </bpmndi:BPMNLabel>\n      </bpmndi:BPMNEdge>\n      <bpmndi:BPMNShape id=\"_BPMNShape_EndEvent_28\" bpmnElement=\"EndEvent_DecisionAccelerated\">\n        <dc:Bounds x=\"995\" y=\"188\" width=\"36\" height=\"36\" />\n        <bpmndi:BPMNLabel>\n          <dc:Bounds x=\"986\" y=\"229\" width=\"57\" height=\"27\" />\n        </bpmndi:BPMNLabel>\n      </bpmndi:BPMNShape>\n      <bpmndi:BPMNShape id=\"_BPMNShape_UserTask_6\" bpmnElement=\"UserTask_AccelerateDecision\">\n        <dc:Bounds x=\"867\" y=\"166\" width=\"100\" height=\"80\" />\n      </bpmndi:BPMNShape>\n      <bpmndi:BPMNEdge id=\"BPMNEdge_SequenceFlow_5\" bpmnElement=\"SequenceFlow_5\">\n        <di:waypoint x=\"967\" y=\"206\" />\n        <di:waypoint x=\"995\" y=\"206\" />\n        <bpmndi:BPMNLabel>\n          <dc:Bounds x=\"725\" y=\"188\" width=\"90\" height=\"6\" />\n        </bpmndi:BPMNLabel>\n      </bpmndi:BPMNEdge>\n      <bpmndi:BPMNShape id=\"UserTask_1b9zsmd_di\" bpmnElement=\"UserTask_DecideOnApplication\">\n        <dc:Bounds x=\"717\" y=\"287\" width=\"100\" height=\"80\" />\n      </bpmndi:BPMNShape>\n      <bpmndi:BPMNShape id=\"CallActivity_01bed3n_di\" bpmnElement=\"CallActivity_RequestDocument\">\n        <dc:Bounds x=\"867\" y=\"400\" width=\"100\" height=\"80\" />\n      </bpmndi:BPMNShape>\n      <bpmndi:BPMNShape id=\"BoundaryEvent_09ag0rf_di\" bpmnElement=\"BoundaryEvent_1i1spfe\">\n        <dc:Bounds x=\"772\" y=\"349\" width=\"36\" height=\"36\" />\n        <bpmndi:BPMNLabel>\n          <dc:Bounds x=\"786\" y=\"385\" width=\"89\" height=\"14\" />\n        </bpmndi:BPMNLabel>\n      </bpmndi:BPMNShape>\n      <bpmndi:BPMNEdge id=\"SequenceFlow_0lwkj1f_di\" bpmnElement=\"SequenceFlow_0lwkj1f\">\n        <di:waypoint x=\"790\" y=\"385\" />\n        <di:waypoint x=\"790\" y=\"440\" />\n        <di:waypoint x=\"867\" y=\"440\" />\n        <bpmndi:BPMNLabel>\n          <dc:Bounds x=\"549\" y=\"406\" width=\"90\" height=\"13\" />\n        </bpmndi:BPMNLabel>\n      </bpmndi:BPMNEdge>\n      <bpmndi:BPMNEdge id=\"SequenceFlow_1te4zir_di\" bpmnElement=\"SequenceFlow_1te4zir\">\n        <di:waypoint x=\"967\" y=\"440\" />\n        <di:waypoint x=\"996\" y=\"440\" />\n        <di:waypoint x=\"996\" y=\"505\" />\n        <di:waypoint x=\"656\" y=\"505\" />\n        <di:waypoint x=\"656\" y=\"341\" />\n        <di:waypoint x=\"717\" y=\"341\" />\n        <bpmndi:BPMNLabel>\n          <dc:Bounds x=\"570\" y=\"484\" width=\"90\" height=\"13\" />\n        </bpmndi:BPMNLabel>\n      </bpmndi:BPMNEdge>\n      <bpmndi:BPMNEdge id=\"SequenceFlow_0o6gf8v_di\" bpmnElement=\"SequenceFlow_0o6gf8v\">\n        <di:waypoint x=\"790\" y=\"269\" />\n        <di:waypoint x=\"790\" y=\"206\" />\n        <di:waypoint x=\"867\" y=\"206\" />\n        <bpmndi:BPMNLabel>\n          <dc:Bounds x=\"549\" y=\"231\" width=\"90\" height=\"13\" />\n        </bpmndi:BPMNLabel>\n      </bpmndi:BPMNEdge>\n      <bpmndi:BPMNEdge id=\"SequenceFlow_1h4oxvl_di\" bpmnElement=\"SequenceFlow_1h4oxvl\">\n        <di:waypoint x=\"817\" y=\"327\" />\n        <di:waypoint x=\"1055\" y=\"327\" />\n        <bpmndi:BPMNLabel>\n          <dc:Bounds x=\"680\" y=\"306\" width=\"90\" height=\"13\" />\n        </bpmndi:BPMNLabel>\n      </bpmndi:BPMNEdge>\n      <bpmndi:BPMNShape id=\"BoundaryEvent_138xipm_di\" bpmnElement=\"BoundaryEvent_0mcjys5\">\n        <dc:Bounds x=\"772\" y=\"269\" width=\"36\" height=\"36\" />\n        <bpmndi:BPMNLabel>\n          <dc:Bounds x=\"811\" y=\"254\" width=\"58\" height=\"14\" />\n        </bpmndi:BPMNLabel>\n      </bpmndi:BPMNShape>\n      <bpmndi:BPMNShape id=\"ServiceTask_0tixwo5_di\" bpmnElement=\"ServiceTask_0tixwo5\">\n        <dc:Bounds x=\"276\" y=\"91\" width=\"100\" height=\"80\" />\n      </bpmndi:BPMNShape>\n      <bpmndi:BPMNEdge id=\"SequenceFlow_1gd6p37_di\" bpmnElement=\"SequenceFlow_1gd6p37\">\n        <di:waypoint x=\"376\" y=\"131\" />\n        <di:waypoint x=\"421\" y=\"131\" />\n      </bpmndi:BPMNEdge>\n    </bpmndi:BPMNPlane>\n  </bpmndi:BPMNDiagram>\n</bpmn2:definitions>",[m
[32m+[m[32m  "bpmn20Xml": "<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<bpmn2:definitions xmlns:bpmn2=\"http://www.omg.org/spec/BPMN/20100524/MODEL\" xmlns:camunda=\"http://camunda.org/schema/1.0/bpmn\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns:bpmndi=\"http://www.omg.org/spec/BPMN/20100524/DI\" xmlns:di=\"http://www.omg.org/spec/DD/20100524/DI\" xmlns:dc=\"http://www.omg.org/spec/DD/20100524/DC\" id=\"_5SVkEIXnEeSmwfgVk-ryvQ\" targetNamespace=\"http://camunda.org/schema/1.0/bpmn\" exporter=\"Camunda Modeler\" exporterVersion=\"3.6.0\" xsi:schemaLocation=\"http://www.omg.org/spec/BPMN/20100524/MODEL BPMN20.xsd\">\n  <bpmn2:collaboration id=\"Collaboration_1u35ano\">\n    <bpmn2:participant id=\"Participant_0477s11\" name=\"Camunda Customer Onboarding Demo\" processRef=\"customer_onboarding_en\" />\n  </bpmn2:collaboration>\n  <bpmn2:process id=\"customer_onboarding_en\" name=\"Customer Onboarding\" isExecutable=\"true\">\n    <bpmn2:startEvent id=\"StartEvent_1\" name=\"Application received\" camunda:asyncAfter=\"true\" camunda:formKey=\"app:camunda/online/index.html\">\n      <bpmn2:extensionElements>\n        <camunda:properties>\n          <camunda:property name=\"simNextFire\" value=\"${g.timesPerDay(&#34;onboard&#34;,&#34;07:30&#34;,&#34;22:30&#34;, g.linearBySimulationTime(5,15))}\" />\n          <camunda:property name=\"simInitPayload\" value=\"application=${g.json(generator.newApplication(false))}\" />\n          <camunda:property name=\"simGeneratePayload\" value=\"applicationNumber=${application.getApplicationNumber()}\" />\n          <camunda:property name=\"simGeneratePayload\" value=\"applicantName=${application.getApplicant().getName()}\" />\n          <camunda:property name=\"simInitBusinessKey\" value=\"A-${g.format1(&#39;%05d&#39;, g.uniqueNumber())}\" />\n          <camunda:property name=\"simGeneratePayload\" value=\"category=${application.getCategory()}\" />\n          <camunda:property name=\"simKeepListeners\" value=\"true\" />\n        </camunda:properties>\n        <camunda:executionListener delegateExpression=\"${corporationMapper}\" event=\"start\" />\n      </bpmn2:extensionElements>\n      <bpmn2:outgoing>SequenceFlow_6</bpmn2:outgoing>\n    </bpmn2:startEvent>\n    <bpmn2:exclusiveGateway id=\"ExclusiveGateway_2\" name=\"Decision?\">\n      <bpmn2:extensionElements>\n        <camunda:properties>\n          <camunda:property name=\"simulateKeepImplementation\" value=\"true\" />\n        </camunda:properties>\n      </bpmn2:extensionElements>\n      <bpmn2:incoming>SequenceFlow_1h4oxvl</bpmn2:incoming>\n      <bpmn2:outgoing>SequenceFlow_8</bpmn2:outgoing>\n      <bpmn2:outgoing>SequenceFlow_12</bpmn2:outgoing>\n    </bpmn2:exclusiveGateway>\n    <bpmn2:endEvent id=\"EndEvent_ApplicationIssued\" name=\"Application&#10; issued\">\n      <bpmn2:extensionElements>\n        <camunda:properties>\n          <camunda:property name=\"KPI-Ratio\" value=\"Policed\" />\n        </camunda:properties>\n      </bpmn2:extensionElements>\n      <bpmn2:incoming>SequenceFlow_11</bpmn2:incoming>\n    </bpmn2:endEvent>\n    <bpmn2:sendTask id=\"SendTask_SendPolicy\" name=\"Send confirmation\" camunda:async=\"true\" camunda:type=\"external\" camunda:topic=\"emailService\">\n      <bpmn2:extensionElements>\n        <camunda:inputOutput>\n          <camunda:inputParameter name=\"mailBody\">\n            <camunda:script scriptFormat=\"freemarker\">Dear ${application.applicant.name}.\n\nWe happily inform you that your request was accepted.\n\nPlease check the key facts: \n- Application Number: ${application.applicationNumber}\n- Premium per anno: ${application.premium}\n- Product: ${application.product}\n\nKind regards,\n${application.corporation}.</camunda:script>\n          </camunda:inputParameter>\n          <camunda:inputParameter name=\"mailSubject\">Your request was issued</camunda:inputParameter>\n        </camunda:inputOutput>\n        <camunda:properties>\n          <camunda:property name=\"simNextFire\" value=\"${g.now()}\" />\n        </camunda:properties>\n      </bpmn2:extensionElements>\n      <bpmn2:incoming>SequenceFlow_10</bpmn2:incoming>\n      <bpmn2:outgoing>SequenceFlow_11</bpmn2:outgoing>\n    </bpmn2:sendTask>\n    <bpmn2:serviceTask id=\"ServiceTask_DeliverPolicy\" name=\"Deliver confirmation\" camunda:delegateExpression=\"${issuePolicyAdapter}\">\n      <bpmn2:extensionElements>\n        <camunda:properties>\n          <camunda:property name=\"simCallRealImplementation\" value=\"true\" />\n        </camunda:properties>\n      </bpmn2:extensionElements>\n      <bpmn2:incoming>SequenceFlow_8</bpmn2:incoming>\n      <bpmn2:incoming>SequenceFlow_7</bpmn2:incoming>\n      <bpmn2:outgoing>SequenceFlow_10</bpmn2:outgoing>\n    </bpmn2:serviceTask>\n    <bpmn2:businessRuleTask id=\"BusinessRuleTask_CheckApplicationAutomatically\" name=\"Check application automatically\" camunda:resultVariable=\"riskDMNresult\" camunda:decisionRef=\"checkRisk_en\">\n      <bpmn2:extensionElements>\n        <camunda:executionListener class=\"com.camunda.demo.customeronboarding.adapter.MapDmnResult\" event=\"end\" />\n        <camunda:properties>\n          <camunda:property name=\"simCallRealImplementation\" value=\"true\" />\n          <camunda:property name=\"simKeepListeners\" value=\"true\" />\n        </camunda:properties>\n        <camunda:executionListener event=\"start\">\n          <camunda:script scriptFormat=\"javascript\">if(execution.hasVariable(\"riskDMNresult\")) {\n      execution.removeVariable(\"riskDMNresult\");\n    }</camunda:script>\n        </camunda:executionListener>\n      </bpmn2:extensionElements>\n      <bpmn2:incoming>SequenceFlow_1gd6p37</bpmn2:incoming>\n      <bpmn2:outgoing>SequenceFlow_2</bpmn2:outgoing>\n    </bpmn2:businessRuleTask>\n    <bpmn2:exclusiveGateway id=\"ExclusiveGatewayPruefung\" name=\"Risk?\">\n      <bpmn2:extensionElements>\n        <camunda:properties>\n          <camunda:property name=\"simulateKeepImplementation\" value=\"true\" />\n        </camunda:properties>\n      </bpmn2:extensionElements>\n      <bpmn2:incoming>SequenceFlow_2</bpmn2:incoming>\n      <bpmn2:outgoing>SequenceFlow_7</bpmn2:outgoing>\n      <bpmn2:outgoing>SequenceFlow_16</bpmn2:outgoing>\n      <bpmn2:outgoing>SequenceFlow_3</bpmn2:outgoing>\n    </bpmn2:exclusiveGateway>\n    <bpmn2:endEvent id=\"EndEvent_DecisionAccelerated\" name=\"Decision accelerated\">\n      <bpmn2:incoming>SequenceFlow_5</bpmn2:incoming>\n    </bpmn2:endEvent>\n    <bpmn2:endEvent id=\"EndEvent_ApplicationRejected\" name=\"Application &#10;rejected\">\n      <bpmn2:extensionElements>\n        <camunda:properties>\n          <camunda:property name=\"KPI-Ratio\" value=\"Rejected\" />\n        </camunda:properties>\n      </bpmn2:extensionElements>\n      <bpmn2:incoming>SequenceFlow_13</bpmn2:incoming>\n    </bpmn2:endEvent>\n    <bpmn2:serviceTask id=\"ServiceTask_RejectPolicy\" name=\"Reject application\" camunda:delegateExpression=\"${loggerDelegate}\">\n      <bpmn2:incoming>SequenceFlow_12</bpmn2:incoming>\n      <bpmn2:incoming>SequenceFlow_16</bpmn2:incoming>\n      <bpmn2:outgoing>SequenceFlow_01vh1zw</bpmn2:outgoing>\n    </bpmn2:serviceTask>\n    <bpmn2:sendTask id=\"SendTask_SendRejection\" name=\"Send rejection\" camunda:async=\"true\" camunda:type=\"external\" camunda:topic=\"emailService\">\n      <bpmn2:extensionElements>\n        <camunda:inputOutput>\n          <camunda:inputParameter name=\"mailBody\">\n            <camunda:script scriptFormat=\"freemarker\">Dear ${application.applicant.name}.\n\nUnfortunately we have to inform you that we cannot issue the desired request.\n\nKind regards,\n${application.corporation}.</camunda:script>\n          </camunda:inputParameter>\n          <camunda:inputParameter name=\"mailSubject\">Request rejected</camunda:inputParameter>\n        </camunda:inputOutput>\n        <camunda:properties>\n          <camunda:property name=\"simNextFire\" value=\"${g.now()}\" />\n        </camunda:properties>\n      </bpmn2:extensionElements>\n      <bpmn2:incoming>SequenceFlow_01vh1zw</bpmn2:incoming>\n      <bpmn2:outgoing>SequenceFlow_13</bpmn2:outgoing>\n    </bpmn2:sendTask>\n    <bpmn2:userTask id=\"UserTask_DecideOnApplication\" name=\"Decide on application\" camunda:asyncAfter=\"true\" camunda:formKey=\"embedded:app:forms/decide_en.html\" camunda:candidateGroups=\"clerk\" camunda:dueDate=\"${dateTime().plusDays(1).toDate()}\">\n      <bpmn2:extensionElements>\n        <camunda:properties>\n          <camunda:property name=\"simGeneratePayload\" value=\"approved=${g.randBool(0.75)}\" />\n          <camunda:property name=\"simNextFire\" value=\"${g.nowPlusHours(g.uniformInt(g.exponentialBySimulationTime(1,48,3),72))}\" />\n          <camunda:property name=\"simKeepListeners\" value=\"true\" />\n          <camunda:property name=\"simGeneratePayload\" value=\"requestedDocumentDescription=someDocument\" />\n        </camunda:properties>\n        <camunda:taskListener event=\"create\">\n          <camunda:script scriptFormat=\"JavaScript\">task.setVariable('documentReferenceId', String(Date.now()));\n\nvar lastAssignee = task.getVariable('lastAssignee');\nif (lastAssignee != null) {\n  task.setAssignee(lastAssignee);\n}</camunda:script>\n        </camunda:taskListener>\n        <camunda:taskListener event=\"assignment\">\n          <camunda:script scriptFormat=\"JavaScript\">task.setVariable('lastAssignee', task.getAssignee());</camunda:script>\n        </camunda:taskListener>\n      </bpmn2:extensionElements>\n      <bpmn2:incoming>SequenceFlow_1te4zir</bpmn2:incoming>\n      <bpmn2:incoming>SequenceFlow_3</bpmn2:incoming>\n      <bpmn2:outgoing>SequenceFlow_1h4oxvl</bpmn2:outgoing>\n    </bpmn2:userTask>\n    <bpmn2:callActivity id=\"CallActivity_RequestDocument\" name=\"Request document\" calledElement=\"requestDocument_en\">\n      <bpmn2:extensionElements>\n        <camunda:in source=\"application\" target=\"application\" />\n        <camunda:in source=\"requestedDocumentDescription\" target=\"requestedDocumentDescription\" />\n        <camunda:out source=\"document\" target=\"document\" />\n        <camunda:executionListener event=\"end\">\n          <camunda:script scriptFormat=\"JavaScript\">var typedDocument = execution.getVariableTyped('document');\nvar oldDocuments = execution.getVariable('documents');\n\nif (typedDocument != null &amp;&amp; typedDocument.getValue() != null) {\n  execution.setVariable('document_' + documentReferenceId, typedDocument);\n\n  var json = S('{}');\n  json.prop('description', requestedDocumentDescription);\n  json.prop('filename', typedDocument.getFilename());\n\n  var documents = S(oldDocuments != null ? oldDocuments : '{}');\n  documents.prop(documentReferenceId, json);\n  execution.setVariable('documents', documents);\n}</camunda:script>\n        </camunda:executionListener>\n        <camunda:in source=\"documentReferenceId\" target=\"documentReferenceId\" />\n        <camunda:in source=\"uiBaseUrl\" target=\"uiBaseUrl\" />\n        <camunda:properties>\n          <camunda:property name=\"simKeepListeners\" value=\"true\" />\n        </camunda:properties>\n        <camunda:in businessKey=\"#{execution.processBusinessKey}\" />\n      </bpmn2:extensionElements>\n      <bpmn2:incoming>SequenceFlow_0lwkj1f</bpmn2:incoming>\n      <bpmn2:outgoing>SequenceFlow_1te4zir</bpmn2:outgoing>\n    </bpmn2:callActivity>\n    <bpmn2:userTask id=\"UserTask_AccelerateDecision\" name=\"Accelerate decision making\" camunda:candidateGroups=\"teamlead\">\n      <bpmn2:extensionElements>\n        <camunda:properties>\n          <camunda:property name=\"simNextComplete\" value=\"${g.nowPlusHours(g.uniformInt(2,10))}\" />\n        </camunda:properties>\n      </bpmn2:extensionElements>\n      <bpmn2:incoming>SequenceFlow_0o6gf8v</bpmn2:incoming>\n      <bpmn2:outgoing>SequenceFlow_5</bpmn2:outgoing>\n    </bpmn2:userTask>\n    <bpmn2:serviceTask id=\"ServiceTask_0tixwo5\" name=\"Get credit score\" camunda:delegateExpression=\"${calculateScore}\">\n      <bpmn2:extensionElements>\n        <camunda:properties>\n          <camunda:property name=\"simCallRealImplementation\" value=\"true\" />\n        </camunda:properties>\n      </bpmn2:extensionElements>\n      <bpmn2:incoming>SequenceFlow_6</bpmn2:incoming>\n      <bpmn2:outgoing>SequenceFlow_1gd6p37</bpmn2:outgoing>\n    </bpmn2:serviceTask>\n    <bpmn2:boundaryEvent id=\"BoundaryEvent_1i1spfe\" name=\"document needed\" attachedToRef=\"UserTask_DecideOnApplication\">\n      <bpmn2:extensionElements>\n        <camunda:properties>\n          <camunda:property name=\"simNextFire\" value=\"${generator.nowPlusHours(generator.uniformInt(24,72))}\" />\n          <camunda:property name=\"simGeneratePayload\" value=\"requestedDocumentDescription=&#34;very important document&#34;\" />\n          <camunda:property name=\"simGeneratePayload\" value=\"uiBaseUrl=&#34;camunda.com&#34;\" />\n          <camunda:property name=\"simGeneratePayload\" value=\"documentReferenceId=&#34;123456&#34;\" />\n        </camunda:properties>\n      </bpmn2:extensionElements>\n      <bpmn2:outgoing>SequenceFlow_0lwkj1f</bpmn2:outgoing>\n      <bpmn2:messageEventDefinition messageRef=\"Message_0fvpzfg\" />\n    </bpmn2:boundaryEvent>\n    <bpmn2:boundaryEvent id=\"BoundaryEvent_0mcjys5\" name=\"after 2 days\" cancelActivity=\"false\" attachedToRef=\"UserTask_DecideOnApplication\">\n      <bpmn2:outgoing>SequenceFlow_0o6gf8v</bpmn2:outgoing>\n      <bpmn2:timerEventDefinition>\n        <bpmn2:timeDuration xsi:type=\"bpmn2:tFormalExpression\">P2D</bpmn2:timeDuration>\n      </bpmn2:timerEventDefinition>\n    </bpmn2:boundaryEvent>\n    <bpmn2:sequenceFlow id=\"SequenceFlow_1gd6p37\" sourceRef=\"ServiceTask_0tixwo5\" targetRef=\"BusinessRuleTask_CheckApplicationAutomatically\" />\n    <bpmn2:sequenceFlow id=\"SequenceFlow_0o6gf8v\" sourceRef=\"BoundaryEvent_0mcjys5\" targetRef=\"UserTask_AccelerateDecision\" />\n    <bpmn2:sequenceFlow id=\"SequenceFlow_0lwkj1f\" sourceRef=\"BoundaryEvent_1i1spfe\" targetRef=\"CallActivity_RequestDocument\" />\n    <bpmn2:sequenceFlow id=\"SequenceFlow_1te4zir\" sourceRef=\"CallActivity_RequestDocument\" targetRef=\"UserTask_DecideOnApplication\" />\n    <bpmn2:sequenceFlow id=\"SequenceFlow_01vh1zw\" sourceRef=\"ServiceTask_RejectPolicy\" targetRef=\"SendTask_SendRejection\" />\n    <bpmn2:sequenceFlow id=\"SequenceFlow_13\" name=\"\" sourceRef=\"SendTask_SendRejection\" targetRef=\"EndEvent_ApplicationRejected\" />\n    <bpmn2:sequenceFlow id=\"SequenceFlow_5\" name=\"\" sourceRef=\"UserTask_AccelerateDecision\" targetRef=\"EndEvent_DecisionAccelerated\" />\n    <bpmn2:sequenceFlow id=\"SequenceFlow_16\" name=\"red &#10;(severe risk)\" sourceRef=\"ExclusiveGatewayPruefung\" targetRef=\"ServiceTask_RejectPolicy\">\n      <bpmn2:conditionExpression xsi:type=\"bpmn2:tFormalExpression\">#{riskLevel == 'red'}</bpmn2:conditionExpression>\n    </bpmn2:sequenceFlow>\n    <bpmn2:sequenceFlow id=\"SequenceFlow_3\" name=\"yellow&#10;(moderate risk)&#10;\" sourceRef=\"ExclusiveGatewayPruefung\" targetRef=\"UserTask_DecideOnApplication\">\n      <bpmn2:conditionExpression xsi:type=\"bpmn2:tFormalExpression\">#{riskLevel == 'yellow'}</bpmn2:conditionExpression>\n    </bpmn2:sequenceFlow>\n    <bpmn2:sequenceFlow id=\"SequenceFlow_2\" name=\"\" sourceRef=\"BusinessRuleTask_CheckApplicationAutomatically\" targetRef=\"ExclusiveGatewayPruefung\" />\n    <bpmn2:sequenceFlow id=\"SequenceFlow_7\" name=\"green&#10;(no risk)\" sourceRef=\"ExclusiveGatewayPruefung\" targetRef=\"ServiceTask_DeliverPolicy\">\n      <bpmn2:conditionExpression xsi:type=\"bpmn2:tFormalExpression\">#{riskLevel == 'green'}</bpmn2:conditionExpression>\n    </bpmn2:sequenceFlow>\n    <bpmn2:sequenceFlow id=\"SequenceFlow_10\" name=\"\" sourceRef=\"ServiceTask_DeliverPolicy\" targetRef=\"SendTask_SendPolicy\" />\n    <bpmn2:sequenceFlow id=\"SequenceFlow_11\" name=\"\" sourceRef=\"SendTask_SendPolicy\" targetRef=\"EndEvent_ApplicationIssued\" />\n    <bpmn2:sequenceFlow id=\"SequenceFlow_8\" name=\"application accepted\" camunda:modelerTemplate=\"com.camunda.demo.environment.probability\" sourceRef=\"ExclusiveGateway_2\" targetRef=\"ServiceTask_DeliverPolicy\">\n      <bpmn2:conditionExpression xsi:type=\"bpmn2:tFormalExpression\">#{approved}</bpmn2:conditionExpression>\n    </bpmn2:sequenceFlow>\n    <bpmn2:sequenceFlow id=\"SequenceFlow_12\" name=\"application declined\" sourceRef=\"ExclusiveGateway_2\" targetRef=\"ServiceTask_RejectPolicy\">\n      <bpmn2:conditionExpression xsi:type=\"bpmn2:tFormalExpression\">#{not approved}</bpmn2:conditionExpression>\n    </bpmn2:sequenceFlow>\n    <bpmn2:sequenceFlow id=\"SequenceFlow_1h4oxvl\" sourceRef=\"UserTask_DecideOnApplication\" targetRef=\"ExclusiveGateway_2\" />\n    <bpmn2:sequenceFlow id=\"SequenceFlow_6\" name=\"\" sourceRef=\"StartEvent_1\" targetRef=\"ServiceTask_0tixwo5\" />\n  </bpmn2:process>\n  <bpmn2:message id=\"Message_0fvpzfg\" name=\"Message_DocumentRequested\" />\n  <bpmndi:BPMNDiagram id=\"BPMNDiagram_1\">\n    <bpmndi:BPMNPlane id=\"BPMNPlane_1\" bpmnElement=\"Collaboration_1u35ano\">\n      <bpmndi:BPMNShape id=\"Participant_0477s11_di\" bpmnElement=\"Participant_0477s11\" isHorizontal=\"true\">\n        <dc:Bounds x=\"156\" y=\"71\" width=\"1360\" height=\"563\" />\n      </bpmndi:BPMNShape>\n      <bpmndi:BPMNShape id=\"_BPMNShape_StartEvent_4\" bpmnElement=\"StartEvent_1\">\n        <dc:Bounds x=\"206\" y=\"113\" width=\"36\" height=\"36\" />\n        <bpmndi:BPMNLabel>\n          <dc:Bounds x=\"199\" y=\"154\" width=\"53\" height=\"27\" />\n        </bpmndi:BPMNLabel>\n      </bpmndi:BPMNShape>\n      <bpmndi:BPMNShape id=\"_BPMNShape_SendTask_2\" bpmnElement=\"SendTask_SendPolicy\">\n        <dc:Bounds x=\"1290\" y=\"91\" width=\"100\" height=\"80\" />\n      </bpmndi:BPMNShape>\n      <bpmndi:BPMNShape id=\"_BPMNShape_ServiceTask_3\" bpmnElement=\"ServiceTask_DeliverPolicy\">\n        <dc:Bounds x=\"1139\" y=\"91\" width=\"100\" height=\"80\" />\n      </bpmndi:BPMNShape>\n      <bpmndi:BPMNShape id=\"_BPMNShape_EndEvent_2\" bpmnElement=\"EndEvent_ApplicationIssued\">\n        <dc:Bounds x=\"1445\" y=\"113\" width=\"36\" height=\"36\" />\n        <bpmndi:BPMNLabel>\n          <dc:Bounds x=\"1438\" y=\"154\" width=\"53\" height=\"27\" />\n        </bpmndi:BPMNLabel>\n      </bpmndi:BPMNShape>\n      <bpmndi:BPMNShape id=\"_BPMNShape_ExclusiveGateway_2\" bpmnElement=\"ExclusiveGatewayPruefung\" isMarkerVisible=\"true\">\n        <dc:Bounds x=\"556\" y=\"106\" width=\"50\" height=\"50\" />\n        <bpmndi:BPMNLabel>\n          <dc:Bounds x=\"567\" y=\"81\" width=\"28\" height=\"14\" />\n        </bpmndi:BPMNLabel>\n      </bpmndi:BPMNShape>\n      <bpmndi:BPMNShape id=\"_BPMNShape_BusinessRuleTask_2\" bpmnElement=\"BusinessRuleTask_CheckApplicationAutomatically\">\n        <dc:Bounds x=\"421\" y=\"91\" width=\"100\" height=\"80\" />\n      </bpmndi:BPMNShape>\n      <bpmndi:BPMNShape id=\"_BPMNShape_ExclusiveGateway_3\" bpmnElement=\"ExclusiveGateway_2\" isMarkerVisible=\"true\">\n        <dc:Bounds x=\"1055\" y=\"302\" width=\"50\" height=\"50\" />\n        <bpmndi:BPMNLabel>\n          <dc:Bounds x=\"1129\" y=\"317\" width=\"49\" height=\"14\" />\n        </bpmndi:BPMNLabel>\n      </bpmndi:BPMNShape>\n      <bpmndi:BPMNShape id=\"_BPMNShape_SendTask_3\" bpmnElement=\"SendTask_SendRejection\">\n        <dc:Bounds x=\"1290\" y=\"534\" width=\"100\" height=\"80\" />\n      </bpmndi:BPMNShape>\n      <bpmndi:BPMNShape id=\"_BPMNShape_EndEvent_3\" bpmnElement=\"EndEvent_ApplicationRejected\">\n        <dc:Bounds x=\"1445\" y=\"556\" width=\"36\" height=\"36\" />\n        <bpmndi:BPMNLabel>\n          <dc:Bounds x=\"1436\" y=\"597\" width=\"56\" height=\"27\" />\n        </bpmndi:BPMNLabel>\n      </bpmndi:BPMNShape>\n      <bpmndi:BPMNEdge id=\"BPMNEdge_SequenceFlow_6\" bpmnElement=\"SequenceFlow_6\" sourceElement=\"_BPMNShape_StartEvent_4\" targetElement=\"ServiceTask_0tixwo5_di\">\n        <di:waypoint x=\"242\" y=\"131\" />\n        <di:waypoint x=\"276\" y=\"131\" />\n        <bpmndi:BPMNLabel>\n          <dc:Bounds x=\"125\" y=\"131\" width=\"90\" height=\"6\" />\n        </bpmndi:BPMNLabel>\n      </bpmndi:BPMNEdge>\n      <bpmndi:BPMNEdge id=\"BPMNEdge_SequenceFlow_10\" bpmnElement=\"SequenceFlow_10\" sourceElement=\"_BPMNShape_ServiceTask_3\" targetElement=\"_BPMNShape_SendTask_2\">\n        <di:waypoint x=\"1239\" y=\"131\" />\n        <di:waypoint x=\"1290\" y=\"131\" />\n        <bpmndi:BPMNLabel>\n          <dc:Bounds x=\"999\" y=\"133\" width=\"90\" height=\"6\" />\n        </bpmndi:BPMNLabel>\n      </bpmndi:BPMNEdge>\n      <bpmndi:BPMNEdge id=\"BPMNEdge_SequenceFlow_11\" bpmnElement=\"SequenceFlow_11\" sourceElement=\"_BPMNShape_SendTask_2\" targetElement=\"_BPMNShape_EndEvent_2\">\n        <di:waypoint x=\"1390\" y=\"131\" />\n        <di:waypoint x=\"1445\" y=\"131\" />\n        <bpmndi:BPMNLabel>\n          <dc:Bounds x=\"1159\" y=\"143\" width=\"90\" height=\"6\" />\n        </bpmndi:BPMNLabel>\n      </bpmndi:BPMNEdge>\n      <bpmndi:BPMNEdge id=\"BPMNEdge_SequenceFlow_2\" bpmnElement=\"SequenceFlow_2\" sourceElement=\"_BPMNShape_BusinessRuleTask_2\" targetElement=\"_BPMNShape_ExclusiveGateway_2\">\n        <di:waypoint x=\"521\" y=\"131\" />\n        <di:waypoint x=\"556\" y=\"131\" />\n        <bpmndi:BPMNLabel>\n          <dc:Bounds x=\"301\" y=\"131\" width=\"90\" height=\"6\" />\n        </bpmndi:BPMNLabel>\n      </bpmndi:BPMNEdge>\n      <bpmndi:BPMNEdge id=\"BPMNEdge_SequenceFlow_7\" bpmnElement=\"SequenceFlow_7\" sourceElement=\"_BPMNShape_ExclusiveGateway_2\">\n        <di:waypoint x=\"606\" y=\"131\" />\n        <di:waypoint x=\"1139\" y=\"131\" />\n        <bpmndi:BPMNLabel>\n          <dc:Bounds x=\"604\" y=\"136\" width=\"41\" height=\"27\" />\n        </bpmndi:BPMNLabel>\n      </bpmndi:BPMNEdge>\n      <bpmndi:BPMNEdge id=\"BPMNEdge_SequenceFlow_16\" bpmnElement=\"SequenceFlow_16\" sourceElement=\"_BPMNShape_ExclusiveGateway_2\">\n        <di:waypoint x=\"581\" y=\"156\" />\n        <di:waypoint x=\"581\" y=\"574\" />\n        <di:waypoint x=\"1139\" y=\"574\" />\n        <bpmndi:BPMNLabel>\n          <dc:Bounds x=\"596\" y=\"542\" width=\"61\" height=\"27\" />\n        </bpmndi:BPMNLabel>\n      </bpmndi:BPMNEdge>\n      <bpmndi:BPMNEdge id=\"BPMNEdge_SequenceFlow_8\" bpmnElement=\"SequenceFlow_8\" sourceElement=\"_BPMNShape_ExclusiveGateway_3\">\n        <di:waypoint x=\"1080\" y=\"302\" />\n        <di:waypoint x=\"1080\" y=\"149\" />\n        <di:waypoint x=\"1139\" y=\"149\" />\n        <bpmndi:BPMNLabel>\n          <dc:Bounds x=\"1096\" y=\"255\" width=\"53\" height=\"27\" />\n        </bpmndi:BPMNLabel>\n      </bpmndi:BPMNEdge>\n      <bpmndi:BPMNEdge id=\"BPMNEdge_SequenceFlow_12\" bpmnElement=\"SequenceFlow_12\" sourceElement=\"_BPMNShape_ExclusiveGateway_3\">\n        <di:waypoint x=\"1080\" y=\"352\" />\n        <di:waypoint x=\"1080\" y=\"555\" />\n        <di:waypoint x=\"1139\" y=\"555\" />\n        <bpmndi:BPMNLabel>\n          <dc:Bounds x=\"1090\" y=\"364\" width=\"53\" height=\"27\" />\n        </bpmndi:BPMNLabel>\n      </bpmndi:BPMNEdge>\n      <bpmndi:BPMNEdge id=\"BPMNEdge_SequenceFlow_13\" bpmnElement=\"SequenceFlow_13\" sourceElement=\"_BPMNShape_SendTask_3\" targetElement=\"_BPMNShape_EndEvent_3\">\n        <di:waypoint x=\"1390\" y=\"574\" />\n        <di:waypoint x=\"1445\" y=\"574\" />\n        <bpmndi:BPMNLabel>\n          <dc:Bounds x=\"1054\" y=\"575\" width=\"90\" height=\"6\" />\n        </bpmndi:BPMNLabel>\n      </bpmndi:BPMNEdge>\n      <bpmndi:BPMNShape id=\"ServiceTask_0o3o39j_di\" bpmnElement=\"ServiceTask_RejectPolicy\">\n        <dc:Bounds x=\"1139\" y=\"534\" width=\"100\" height=\"80\" />\n      </bpmndi:BPMNShape>\n      <bpmndi:BPMNEdge id=\"SequenceFlow_01vh1zw_di\" bpmnElement=\"SequenceFlow_01vh1zw\">\n        <di:waypoint x=\"1239\" y=\"574\" />\n        <di:waypoint x=\"1290\" y=\"574\" />\n        <bpmndi:BPMNLabel>\n          <dc:Bounds x=\"1009\" y=\"564\" width=\"90\" height=\"20\" />\n        </bpmndi:BPMNLabel>\n      </bpmndi:BPMNEdge>\n      <bpmndi:BPMNEdge id=\"BPMNEdge_SequenceFlow_3\" bpmnElement=\"SequenceFlow_3\">\n        <di:waypoint x=\"581\" y=\"156\" />\n        <di:waypoint x=\"581\" y=\"313\" />\n        <di:waypoint x=\"717\" y=\"313\" />\n        <bpmndi:BPMNLabel>\n          <dc:Bounds x=\"593\" y=\"280\" width=\"75\" height=\"40\" />\n        </bpmndi:BPMNLabel>\n      </bpmndi:BPMNEdge>\n      <bpmndi:BPMNShape id=\"_BPMNShape_EndEvent_28\" bpmnElement=\"EndEvent_DecisionAccelerated\">\n        <dc:Bounds x=\"995\" y=\"188\" width=\"36\" height=\"36\" />\n        <bpmndi:BPMNLabel>\n          <dc:Bounds x=\"986\" y=\"229\" width=\"57\" height=\"27\" />\n        </bpmndi:BPMNLabel>\n      </bpmndi:BPMNShape>\n      <bpmndi:BPMNShape id=\"_BPMNShape_UserTask_6\" bpmnElement=\"UserTask_AccelerateDecision\">\n        <dc:Bounds x=\"867\" y=\"166\" width=\"100\" height=\"80\" />\n      </bpmndi:BPMNShape>\n      <bpmndi:BPMNEdge id=\"BPMNEdge_SequenceFlow_5\" bpmnElement=\"SequenceFlow_5\">\n        <di:waypoint x=\"967\" y=\"206\" />\n        <di:waypoint x=\"995\" y=\"206\" />\n        <bpmndi:BPMNLabel>\n          <dc:Bounds x=\"725\" y=\"188\" width=\"90\" height=\"6\" />\n        </bpmndi:BPMNLabel>\n      </bpmndi:BPMNEdge>\n      <bpmndi:BPMNShape id=\"UserTask_1b9zsmd_di\" bpmnElement=\"UserTask_DecideOnApplication\">\n        <dc:Bounds x=\"717\" y=\"287\" width=\"100\" height=\"80\" />\n      </bpmndi:BPMNShape>\n      <bpmndi:BPMNShape id=\"CallActivity_01bed3n_di\" bpmnElement=\"CallActivity_RequestDocument\">\n        <dc:Bounds x=\"867\" y=\"400\" width=\"100\" height=\"80\" />\n      </bpmndi:BPMNShape>\n      <bpmndi:BPMNShape id=\"BoundaryEvent_09ag0rf_di\" bpmnElement=\"BoundaryEvent_1i1spfe\">\n        <dc:Bounds x=\"772\" y=\"349\" width=\"36\" height=\"36\" />\n        <bpmndi:BPMNLabel>\n          <dc:Bounds x=\"786\" y=\"385\" width=\"89\" height=\"14\" />\n        </bpmndi:BPMNLabel>\n      </bpmndi:BPMNShape>\n      <bpmndi:BPMNEdge id=\"SequenceFlow_0lwkj1f_di\" bpmnElement=\"SequenceFlow_0lwkj1f\">\n        <di:waypoint x=\"790\" y=\"385\" />\n        <di:waypoint x=\"790\" y=\"440\" />\n        <di:waypoint x=\"867\" y=\"440\" />\n        <bpmndi:BPMNLabel>\n          <dc:Bounds x=\"549\" y=\"406\" width=\"90\" height=\"13\" />\n        </bpmndi:BPMNLabel>\n      </bpmndi:BPMNEdge>\n      <bpmndi:BPMNEdge id=\"SequenceFlow_1te4zir_di\" bpmnElement=\"SequenceFlow_1te4zir\">\n        <di:waypoint x=\"967\" y=\"440\" />\n        <di:waypoint x=\"996\" y=\"440\" />\n        <di:waypoint x=\"996\" y=\"505\" />\n        <di:waypoint x=\"656\" y=\"505\" />\n        <di:waypoint x=\"656\" y=\"341\" />\n        <di:waypoint x=\"717\" y=\"341\" />\n        <bpmndi:BPMNLabel>\n          <dc:Bounds x=\"570\" y=\"484\" width=\"90\" height=\"13\" />\n        </bpmndi:BPMNLabel>\n      </bpmndi:BPMNEdge>\n      <bpmndi:BPMNEdge id=\"SequenceFlow_0o6gf8v_di\" bpmnElement=\"SequenceFlow_0o6gf8v\">\n        <di:waypoint x=\"790\" y=\"269\" />\n        <di:waypoint x=\"790\" y=\"206\" />\n        <di:waypoint x=\"867\" y=\"206\" />\n        <bpmndi:BPMNLabel>\n          <dc:Bounds x=\"549\" y=\"231\" width=\"90\" height=\"13\" />\n        </bpmndi:BPMNLabel>\n      </bpmndi:BPMNEdge>\n      <bpmndi:BPMNEdge id=\"SequenceFlow_1h4oxvl_di\" bpmnElement=\"SequenceFlow_1h4oxvl\">\n        <di:waypoint x=\"817\" y=\"327\" />\n        <di:waypoint x=\"1055\" y=\"327\" />\n        <bpmndi:BPMNLabel>\n          <dc:Bounds x=\"680\" y=\"306\" width=\"90\" height=\"13\" />\n        </bpmndi:BPMNLabel>\n      </bpmndi:BPMNEdge>\n      <bpmndi:BPMNShape id=\"BoundaryEvent_138xipm_di\" bpmnElement=\"BoundaryEvent_0mcjys5\">\n        <dc:Bounds x=\"772\" y=\"269\" width=\"36\" height=\"36\" />\n        <bpmndi:BPMNLabel>\n          <dc:Bounds x=\"811\" y=\"254\" width=\"58\" height=\"14\" />\n        </bpmndi:BPMNLabel>\n      </bpmndi:BPMNShape>\n      <bpmndi:BPMNShape id=\"ServiceTask_0tixwo5_di\" bpmnElement=\"ServiceTask_0tixwo5\">\n        <dc:Bounds x=\"276\" y=\"91\" width=\"100\" height=\"80\" />\n      </bpmndi:BPMNShape>\n      <bpmndi:BPMNEdge id=\"SequenceFlow_1gd6p37_di\" bpmnElement=\"SequenceFlow_1gd6p37\">\n        <di:waypoint x=\"376\" y=\"131\" />\n        <di:waypoint x=\"421\" y=\"131\" />\n      </bpmndi:BPMNEdge>\n    </bpmndi:BPMNPlane>\n  </bpmndi:BPMNDiagram>\n</bpmn2:definitions>",[m
   "flowNodeData": [[m
     {[m
       "name": "document needed",[m
[1mdiff --git a/backend/src/main/resources/instant_preview_dashboards/template1.json b/backend/src/main/resources/instant_preview_dashboards/template1.json[m
[1mindex ea9f576a5d..a82e02b915 100644[m
[1m--- a/backend/src/main/resources/instant_preview_dashboards/template1.json[m
[1m+++ b/backend/src/main/resources/instant_preview_dashboards/template1.json[m
[36m@@ -1,1817 +1,1744 @@[m
[31m-[ {[m
[31m-  "id" : "1af39def-fc88-4baf-ae22-c87fb0cd6726",[m
[31m-  "exportEntityType" : "single_process_report",[m
[31m-  "name" : "IP_TileText_ProcessImprovement_Report1",[m
[31m-  "description" : null,[m
[31m-  "sourceIndexVersion" : 11,[m
[31m-  "collectionId" : null,[m
[31m-  "data" : {[m
[31m-    "configuration" : {[m
[31m-      "color" : "#1991c8",[m
[31m-      "aggregationTypes" : [ {[m
[31m-        "type" : "percentile",[m
[31m-        "value" : 75.0[m
[31m-      } ],[m
[31m-      "userTaskDurationTimes" : [ "total" ],[m
[31m-      "showInstanceCount" : false,[m
[31m-      "pointMarkers" : true,[m
[31m-      "precision" : null,[m
[31m-      "hideRelativeValue" : false,[m
[31m-      "hideAbsoluteValue" : false,[m
[31m-      "alwaysShowRelative" : false,[m
[31m-      "alwaysShowAbsolute" : false,[m
[31m-      "showGradientBars" : true,[m
[31m-      "xml" : "<?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"no\"?>\n<bpmn:definitions xmlns:bpmn=\"http://www.omg.org/spec/BPMN/20100524/MODEL\" xmlns:bpmndi=\"http://www.omg.org/spec/BPMN/20100524/DI\" xmlns:camunda=\"http://camunda.org/schema/1.0/bpmn\" xmlns:dc=\"http://www.omg.org/spec/DD/20100524/DC\" xmlns:di=\"http://www.omg.org/spec/DD/20100524/DI\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" exporter=\"Camunda Modeler\" exporterVersion=\"3.1.0\" expressionLanguage=\"http://www.w3.org/1999/XPath\" id=\"Definitions_1iqy5bl\" targetNamespace=\"http://bpmn.io/schema/bpmn\" typeLanguage=\"http://www.w3.org/2001/XMLSchema\">\n    \n  <bpmn:process id=\"bookrequest-suspended-instances\" isClosed=\"false\" isExecutable=\"true\" name=\"Book Request with suspended process instances\" processType=\"None\">\n        \n    <bpmn:startEvent camunda:asyncBefore=\"true\" id=\"StartEvent_1\" isInterrupting=\"true\" name=\"Received Book Request\" parallelMultiple=\"false\">\n            \n      <bpmn:outgoing>SequenceFlow_0yrmjj2</bpmn:outgoing>\n          \n    </bpmn:startEvent>\n        \n    <bpmn:sequenceFlow id=\"SequenceFlow_0yrmjj2\" sourceRef=\"StartEvent_1\" targetRef=\"Task_1hscozi\"/>\n        \n    <bpmn:receiveTask completionQuantity=\"1\" id=\"Task_1hscozi\" implementation=\"##WebService\" instantiate=\"false\" isForCompensation=\"false\" messageRef=\"Message_15xrx39\" name=\"Receive Book Request\" startQuantity=\"1\">\n            \n      <bpmn:incoming>SequenceFlow_0yrmjj2</bpmn:incoming>\n            \n      <bpmn:outgoing>SequenceFlow_1bzn5tn</bpmn:outgoing>\n          \n    </bpmn:receiveTask>\n        \n    <bpmn:sequenceFlow id=\"SequenceFlow_1bzn5tn\" sourceRef=\"Task_1hscozi\" targetRef=\"Task_1l3px0t\"/>\n        \n    <bpmn:serviceTask camunda:expression=\"${true}\" completionQuantity=\"1\" id=\"Task_1l3px0t\" implementation=\"##WebService\" isForCompensation=\"false\" name=\"Get Book Status\" startQuantity=\"1\">\n            \n      <bpmn:incoming>SequenceFlow_1bzn5tn</bpmn:incoming>\n            \n      <bpmn:incoming>SequenceFlow_0dbiqt6</bpmn:incoming>\n            \n      <bpmn:outgoing>SequenceFlow_19n0ed3</bpmn:outgoing>\n          \n    </bpmn:serviceTask>\n        \n    <bpmn:exclusiveGateway default=\"SequenceFlow_0vf6q5t\" gatewayDirection=\"Unspecified\" id=\"ExclusiveGateway_0i9u2oe\" name=\"Is book availalbe?\">\n            \n      <bpmn:extensionElements>\n                \n        <camunda:executionListener event=\"start\">\n                    \n          <camunda:script scriptFormat=\"groovy\">execution.setVariable(\"bookAvailable\", new Random().nextDouble()&lt;0.3 );</camunda:script>\n                  \n        </camunda:executionListener>\n              \n      </bpmn:extensionElements>\n            \n      <bpmn:incoming>SequenceFlow_19n0ed3</bpmn:incoming>\n            \n      <bpmn:outgoing>SequenceFlow_0jp92nl</bpmn:outgoing>\n            \n      <bpmn:outgoing>SequenceFlow_0vf6q5t</bpmn:outgoing>\n          \n    </bpmn:exclusiveGateway>\n        \n    <bpmn:sequenceFlow id=\"SequenceFlow_19n0ed3\" sourceRef=\"Task_1l3px0t\" targetRef=\"ExclusiveGateway_0i9u2oe\"/>\n        \n    <bpmn:sequenceFlow id=\"SequenceFlow_0jp92nl\" name=\"No\" sourceRef=\"ExclusiveGateway_0i9u2oe\" targetRef=\"Task_0fyy1mq\">\n            \n      <bpmn:conditionExpression xsi:type=\"bpmn:tFormalExpression\">${bookAvailable}</bpmn:conditionExpression>\n          \n    </bpmn:sequenceFlow>\n        \n    <bpmn:sequenceFlow id=\"SequenceFlow_0vf6q5t\" name=\"Yes\" sourceRef=\"ExclusiveGateway_0i9u2oe\" targetRef=\"checkoutBook\"/>\n        \n    <bpmn:userTask camunda:candidateGroups=\"management\" camunda:candidateUsers=\"demo\" completionQuantity=\"1\" id=\"checkoutBook\" implementation=\"##unspecified\" isForCompensation=\"false\" name=\"Checkout Book\" startQuantity=\"1\">\n            \n      <bpmn:incoming>SequenceFlow_0vf6q5t</bpmn:incoming>\n            \n      <bpmn:outgoing>SequenceFlow_1mozvul</bpmn:outgoing>\n          \n    </bpmn:userTask>\n        \n    <bpmn:sendTask camunda:expression=\"${true}\" completionQuantity=\"1\" id=\"Task_0fyy1mq\" implementation=\"##WebService\" isForCompensation=\"false\" name=\"On Loan Reply\" startQuantity=\"1\">\n            \n      <bpmn:incoming>SequenceFlow_0jp92nl</bpmn:incoming>\n            \n      <bpmn:outgoing>SequenceFlow_1gdprmj</bpmn:outgoing>\n          \n    </bpmn:sendTask>\n        \n    <bpmn:sequenceFlow id=\"SequenceFlow_1mozvul\" sourceRef=\"checkoutBook\" targetRef=\"Task_12p04yx\"/>\n        \n    <bpmn:sequenceFlow id=\"SequenceFlow_1gdprmj\" sourceRef=\"Task_0fyy1mq\" targetRef=\"ExclusiveGateway_186hbka\"/>\n        \n    <bpmn:eventBasedGateway eventGatewayType=\"Exclusive\" gatewayDirection=\"Unspecified\" id=\"ExclusiveGateway_186hbka\" instantiate=\"false\">\n            \n      <bpmn:incoming>SequenceFlow_1gdprmj</bpmn:incoming>\n            \n      <bpmn:outgoing>SequenceFlow_0i60o08</bpmn:outgoing>\n            \n      <bpmn:outgoing>SequenceFlow_0f8uxqu</bpmn:outgoing>\n            \n      <bpmn:outgoing>SequenceFlow_1lceegs</bpmn:outgoing>\n          \n    </bpmn:eventBasedGateway>\n        \n    <bpmn:intermediateCatchEvent id=\"IntermediateCatchEvent_0a1widf\" name=\"Decliine Hold\" parallelMultiple=\"false\">\n            \n      <bpmn:incoming>SequenceFlow_0i60o08</bpmn:incoming>\n            \n      <bpmn:outgoing>SequenceFlow_01mezfj</bpmn:outgoing>\n            \n      <bpmn:messageEventDefinition messageRef=\"Message_1o8fd0g\"/>\n          \n    </bpmn:intermediateCatchEvent>\n        \n    <bpmn:sequenceFlow id=\"SequenceFlow_0i60o08\" sourceRef=\"ExclusiveGateway_186hbka\" targetRef=\"IntermediateCatchEvent_0a1widf\"/>\n        \n    <bpmn:intermediateCatchEvent id=\"IntermediateCatchEvent_0gj7pjl\" name=\"Hold Book\" parallelMultiple=\"false\">\n            \n      <bpmn:incoming>SequenceFlow_0f8uxqu</bpmn:incoming>\n            \n      <bpmn:outgoing>SequenceFlow_154q9ec</bpmn:outgoing>\n            \n      <bpmn:messageEventDefinition messageRef=\"Message_0jhij3z\"/>\n          \n    </bpmn:intermediateCatchEvent>\n        \n    <bpmn:sequenceFlow id=\"SequenceFlow_0f8uxqu\" sourceRef=\"ExclusiveGateway_186hbka\" targetRef=\"IntermediateCatchEvent_0gj7pjl\"/>\n        \n    <bpmn:intermediateCatchEvent id=\"IntermediateCatchEvent_0dd9qc7\" name=\"One Week\" parallelMultiple=\"false\">\n            \n      <bpmn:incoming>SequenceFlow_1lceegs</bpmn:incoming>\n            \n      <bpmn:outgoing>SequenceFlow_0jjjdth</bpmn:outgoing>\n            \n      <bpmn:timerEventDefinition>\n                \n        <bpmn:timeDuration xsi:type=\"bpmn:tFormalExpression\">PT3S</bpmn:timeDuration>\n              \n      </bpmn:timerEventDefinition>\n          \n    </bpmn:intermediateCatchEvent>\n        \n    <bpmn:sequenceFlow id=\"SequenceFlow_1lceegs\" sourceRef=\"ExclusiveGateway_186hbka\" targetRef=\"IntermediateCatchEvent_0dd9qc7\"/>\n        \n    <bpmn:sequenceFlow id=\"SequenceFlow_01mezfj\" sourceRef=\"IntermediateCatchEvent_0a1widf\" targetRef=\"Task_0hrmeet\"/>\n        \n    <bpmn:sequenceFlow id=\"SequenceFlow_0jjjdth\" sourceRef=\"IntermediateCatchEvent_0dd9qc7\" targetRef=\"Task_0hrmeet\"/>\n        \n    <bpmn:endEvent id=\"EndEvent_0kcx8gn\" name=\"Book Request Processed\">\n            \n      <bpmn:incoming>SequenceFlow_0msajcc</bpmn:incoming>\n            \n      <bpmn:incoming>SequenceFlow_1gea84p</bpmn:incoming>\n          \n    </bpmn:endEvent>\n        \n    <bpmn:sequenceFlow id=\"SequenceFlow_0msajcc\" sourceRef=\"Task_0hrmeet\" targetRef=\"EndEvent_0kcx8gn\"/>\n        \n    <bpmn:sequenceFlow id=\"SequenceFlow_1gea84p\" sourceRef=\"Task_12p04yx\" targetRef=\"EndEvent_0kcx8gn\"/>\n        \n    <bpmn:sequenceFlow id=\"SequenceFlow_154q9ec\" sourceRef=\"IntermediateCatchEvent_0gj7pjl\" targetRef=\"Task_1x9vb2g\"/>\n        \n    <bpmn:sequenceFlow id=\"SequenceFlow_0zfoxl1\" sourceRef=\"Task_1x9vb2g\" targetRef=\"Task_0ggoifp\"/>\n        \n    <bpmn:sequenceFlow id=\"SequenceFlow_01gp9uj\" sourceRef=\"Task_0ggoifp\" targetRef=\"IntermediateThrowEvent_17ddgu1\"/>\n        \n    <bpmn:intermediateCatchEvent id=\"IntermediateThrowEvent_17ddgu1\" name=\"Two Weeks\" parallelMultiple=\"false\">\n            \n      <bpmn:incoming>SequenceFlow_01gp9uj</bpmn:incoming>\n            \n      <bpmn:outgoing>SequenceFlow_0dbiqt6</bpmn:outgoing>\n            \n      <bpmn:timerEventDefinition>\n                \n        <bpmn:timeDuration xsi:type=\"bpmn:tFormalExpression\">PT0S</bpmn:timeDuration>\n              \n      </bpmn:timerEventDefinition>\n          \n    </bpmn:intermediateCatchEvent>\n        \n    <bpmn:sequenceFlow id=\"SequenceFlow_0dbiqt6\" sourceRef=\"IntermediateThrowEvent_17ddgu1\" targetRef=\"Task_1l3px0t\"/>\n        \n    <bpmn:sendTask camunda:expression=\"${true}\" completionQuantity=\"1\" id=\"Task_12p04yx\" implementation=\"##WebService\" isForCompensation=\"false\" name=\"Checkout Reply\" startQuantity=\"1\">\n            \n      <bpmn:incoming>SequenceFlow_1mozvul</bpmn:incoming>\n            \n      <bpmn:outgoing>SequenceFlow_1gea84p</bpmn:outgoing>\n          \n    </bpmn:sendTask>\n        \n    <bpmn:serviceTask camunda:expression=\"$[true}\" completionQuantity=\"1\" id=\"Task_1x9vb2g\" implementation=\"##WebService\" isForCompensation=\"false\" name=\"Request Hold\" startQuantity=\"1\">\n            \n      <bpmn:incoming>SequenceFlow_154q9ec</bpmn:incoming>\n            \n      <bpmn:outgoing>SequenceFlow_0zfoxl1</bpmn:outgoing>\n          \n    </bpmn:serviceTask>\n        \n    <bpmn:sendTask camunda:expression=\"$[true}\" completionQuantity=\"1\" id=\"Task_0hrmeet\" implementation=\"##WebService\" isForCompensation=\"false\" name=\"Cancel Request\" startQuantity=\"1\">\n            \n      <bpmn:incoming>SequenceFlow_01mezfj</bpmn:incoming>\n            \n      <bpmn:incoming>SequenceFlow_0jjjdth</bpmn:incoming>\n            \n      <bpmn:outgoing>SequenceFlow_0msajcc</bpmn:outgoing>\n          \n    </bpmn:sendTask>\n        \n    <bpmn:sendTask camunda:expression=\"${true}\" completionQuantity=\"1\" id=\"Task_0ggoifp\" implementation=\"##WebService\" isForCompensation=\"false\" name=\"Hold Reply\" startQuantity=\"1\">\n            \n      <bpmn:incoming>SequenceFlow_0zfoxl1</bpmn:incoming>\n            \n      <bpmn:outgoing>SequenceFlow_01gp9uj</bpmn:outgoing>\n          \n    </bpmn:sendTask>\n      \n  </bpmn:process>\n    \n  <bpmn:message id=\"Message_15xrx39\" name=\"ReceivedBookRequest\"/>\n    \n  <bpmn:message id=\"Message_1o8fd0g\" name=\"DeclineHold\"/>\n    \n  <bpmn:message id=\"Message_0jhij3z\" name=\"HoldBook\"/>\n    \n  <bpmndi:BPMNDiagram id=\"BPMNDiagram_1\">\n        \n    <bpmndi:BPMNPlane bpmnElement=\"bookrequest\" id=\"BPMNPlane_1\">\n            \n      <bpmndi:BPMNShape bpmnElement=\"StartEvent_1\" id=\"_BPMNShape_StartEvent_2\">\n                \n        <dc:Bounds height=\"36\" width=\"36\" x=\"142\" y=\"316\"/>\n                \n        <bpmndi:BPMNLabel>\n                    \n          <dc:Bounds height=\"27\" width=\"74\" x=\"124\" y=\"352\"/>\n                  \n        </bpmndi:BPMNLabel>\n              \n      </bpmndi:BPMNShape>\n            \n      <bpmndi:BPMNEdge bpmnElement=\"SequenceFlow_0yrmjj2\" id=\"SequenceFlow_0yrmjj2_di\">\n                \n        <di:waypoint x=\"178\" y=\"334\"/>\n                \n        <di:waypoint x=\"228\" y=\"334\"/>\n                \n        <bpmndi:BPMNLabel>\n                    \n          <dc:Bounds height=\"12\" width=\"0\" x=\"203\" y=\"148\"/>\n                  \n        </bpmndi:BPMNLabel>\n              \n      </bpmndi:BPMNEdge>\n            \n      <bpmndi:BPMNShape bpmnElement=\"Task_1hscozi\" id=\"ReceiveTask_0u2soi3_di\">\n                \n        <dc:Bounds height=\"80\" width=\"100\" x=\"228\" y=\"294\"/>\n              \n      </bpmndi:BPMNShape>\n            \n      <bpmndi:BPMNEdge bpmnElement=\"SequenceFlow_1bzn5tn\" id=\"SequenceFlow_1bzn5tn_di\">\n                \n        <di:waypoint x=\"328\" y=\"334\"/>\n                \n        <di:waypoint x=\"378\" y=\"334\"/>\n                \n        <bpmndi:BPMNLabel>\n                    \n          <dc:Bounds height=\"12\" width=\"0\" x=\"353\" y=\"148\"/>\n                  \n        </bpmndi:BPMNLabel>\n              \n      </bpmndi:BPMNEdge>\n            \n      <bpmndi:BPMNShape bpmnElement=\"Task_1l3px0t\" id=\"ServiceTask_0fc8l5k_di\">\n                \n        <dc:Bounds height=\"80\" width=\"100\" x=\"378\" y=\"294\"/>\n              \n      </bpmndi:BPMNShape>\n            \n      <bpmndi:BPMNShape bpmnElement=\"ExclusiveGateway_0i9u2oe\" id=\"ExclusiveGateway_0i9u2oe_di\" isMarkerVisible=\"true\">\n                \n        <dc:Bounds height=\"50\" width=\"50\" x=\"528\" y=\"309\"/>\n                \n        <bpmndi:BPMNLabel>\n                    \n          <dc:Bounds height=\"14\" width=\"89\" x=\"509\" y=\"287\"/>\n                  \n        </bpmndi:BPMNLabel>\n              \n      </bpmndi:BPMNShape>\n            \n      <bpmndi:BPMNEdge bpmnElement=\"SequenceFlow_19n0ed3\" id=\"SequenceFlow_19n0ed3_di\">\n                \n        <di:waypoint x=\"478\" y=\"334\"/>\n                \n        <di:waypoint x=\"528\" y=\"334\"/>\n                \n        <bpmndi:BPMNLabel>\n                    \n          <dc:Bounds height=\"12\" width=\"0\" x=\"503\" y=\"148\"/>\n                  \n        </bpmndi:BPMNLabel>\n              \n      </bpmndi:BPMNEdge>\n            \n      <bpmndi:BPMNEdge bpmnElement=\"SequenceFlow_0jp92nl\" id=\"SequenceFlow_0jp92nl_di\">\n                \n        <di:waypoint x=\"578\" y=\"334\"/>\n                \n        <di:waypoint x=\"628\" y=\"334\"/>\n                \n        <bpmndi:BPMNLabel>\n                    \n          <dc:Bounds height=\"14\" width=\"15\" x=\"596\" y=\"313\"/>\n                  \n        </bpmndi:BPMNLabel>\n              \n      </bpmndi:BPMNEdge>\n            \n      <bpmndi:BPMNEdge bpmnElement=\"SequenceFlow_0vf6q5t\" id=\"SequenceFlow_0vf6q5t_di\">\n                \n        <di:waypoint x=\"553\" y=\"359\"/>\n                \n        <di:waypoint x=\"553\" y=\"553\"/>\n                \n        <di:waypoint x=\"628\" y=\"553\"/>\n                \n        <bpmndi:BPMNLabel>\n                    \n          <dc:Bounds height=\"14\" width=\"18\" x=\"560\" y=\"450\"/>\n                  \n        </bpmndi:BPMNLabel>\n              \n      </bpmndi:BPMNEdge>\n            \n      <bpmndi:BPMNShape bpmnElement=\"checkoutBook\" id=\"UserTask_1k6euka_di\">\n                \n        <dc:Bounds height=\"80\" width=\"100\" x=\"628\" y=\"513\"/>\n              \n      </bpmndi:BPMNShape>\n            \n      <bpmndi:BPMNShape bpmnElement=\"Task_0fyy1mq\" id=\"SendTask_0pd2avm_di\">\n                \n        <dc:Bounds height=\"80\" width=\"100\" x=\"628\" y=\"294\"/>\n              \n      </bpmndi:BPMNShape>\n            \n      <bpmndi:BPMNEdge bpmnElement=\"SequenceFlow_1mozvul\" id=\"SequenceFlow_1mozvul_di\">\n                \n        <di:waypoint x=\"728\" y=\"553\"/>\n                \n        <di:waypoint x=\"778\" y=\"553\"/>\n                \n        <bpmndi:BPMNLabel>\n                    \n          <dc:Bounds height=\"12\" width=\"0\" x=\"753\" y=\"367\"/>\n                  \n        </bpmndi:BPMNLabel>\n              \n      </bpmndi:BPMNEdge>\n            \n      <bpmndi:BPMNEdge bpmnElement=\"SequenceFlow_1gdprmj\" id=\"SequenceFlow_1gdprmj_di\">\n                \n        <di:waypoint x=\"728\" y=\"334\"/>\n                \n        <di:waypoint x=\"778\" y=\"334\"/>\n                \n        <bpmndi:BPMNLabel>\n                    \n          <dc:Bounds height=\"12\" width=\"0\" x=\"753\" y=\"148\"/>\n                  \n        </bpmndi:BPMNLabel>\n              \n      </bpmndi:BPMNEdge>\n            \n      <bpmndi:BPMNShape bpmnElement=\"ExclusiveGateway_186hbka\" id=\"EventBasedGateway_0lhsnkb_di\">\n                \n        <dc:Bounds height=\"50\" width=\"50\" x=\"778\" y=\"309\"/>\n                \n        <bpmndi:BPMNLabel>\n                    \n          <dc:Bounds height=\"12\" width=\"0\" x=\"803\" y=\"204\"/>\n                  \n        </bpmndi:BPMNLabel>\n              \n      </bpmndi:BPMNShape>\n            \n      <bpmndi:BPMNShape bpmnElement=\"IntermediateCatchEvent_0a1widf\" id=\"IntermediateCatchEvent_0a1widf_di\">\n                \n        <dc:Bounds height=\"36\" width=\"36\" x=\"878\" y=\"316\"/>\n                \n        <bpmndi:BPMNLabel>\n                    \n          <dc:Bounds height=\"14\" width=\"65\" x=\"864\" y=\"356\"/>\n                  \n        </bpmndi:BPMNLabel>\n              \n      </bpmndi:BPMNShape>\n            \n      <bpmndi:BPMNEdge bpmnElement=\"SequenceFlow_0i60o08\" id=\"SequenceFlow_0i60o08_di\">\n                \n        <di:waypoint x=\"828\" y=\"334\"/>\n                \n        <di:waypoint x=\"878\" y=\"334\"/>\n                \n        <bpmndi:BPMNLabel>\n                    \n          <dc:Bounds height=\"12\" width=\"0\" x=\"853\" y=\"148\"/>\n                  \n        </bpmndi:BPMNLabel>\n              \n      </bpmndi:BPMNEdge>\n            \n      <bpmndi:BPMNShape bpmnElement=\"IntermediateCatchEvent_0gj7pjl\" id=\"IntermediateCatchEvent_0gj7pjl_di\">\n                \n        <dc:Bounds height=\"36\" width=\"36\" x=\"878\" y=\"212\"/>\n                \n        <bpmndi:BPMNLabel>\n                    \n          <dc:Bounds height=\"14\" width=\"51\" x=\"871\" y=\"252\"/>\n                  \n        </bpmndi:BPMNLabel>\n              \n      </bpmndi:BPMNShape>\n            \n      <bpmndi:BPMNEdge bpmnElement=\"SequenceFlow_0f8uxqu\" id=\"SequenceFlow_0f8uxqu_di\">\n                \n        <di:waypoint x=\"803\" y=\"309\"/>\n                \n        <di:waypoint x=\"803\" y=\"230\"/>\n                \n        <di:waypoint x=\"878\" y=\"230\"/>\n                \n        <bpmndi:BPMNLabel>\n                    \n          <dc:Bounds height=\"12\" width=\"0\" x=\"818\" y=\"98.5\"/>\n                  \n        </bpmndi:BPMNLabel>\n              \n      </bpmndi:BPMNEdge>\n            \n      <bpmndi:BPMNShape bpmnElement=\"IntermediateCatchEvent_0dd9qc7\" id=\"IntermediateCatchEvent_0dd9qc7_di\">\n                \n        <dc:Bounds height=\"36\" width=\"36\" x=\"878\" y=\"424\"/>\n                \n        <bpmndi:BPMNLabel>\n                    \n          <dc:Bounds height=\"14\" width=\"52\" x=\"871\" y=\"464\"/>\n                  \n        </bpmndi:BPMNLabel>\n              \n      </bpmndi:BPMNShape>\n            \n      <bpmndi:BPMNEdge bpmnElement=\"SequenceFlow_1lceegs\" id=\"SequenceFlow_1lceegs_di\">\n                \n        <di:waypoint x=\"803\" y=\"359\"/>\n                \n        <di:waypoint x=\"803\" y=\"442\"/>\n                \n        <di:waypoint x=\"878\" y=\"442\"/>\n                \n        <bpmndi:BPMNLabel>\n                    \n          <dc:Bounds height=\"12\" width=\"0\" x=\"818\" y=\"229.5\"/>\n                  \n        </bpmndi:BPMNLabel>\n              \n      </bpmndi:BPMNEdge>\n            \n      <bpmndi:BPMNEdge bpmnElement=\"SequenceFlow_01mezfj\" id=\"SequenceFlow_01mezfj_di\">\n                \n        <di:waypoint x=\"914\" y=\"334\"/>\n                \n        <di:waypoint x=\"964\" y=\"334\"/>\n                \n        <bpmndi:BPMNLabel>\n                    \n          <dc:Bounds height=\"12\" width=\"0\" x=\"939\" y=\"148\"/>\n                  \n        </bpmndi:BPMNLabel>\n              \n      </bpmndi:BPMNEdge>\n            \n      <bpmndi:BPMNEdge bpmnElement=\"SequenceFlow_0jjjdth\" id=\"SequenceFlow_0jjjdth_di\">\n                \n        <di:waypoint x=\"914\" y=\"442\"/>\n                \n        <di:waypoint x=\"1014\" y=\"442\"/>\n                \n        <di:waypoint x=\"1014\" y=\"374\"/>\n                \n        <bpmndi:BPMNLabel>\n                    \n          <dc:Bounds height=\"12\" width=\"0\" x=\"964\" y=\"256\"/>\n                  \n        </bpmndi:BPMNLabel>\n              \n      </bpmndi:BPMNEdge>\n            \n      <bpmndi:BPMNShape bpmnElement=\"EndEvent_0kcx8gn\" id=\"EndEvent_0kcx8gn_di\">\n                \n        <dc:Bounds height=\"36\" width=\"36\" x=\"1114\" y=\"316\"/>\n                \n        <bpmndi:BPMNLabel>\n                    \n          <dc:Bounds height=\"27\" width=\"70\" x=\"1097\" y=\"286\"/>\n                  \n        </bpmndi:BPMNLabel>\n              \n      </bpmndi:BPMNShape>\n            \n      <bpmndi:BPMNEdge bpmnElement=\"SequenceFlow_0msajcc\" id=\"SequenceFlow_0msajcc_di\">\n                \n        <di:waypoint x=\"1064\" y=\"334\"/>\n                \n        <di:waypoint x=\"1114\" y=\"334\"/>\n                \n        <bpmndi:BPMNLabel>\n                    \n          <dc:Bounds height=\"12\" width=\"0\" x=\"1089\" y=\"148\"/>\n                  \n        </bpmndi:BPMNLabel>\n              \n      </bpmndi:BPMNEdge>\n            \n      <bpmndi:BPMNEdge bpmnElement=\"SequenceFlow_1gea84p\" id=\"SequenceFlow_1gea84p_di\">\n                \n        <di:waypoint x=\"878\" y=\"553\"/>\n                \n        <di:waypoint x=\"1132\" y=\"553\"/>\n                \n        <di:waypoint x=\"1132\" y=\"352\"/>\n                \n        <bpmndi:BPMNLabel>\n                    \n          <dc:Bounds height=\"12\" width=\"0\" x=\"1005\" y=\"367\"/>\n                  \n        </bpmndi:BPMNLabel>\n              \n      </bpmndi:BPMNEdge>\n            \n      <bpmndi:BPMNEdge bpmnElement=\"SequenceFlow_154q9ec\" id=\"SequenceFlow_154q9ec_di\">\n                \n        <di:waypoint x=\"914\" y=\"230\"/>\n                \n        <di:waypoint x=\"964\" y=\"230\"/>\n                \n        <bpmndi:BPMNLabel>\n                    \n          <dc:Bounds height=\"12\" width=\"0\" x=\"939\" y=\"44\"/>\n                  \n        </bpmndi:BPMNLabel>\n              \n      </bpmndi:BPMNEdge>\n            \n      <bpmndi:BPMNEdge bpmnElement=\"SequenceFlow_0zfoxl1\" id=\"SequenceFlow_0zfoxl1_di\">\n                \n        <di:waypoint x=\"1064\" y=\"230\"/>\n                \n        <di:waypoint x=\"1114\" y=\"230\"/>\n                \n        <bpmndi:BPMNLabel>\n                    \n          <dc:Bounds height=\"12\" width=\"0\" x=\"1089\" y=\"44\"/>\n                  \n        </bpmndi:BPMNLabel>\n              \n      </bpmndi:BPMNEdge>\n            \n      <bpmndi:BPMNEdge bpmnElement=\"SequenceFlow_01gp9uj\" id=\"SequenceFlow_01gp9uj_di\">\n                \n        <di:waypoint x=\"1164\" y=\"190\"/>\n                \n        <di:waypoint x=\"1164\" y=\"99\"/>\n                \n        <di:waypoint x=\"873\" y=\"99\"/>\n                \n        <bpmndi:BPMNLabel>\n                    \n          <dc:Bounds height=\"12\" width=\"0\" x=\"1179\" y=\"-26.5\"/>\n                  \n        </bpmndi:BPMNLabel>\n              \n      </bpmndi:BPMNEdge>\n            \n      <bpmndi:BPMNShape bpmnElement=\"IntermediateThrowEvent_17ddgu1\" id=\"IntermediateCatchEvent_06zhr1i_di\">\n                \n        <dc:Bounds height=\"36\" width=\"36\" x=\"837\" y=\"81\"/>\n                \n        <bpmndi:BPMNLabel>\n                    \n          <dc:Bounds height=\"14\" width=\"57\" x=\"827\" y=\"121\"/>\n                  \n        </bpmndi:BPMNLabel>\n              \n      </bpmndi:BPMNShape>\n            \n      <bpmndi:BPMNEdge bpmnElement=\"SequenceFlow_0dbiqt6\" id=\"SequenceFlow_0dbiqt6_di\">\n                \n        <di:waypoint x=\"837\" y=\"99\"/>\n                \n        <di:waypoint x=\"428\" y=\"99\"/>\n                \n        <di:waypoint x=\"428\" y=\"294\"/>\n                \n        <bpmndi:BPMNLabel>\n                    \n          <dc:Bounds height=\"12\" width=\"0\" x=\"632.5\" y=\"-87\"/>\n                  \n        </bpmndi:BPMNLabel>\n              \n      </bpmndi:BPMNEdge>\n            \n      <bpmndi:BPMNShape bpmnElement=\"Task_12p04yx\" id=\"SendTask_0c1sqiy_di\">\n                \n        <dc:Bounds height=\"80\" width=\"100\" x=\"778\" y=\"513\"/>\n              \n      </bpmndi:BPMNShape>\n            \n      <bpmndi:BPMNShape bpmnElement=\"Task_1x9vb2g\" id=\"ServiceTask_1d3dq9l_di\">\n                \n        <dc:Bounds height=\"80\" width=\"100\" x=\"964\" y=\"190\"/>\n              \n      </bpmndi:BPMNShape>\n            \n      <bpmndi:BPMNShape bpmnElement=\"Task_0hrmeet\" id=\"SendTask_1f2rlum_di\">\n                \n        <dc:Bounds height=\"80\" width=\"100\" x=\"964\" y=\"294\"/>\n              \n      </bpmndi:BPMNShape>\n            \n      <bpmndi:BPMNShape bpmnElement=\"Task_0ggoifp\" id=\"SendTask_059pg89_di\">\n                \n        <dc:Bounds height=\"80\" width=\"100\" x=\"1114\" y=\"190\"/>\n              \n      </bpmndi:BPMNShape>\n          \n    </bpmndi:BPMNPlane>\n      \n  </bpmndi:BPMNDiagram>\n  \n</bpmn:definitions>\n",[m
[31m-      "tableColumns" : {[m
[31m-        "includeNewVariables" : true,[m
[31m-        "excludedColumns" : [ ],[m
[31m-        "includedColumns" : [ ],[m
[31m-        "columnOrder" : [ ][m
[31m-      },[m
[31m-      "targetValue" : {[m
[31m-        "countChart" : {[m
[31m-          "isBelow" : false,[m
[31m-          "value" : "100"[m
[31m-        },[m
[31m-        "durationProgress" : {[m
[31m-          "baseline" : {[m
[31m-            "unit" : "hours",[m
[31m-            "value" : "0"[m
[31m-          },[m
[31m-          "target" : {[m
[31m-            "unit" : "hours",[m
[31m-            "value" : "2",[m
[31m-            "isBelow" : false[m
[32m+[m[32m[[m
[32m+[m[32m  {[m
[32m+[m[32m    "id": "60c09d9b-dc33-4d04-bfa1-e0e19ee31144",[m
[32m+[m[32m    "exportEntityType": "single_process_report",[m
[32m+[m[32m    "name": "processDashboard_currentlyRunningProcesses",[m
[32m+[m[32m    "description": "processDashboard_currentlyRunningProcesses-description",[m
[32m+[m[32m    "sourceIndexVersion": 11,[m
[32m+[m[32m    "collectionId": null,[m
[32m+[m[32m    "data": {[m
[32m+[m[32m      "configuration": {[m
[32m+[m[32m        "color": "#1991c8",[m
[32m+[m[32m        "aggregationTypes": [[m
[32m+[m[32m          {[m
[32m+[m[32m            "type": "avg",[m
[32m+[m[32m            "value": null[m
           }[m
[32m+[m[32m        ],[m
[32m+[m[32m        "userTaskDurationTimes": ["total"],[m
[32m+[m[32m        "showInstanceCount": false,[m
[32m+[m[32m        "pointMarkers": true,[m
[32m+[m[32m        "precision": null,[m
[32m+[m[32m        "hideRelativeValue": false,[m
[32m+[m[32m        "hideAbsoluteValue": false,[m
[32m+[m[32m        "alwaysShowRelative": false,[m
[32m+[m[32m        "alwaysShowAbsolute": true,[m
[32m+[m[32m        "showGradientBars": true,[m
[32m+[m[32m        "tableColumns": {[m
[32m+[m[32m          "includeNewVariables": true,[m
[32m+[m[32m          "excludedColumns": [],[m
[32m+[m[32m          "includedColumns": [],[m
[32m+[m[32m          "columnOrder": [][m
         },[m
[31m-        "active" : false,[m
[31m-        "countProgress" : {[m
[31m-          "baseline" : "0",[m
[31m-          "target" : "100",[m
[31m-          "isBelow" : false[m
[32m+[m[32m        "targetValue": {[m
[32m+[m[32m          "countChart": {[m
[32m+[m[32m            "isBelow": false,[m
[32m+[m[32m            "value": "100"[m
[32m+[m[32m          },[m
[32m+[m[32m          "durationProgress": {[m
[32m+[m[32m            "baseline": {[m
[32m+[m[32m              "unit": "hours",[m
[32m+[m[32m              "value": "0"[m
[32m+[m[32m            },[m
[32m+[m[32m            "target": {[m
[32m+[m[32m              "unit": "hours",[m
[32m+[m[32m              "value": "2",[m
[32m+[m[32m              "isBelow": false[m
[32m+[m[32m            }[m
[32m+[m[32m          },[m
[32m+[m[32m          "active": false,[m
[32m+[m[32m          "countProgress": {[m
[32m+[m[32m            "baseline": "0",[m
[32m+[m[32m            "target": "100",[m
[32m+[m[32m            "isBelow": false[m
[32m+[m[32m          },[m
[32m+[m[32m          "durationChart": {[m
[32m+[m[32m            "unit": "hours",[m
[32m+[m[32m            "isBelow": false,[m
[32m+[m[32m            "value": "2"[m
[32m+[m[32m          },[m
[32m+[m[32m          "isKpi": false[m
         },[m
[31m-        "durationChart" : {[m
[31m-          "unit" : "hours",[m
[31m-          "isBelow" : false,[m
[31m-          "value" : "2"[m
[32m+[m[32m        "heatmapTargetValue": {[m
[32m+[m[32m          "active": false,[m
[32m+[m[32m          "values": {}[m
         },[m
[31m-        "isKpi" : false[m
[31m-      },[m
[31m-      "heatmapTargetValue" : {[m
[31m-        "active" : false,[m
[31m-        "values" : { }[m
[31m-      },[m
[31m-      "groupByDateVariableUnit" : "automatic",[m
[31m-      "distributeByDateVariableUnit" : "automatic",[m
[31m-      "customBucket" : {[m
[31m-        "active" : false,[m
[31m-        "bucketSize" : "10.0",[m
[31m-        "bucketSizeUnit" : null,[m
[31m-        "baseline" : "0.0",[m
[31m-        "baselineUnit" : null[m
[31m-      },[m
[31m-      "distributeByCustomBucket" : {[m
[31m-        "active" : false,[m
[31m-        "bucketSize" : "10.0",[m
[31m-        "bucketSizeUnit" : null,[m
[31m-        "baseline" : "0.0",[m
[31m-        "baselineUnit" : null[m
[32m+[m[32m        "groupByDateVariableUnit": "automatic",[m
[32m+[m[32m        "distributeByDateVariableUnit": "automatic",[m
[32m+[m[32m        "customBucket": {[m
[32m+[m[32m          "active": false,[m
[32m+[m[32m          "bucketSize": "10.0",[m
[32m+[m[32m          "bucketSizeUnit": null,[m
[32m+[m[32m          "baseline": "0.0",[m
[32m+[m[32m          "baselineUnit": null[m
[32m+[m[32m        },[m
[32m+[m[32m        "distributeByCustomBucket": {[m
[32m+[m[32m          "active": false,[m
[32m+[m[32m          "bucketSize": "10.0",[m
[32m+[m[32m          "bucketSizeUnit": null,[m
[32m+[m[32m          "baseline": "0.0",[m
[32m+[m[32m          "baselineUnit": null[m
[32m+[m[32m        },[m
[32m+[m[32m        "sorting": {[m
[32m+[m[32m          "by": "value",[m
[32m+[m[32m          "order": "desc"[m
[32m+[m[32m        },[m
[32m+[m[32m        "processPart": null,[m
[32m+[m[32m        "measureVisualizations": {[m
[32m+[m[32m          "frequency": "bar",[m
[32m+[m[32m          "duration": "line"[m
[32m+[m[32m        },[m
[32m+[m[32m        "stackedBar": false,[m
[32m+[m[32m        "horizontalBar": false,[m
[32m+[m[32m        "logScale": false,[m
[32m+[m[32m        "yLabel": "Flow Node Count",[m
[32m+[m[32m        "xLabel": "Flow Nodes"[m
       },[m
[31m-      "sorting" : {[m
[31m-        "by" : "value",[m
[31m-        "order" : "desc"[m
[32m+[m[32m      "definitions": [[m
[32m+[m[32m        {[m
[32m+[m[32m          "identifier": "definition",[m
[32m+[m[32m          "key": "bookrequest-suspended-instances",[m
[32m+[m[32m          "name": "Book Request with suspended process instances",[m
[32m+[m[32m          "displayName": "Book Request with suspended process instances",[m
[32m+[m[32m          "versions": ["all"],[m
[32m+[m[32m          "tenantIds": [[m
[32m+[m[32m            null,[m
[32m+[m[32m            "csm",[m
[32m+[m[32m            "engineering",[m
[32m+[m[32m            "hr",[m
[32m+[m[32m            "library",[m
[32m+[m[32m            "marketing",[m
[32m+[m[32m            "sales",[m
[32m+[m[32m            "support"[m
[32m+[m[32m          ][m
[32m+[m[32m        }[m
[32m+[m[32m      ],[m
[32m+[m[32m      "filter": [[m
[32m+[m[32m        {[m
[32m+[m[32m          "type": "runningFlowNodesOnly",[m
[32m+[m[32m          "data": null,[m
[32m+[m[32m          "filterLevel": "view",[m
[32m+[m[32m          "appliedTo": ["all"][m
[32m+[m[32m        }[m
[32m+[m[32m      ],[m
[32m+[m[32m      "view": {[m
[32m+[m[32m        "entity": "flowNode",[m
[32m+[m[32m        "properties": ["frequency"][m
       },[m
[31m-      "processPart" : null,[m
[31m-      "measureVisualizations" : {[m
[31m-        "frequency" : "bar",[m
[31m-        "duration" : "line"[m
[32m+[m[32m      "groupBy": {[m
[32m+[m[32m        "type": "flowNodes",[m
[32m+[m[32m        "value": null[m
       },[m
[31m-      "stackedBar" : false,[m
[31m-      "horizontalBar" : false,[m
[31m-      "logScale" : false,[m
[31m-      "yLabel" : "Flow Node Duration",[m
[31m-      "xLabel" : "Flow Nodes"[m
[31m-    },[m
[31m-    "definitions" : [ {[m
[31m-      "identifier" : "definition",[m
[31m-      "key" : "bookrequest-suspended-instances",[m
[31m-      "name" : "Book Request with suspended process instances",[m
[31m-      "displayName" : "Book Request with suspended process instances",[m
[31m-      "versions" : [ "all" ],[m
[31m-      "tenantIds" : [ null, "csm", "engineering", "hr", "library", "marketing", "sales", "support" ][m
[31m-    } ],[m
[31m-    "filter" : [ ],[m
[31m-    "view" : {[m
[31m-      "entity" : "flowNode",[m
[31m-      "properties" : [ "duration" ][m
[31m-    },[m
[31m-    "groupBy" : {[m
[31m-      "type" : "flowNodes",[m
[31m-      "value" : null[m
[31m-    },[m
[31m-    "distributedBy" : {[m
[31m-      "type" : "none",[m
[31m-      "value" : null[m
[31m-    },[m
[31m-    "visualization" : "heat",[m
[31m-    "managementReport" : false,[m
[31m-    "instantPreviewReport" : true,[m
[31m-    "userTaskReport" : false[m
[31m-  }[m
[31m-}, {[m
[31m-  "id" : "e066e465-a74c-452a-8cd7-a13b8532095f",[m
[31m-  "exportEntityType" : "single_process_report",[m
[31m-  "name" : "IP_TileText_BusinessOperations_Report1",[m
[31m-  "description" : null,[m
[31m-  "sourceIndexVersion" : 11,[m
[31m-  "collectionId" : null,[m
[31m-  "data" : {[m
[31m-    "configuration" : {[m
[31m-      "color" : "#1991c8",[m
[31m-      "aggregationTypes" : [ {[m
[31m-        "type" : "avg",[m
[31m-        "value" : null[m
[31m-      } ],[m
[31m-      "userTaskDurationTimes" : [ "total" ],[m
[31m-      "showInstanceCount" : false,[m
[31m-      "pointMarkers" : true,[m
[31m-      "precision" : null,[m
[31m-      "hideRelativeValue" : false,[m
[31m-      "hideAbsoluteValue" : false,[m
[31m-      "alwaysShowRelative" : false,[m
[31m-      "alwaysShowAbsolute" : false,[m
[31m-      "showGradientBars" : true,[m
[31m-      "xml" : "<?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"no\"?>\n<bpmn:definitions xmlns:bpmn=\"http://www.omg.org/spec/BPMN/20100524/MODEL\" xmlns:bpmndi=\"http://www.omg.org/spec/BPMN/20100524/DI\" xmlns:camunda=\"http://camunda.org/schema/1.0/bpmn\" xmlns:dc=\"http://www.omg.org/spec/DD/20100524/DC\" xmlns:di=\"http://www.omg.org/spec/DD/20100524/DI\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" exporter=\"Camunda Modeler\" exporterVersion=\"1.12.0\" expressionLanguage=\"http://www.w3.org/1999/XPath\" id=\"Definitions_0o9qzys\" targetNamespace=\"http://bpmn.io/schema/bpmn\" typeLanguage=\"http://www.w3.org/2001/XMLSchema\">\n    \n  <bpmn:process id=\"branch_analysis_process\" isClosed=\"false\" isExecutable=\"true\" name=\"Branch Analysis Process\" processType=\"None\">\n        \n    <bpmn:startEvent camunda:asyncBefore=\"true\" id=\"StartEvent_1\" isInterrupting=\"true\" name=\"Create random x and start\" parallelMultiple=\"false\">\n            \n      <bpmn:extensionElements>\n                \n        <camunda:executionListener event=\"end\">\n                    \n          <camunda:script scriptFormat=\"groovy\">\n            <![CDATA[execution.setVariable('x',  new Random().nextInt(10));\n]]>\n          </camunda:script>\n                  \n        </camunda:executionListener>\n              \n      </bpmn:extensionElements>\n            \n      <bpmn:outgoing>SequenceFlow_1k9gyvi</bpmn:outgoing>\n          \n    </bpmn:startEvent>\n        \n    <bpmn:exclusiveGateway default=\"SequenceFlow_0kug72i\" gatewayDirection=\"Unspecified\" id=\"ExclusiveGateway_031q6au\">\n            \n      <bpmn:incoming>SequenceFlow_1k9gyvi</bpmn:incoming>\n            \n      <bpmn:outgoing>SequenceFlow_0kug72i</bpmn:outgoing>\n            \n      <bpmn:outgoing>SequenceFlow_1vx35az</bpmn:outgoing>\n          \n    </bpmn:exclusiveGateway>\n        \n    <bpmn:sequenceFlow id=\"SequenceFlow_1k9gyvi\" sourceRef=\"StartEvent_1\" targetRef=\"ExclusiveGateway_031q6au\"/>\n        \n    <bpmn:sequenceFlow id=\"SequenceFlow_0kug72i\" sourceRef=\"ExclusiveGateway_031q6au\" targetRef=\"scriptA\"/>\n        \n    <bpmn:endEvent id=\"EndEvent_1xw9n0h\" name=\"x [0,1,3]\">\n            \n      <bpmn:incoming>SequenceFlow_0aw0s36</bpmn:incoming>\n          \n    </bpmn:endEvent>\n        \n    <bpmn:sequenceFlow id=\"SequenceFlow_1af2tgg\" sourceRef=\"scriptA\" targetRef=\"ExclusiveGateway_1lvpsuf\"/>\n        \n    <bpmn:sequenceFlow id=\"SequenceFlow_1vx35az\" name=\"x &gt; 3\" sourceRef=\"ExclusiveGateway_031q6au\" targetRef=\"scriptB\">\n            \n      <bpmn:conditionExpression xsi:type=\"bpmn:tFormalExpression\">\n        <![CDATA[${x>3}]]>\n      </bpmn:conditionExpression>\n          \n    </bpmn:sequenceFlow>\n        \n    <bpmn:exclusiveGateway default=\"SequenceFlow_0j7n2v7\" gatewayDirection=\"Unspecified\" id=\"ExclusiveGateway_05qilyy\">\n            \n      <bpmn:incoming>SequenceFlow_0w773ap</bpmn:incoming>\n            \n      <bpmn:outgoing>SequenceFlow_1iv0k2k</bpmn:outgoing>\n            \n      <bpmn:outgoing>SequenceFlow_0j7n2v7</bpmn:outgoing>\n          \n    </bpmn:exclusiveGateway>\n        \n    <bpmn:sequenceFlow id=\"SequenceFlow_1iv0k2k\" name=\"X == 5\" sourceRef=\"ExclusiveGateway_05qilyy\" targetRef=\"scriptC\">\n            \n      <bpmn:conditionExpression xsi:type=\"bpmn:tFormalExpression\">${x==5}</bpmn:conditionExpression>\n          \n    </bpmn:sequenceFlow>\n        \n    <bpmn:exclusiveGateway gatewayDirection=\"Unspecified\" id=\"ExclusiveGateway_10u6jxf\">\n            \n      <bpmn:incoming>SequenceFlow_00k72sd</bpmn:incoming>\n            \n      <bpmn:incoming>SequenceFlow_12eqs38</bpmn:incoming>\n            \n      <bpmn:incoming>SequenceFlow_0q90t3i</bpmn:incoming>\n            \n      <bpmn:outgoing>SequenceFlow_1az3j79</bpmn:outgoing>\n          \n    </bpmn:exclusiveGateway>\n        \n    <bpmn:sequenceFlow id=\"SequenceFlow_00k72sd\" sourceRef=\"scriptC\" targetRef=\"ExclusiveGateway_10u6jxf\"/>\n        \n    <bpmn:endEvent id=\"EndEvent_117c8ut\" name=\"x [2,5,8]\">\n            \n      <bpmn:incoming>SequenceFlow_1az3j79</bpmn:incoming>\n          \n    </bpmn:endEvent>\n        \n    <bpmn:sequenceFlow id=\"SequenceFlow_1az3j79\" sourceRef=\"ExclusiveGateway_10u6jxf\" targetRef=\"EndEvent_117c8ut\"/>\n        \n    <bpmn:sequenceFlow id=\"SequenceFlow_0j7n2v7\" sourceRef=\"ExclusiveGateway_05qilyy\" targetRef=\"scriptE\"/>\n        \n    <bpmn:sequenceFlow id=\"SequenceFlow_1qk4p9g\" sourceRef=\"scriptE\" targetRef=\"ExclusiveGateway_02bi0hi\"/>\n        \n    <bpmn:scriptTask completionQuantity=\"1\" id=\"scriptA\" isForCompensation=\"false\" name=\"Call tacit creditor\" scriptFormat=\"groovy\" startQuantity=\"1\">\n            \n      <bpmn:incoming>SequenceFlow_0kug72i</bpmn:incoming>\n            \n      <bpmn:outgoing>SequenceFlow_1af2tgg</bpmn:outgoing>\n            \n      <bpmn:script>\n        <![CDATA[sleep(0);\n]]>\n      </bpmn:script>\n          \n    </bpmn:scriptTask>\n        \n    <bpmn:scriptTask completionQuantity=\"1\" id=\"scriptC\" isForCompensation=\"false\" name=\"Separate strange preparation\" scriptFormat=\"groovy\" startQuantity=\"1\">\n            \n      <bpmn:incoming>SequenceFlow_1iv0k2k</bpmn:incoming>\n            \n      <bpmn:outgoing>SequenceFlow_00k72sd</bpmn:outgoing>\n            \n      <bpmn:script>\n        <![CDATA[sleep(0);\n]]>\n      </bpmn:script>\n          \n    </bpmn:scriptTask>\n        \n    <bpmn:scriptTask completionQuantity=\"1\" id=\"scriptE\" isForCompensation=\"false\" name=\"Sell flippant enquiry\" scriptFormat=\"groovy\" startQuantity=\"1\">\n            \n      <bpmn:incoming>SequenceFlow_0j7n2v7</bpmn:incoming>\n            \n      <bpmn:outgoing>SequenceFlow_1qk4p9g</bpmn:outgoing>\n            \n      <bpmn:script>\n        <![CDATA[sleep(0);\n]]>\n      </bpmn:script>\n          \n    </bpmn:scriptTask>\n        \n    <bpmn:exclusiveGateway default=\"SequenceFlow_0aw0s36\" gatewayDirection=\"Unspecified\" id=\"ExclusiveGateway_1lvpsuf\">\n            \n      <bpmn:incoming>SequenceFlow_1af2tgg</bpmn:incoming>\n            \n      <bpmn:outgoing>SequenceFlow_0aw0s36</bpmn:outgoing>\n            \n      <bpmn:outgoing>SequenceFlow_0qnnjgs</bpmn:outgoing>\n          \n    </bpmn:exclusiveGateway>\n        \n    <bpmn:sequenceFlow id=\"SequenceFlow_0aw0s36\" sourceRef=\"ExclusiveGateway_1lvpsuf\" targetRef=\"EndEvent_1xw9n0h\"/>\n        \n    <bpmn:sequenceFlow id=\"SequenceFlow_0qnnjgs\" name=\"x == 2\" sourceRef=\"ExclusiveGateway_1lvpsuf\" targetRef=\"scriptD\">\n            \n      <bpmn:conditionExpression xsi:type=\"bpmn:tFormalExpression\">${x==2}</bpmn:conditionExpression>\n          \n    </bpmn:sequenceFlow>\n        \n    <bpmn:sequenceFlow id=\"SequenceFlow_12eqs38\" sourceRef=\"scriptD\" targetRef=\"ExclusiveGateway_10u6jxf\"/>\n        \n    <bpmn:scriptTask completionQuantity=\"1\" id=\"scriptD\" isForCompensation=\"false\" name=\"Reject impolite debt\" scriptFormat=\"groovy\" startQuantity=\"1\">\n            \n      <bpmn:incoming>SequenceFlow_0qnnjgs</bpmn:incoming>\n            \n      <bpmn:outgoing>SequenceFlow_12eqs38</bpmn:outgoing>\n            \n      <bpmn:script>\n        <![CDATA[sleep(0);\n]]>\n      </bpmn:script>\n          \n    </bpmn:scriptTask>\n        \n    <bpmn:sequenceFlow id=\"SequenceFlow_0w773ap\" sourceRef=\"scriptB\" targetRef=\"ExclusiveGateway_05qilyy\"/>\n        \n    <bpmn:scriptTask completionQuantity=\"1\" id=\"scriptB\" isForCompensation=\"false\" name=\"Dismiss mushy competitor\" scriptFormat=\"groovy\" startQuantity=\"1\">\n            \n      <bpmn:incoming>SequenceFlow_1vx35az</bpmn:incoming>\n            \n      <bpmn:outgoing>SequenceFlow_0w773ap</bpmn:outgoing>\n            \n      <bpmn:script>\n        <![CDATA[sleep(0);\n]]>\n      </bpmn:script>\n          \n    </bpmn:scriptTask>\n        \n    <bpmn:exclusiveGateway default=\"SequenceFlow_1wtkjhi\" gatewayDirection=\"Unspecified\" id=\"ExclusiveGateway_02bi0hi\">\n            \n      <bpmn:incoming>SequenceFlow_1qk4p9g</bpmn:incoming>\n            \n      <bpmn:outgoing>SequenceFlow_0q90t3i</bpmn:outgoing>\n            \n      <bpmn:outgoing>SequenceFlow_1wtkjhi</bpmn:outgoing>\n          \n    </bpmn:exclusiveGateway>\n        \n    <bpmn:sequenceFlow id=\"SequenceFlow_0q90t3i\" name=\"X == 8\" sourceRef=\"ExclusiveGateway_02bi0hi\" targetRef=\"ExclusiveGateway_10u6jxf\">\n            \n      <bpmn:conditionExpression xsi:type=\"bpmn:tFormalExpression\">${x==8}</bpmn:conditionExpression>\n          \n    </bpmn:sequenceFlow>\n        \n    <bpmn:sequenceFlow id=\"SequenceFlow_1wtkjhi\" sourceRef=\"ExclusiveGateway_02bi0hi\" targetRef=\"scriptF\"/>\n        \n    <bpmn:endEvent id=\"EndEvent_12s0jxo\" name=\"x [4,6,7,9]\">\n            \n      <bpmn:incoming>SequenceFlow_1sy1smu</bpmn:incoming>\n          \n    </bpmn:endEvent>\n        \n    <bpmn:sequenceFlow id=\"SequenceFlow_1sy1smu\" sourceRef=\"scriptF\" targetRef=\"EndEvent_12s0jxo\"/>\n        \n    <bpmn:scriptTask completionQuantity=\"1\" id=\"scriptF\" isForCompensation=\"false\" name=\"Reject itchy advantage\" scriptFormat=\"groovy\" startQuantity=\"1\">\n            \n      <bpmn:incoming>SequenceFlow_1wtkjhi</bpmn:incoming>\n            \n      <bpmn:outgoing>SequenceFlow_1sy1smu</bpmn:outgoing>\n            \n      <bpmn:script>\n        <![CDATA[sleep(0);\n]]>\n      </bpmn:script>\n          \n    </bpmn:scriptTask>\n      \n  </bpmn:process>\n    \n  <bpmndi:BPMNDiagram id=\"BPMNDiagram_1\">\n        \n    <bpmndi:BPMNPlane bpmnElement=\"branch_analysis_process\" id=\"BPMNPlane_1\">\n            \n      <bpmndi:BPMNShape bpmnElement=\"StartEvent_1\" id=\"_BPMNShape_StartEvent_2\">\n                \n        <dc:Bounds height=\"36\" width=\"36\" x=\"173\" y=\"102\"/>\n                \n        <bpmndi:BPMNLabel>\n                    \n          <dc:Bounds height=\"24\" width=\"82\" x=\"150\" y=\"138\"/>\n                  \n        </bpmndi:BPMNLabel>\n              \n      </bpmndi:BPMNShape>\n            \n      <bpmndi:BPMNShape bpmnElement=\"ExclusiveGateway_031q6au\" id=\"ExclusiveGateway_031q6au_di\" isMarkerVisible=\"true\">\n                \n        <dc:Bounds height=\"50\" width=\"50\" x=\"259\" y=\"95\"/>\n                \n        <bpmndi:BPMNLabel>\n                    \n          <dc:Bounds height=\"12\" width=\"0\" x=\"284\" y=\"73\"/>\n                  \n        </bpmndi:BPMNLabel>\n              \n      </bpmndi:BPMNShape>\n            \n      <bpmndi:BPMNEdge bpmnElement=\"SequenceFlow_1k9gyvi\" id=\"SequenceFlow_1k9gyvi_di\">\n                \n        <di:waypoint x=\"209\" y=\"120\"/>\n                \n        <di:waypoint x=\"259\" y=\"120\"/>\n                \n        <bpmndi:BPMNLabel>\n                    \n          <dc:Bounds height=\"12\" width=\"0\" x=\"234\" y=\"99\"/>\n                  \n        </bpmndi:BPMNLabel>\n              \n      </bpmndi:BPMNEdge>\n            \n      <bpmndi:BPMNEdge bpmnElement=\"SequenceFlow_0kug72i\" id=\"SequenceFlow_0kug72i_di\">\n                \n        <di:waypoint x=\"309\" y=\"120\"/>\n                \n        <di:waypoint x=\"366\" y=\"120\"/>\n                \n        <bpmndi:BPMNLabel>\n                    \n          <dc:Bounds height=\"12\" width=\"90\" x=\"292.5\" y=\"99\"/>\n                  \n        </bpmndi:BPMNLabel>\n              \n      </bpmndi:BPMNEdge>\n            \n      <bpmndi:BPMNShape bpmnElement=\"EndEvent_1xw9n0h\" id=\"EndEvent_1xw9n0h_di\">\n                \n        <dc:Bounds height=\"36\" width=\"36\" x=\"981\" y=\"102\"/>\n                \n        <bpmndi:BPMNLabel>\n                    \n          <dc:Bounds height=\"12\" width=\"40\" x=\"979\" y=\"142\"/>\n                  \n        </bpmndi:BPMNLabel>\n              \n      </bpmndi:BPMNShape>\n            \n      <bpmndi:BPMNEdge bpmnElement=\"SequenceFlow_1af2tgg\" id=\"SequenceFlow_1af2tgg_di\">\n                \n        <di:waypoint x=\"466\" y=\"120\"/>\n                \n        <di:waypoint x=\"823\" y=\"120\"/>\n                \n        <bpmndi:BPMNLabel>\n                    \n          <dc:Bounds height=\"12\" width=\"90\" x=\"599.5\" y=\"99\"/>\n                  \n        </bpmndi:BPMNLabel>\n              \n      </bpmndi:BPMNEdge>\n            \n      <bpmndi:BPMNEdge bpmnElement=\"SequenceFlow_1vx35az\" id=\"SequenceFlow_1vx35az_di\">\n                \n        <di:waypoint x=\"284\" y=\"145\"/>\n                \n        <di:waypoint x=\"284\" y=\"318\"/>\n                \n        <di:waypoint x=\"366\" y=\"318\"/>\n                \n        <bpmndi:BPMNLabel>\n                    \n          <dc:Bounds height=\"12\" width=\"25\" x=\"254\" y=\"147\"/>\n                  \n        </bpmndi:BPMNLabel>\n              \n      </bpmndi:BPMNEdge>\n            \n      <bpmndi:BPMNShape bpmnElement=\"ExclusiveGateway_05qilyy\" id=\"ExclusiveGateway_05qilyy_di\" isMarkerVisible=\"true\">\n                \n        <dc:Bounds height=\"50\" width=\"50\" x=\"509\" y=\"293\"/>\n                \n        <bpmndi:BPMNLabel>\n                    \n          <dc:Bounds height=\"12\" width=\"0\" x=\"534\" y=\"271\"/>\n                  \n        </bpmndi:BPMNLabel>\n              \n      </bpmndi:BPMNShape>\n            \n      <bpmndi:BPMNEdge bpmnElement=\"SequenceFlow_1iv0k2k\" id=\"SequenceFlow_1iv0k2k_di\">\n                \n        <di:waypoint x=\"559\" y=\"318\"/>\n                \n        <di:waypoint x=\"597\" y=\"318\"/>\n                \n        <bpmndi:BPMNLabel>\n                    \n          <dc:Bounds height=\"12\" width=\"32\" x=\"562\" y=\"297\"/>\n                  \n        </bpmndi:BPMNLabel>\n              \n      </bpmndi:BPMNEdge>\n            \n      <bpmndi:BPMNShape bpmnElement=\"ExclusiveGateway_10u6jxf\" id=\"ExclusiveGateway_10u6jxf_di\" isMarkerVisible=\"true\">\n                \n        <dc:Bounds height=\"50\" width=\"50\" x=\"823\" y=\"293\"/>\n                \n        <bpmndi:BPMNLabel>\n                    \n          <dc:Bounds height=\"12\" width=\"90\" x=\"803\" y=\"271\"/>\n                  \n        </bpmndi:BPMNLabel>\n              \n      </bpmndi:BPMNShape>\n            \n      <bpmndi:BPMNEdge bpmnElement=\"SequenceFlow_00k72sd\" id=\"SequenceFlow_00k72sd_di\">\n                \n        <di:waypoint x=\"697\" y=\"318\"/>\n                \n        <di:waypoint x=\"823\" y=\"318\"/>\n                \n        <bpmndi:BPMNLabel>\n                    \n          <dc:Bounds height=\"12\" width=\"90\" x=\"715\" y=\"297\"/>\n                  \n        </bpmndi:BPMNLabel>\n              \n      </bpmndi:BPMNEdge>\n            \n      <bpmndi:BPMNShape bpmnElement=\"EndEvent_117c8ut\" id=\"EndEvent_117c8ut_di\">\n                \n        <dc:Bounds height=\"36\" width=\"36\" x=\"981\" y=\"300\"/>\n                \n        <bpmndi:BPMNLabel>\n                    \n          <dc:Bounds height=\"12\" width=\"40\" x=\"980\" y=\"340\"/>\n                  \n        </bpmndi:BPMNLabel>\n              \n      </bpmndi:BPMNShape>\n            \n      <bpmndi:BPMNEdge bpmnElement=\"SequenceFlow_1az3j79\" id=\"SequenceFlow_1az3j79_di\">\n                \n        <di:waypoint x=\"873\" y=\"318\"/>\n                \n        <di:waypoint x=\"981\" y=\"318\"/>\n                \n        <bpmndi:BPMNLabel>\n                    \n          <dc:Bounds height=\"12\" width=\"90\" x=\"882\" y=\"297\"/>\n                  \n        </bpmndi:BPMNLabel>\n              \n      </bpmndi:BPMNEdge>\n            \n      <bpmndi:BPMNEdge bpmnElement=\"SequenceFlow_0j7n2v7\" id=\"SequenceFlow_0j7n2v7_di\">\n                \n        <di:waypoint x=\"534\" y=\"343\"/>\n                \n        <di:waypoint x=\"534\" y=\"448\"/>\n                \n        <di:waypoint x=\"597\" y=\"448\"/>\n                \n        <bpmndi:BPMNLabel>\n                    \n          <dc:Bounds height=\"12\" width=\"90\" x=\"504\" y=\"389.5\"/>\n                  \n        </bpmndi:BPMNLabel>\n              \n      </bpmndi:BPMNEdge>\n            \n      <bpmndi:BPMNEdge bpmnElement=\"SequenceFlow_1qk4p9g\" id=\"SequenceFlow_1qk4p9g_di\">\n                \n        <di:waypoint x=\"697\" y=\"448\"/>\n                \n        <di:waypoint x=\"765\" y=\"448\"/>\n                \n        <bpmndi:BPMNLabel>\n                    \n          <dc:Bounds height=\"12\" width=\"90\" x=\"686\" y=\"427\"/>\n                  \n        </bpmndi:BPMNLabel>\n              \n      </bpmndi:BPMNEdge>\n            \n      <bpmndi:BPMNShape bpmnElement=\"scriptA\" id=\"ScriptTask_16ledop_di\">\n                \n        <dc:Bounds height=\"80\" width=\"100\" x=\"366\" y=\"80\"/>\n              \n      </bpmndi:BPMNShape>\n            \n      <bpmndi:BPMNShape bpmnElement=\"scriptC\" id=\"ScriptTask_1ps7gkv_di\">\n                \n        <dc:Bounds height=\"80\" width=\"100\" x=\"597\" y=\"278\"/>\n              \n      </bpmndi:BPMNShape>\n            \n      <bpmndi:BPMNShape bpmnElement=\"scriptE\" id=\"ScriptTask_0sl5wqv_di\">\n                \n        <dc:Bounds height=\"80\" width=\"100\" x=\"597\" y=\"408\"/>\n              \n      </bpmndi:BPMNShape>\n            \n      <bpmndi:BPMNShape bpmnElement=\"ExclusiveGateway_1lvpsuf\" id=\"ExclusiveGateway_1lvpsuf_di\" isMarkerVisible=\"true\">\n                \n        <dc:Bounds height=\"50\" width=\"50\" x=\"823\" y=\"95\"/>\n                \n        <bpmndi:BPMNLabel>\n                    \n          <dc:Bounds height=\"12\" width=\"90\" x=\"803\" y=\"73\"/>\n                  \n        </bpmndi:BPMNLabel>\n              \n      </bpmndi:BPMNShape>\n            \n      <bpmndi:BPMNEdge bpmnElement=\"SequenceFlow_0aw0s36\" id=\"SequenceFlow_0aw0s36_di\">\n                \n        <di:waypoint x=\"873\" y=\"120\"/>\n                \n        <di:waypoint x=\"981\" y=\"120\"/>\n                \n        <bpmndi:BPMNLabel>\n                    \n          <dc:Bounds height=\"12\" width=\"90\" x=\"882\" y=\"99\"/>\n                  \n        </bpmndi:BPMNLabel>\n              \n      </bpmndi:BPMNEdge>\n            \n      <bpmndi:BPMNEdge bpmnElement=\"SequenceFlow_0qnnjgs\" id=\"SequenceFlow_0qnnjgs_di\">\n                \n        <di:waypoint x=\"848\" y=\"145\"/>\n                \n        <di:waypoint x=\"848\" y=\"177\"/>\n                \n        <bpmndi:BPMNLabel>\n                    \n          <dc:Bounds height=\"12\" width=\"31\" x=\"813\" y=\"145\"/>\n                  \n        </bpmndi:BPMNLabel>\n              \n      </bpmndi:BPMNEdge>\n            \n      <bpmndi:BPMNEdge bpmnElement=\"SequenceFlow_12eqs38\" id=\"SequenceFlow_12eqs38_di\">\n                \n        <di:waypoint x=\"848\" y=\"257\"/>\n                \n        <di:waypoint x=\"848\" y=\"293\"/>\n                \n        <bpmndi:BPMNLabel>\n                    \n          <dc:Bounds height=\"12\" width=\"90\" x=\"818\" y=\"269\"/>\n                  \n        </bpmndi:BPMNLabel>\n              \n      </bpmndi:BPMNEdge>\n            \n      <bpmndi:BPMNShape bpmnElement=\"scriptD\" id=\"ScriptTask_08dypav_di\">\n                \n        <dc:Bounds height=\"80\" width=\"100\" x=\"798\" y=\"177\"/>\n              \n      </bpmndi:BPMNShape>\n            \n      <bpmndi:BPMNEdge bpmnElement=\"SequenceFlow_0w773ap\" id=\"SequenceFlow_0w773ap_di\">\n                \n        <di:waypoint x=\"466\" y=\"318\"/>\n                \n        <di:waypoint x=\"509\" y=\"318\"/>\n                \n        <bpmndi:BPMNLabel>\n                    \n          <dc:Bounds height=\"12\" width=\"90\" x=\"442.5\" y=\"297\"/>\n                  \n        </bpmndi:BPMNLabel>\n              \n      </bpmndi:BPMNEdge>\n            \n      <bpmndi:BPMNShape bpmnElement=\"scriptB\" id=\"ScriptTask_0r18lod_di\">\n                \n        <dc:Bounds height=\"80\" width=\"100\" x=\"366\" y=\"278\"/>\n              \n      </bpmndi:BPMNShape>\n            \n      <bpmndi:BPMNShape bpmnElement=\"ExclusiveGateway_02bi0hi\" id=\"ExclusiveGateway_02bi0hi_di\" isMarkerVisible=\"true\">\n                \n        <dc:Bounds height=\"50\" width=\"50\" x=\"765\" y=\"423\"/>\n                \n        <bpmndi:BPMNLabel>\n                    \n          <dc:Bounds height=\"12\" width=\"90\" x=\"745\" y=\"401\"/>\n                  \n        </bpmndi:BPMNLabel>\n              \n      </bpmndi:BPMNShape>\n            \n      <bpmndi:BPMNEdge bpmnElement=\"SequenceFlow_0q90t3i\" id=\"SequenceFlow_0q90t3i_di\">\n                \n        <di:waypoint x=\"815\" y=\"448\"/>\n                \n        <di:waypoint x=\"848\" y=\"448\"/>\n                \n        <di:waypoint x=\"848\" y=\"343\"/>\n                \n        <bpmndi:BPMNLabel>\n                    \n          <dc:Bounds height=\"12\" width=\"32\" x=\"808\" y=\"423\"/>\n                  \n        </bpmndi:BPMNLabel>\n              \n      </bpmndi:BPMNEdge>\n            \n      <bpmndi:BPMNEdge bpmnElement=\"SequenceFlow_1wtkjhi\" id=\"SequenceFlow_1wtkjhi_di\">\n                \n        <di:waypoint x=\"790\" y=\"473\"/>\n                \n        <di:waypoint x=\"790\" y=\"522\"/>\n                \n        <di:waypoint x=\"850\" y=\"522\"/>\n                \n        <bpmndi:BPMNLabel>\n                    \n          <dc:Bounds height=\"12\" width=\"90\" x=\"760\" y=\"491.5\"/>\n                  \n        </bpmndi:BPMNLabel>\n              \n      </bpmndi:BPMNEdge>\n            \n      <bpmndi:BPMNShape bpmnElement=\"EndEvent_12s0jxo\" id=\"EndEvent_12s0jxo_di\">\n                \n        <dc:Bounds height=\"36\" width=\"36\" x=\"981\" y=\"504\"/>\n                \n        <bpmndi:BPMNLabel>\n                    \n          <dc:Bounds height=\"12\" width=\"49\" x=\"975\" y=\"544\"/>\n                  \n        </bpmndi:BPMNLabel>\n              \n      </bpmndi:BPMNShape>\n            \n      <bpmndi:BPMNEdge bpmnElement=\"SequenceFlow_1sy1smu\" id=\"SequenceFlow_1sy1smu_di\">\n                \n        <di:waypoint x=\"950\" y=\"522\"/>\n                \n        <di:waypoint x=\"981\" y=\"522\"/>\n                \n        <bpmndi:BPMNLabel>\n                    \n          <dc:Bounds height=\"12\" width=\"90\" x=\"920.5\" y=\"501\"/>\n                  \n        </bpmndi:BPMNLabel>\n              \n      </bpmndi:BPMNEdge>\n            \n      <bpmndi:BPMNShape bpmnElement=\"scriptF\" id=\"ScriptTask_1fg34oy_di\">\n                \n        <dc:Bounds height=\"80\" width=\"100\" x=\"850\" y=\"482\"/>\n              \n      </bpmndi:BPMNShape>\n          \n    </bpmndi:BPMNPlane>\n      \n  </bpmndi:BPMNDiagram>\n  \n</bpmn:definitions>\n",[m
[31m-      "tableColumns" : {[m
[31m-        "includeNewVariables" : true,[m
[31m-        "excludedColumns" : [ ],[m
[31m-        "includedColumns" : [ ],[m
[31m-        "columnOrder" : [ ][m
[32m+[m[32m      "distributedBy": {[m
[32m+[m[32m        "type": "none",[m
[32m+[m[32m        "value": null[m
       },[m
[31m-      "targetValue" : {[m
[31m-        "countChart" : {[m
[31m-          "isBelow" : false,[m
[31m-          "value" : "100"[m
[31m-        },[m
[31m-        "durationProgress" : {[m
[31m-          "baseline" : {[m
[31m-            "unit" : "hours",[m
[31m-            "value" : "0"[m
[31m-          },[m
[31m-          "target" : {[m
[31m-            "unit" : "hours",[m
[31m-            "value" : "2",[m
[31m-            "isBelow" : false[m
[32m+[m[32m      "visualization": "heat",[m
[32m+[m[32m      "managementReport": false,[m
[32m+[m[32m      "instantPreviewReport": false,[m
[32m+[m[32m      "userTaskReport": false[m
[32m+[m[32m    }[m
[32m+[m[32m  },[m
[32m+[m[32m  {[m
[32m+[m[32m    "id": "53382bd9-0806-4001-b195-994edd4632f4",[m
[32m+[m[32m    "exportEntityType": "single_process_report",[m
[32m+[m[32m    "name": "processDashboard_currentlyInProgress",[m
[32m+[m[32m    "description": "processDashboard_currentlyInProgress-description",[m
[32m+[m[32m    "sourceIndexVersion": 11,[m
[32m+[m[32m    "collectionId": null,[m
[32m+[m[32m    "data": {[m
[32m+[m[32m      "configuration": {[m
[32m+[m[32m        "color": "#1991c8",[m
[32m+[m[32m        "aggregationTypes": [[m
[32m+[m[32m          {[m
[32m+[m[32m            "type": "avg",[m
[32m+[m[32m            "value": null[m
           }[m
[32m+[m[32m        ],[m
[32m+[m[32m        "userTaskDurationTimes": ["total"],[m
[32m+[m[32m        "showInstanceCount": false,[m
[32m+[m[32m        "pointMarkers": true,[m
[32m+[m[32m        "precision": null,[m
[32m+[m[32m        "hideRelativeValue": false,[m
[32m+[m[32m        "hideAbsoluteValue": false,[m
[32m+[m[32m        "alwaysShowRelative": false,[m
[32m+[m[32m        "alwaysShowAbsolute": false,[m
[32m+[m[32m        "showGradientBars": true,[m
[32m+[m[32m        "tableColumns": {[m
[32m+[m[32m          "includeNewVariables": true,[m
[32m+[m[32m          "excludedColumns": [],[m
[32m+[m[32m          "includedColumns": [],[m
[32m+[m[32m          "columnOrder": [][m
         },[m
[31m-        "active" : false,[m
[31m-        "countProgress" : {[m
[31m-          "baseline" : "0",[m
[31m-          "target" : "100",[m
[31m-          "isBelow" : false[m
[32m+[m[32m        "targetValue": {[m
[32m+[m[32m          "countChart": {[m
[32m+[m[32m            "isBelow": false,[m
[32m+[m[32m            "value": "100"[m
[32m+[m[32m          },[m
[32m+[m[32m          "durationProgress": {[m
[32m+[m[32m            "baseline": {[m
[32m+[m[32m              "unit": "hours",[m
[32m+[m[32m              "value": "0"[m
[32m+[m[32m            },[m
[32m+[m[32m            "target": {[m
[32m+[m[32m              "unit": "hours",[m
[32m+[m[32m              "value": "2",[m
[32m+[m[32m              "isBelow": false[m
[32m+[m[32m            }[m
[32m+[m[32m          },[m
[32m+[m[32m          "active": false,[m
[32m+[m[32m          "countProgress": {[m
[32m+[m[32m            "baseline": "0",[m
[32m+[m[32m            "target": "100",[m
[32m+[m[32m            "isBelow": false[m
[32m+[m[32m          },[m
[32m+[m[32m          "durationChart": {[m
[32m+[m[32m            "unit": "hours",[m
[32m+[m[32m            "isBelow": false,[m
[32m+[m[32m            "value": "2"[m
[32m+[m[32m          },[m
[32m+[m[32m          "isKpi": false[m
         },[m
[31m-        "durationChart" : {[m
[31m-          "unit" : "hours",[m
[31m-          "isBelow" : false,[m
[31m-          "value" : "2"[m
[32m+[m[32m        "heatmapTargetValue": {[m
[32m+[m[32m          "active": false,[m
[32m+[m[32m          "values": {}[m
         },[m
[31m-        "isKpi" : false[m
[31m-      },[m
[31m-      "heatmapTargetValue" : {[m
[31m-        "active" : false,[m
[31m-        "values" : { }[m
[31m-      },[m
[31m-      "groupByDateVariableUnit" : "automatic",[m
[31m-      "distributeByDateVariableUnit" : "automatic",[m
[31m-      "customBucket" : {[m
[31m-        "active" : false,[m
[31m-        "bucketSize" : "10.0",[m
[31m-        "bucketSizeUnit" : null,[m
[31m-        "baseline" : "0.0",[m
[31m-        "baselineUnit" : null[m
[31m-      },[m
[31m-      "distributeByCustomBucket" : {[m
[31m-        "active" : false,[m
[31m-        "bucketSize" : "10.0",[m
[31m-        "bucketSizeUnit" : null,[m
[31m-        "baseline" : "0.0",[m
[31m-        "baselineUnit" : null[m
[32m+[m[32m        "groupByDateVariableUnit": "automatic",[m
[32m+[m[32m        "distributeByDateVariableUnit": "automatic",[m
[32m+[m[32m        "customBucket": {[m
[32m+[m[32m          "active": false,[m
[32m+[m[32m          "bucketSize": "10.0",[m
[32m+[m[32m          "bucketSizeUnit": null,[m
[32m+[m[32m          "baseline": "0.0",[m
[32m+[m[32m          "baselineUnit": null[m
[32m+[m[32m        },[m
[32m+[m[32m        "distributeByCustomBucket": {[m
[32m+[m[32m          "active": false,[m
[32m+[m[32m          "bucketSize": "10.0",[m
[32m+[m[32m          "bucketSizeUnit": null,[m
[32m+[m[32m          "baseline": "0.0",[m
[32m+[m[32m          "baselineUnit": null[m
[32m+[m[32m        },[m
[32m+[m[32m        "sorting": {[m
[32m+[m[32m          "by": "key",[m
[32m+[m[32m          "order": "desc"[m
[32m+[m[32m        },[m
[32m+[m[32m        "processPart": null,[m
[32m+[m[32m        "measureVisualizations": {[m
[32m+[m[32m          "frequency": "bar",[m
[32m+[m[32m          "duration": "line"[m
[32m+[m[32m        },[m
[32m+[m[32m        "stackedBar": false,[m
[32m+[m[32m        "horizontalBar": false,[m
[32m+[m[32m        "logScale": false,[m
[32m+[m[32m        "yLabel": "Process Instance Count",[m
[32m+[m[32m        "xLabel": "None"[m
       },[m
[31m-      "sorting" : {[m
[31m-        "by" : "key",[m
[31m-        "order" : "desc"[m
[32m+[m[32m      "definitions": [[m
[32m+[m[32m        {[m
[32m+[m[32m          "identifier": "definition",[m
[32m+[m[32m          "key": "bookrequest-suspended-instances",[m
[32m+[m[32m          "name": "Book Request with suspended process instances",[m
[32m+[m[32m          "displayName": "Book Request with suspended process instances",[m
[32m+[m[32m          "versions": ["all"],[m
[32m+[m[32m          "tenantIds": [[m
[32m+[m[32m            null,[m
[32m+[m[32m            "csm",[m
[32m+[m[32m            "engineering",[m
[32m+[m[32m            "hr",[m
[32m+[m[32m            "library",[m
[32m+[m[32m            "marketing",[m
[32m+[m[32m            "sales",[m
[32m+[m[32m            "support"[m
[32m+[m[32m          ][m
[32m+[m[32m        }[m
[32m+[m[32m      ],[m
[32m+[m[32m      "filter": [[m
[32m+[m[32m        {[m
[32m+[m[32m          "type": "runningInstancesOnly",[m
[32m+[m[32m          "data": null,[m
[32m+[m[32m          "filterLevel": "instance",[m
[32m+[m[32m          "appliedTo": ["all"][m
[32m+[m[32m        },[m
[32m+[m[32m        {[m
[32m+[m[32m          "type": "doesNotIncludeIncident",[m
[32m+[m[32m          "data": null,[m
[32m+[m[32m          "filterLevel": "instance",[m
[32m+[m[32m          "appliedTo": ["all"][m
[32m+[m[32m        }[m
[32m+[m[32m      ],[m
[32m+[m[32m      "view": {[m
[32m+[m[32m        "entity": "processInstance",[m
[32m+[m[32m        "properties": ["frequency"][m
       },[m
[31m-      "processPart" : null,[m
[31m-      "measureVisualizations" : {[m
[31m-        "frequency" : "bar",[m
[31m-        "duration" : "line"[m
[32m+[m[32m      "groupBy": {[m
[32m+[m[32m        "type": "none",[m
[32m+[m[32m        "value": null[m
       },[m
[31m-      "stackedBar" : false,[m
[31m-      "horizontalBar" : false,[m
[31m-      "logScale" : false,[m
[31m-      "yLabel" : "Process Instance Count",[m
[31m-      "xLabel" : "None"[m
[31m-    },[m
[31m-    "definitions" : [ {[m
[31m-      "identifier" : "definition",[m
[31m-      "key" : "branch_analysis_process",[m
[31m-      "name" : "Branch Analysis Process",[m
[31m-      "displayName" : "Branch Analysis Process",[m
[31m-      "versions" : [ "all" ],[m
[31m-      "tenantIds" : [ null, "csm", "engineering", "hr", "library", "marketing", "sales", "support" ][m
[31m-    } ],[m
[31m-    "filter" : [ {[m
[31m-      "type" : "runningInstancesOnly",[m
[31m-      "data" : null,[m
[31m-      "filterLevel" : "instance",[m
[31m-      "appliedTo" : [ "all" ][m
[31m-    } ],[m
[31m-    "view" : {[m
[31m-      "entity" : "processInstance",[m
[31m-      "properties" : [ "frequency" ][m
[31m-    },[m
[31m-    "groupBy" : {[m
[31m-      "type" : "none",[m
[31m-      "value" : null[m
[31m-    },[m
[31m-    "distributedBy" : {[m
[31m-      "type" : "none",[m
[31m-      "value" : null[m
[31m-    },[m
[31m-    "visualization" : "number",[m
[31m-    "managementReport" : false,[m
[31m-    "instantPreviewReport" : true,[m
[31m-    "userTaskReport" : false[m
[31m-  }[m
[31m-}, {[m
[31m-  "id" : "64f558a1-60c6-4215-baac-5497f3d7c404",[m
[31m-  "exportEntityType" : "single_process_report",[m
[31m-  "name" : "IP_TileText_BusinessOperations_Report5",[m
[31m-  "description" : null,[m
[31m-  "sourceIndexVersion" : 11,[m
[31m-  "collectionId" : null,[m
[31m-  "data" : {[m
[31m-    "configuration" : {[m
[31m-      "color" : "#1991c8",[m
[31m-      "aggregationTypes" : [ {[m
[31m-        "type" : "avg",[m
[31m-        "value" : null[m
[31m-      } ],[m
[31m-      "userTaskDurationTimes" : [ "total" ],[m
[31m-      "showInstanceCount" : false,[m
[31m-      "pointMarkers" : true,[m
[31m-      "precision" : null,[m
[31m-      "hideRelativeValue" : false,[m
[31m-      "hideAbsoluteValue" : false,[m
[31m-      "alwaysShowRelative" : false,[m
[31m-      "alwaysShowAbsolute" : false,[m
[31m-      "showGradientBars" : true,[m
[31m-      "xml" : "<?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"no\"?>\n<bpmn:definitions xmlns:bpmn=\"http://www.omg.org/spec/BPMN/20100524/MODEL\" xmlns:bpmndi=\"http://www.omg.org/spec/BPMN/20100524/DI\" xmlns:camunda=\"http://camunda.org/schema/1.0/bpmn\" xmlns:dc=\"http://www.omg.org/spec/DD/20100524/DC\" xmlns:di=\"http://www.omg.org/spec/DD/20100524/DI\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" exporter=\"Camunda Modeler\" exporterVersion=\"3.1.0\" expressionLanguage=\"http://www.w3.org/1999/XPath\" id=\"Definitions_1iqy5bl\" targetNamespace=\"http://bpmn.io/schema/bpmn\" typeLanguage=\"http://www.w3.org/2001/XMLSchema\">\n    \n  <bpmn:process id=\"bookrequest-suspended-instances\" isClosed=\"false\" isExecutable=\"true\" name=\"Book Request with suspended process instances\" processType=\"None\">\n        \n    <bpmn:startEvent camunda:asyncBefore=\"true\" id=\"StartEvent_1\" isInterrupting=\"true\" name=\"Received Book Request\" parallelMultiple=\"false\">\n            \n      <bpmn:outgoing>SequenceFlow_0yrmjj2</bpmn:outgoing>\n          \n    </bpmn:startEvent>\n        \n    <bpmn:sequenceFlow id=\"SequenceFlow_0yrmjj2\" sourceRef=\"StartEvent_1\" targetRef=\"Task_1hscozi\"/>\n        \n    <bpmn:receiveTask completionQuantity=\"1\" id=\"Task_1hscozi\" implementation=\"##WebService\" instantiate=\"false\" isForCompensation=\"false\" messageRef=\"Message_15xrx39\" name=\"Receive Book Request\" startQuantity=\"1\">\n            \n      <bpmn:incoming>SequenceFlow_0yrmjj2</bpmn:incoming>\n            \n      <bpmn:outgoing>SequenceFlow_1bzn5tn</bpmn:outgoing>\n          \n    </bpmn:receiveTask>\n        \n    <bpmn:sequenceFlow id=\"SequenceFlow_1bzn5tn\" sourceRef=\"Task_1hscozi\" targetRef=\"Task_1l3px0t\"/>\n        \n    <bpmn:serviceTask camunda:expression=\"${true}\" completionQuantity=\"1\" id=\"Task_1l3px0t\" implementation=\"##WebService\" isForCompensation=\"false\" name=\"Get Book Status\" startQuantity=\"1\">\n            \n      <bpmn:incoming>SequenceFlow_1bzn5tn</bpmn:incoming>\n            \n      <bpmn:incoming>SequenceFlow_0dbiqt6</bpmn:incoming>\n            \n      <bpmn:outgoing>SequenceFlow_19n0ed3</bpmn:outgoing>\n          \n    </bpmn:serviceTask>\n        \n    <bpmn:exclusiveGateway default=\"SequenceFlow_0vf6q5t\" gatewayDirection=\"Unspecified\" id=\"ExclusiveGateway_0i9u2oe\" name=\"Is book availalbe?\">\n            \n      <bpmn:extensionElements>\n                \n        <camunda:executionListener event=\"start\">\n                    \n          <camunda:script scriptFormat=\"groovy\">execution.setVariable(\"bookAvailable\", new Random().nextDouble()&lt;0.3 );</camunda:script>\n                  \n        </camunda:executionListener>\n              \n      </bpmn:extensionElements>\n            \n      <bpmn:incoming>SequenceFlow_19n0ed3</bpmn:incoming>\n            \n      <bpmn:outgoing>SequenceFlow_0jp92nl</bpmn:outgoing>\n            \n      <bpmn:outgoing>SequenceFlow_0vf6q5t</bpmn:outgoing>\n          \n    </bpmn:exclusiveGateway>\n        \n    <bpmn:sequenceFlow id=\"SequenceFlow_19n0ed3\" sourceRef=\"Task_1l3px0t\" targetRef=\"ExclusiveGateway_0i9u2oe\"/>\n        \n    <bpmn:sequenceFlow id=\"SequenceFlow_0jp92nl\" name=\"No\" sourceRef=\"ExclusiveGateway_0i9u2oe\" targetRef=\"Task_0fyy1mq\">\n            \n      <bpmn:conditionExpression xsi:type=\"bpmn:tFormalExpression\">${bookAvailable}</bpmn:conditionExpression>\n          \n    </bpmn:sequenceFlow>\n        \n    <bpmn:sequenceFlow id=\"SequenceFlow_0vf6q5t\" name=\"Yes\" sourceRef=\"ExclusiveGateway_0i9u2oe\" targetRef=\"checkoutBook\"/>\n        \n    <bpmn:userTask camunda:candidateGroups=\"management\" camunda:candidateUsers=\"demo\" completionQuantity=\"1\" id=\"checkoutBook\" implementation=\"##unspecified\" isForCompensation=\"false\" name=\"Checkout Book\" startQuantity=\"1\">\n            \n      <bpmn:incoming>SequenceFlow_0vf6q5t</bpmn:incoming>\n            \n      <bpmn:outgoing>SequenceFlow_1mozvul</bpmn:outgoing>\n          \n    </bpmn:userTask>\n        \n    <bpmn:sendTask camunda:expression=\"${true}\" completionQuantity=\"1\" id=\"Task_0fyy1mq\" implementation=\"##WebService\" isForCompensation=\"false\" name=\"On Loan Reply\" startQuantity=\"1\">\n            \n      <bpmn:incoming>SequenceFlow_0jp92nl</bpmn:incoming>\n            \n      <bpmn:outgoing>SequenceFlow_1gdprmj</bpmn:outgoing>\n          \n    </bpmn:sendTask>\n        \n    <bpmn:sequenceFlow id=\"SequenceFlow_1mozvul\" sourceRef=\"checkoutBook\" targetRef=\"Task_12p04yx\"/>\n        \n    <bpmn:sequenceFlow id=\"SequenceFlow_1gdprmj\" sourceRef=\"Task_0fyy1mq\" targetRef=\"ExclusiveGateway_186hbka\"/>\n        \n    <bpmn:eventBasedGateway eventGatewayType=\"Exclusive\" gatewayDirection=\"Unspecified\" id=\"ExclusiveGateway_186hbka\" instantiate=\"false\">\n            \n      <bpmn:incoming>SequenceFlow_1gdprmj</bpmn:incoming>\n            \n      <bpmn:outgoing>SequenceFlow_0i60o08</bpmn:outgoing>\n            \n      <bpmn:outgoing>SequenceFlow_0f8uxqu</bpmn:outgoing>\n            \n      <bpmn:outgoing>SequenceFlow_1lceegs</bpmn:outgoing>\n          \n    </bpmn:eventBasedGateway>\n        \n    <bpmn:intermediateCatchEvent id=\"IntermediateCatchEvent_0a1widf\" name=\"Decliine Hold\" parallelMultiple=\"false\">\n            \n      <bpmn:incoming>SequenceFlow_0i60o08</bpmn:incoming>\n            \n      <bpmn:outgoing>SequenceFlow_01mezfj</bpmn:outgoing>\n            \n      <bpmn:messageEventDefinition messageRef=\"Message_1o8fd0g\"/>\n          \n    </bpmn:intermediateCatchEvent>\n        \n    <bpmn:sequenceFlow id=\"SequenceFlow_0i60o08\" sourceRef=\"ExclusiveGateway_186hbka\" targetRef=\"IntermediateCatchEvent_0a1widf\"/>\n        \n    <bpmn:intermediateCatchEvent id=\"IntermediateCatchEvent_0gj7pjl\" name=\"Hold Book\" parallelMultiple=\"false\">\n            \n      <bpmn:incoming>SequenceFlow_0f8uxqu</bpmn:incoming>\n            \n      <bpmn:outgoing>SequenceFlow_154q9ec</bpmn:outgoing>\n            \n      <bpmn:messageEventDefinition messageRef=\"Message_0jhij3z\"/>\n          \n    </bpmn:intermediateCatchEvent>\n        \n    <bpmn:sequenceFlow id=\"SequenceFlow_0f8uxqu\" sourceRef=\"ExclusiveGateway_186hbka\" targetRef=\"IntermediateCatchEvent_0gj7pjl\"/>\n        \n    <bpmn:intermediateCatchEvent id=\"IntermediateCatchEvent_0dd9qc7\" name=\"One Week\" parallelMultiple=\"false\">\n            \n      <bpmn:incoming>SequenceFlow_1lceegs</bpmn:incoming>\n            \n      <bpmn:outgoing>SequenceFlow_0jjjdth</bpmn:outgoing>\n            \n      <bpmn:timerEventDefinition>\n                \n        <bpmn:timeDuration xsi:type=\"bpmn:tFormalExpression\">PT3S</bpmn:timeDuration>\n              \n      </bpmn:timerEventDefinition>\n          \n    </bpmn:intermediateCatchEvent>\n        \n    <bpmn:sequenceFlow id=\"SequenceFlow_1lceegs\" sourceRef=\"ExclusiveGateway_186hbka\" targetRef=\"IntermediateCatchEvent_0dd9qc7\"/>\n        \n    <bpmn:sequenceFlow id=\"SequenceFlow_01mezfj\" sourceRef=\"IntermediateCatchEvent_0a1widf\" targetRef=\"Task_0hrmeet\"/>\n        \n    <bpmn:sequenceFlow id=\"SequenceFlow_0jjjdth\" sourceRef=\"IntermediateCatchEvent_0dd9qc7\" targetRef=\"Task_0hrmeet\"/>\n        \n    <bpmn:endEvent id=\"EndEvent_0kcx8gn\" name=\"Book Request Processed\">\n            \n      <bpmn:incoming>SequenceFlow_0msajcc</bpmn:incoming>\n            \n      <bpmn:incoming>SequenceFlow_1gea84p</bpmn:incoming>\n          \n    </bpmn:endEvent>\n        \n    <bpmn:sequenceFlow id=\"SequenceFlow_0msajcc\" sourceRef=\"Task_0hrmeet\" targetRef=\"EndEvent_0kcx8gn\"/>\n        \n    <bpmn:sequenceFlow id=\"SequenceFlow_1gea84p\" sourceRef=\"Task_12p04yx\" targetRef=\"EndEvent_0kcx8gn\"/>\n        \n    <bpmn:sequenceFlow id=\"SequenceFlow_154q9ec\" sourceRef=\"IntermediateCatchEvent_0gj7pjl\" targetRef=\"Task_1x9vb2g\"/>\n        \n    <bpmn:sequenceFlow id=\"SequenceFlow_0zfoxl1\" sourceRef=\"Task_1x9vb2g\" targetRef=\"Task_0ggoifp\"/>\n        \n    <bpmn:sequenceFlow id=\"SequenceFlow_01gp9uj\" sourceRef=\"Task_0ggoifp\" targetRef=\"IntermediateThrowEvent_17ddgu1\"/>\n        \n    <bpmn:intermediateCatchEvent id=\"IntermediateThrowEvent_17ddgu1\" name=\"Two Weeks\" parallelMultiple=\"false\">\n            \n      <bpmn:incoming>SequenceFlow_01gp9uj</bpmn:incoming>\n            \n      <bpmn:outgoing>SequenceFlow_0dbiqt6</bpmn:outgoing>\n            \n      <bpmn:timerEventDefinition>\n                \n        <bpmn:timeDuration xsi:type=\"bpmn:tFormalExpression\">PT0S</bpmn:timeDuration>\n              \n      </bpmn:timerEventDefinition>\n          \n    </bpmn:intermediateCatchEvent>\n        \n    <bpmn:sequenceFlow id=\"SequenceFlow_0dbiqt6\" sourceRef=\"IntermediateThrowEvent_17ddgu1\" targetRef=\"Task_1l3px0t\"/>\n        \n    <bpmn:sendTask camunda:expression=\"${true}\" completionQuantity=\"1\" id=\"Task_12p04yx\" implementation=\"##WebService\" isForCompensation=\"false\" name=\"Checkout Reply\" startQuantity=\"1\">\n            \n      <bpmn:incoming>SequenceFlow_1mozvul</bpmn:incoming>\n            \n      <bpmn:outgoing>SequenceFlow_1gea84p</bpmn:outgoing>\n          \n    </bpmn:sendTask>\n        \n    <bpmn:serviceTask camunda:expression=\"$[true}\" completionQuantity=\"1\" id=\"Task_1x9vb2g\" implementation=\"##WebService\" isForCompensation=\"false\" name=\"Request Hold\" startQuantity=\"1\">\n            \n      <bpmn:incoming>SequenceFlow_154q9ec</bpmn:incoming>\n            \n      <bpmn:outgoing>SequenceFlow_0zfoxl1</bpmn:outgoing>\n          \n    </bpmn:serviceTask>\n        \n    <bpmn:sendTask camunda:expression=\"$[true}\" completionQuantity=\"1\" id=\"Task_0hrmeet\" implementation=\"##WebService\" isForCompensation=\"false\" name=\"Cancel Request\" startQuantity=\"1\">\n            \n      <bpmn:incoming>SequenceFlow_01mezfj</bpmn:incoming>\n            \n      <bpmn:incoming>SequenceFlow_0jjjdth</bpmn:incoming>\n            \n      <bpmn:outgoing>SequenceFlow_0msajcc</bpmn:outgoing>\n          \n    </bpmn:sendTask>\n        \n    <bpmn:sendTask camunda:expression=\"${true}\" completionQuantity=\"1\" id=\"Task_0ggoifp\" implementation=\"##WebService\" isForCompensation=\"false\" name=\"Hold Reply\" startQuantity=\"1\">\n            \n      <bpmn:incoming>SequenceFlow_0zfoxl1</bpmn:incoming>\n            \n      <bpmn:outgoing>SequenceFlow_01gp9uj</bpmn:outgoing>\n          \n    </bpmn:sendTask>\n      \n  </bpmn:process>\n    \n  <bpmn:message id=\"Message_15xrx39\" name=\"ReceivedBookRequest\"/>\n    \n  <bpmn:message id=\"Message_1o8fd0g\" name=\"DeclineHold\"/>\n    \n  <bpmn:message id=\"Message_0jhij3z\" name=\"HoldBook\"/>\n    \n  <bpmndi:BPMNDiagram id=\"BPMNDiagram_1\">\n        \n    <bpmndi:BPMNPlane bpmnElement=\"bookrequest\" id=\"BPMNPlane_1\">\n            \n      <bpmndi:BPMNShape bpmnElement=\"StartEvent_1\" id=\"_BPMNShape_StartEvent_2\">\n                \n        <dc:Bounds height=\"36\" width=\"36\" x=\"142\" y=\"316\"/>\n                \n        <bpmndi:BPMNLabel>\n                    \n          <dc:Bounds height=\"27\" width=\"74\" x=\"124\" y=\"352\"/>\n                  \n        </bpmndi:BPMNLabel>\n              \n      </bpmndi:BPMNShape>\n            \n      <bpmndi:BPMNEdge bpmnElement=\"SequenceFlow_0yrmjj2\" id=\"SequenceFlow_0yrmjj2_di\">\n                \n        <di:waypoint x=\"178\" y=\"334\"/>\n                \n        <di:waypoint x=\"228\" y=\"334\"/>\n                \n        <bpmndi:BPMNLabel>\n                    \n          <dc:Bounds height=\"12\" width=\"0\" x=\"203\" y=\"148\"/>\n                  \n        </bpmndi:BPMNLabel>\n              \n      </bpmndi:BPMNEdge>\n            \n      <bpmndi:BPMNShape bpmnElement=\"Task_1hscozi\" id=\"ReceiveTask_0u2soi3_di\">\n                \n        <dc:Bounds height=\"80\" width=\"100\" x=\"228\" y=\"294\"/>\n              \n      </bpmndi:BPMNShape>\n            \n      <bpmndi:BPMNEdge bpmnElement=\"SequenceFlow_1bzn5tn\" id=\"SequenceFlow_1bzn5tn_di\">\n                \n        <di:waypoint x=\"328\" y=\"334\"/>\n                \n        <di:waypoint x=\"378\" y=\"334\"/>\n                \n        <bpmndi:BPMNLabel>\n                    \n          <dc:Bounds height=\"12\" width=\"0\" x=\"353\" y=\"148\"/>\n                  \n        </bpmndi:BPMNLabel>\n              \n      </bpmndi:BPMNEdge>\n            \n      <bpmndi:BPMNShape bpmnElement=\"Task_1l3px0t\" id=\"ServiceTask_0fc8l5k_di\">\n                \n        <dc:Bounds height=\"80\" width=\"100\" x=\"378\" y=\"294\"/>\n              \n      </bpmndi:BPMNShape>\n            \n      <bpmndi:BPMNShape bpmnElement=\"ExclusiveGateway_0i9u2oe\" id=\"ExclusiveGateway_0i9u2oe_di\" isMarkerVisible=\"true\">\n                \n        <dc:Bounds height=\"50\" width=\"50\" x=\"528\" y=\"309\"/>\n                \n        <bpmndi:BPMNLabel>\n                    \n          <dc:Bounds height=\"14\" width=\"89\" x=\"509\" y=\"287\"/>\n                  \n        </bpmndi:BPMNLabel>\n              \n      </bpmndi:BPMNShape>\n            \n      <bpmndi:BPMNEdge bpmnElement=\"SequenceFlow_19n0ed3\" id=\"SequenceFlow_19n0ed3_di\">\n                \n        <di:waypoint x=\"478\" y=\"334\"/>\n                \n        <di:waypoint x=\"528\" y=\"334\"/>\n                \n        <bpmndi:BPMNLabel>\n                    \n          <dc:Bounds height=\"12\" width=\"0\" x=\"503\" y=\"148\"/>\n                  \n        </bpmndi:BPMNLabel>\n              \n      </bpmndi:BPMNEdge>\n            \n      <bpmndi:BPMNEdge bpmnElement=\"SequenceFlow_0jp92nl\" id=\"SequenceFlow_0jp92nl_di\">\n                \n        <di:waypoint x=\"578\" y=\"334\"/>\n                \n        <di:waypoint x=\"628\" y=\"334\"/>\n                \n        <bpmndi:BPMNLabel>\n                    \n          <dc:Bounds height=\"14\" width=\"15\" x=\"596\" y=\"313\"/>\n                  \n        </bpmndi:BPMNLabel>\n              \n      </bpmndi:BPMNEdge>\n            \n      <bpmndi:BPMNEdge bpmnElement=\"SequenceFlow_0vf6q5t\" id=\"SequenceFlow_0vf6q5t_di\">\n                \n        <di:waypoint x=\"553\" y=\"359\"/>\n                \n        <di:waypoint x=\"553\" y=\"553\"/>\n                \n        <di:waypoint x=\"628\" y=\"553\"/>\n                \n        <bpmndi:BPMNLabel>\n                    \n          <dc:Bounds height=\"14\" width=\"18\" x=\"560\" y=\"450\"/>\n                  \n        </bpmndi:BPMNLabel>\n              \n      </bpmndi:BPMNEdge>\n            \n      <bpmndi:BPMNShape bpmnElement=\"checkoutBook\" id=\"UserTask_1k6euka_di\">\n                \n        <dc:Bounds height=\"80\" width=\"100\" x=\"628\" y=\"513\"/>\n              \n      </bpmndi:BPMNShape>\n            \n      <bpmndi:BPMNShape bpmnElement=\"Task_0fyy1mq\" id=\"SendTask_0pd2avm_di\">\n                \n        <dc:Bounds height=\"80\" width=\"100\" x=\"628\" y=\"294\"/>\n              \n      </bpmndi:BPMNShape>\n            \n      <bpmndi:BPMNEdge bpmnElement=\"SequenceFlow_1mozvul\" id=\"SequenceFlow_1mozvul_di\">\n                \n        <di:waypoint x=\"728\" y=\"553\"/>\n                \n        <di:waypoint x=\"778\" y=\"553\"/>\n                \n        <bpmndi:BPMNLabel>\n                    \n          <dc:Bounds height=\"12\" width=\"0\" x=\"753\" y=\"367\"/>\n                  \n        </bpmndi:BPMNLabel>\n              \n      </bpmndi:BPMNEdge>\n            \n      <bpmndi:BPMNEdge bpmnElement=\"SequenceFlow_1gdprmj\" id=\"SequenceFlow_1gdprmj_di\">\n                \n        <di:waypoint x=\"728\" y=\"334\"/>\n                \n        <di:waypoint x=\"778\" y=\"334\"/>\n                \n        <bpmndi:BPMNLabel>\n                    \n          <dc:Bounds height=\"12\" width=\"0\" x=\"753\" y=\"148\"/>\n                  \n        </bpmndi:BPMNLabel>\n              \n      </bpmndi:BPMNEdge>\n            \n      <bpmndi:BPMNShape bpmnElement=\"ExclusiveGateway_186hbka\" id=\"EventBasedGateway_0lhsnkb_di\">\n                \n        <dc:Bounds height=\"50\" width=\"50\" x=\"778\" y=\"309\"/>\n                \n        <bpmndi:BPMNLabel>\n                    \n          <dc:Bounds height=\"12\" width=\"0\" x=\"803\" y=\"204\"/>\n                  \n        </bpmndi:BPMNLabel>\n              \n      </bpmndi:BPMNShape>\n            \n      <bpmndi:BPMNShape bpmnElement=\"IntermediateCatchEvent_0a1widf\" id=\"IntermediateCatchEvent_0a1widf_di\">\n                \n        <dc:Bounds height=\"36\" width=\"36\" x=\"878\" y=\"316\"/>\n                \n        <bpmndi:BPMNLabel>\n                    \n          <dc:Bounds height=\"14\" width=\"65\" x=\"864\" y=\"356\"/>\n                  \n        </bpmndi:BPMNLabel>\n              \n      </bpmndi:BPMNShape>\n            \n      <bpmndi:BPMNEdge bpmnElement=\"SequenceFlow_0i60o08\" id=\"SequenceFlow_0i60o08_di\">\n                \n        <di:waypoint x=\"828\" y=\"334\"/>\n                \n        <di:waypoint x=\"878\" y=\"334\"/>\n                \n        <bpmndi:BPMNLabel>\n                    \n          <dc:Bounds height=\"12\" width=\"0\" x=\"853\" y=\"148\"/>\n                  \n        </bpmndi:BPMNLabel>\n              \n      </bpmndi:BPMNEdge>\n            \n      <bpmndi:BPMNShape bpmnElement=\"IntermediateCatchEvent_0gj7pjl\" id=\"IntermediateCatchEvent_0gj7pjl_di\">\n                \n        <dc:Bounds height=\"36\" width=\"36\" x=\"878\" y=\"212\"/>\n                \n        <bpmndi:BPMNLabel>\n                    \n          <dc:Bounds height=\"14\" width=\"51\" x=\"871\" y=\"252\"/>\n                  \n        </bpmndi:BPMNLabel>\n              \n      </bpmndi:BPMNShape>\n            \n      <bpmndi:BPMNEdge bpmnElement=\"SequenceFlow_0f8uxqu\" id=\"SequenceFlow_0f8uxqu_di\">\n                \n        <di:waypoint x=\"803\" y=\"309\"/>\n                \n        <di:waypoint x=\"803\" y=\"230\"/>\n                \n        <di:waypoint x=\"878\" y=\"230\"/>\n                \n        <bpmndi:BPMNLabel>\n                    \n          <dc:Bounds height=\"12\" width=\"0\" x=\"818\" y=\"98.5\"/>\n                  \n        </bpmndi:BPMNLabel>\n              \n      </bpmndi:BPMNEdge>\n            \n      <bpmndi:BPMNShape bpmnElement=\"IntermediateCatchEvent_0dd9qc7\" id=\"IntermediateCatchEvent_0dd9qc7_di\">\n                \n        <dc:Bounds height=\"36\" width=\"36\" x=\"878\" y=\"424\"/>\n                \n        <bpmndi:BPMNLabel>\n                    \n          <dc:Bounds height=\"14\" width=\"52\" x=\"871\" y=\"464\"/>\n                  \n        </bpmndi:BPMNLabel>\n              \n      </bpmndi:BPMNShape>\n            \n      <bpmndi:BPMNEdge bpmnElement=\"SequenceFlow_1lceegs\" id=\"SequenceFlow_1lceegs_di\">\n                \n        <di:waypoint x=\"803\" y=\"359\"/>\n                \n        <di:waypoint x=\"803\" y=\"442\"/>\n                \n        <di:waypoint x=\"878\" y=\"442\"/>\n                \n        <bpmndi:BPMNLabel>\n                    \n          <dc:Bounds height=\"12\" width=\"0\" x=\"818\" y=\"229.5\"/>\n                  \n        </bpmndi:BPMNLabel>\n              \n      </bpmndi:BPMNEdge>\n            \n      <bpmndi:BPMNEdge bpmnElement=\"SequenceFlow_01mezfj\" id=\"SequenceFlow_01mezfj_di\">\n                \n        <di:waypoint x=\"914\" y=\"334\"/>\n                \n        <di:waypoint x=\"964\" y=\"334\"/>\n                \n        <bpmndi:BPMNLabel>\n                    \n          <dc:Bounds height=\"12\" width=\"0\" x=\"939\" y=\"148\"/>\n                  \n        </bpmndi:BPMNLabel>\n              \n      </bpmndi:BPMNEdge>\n            \n      <bpmndi:BPMNEdge bpmnElement=\"SequenceFlow_0jjjdth\" id=\"SequenceFlow_0jjjdth_di\">\n                \n        <di:waypoint x=\"914\" y=\"442\"/>\n                \n        <di:waypoint x=\"1014\" y=\"442\"/>\n                \n        <di:waypoint x=\"1014\" y=\"374\"/>\n                \n        <bpmndi:BPMNLabel>\n                    \n          <dc:Bounds height=\"12\" width=\"0\" x=\"964\" y=\"256\"/>\n                  \n        </bpmndi:BPMNLabel>\n              \n      </bpmndi:BPMNEdge>\n            \n      <bpmndi:BPMNShape bpmnElement=\"EndEvent_0kcx8gn\" id=\"EndEvent_0kcx8gn_di\">\n                \n        <dc:Bounds height=\"36\" width=\"36\" x=\"1114\" y=\"316\"/>\n                \n        <bpmndi:BPMNLabel>\n                    \n          <dc:Bounds height=\"27\" width=\"70\" x=\"1097\" y=\"286\"/>\n                  \n        </bpmndi:BPMNLabel>\n              \n      </bpmndi:BPMNShape>\n            \n      <bpmndi:BPMNEdge bpmnElement=\"SequenceFlow_0msajcc\" id=\"SequenceFlow_0msajcc_di\">\n                \n        <di:waypoint x=\"1064\" y=\"334\"/>\n                \n        <di:waypoint x=\"1114\" y=\"334\"/>\n                \n        <bpmndi:BPMNLabel>\n                    \n          <dc:Bounds height=\"12\" width=\"0\" x=\"1089\" y=\"148\"/>\n                  \n        </bpmndi:BPMNLabel>\n              \n      </bpmndi:BPMNEdge>\n            \n      <bpmndi:BPMNEdge bpmnElement=\"SequenceFlow_1gea84p\" id=\"SequenceFlow_1gea84p_di\">\n                \n        <di:waypoint x=\"878\" y=\"553\"/>\n                \n        <di:waypoint x=\"1132\" y=\"553\"/>\n                \n        <di:waypoint x=\"1132\" y=\"352\"/>\n                \n        <bpmndi:BPMNLabel>\n                    \n          <dc:Bounds height=\"12\" width=\"0\" x=\"1005\" y=\"367\"/>\n                  \n        </bpmndi:BPMNLabel>\n              \n      </bpmndi:BPMNEdge>\n            \n      <bpmndi:BPMNEdge bpmnElement=\"SequenceFlow_154q9ec\" id=\"SequenceFlow_154q9ec_di\">\n                \n        <di:waypoint x=\"914\" y=\"230\"/>\n                \n        <di:waypoint x=\"964\" y=\"230\"/>\n                \n        <bpmndi:BPMNLabel>\n                    \n          <dc:Bounds height=\"12\" width=\"0\" x=\"939\" y=\"44\"/>\n                  \n        </bpmndi:BPMNLabel>\n              \n      </bpmndi:BPMNEdge>\n            \n      <bpmndi:BPMNEdge bpmnElement=\"SequenceFlow_0zfoxl1\" id=\"SequenceFlow_0zfoxl1_di\">\n                \n        <di:waypoint x=\"1064\" y=\"230\"/>\n                \n        <di:waypoint x=\"1114\" y=\"230\"/>\n                \n        <bpmndi:BPMNLabel>\n                    \n          <dc:Bounds height=\"12\" width=\"0\" x=\"1089\" y=\"44\"/>\n                  \n        </bpmndi:BPMNLabel>\n              \n      </bpmndi:BPMNEdge>\n            \n      <bpmndi:BPMNEdge bpmnElement=\"SequenceFlow_01gp9uj\" id=\"SequenceFlow_01gp9uj_di\">\n                \n        <di:waypoint x=\"1164\" y=\"190\"/>\n                \n        <di:waypoint x=\"1164\" y=\"99\"/>\n                \n        <di:waypoint x=\"873\" y=\"99\"/>\n                \n        <bpmndi:BPMNLabel>\n                    \n          <dc:Bounds height=\"12\" width=\"0\" x=\"1179\" y=\"-26.5\"/>\n                  \n        </bpmndi:BPMNLabel>\n              \n      </bpmndi:BPMNEdge>\n            \n      <bpmndi:BPMNShape bpmnElement=\"IntermediateThrowEvent_17ddgu1\" id=\"IntermediateCatchEvent_06zhr1i_di\">\n                \n        <dc:Bounds height=\"36\" width=\"36\" x=\"837\" y=\"81\"/>\n                \n        <bpmndi:BPMNLabel>\n                    \n          <dc:Bounds height=\"14\" width=\"57\" x=\"827\" y=\"121\"/>\n                  \n        </bpmndi:BPMNLabel>\n              \n      </bpmndi:BPMNShape>\n            \n      <bpmndi:BPMNEdge bpmnElement=\"SequenceFlow_0dbiqt6\" id=\"SequenceFlow_0dbiqt6_di\">\n                \n        <di:waypoint x=\"837\" y=\"99\"/>\n                \n        <di:waypoint x=\"428\" y=\"99\"/>\n                \n        <di:waypoint x=\"428\" y=\"294\"/>\n                \n        <bpmndi:BPMNLabel>\n                    \n          <dc:Bounds height=\"12\" width=\"0\" x=\"632.5\" y=\"-87\"/>\n                  \n        </bpmndi:BPMNLabel>\n              \n      </bpmndi:BPMNEdge>\n            \n      <bpmndi:BPMNShape bpmnElement=\"Task_12p04yx\" id=\"SendTask_0c1sqiy_di\">\n                \n        <dc:Bounds height=\"80\" width=\"100\" x=\"778\" y=\"513\"/>\n              \n      </bpmndi:BPMNShape>\n            \n      <bpmndi:BPMNShape bpmnElement=\"Task_1x9vb2g\" id=\"ServiceTask_1d3dq9l_di\">\n                \n        <dc:Bounds height=\"80\" width=\"100\" x=\"964\" y=\"190\"/>\n              \n      </bpmndi:BPMNShape>\n            \n      <bpmndi:BPMNShape bpmnElement=\"Task_0hrmeet\" id=\"SendTask_1f2rlum_di\">\n                \n        <dc:Bounds height=\"80\" width=\"100\" x=\"964\" y=\"294\"/>\n              \n      </bpmndi:BPMNShape>\n            \n      <bpmndi:BPMNShape bpmnElement=\"Task_0ggoifp\" id=\"SendTask_059pg89_di\">\n                \n        <dc:Bounds height=\"80\" width=\"100\" x=\"1114\" y=\"190\"/>\n              \n      </bpmndi:BPMNShape>\n          \n    </bpmndi:BPMNPlane>\n      \n  </bpmndi:BPMNDiagram>\n  \n</bpmn:definitions>\n",[m
[31m-      "tableColumns" : {[m
[31m-        "includeNewVariables" : true,[m
[31m-        "excludedColumns" : [ ],[m
[31m-        "includedColumns" : [ ],[m
[31m-        "columnOrder" : [ ][m
[32m+[m[32m      "distributedBy": {[m
[32m+[m[32m        "type": "none",[m
[32m+[m[32m        "value": null[m
       },[m
[31m-      "targetValue" : {[m
[31m-        "countChart" : {[m
[31m-          "isBelow" : false,[m
[31m-          "value" : "100"[m
[31m-        },[m
[31m-        "durationProgress" : {[m
[31m-          "baseline" : {[m
[31m-            "unit" : "hours",[m
[31m-            "value" : "0"[m
[31m-          },[m
[31m-          "target" : {[m
[31m-            "unit" : "hours",[m
[31m-            "value" : "2",[m
[31m-            "isBelow" : false[m
[32m+[m[32m      "visualization": "number",[m
[32m+[m[32m      "managementReport": false,[m
[32m+[m[32m      "instantPreviewReport": false,[m
[32m+[m[32m      "userTaskReport": false[m
[32m+[m[32m    }[m
[32m+[m[32m  },[m
[32m+[m[32m  {[m
[32m+[m[32m    "id": "5f65eb24-d09b-4085-a7ca-c7545c71acdd",[m
[32m+[m[32m    "exportEntityType": "single_process_report",[m
[32m+[m[32m    "name": "processDashboard_processEndedGroupedByMonth",[m
[32m+[m[32m    "description": "processDashboard_processEndedGroupedByMonth-description",[m
[32m+[m[32m    "sourceIndexVersion": 11,[m
[32m+[m[32m    "collectionId": null,[m
[32m+[m[32m    "data": {[m
[32m+[m[32m      "configuration": {[m
[32m+[m[32m        "color": "#1991c8",[m
[32m+[m[32m        "aggregationTypes": [[m
[32m+[m[32m          {[m
[32m+[m[32m            "type": "avg",[m
[32m+[m[32m            "value": null[m
           }[m
[32m+[m[32m        ],[m
[32m+[m[32m        "userTaskDurationTimes": ["total"],[m
[32m+[m[32m        "showInstanceCount": false,[m
[32m+[m[32m        "pointMarkers": true,[m
[32m+[m[32m        "precision": null,[m
[32m+[m[32m        "hideRelativeValue": false,[m
[32m+[m[32m        "hideAbsoluteValue": false,[m
[32m+[m[32m        "alwaysShowRelative": false,[m
[32m+[m[32m        "alwaysShowAbsolute": false,[m
[32m+[m[32m        "showGradientBars": true,[m
[32m+[m[32m        "tableColumns": {[m
[32m+[m[32m          "includeNewVariables": true,[m
[32m+[m[32m          "excludedColumns": [],[m
[32m+[m[32m          "includedColumns": [],[m
[32m+[m[32m          "columnOrder": [][m
[32m+[m[32m        },[m
[32m+[m[32m        "targetValue": {[m
[32m+[m[32m          "countChart": {[m
[32m+[m[32m            "isBelow": false,[m
[32m+[m[32m            "value": "100"[m
[32m+[m[32m          },[m
[32m+[m[32m          "durationProgress": {[m
[32m+[m[32m            "baseline": {[m
[32m+[m[32m              "unit": "hours",[m
[32m+[m[32m              "value": "0"[m
[32m+[m[32m            },[m
[32m+[m[32m            "target": {[m
[32m+[m[32m              "unit": "hours",[m
[32m+[m[32m              "value": "2",[m
[32m+[m[32m              "isBelow": false[m
[32m+[m[32m            }[m
[32m+[m[32m          },[m
[32m+[m[32m          "active": false,[m
[32m+[m[32m          "countProgress": {[m
[32m+[m[32m            "baseline": "0",[m
[32m+[m[32m            "target": "100",[m
[32m+[m[32m            "isBelow": false[m
[32m+[m[32m          },[m
[32m+[m[32m          "durationChart": {[m
[32m+[m[32m            "unit": "hours",[m
[32m+[m[32m            "isBelow": false,[m
[32m+[m[32m            "value": "2"[m
[32m+[m[32m          },[m
[32m+[m[32m          "isKpi": false[m
         },[m
[31m-        "active" : false,[m
[31m-        "countProgress" : {[m
[31m-          "baseline" : "0",[m
[31m-          "target" : "100",[m
[31m-          "isBelow" : false[m
[32m+[m[32m        "heatmapTargetValue": {[m
[32m+[m[32m          "active": false,[m
[32m+[m[32m          "values": {}[m
         },[m
[31m-        "durationChart" : {[m
[31m-          "unit" : "hours",[m
[31m-          "isBelow" : false,[m
[31m-          "value" : "2"[m
[32m+[m[32m        "groupByDateVariableUnit": "automatic",[m
[32m+[m[32m        "distributeByDateVariableUnit": "automatic",[m
[32m+[m[32m        "customBucket": {[m
[32m+[m[32m          "active": false,[m
[32m+[m[32m          "bucketSize": "10.0",[m
[32m+[m[32m          "bucketSizeUnit": null,[m
[32m+[m[32m          "baseline": "0.0",[m
[32m+[m[32m          "baselineUnit": null[m
         },[m
[31m-        "isKpi" : false[m
[31m-      },[m
[31m-      "heatmapTargetValue" : {[m
[31m-        "active" : false,[m
[31m-        "values" : { }[m
[31m-      },[m
[31m-      "groupByDateVariableUnit" : "automatic",[m
[31m-      "distributeByDateVariableUnit" : "automatic",[m
[31m-      "customBucket" : {[m
[31m-        "active" : false,[m
[31m-        "bucketSize" : "10.0",[m
[31m-        "bucketSizeUnit" : null,[m
[31m-        "baseline" : "0.0",[m
[31m-        "baselineUnit" : null[m
[31m-      },[m
[31m-      "distributeByCustomBucket" : {[m
[31m-        "active" : false,[m
[31m-        "bucketSize" : "10.0",[m
[31m-        "bucketSizeUnit" : null,[m
[31m-        "baseline" : "0.0",[m
[31m-        "baselineUnit" : null[m
[32m+[m[32m        "distributeByCustomBucket": {[m
[32m+[m[32m          "active": false,[m
[32m+[m[32m          "bucketSize": "10.0",[m
[32m+[m[32m          "bucketSizeUnit": null,[m
[32m+[m[32m          "baseline": "0.0",[m
[32m+[m[32m          "baselineUnit": null[m
[32m+[m[32m        },[m
[32m+[m[32m        "sorting": {[m
[32m+[m[32m          "by": "key",[m
[32m+[m[32m          "order": "asc"[m
[32m+[m[32m        },[m
[32m+[m[32m        "processPart": null,[m
[32m+[m[32m        "measureVisualizations": {[m
[32m+[m[32m          "frequency": "bar",[m
[32m+[m[32m          "duration": "line"[m
[32m+[m[32m        },[m
[32m+[m[32m        "stackedBar": false,[m
[32m+[m[32m        "horizontalBar": false,[m
[32m+[m[32m        "logScale": false,[m
[32m+[m[32m        "yLabel": "Process Instance Count",[m
[32m+[m[32m        "xLabel": "End Date"[m
       },[m
[31m-      "sorting" : {[m
[31m-        "by" : "key",[m
[31m-        "order" : "desc"[m
[32m+[m[32m      "definitions": [[m
[32m+[m[32m        {[m
[32m+[m[32m          "identifier": "definition",[m
[32m+[m[32m          "key": "bookrequest-suspended-instances",[m
[32m+[m[32m          "name": "Book Request with suspended process instances",[m
[32m+[m[32m          "displayName": "Book Request with suspended process instances",[m
[32m+[m[32m          "versions": ["all"],[m
[32m+[m[32m          "tenantIds": [[m
[32m+[m[32m            null,[m
[32m+[m[32m            "csm",[m
[32m+[m[32m            "engineering",[m
[32m+[m[32m            "hr",[m
[32m+[m[32m            "library",[m
[32m+[m[32m            "marketing",[m
[32m+[m[32m            "sales",[m
[32m+[m[32m            "support"[m
[32m+[m[32m          ][m
[32m+[m[32m        }[m
[32m+[m[32m      ],[m
[32m+[m[32m      "filter": [[m
[32m+[m[32m        {[m
[32m+[m[32m          "type": "instanceEndDate",[m
[32m+[m[32m          "data": {[m
[32m+[m[32m            "type": "rolling",[m
[32m+[m[32m            "start": {[m
[32m+[m[32m              "value": 6,[m
[32m+[m[32m              "unit": "months"[m
[32m+[m[32m            },[m
[32m+[m[32m            "end": null,[m
[32m+[m[32m            "includeUndefined": false,[m
[32m+[m[32m            "excludeUndefined": false[m
[32m+[m[32m          },[m
[32m+[m[32m          "filterLevel": "instance",[m
[32m+[m[32m          "appliedTo": ["all"][m
[32m+[m[32m        }[m
[32m+[m[32m      ],[m
[32m+[m[32m      "view": {[m
[32m+[m[32m        "entity": "processInstance",[m
[32m+[m[32m        "properties": ["frequency"][m
       },[m
[31m-      "processPart" : null,[m
[31m-      "measureVisualizations" : {[m
[31m-        "frequency" : "bar",[m
[31m-        "duration" : "line"[m
[32m+[m[32m      "groupBy": {[m
[32m+[m[32m        "type": "endDate",[m
[32m+[m[32m        "value": {[m
[32m+[m[32m          "unit": "month"[m
[32m+[m[32m        }[m
       },[m
[31m-      "stackedBar" : false,[m
[31m-      "horizontalBar" : false,[m
[31m-      "logScale" : false,[m
[31m-      "yLabel" : "Incident Count",[m
[31m-      "xLabel" : "None"[m
[31m-    },[m
[31m-    "definitions" : [ {[m
[31m-      "identifier" : "definition",[m
[31m-      "key" : "bookrequest-suspended-instances",[m
[31m-      "name" : "Book Request with suspended process instances",[m
[31m-      "displayName" : "Book Request with suspended process instances",[m
[31m-      "versions" : [ "all" ],[m
[31m-      "tenantIds" : [ null, "csm", "engineering", "hr", "library", "marketing", "sales", "support" ][m
[31m-    } ],[m
[31m-    "filter" : [ {[m
[31m-      "type" : "runningInstancesOnly",[m
[31m-      "data" : null,[m
[31m-      "filterLevel" : "instance",[m
[31m-      "appliedTo" : [ "all" ][m
[31m-    } ],[m
[31m-    "view" : {[m
[31m-      "entity" : "incident",[m
[31m-      "properties" : [ "frequency" ][m
[31m-    },[m
[31m-    "groupBy" : {[m
[31m-      "type" : "none",[m
[31m-      "value" : null[m
[31m-    },[m
[31m-    "distributedBy" : {[m
[31m-      "type" : "none",[m
[31m-      "value" : null[m
[31m-    },[m
[31m-    "visualization" : "number",[m
[31m-    "managementReport" : false,[m
[31m-    "instantPreviewReport" : true,[m
[31m-    "userTaskReport" : false[m
[31m-  }[m
[31m-}, {[m
[31m-  "id" : "de02ee58-b107-4c9a-8fde-e10237a86085",[m
[31m-  "exportEntityType" : "single_process_report",[m
[31m-  "name" : "IP_TileText_BusinessReporting_Report1",[m
[31m-  "description" : null,[m
[31m-  "sourceIndexVersion" : 11,[m
[31m-  "collectionId" : null,[m
[31m-  "data" : {[m
[31m-    "configuration" : {[m
[31m-      "color" : "#1991c8",[m
[31m-      "aggregationTypes" : [ {[m
[31m-        "type" : "avg",[m
[31m-        "value" : null[m
[31m-      } ],[m
[31m-      "userTaskDurationTimes" : [ "total" ],[m
[31m-      "showInstanceCount" : false,[m
[31m-      "pointMarkers" : true,[m
[31m-      "precision" : null,[m
[31m-      "hideRelativeValue" : false,[m
[31m-      "hideAbsoluteValue" : false,[m
[31m-      "alwaysShowRelative" : false,[m
[31m-      "alwaysShowAbsolute" : false,[m
[31m-      "showGradientBars" : true,[m
[31m-      "xml" : "<?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"no\"?>\n<bpmn:definitions xmlns:bpmn=\"http://www.omg.org/spec/BPMN/20100524/MODEL\" xmlns:bpmndi=\"http://www.omg.org/spec/BPMN/20100524/DI\" xmlns:camunda=\"http://camunda.org/schema/1.0/bpmn\" xmlns:dc=\"http://www.omg.org/spec/DD/20100524/DC\" xmlns:di=\"http://www.omg.org/spec/DD/20100524/DI\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" exporter=\"Camunda Modeler\" exporterVersion=\"3.1.0\" expressionLanguage=\"http://www.w3.org/1999/XPath\" id=\"Definitions_1iqy5bl\" targetNamespace=\"http://bpmn.io/schema/bpmn\" typeLanguage=\"http://www.w3.org/2001/XMLSchema\">\n    \n  <bpmn:process id=\"bookrequest-1-tenant\" isClosed=\"false\" isExecutable=\"true\" name=\"Book Request One Tenant\" processType=\"None\">\n        \n    <bpmn:startEvent camunda:asyncBefore=\"true\" id=\"StartEvent_1\" isInterrupting=\"true\" name=\"Received Book Request\" parallelMultiple=\"false\">\n            \n      <bpmn:outgoing>SequenceFlow_0yrmjj2</bpmn:outgoing>\n          \n    </bpmn:startEvent>\n        \n    <bpmn:sequenceFlow id=\"SequenceFlow_0yrmjj2\" sourceRef=\"StartEvent_1\" targetRef=\"Task_1hscozi\"/>\n        \n    <bpmn:receiveTask completionQuantity=\"1\" id=\"Task_1hscozi\" implementation=\"##WebService\" instantiate=\"false\" isForCompensation=\"false\" messageRef=\"Message_15xrx39\" name=\"Receive Book Request\" startQuantity=\"1\">\n            \n      <bpmn:incoming>SequenceFlow_0yrmjj2</bpmn:incoming>\n            \n      <bpmn:outgoing>SequenceFlow_1bzn5tn</bpmn:outgoing>\n          \n    </bpmn:receiveTask>\n        \n    <bpmn:sequenceFlow id=\"SequenceFlow_1bzn5tn\" sourceRef=\"Task_1hscozi\" targetRef=\"Task_1l3px0t\"/>\n        \n    <bpmn:serviceTask camunda:expression=\"${true}\" completionQuantity=\"1\" id=\"Task_1l3px0t\" implementation=\"##WebService\" isForCompensation=\"false\" name=\"Get Book Status\" startQuantity=\"1\">\n            \n      <bpmn:incoming>SequenceFlow_1bzn5tn</bpmn:incoming>\n            \n      <bpmn:incoming>SequenceFlow_0dbiqt6</bpmn:incoming>\n            \n      <bpmn:outgoing>SequenceFlow_19n0ed3</bpmn:outgoing>\n          \n    </bpmn:serviceTask>\n        \n    <bpmn:exclusiveGateway default=\"SequenceFlow_0vf6q5t\" gatewayDirection=\"Unspecified\" id=\"ExclusiveGateway_0i9u2oe\" name=\"Is book availalbe?\">\n            \n      <bpmn:extensionElements>\n                \n        <camunda:executionListener event=\"start\">\n                    \n          <camunda:script scriptFormat=\"groovy\">execution.setVariable(\"bookAvailable\", new Random().nextDouble()&lt;0.3 );</camunda:script>\n                  \n        </camunda:executionListener>\n              \n      </bpmn:extensionElements>\n            \n      <bpmn:incoming>SequenceFlow_19n0ed3</bpmn:incoming>\n            \n      <bpmn:outgoing>SequenceFlow_0jp92nl</bpmn:outgoing>\n            \n      <bpmn:outgoing>SequenceFlow_0vf6q5t</bpmn:outgoing>\n          \n    </bpmn:exclusiveGateway>\n        \n    <bpmn:sequenceFlow id=\"SequenceFlow_19n0ed3\" sourceRef=\"Task_1l3px0t\" targetRef=\"ExclusiveGateway_0i9u2oe\"/>\n        \n    <bpmn:sequenceFlow id=\"SequenceFlow_0jp92nl\" name=\"No\" sourceRef=\"ExclusiveGateway_0i9u2oe\" targetRef=\"Task_0fyy1mq\">\n            \n      <bpmn:conditionExpression xsi:type=\"bpmn:tFormalExpression\">${bookAvailable}</bpmn:conditionExpression>\n          \n    </bpmn:sequenceFlow>\n        \n    <bpmn:sequenceFlow id=\"SequenceFlow_0vf6q5t\" name=\"Yes\" sourceRef=\"ExclusiveGateway_0i9u2oe\" targetRef=\"checkoutBook\"/>\n        \n    <bpmn:userTask camunda:candidateGroups=\"management\" camunda:candidateUsers=\"demo\" completionQuantity=\"1\" id=\"checkoutBook\" implementation=\"##unspecified\" isForCompensation=\"false\" name=\"Checkout Book\" startQuantity=\"1\">\n            \n      <bpmn:incoming>SequenceFlow_0vf6q5t</bpmn:incoming>\n            \n      <bpmn:outgoing>SequenceFlow_1mozvul</bpmn:outgoing>\n          \n    </bpmn:userTask>\n        \n    <bpmn:sendTask camunda:expression=\"${true}\" completionQuantity=\"1\" id=\"Task_0fyy1mq\" implementation=\"##WebService\" isForCompensation=\"false\" name=\"On Loan Reply\" startQuantity=\"1\">\n            \n      <bpmn:incoming>SequenceFlow_0jp92nl</bpmn:incoming>\n            \n      <bpmn:outgoing>SequenceFlow_1gdprmj</bpmn:outgoing>\n          \n    </bpmn:sendTask>\n        \n    <bpmn:sequenceFlow id=\"SequenceFlow_1mozvul\" sourceRef=\"checkoutBook\" targetRef=\"Task_12p04yx\"/>\n        \n    <bpmn:sequenceFlow id=\"SequenceFlow_1gdprmj\" sourceRef=\"Task_0fyy1mq\" targetRef=\"ExclusiveGateway_186hbka\"/>\n        \n    <bpmn:eventBasedGateway eventGatewayType=\"Exclusive\" gatewayDirection=\"Unspecified\" id=\"ExclusiveGateway_186hbka\" instantiate=\"false\">\n            \n      <bpmn:incoming>SequenceFlow_1gdprmj</bpmn:incoming>\n            \n      <bpmn:outgoing>SequenceFlow_0i60o08</bpmn:outgoing>\n            \n      <bpmn:outgoing>SequenceFlow_0f8uxqu</bpmn:outgoing>\n            \n      <bpmn:outgoing>SequenceFlow_1lceegs</bpmn:outgoing>\n          \n    </bpmn:eventBasedGateway>\n        \n    <bpmn:intermediateCatchEvent id=\"IntermediateCatchEvent_0a1widf\" name=\"Decliine Hold\" parallelMultiple=\"false\">\n            \n      <bpmn:incoming>SequenceFlow_0i60o08</bpmn:incoming>\n            \n      <bpmn:outgoing>SequenceFlow_01mezfj</bpmn:outgoing>\n            \n      <bpmn:messageEventDefinition messageRef=\"Message_1o8fd0g\"/>\n          \n    </bpmn:intermediateCatchEvent>\n        \n    <bpmn:sequenceFlow id=\"SequenceFlow_0i60o08\" sourceRef=\"ExclusiveGateway_186hbka\" targetRef=\"IntermediateCatchEvent_0a1widf\"/>\n        \n    <bpmn:intermediateCatchEvent id=\"IntermediateCatchEvent_0gj7pjl\" name=\"Hold Book\" parallelMultiple=\"false\">\n            \n      <bpmn:incoming>SequenceFlow_0f8uxqu</bpmn:incoming>\n            \n      <bpmn:outgoing>SequenceFlow_154q9ec</bpmn:outgoing>\n            \n      <bpmn:messageEventDefinition messageRef=\"Message_0jhij3z\"/>\n          \n    </bpmn:intermediateCatchEvent>\n        \n    <bpmn:sequenceFlow id=\"SequenceFlow_0f8uxqu\" sourceRef=\"ExclusiveGateway_186hbka\" targetRef=\"IntermediateCatchEvent_0gj7pjl\"/>\n        \n    <bpmn:intermediateCatchEvent id=\"IntermediateCatchEvent_0dd9qc7\" name=\"One Week\" parallelMultiple=\"false\">\n            \n      <bpmn:incoming>SequenceFlow_1lceegs</bpmn:incoming>\n            \n      <bpmn:outgoing>SequenceFlow_0jjjdth</bpmn:outgoing>\n            \n      <bpmn:timerEventDefinition>\n                \n        <bpmn:timeDuration xsi:type=\"bpmn:tFormalExpression\">PT3S</bpmn:timeDuration>\n              \n      </bpmn:timerEventDefinition>\n          \n    </bpmn:intermediateCatchEvent>\n        \n    <bpmn:sequenceFlow id=\"SequenceFlow_1lceegs\" sourceRef=\"ExclusiveGateway_186hbka\" targetRef=\"IntermediateCatchEvent_0dd9qc7\"/>\n        \n    <bpmn:sequenceFlow id=\"SequenceFlow_01mezfj\" sourceRef=\"IntermediateCatchEvent_0a1widf\" targetRef=\"Task_0hrmeet\"/>\n        \n    <bpmn:sequenceFlow id=\"SequenceFlow_0jjjdth\" sourceRef=\"IntermediateCatchEvent_0dd9qc7\" targetRef=\"Task_0hrmeet\"/>\n        \n    <bpmn:endEvent id=\"EndEvent_0kcx8gn\" name=\"Book Request Processed\">\n            \n      <bpmn:incoming>SequenceFlow_0msajcc</bpmn:incoming>\n            \n      <bpmn:incoming>SequenceFlow_1gea84p</bpmn:incoming>\n          \n    </bpmn:endEvent>\n        \n    <bpmn:sequenceFlow id=\"SequenceFlow_0msajcc\" sourceRef=\"Task_0hrmeet\" targetRef=\"EndEvent_0kcx8gn\"/>\n        \n    <bpmn:sequenceFlow id=\"SequenceFlow_1gea84p\" sourceRef=\"Task_12p04yx\" targetRef=\"EndEvent_0kcx8gn\"/>\n        \n    <bpmn:sequenceFlow id=\"SequenceFlow_154q9ec\" sourceRef=\"IntermediateCatchEvent_0gj7pjl\" targetRef=\"Task_1x9vb2g\"/>\n        \n    <bpmn:sequenceFlow id=\"SequenceFlow_0zfoxl1\" sourceRef=\"Task_1x9vb2g\" targetRef=\"Task_0ggoifp\"/>\n        \n    <bpmn:sequenceFlow id=\"SequenceFlow_01gp9uj\" sourceRef=\"Task_0ggoifp\" targetRef=\"IntermediateThrowEvent_17ddgu1\"/>\n        \n    <bpmn:intermediateCatchEvent id=\"IntermediateThrowEvent_17ddgu1\" name=\"Two Weeks\" parallelMultiple=\"false\">\n            \n      <bpmn:incoming>SequenceFlow_01gp9uj</bpmn:incoming>\n            \n      <bpmn:outgoing>SequenceFlow_0dbiqt6</bpmn:outgoing>\n            \n      <bpmn:timerEventDefinition>\n                \n        <bpmn:timeDuration xsi:type=\"bpmn:tFormalExpression\">PT0S</bpmn:timeDuration>\n              \n      </bpmn:timerEventDefinition>\n          \n    </bpmn:intermediateCatchEvent>\n        \n    <bpmn:sequenceFlow id=\"SequenceFlow_0dbiqt6\" sourceRef=\"IntermediateThrowEvent_17ddgu1\" targetRef=\"Task_1l3px0t\"/>\n        \n    <bpmn:sendTask camunda:expression=\"${true}\" completionQuantity=\"1\" id=\"Task_12p04yx\" implementation=\"##WebService\" isForCompensation=\"false\" name=\"Checkout Reply\" startQuantity=\"1\">\n            \n      <bpmn:incoming>SequenceFlow_1mozvul</bpmn:incoming>\n            \n      <bpmn:outgoing>SequenceFlow_1gea84p</bpmn:outgoing>\n          \n    </bpmn:sendTask>\n        \n    <bpmn:serviceTask camunda:expression=\"$[true}\" completionQuantity=\"1\" id=\"Task_1x9vb2g\" implementation=\"##WebService\" isForCompensation=\"false\" name=\"Request Hold\" startQuantity=\"1\">\n            \n      <bpmn:incoming>SequenceFlow_154q9ec</bpmn:incoming>\n            \n      <bpmn:outgoing>SequenceFlow_0zfoxl1</bpmn:outgoing>\n          \n    </bpmn:serviceTask>\n        \n    <bpmn:sendTask camunda:expression=\"$[true}\" completionQuantity=\"1\" id=\"Task_0hrmeet\" implementation=\"##WebService\" isForCompensation=\"false\" name=\"Cancel Request\" startQuantity=\"1\">\n            \n      <bpmn:incoming>SequenceFlow_01mezfj</bpmn:incoming>\n            \n      <bpmn:incoming>SequenceFlow_0jjjdth</bpmn:incoming>\n            \n      <bpmn:outgoing>SequenceFlow_0msajcc</bpmn:outgoing>\n          \n    </bpmn:sendTask>\n        \n    <bpmn:sendTask camunda:expression=\"${true}\" completionQuantity=\"1\" id=\"Task_0ggoifp\" implementation=\"##WebService\" isForCompensation=\"false\" name=\"Hold Reply\" startQuantity=\"1\">\n            \n      <bpmn:incoming>SequenceFlow_0zfoxl1</bpmn:incoming>\n            \n      <bpmn:outgoing>SequenceFlow_01gp9uj</bpmn:outgoing>\n          \n    </bpmn:sendTask>\n      \n  </bpmn:process>\n    \n  <bpmn:message id=\"Message_15xrx39\" name=\"ReceivedBookRequest\"/>\n    \n  <bpmn:message id=\"Message_1o8fd0g\" name=\"DeclineHold\"/>\n    \n  <bpmn:message id=\"Message_0jhij3z\" name=\"HoldBook\"/>\n    \n  <bpmndi:BPMNDiagram id=\"BPMNDiagram_1\">\n        \n    <bpmndi:BPMNPlane bpmnElement=\"bookrequest\" id=\"BPMNPlane_1\">\n            \n      <bpmndi:BPMNShape bpmnElement=\"StartEvent_1\" id=\"_BPMNShape_StartEvent_2\">\n                \n        <dc:Bounds height=\"36\" width=\"36\" x=\"142\" y=\"316\"/>\n                \n        <bpmndi:BPMNLabel>\n                    \n          <dc:Bounds height=\"27\" width=\"74\" x=\"124\" y=\"352\"/>\n                  \n        </bpmndi:BPMNLabel>\n              \n      </bpmndi:BPMNShape>\n            \n      <bpmndi:BPMNEdge bpmnElement=\"SequenceFlow_0yrmjj2\" id=\"SequenceFlow_0yrmjj2_di\">\n                \n        <di:waypoint x=\"178\" y=\"334\"/>\n                \n        <di:waypoint x=\"228\" y=\"334\"/>\n                \n        <bpmndi:BPMNLabel>\n                    \n          <dc:Bounds height=\"12\" width=\"0\" x=\"203\" y=\"148\"/>\n                  \n        </bpmndi:BPMNLabel>\n              \n      </bpmndi:BPMNEdge>\n            \n      <bpmndi:BPMNShape bpmnElement=\"Task_1hscozi\" id=\"ReceiveTask_0u2soi3_di\">\n                \n        <dc:Bounds height=\"80\" width=\"100\" x=\"228\" y=\"294\"/>\n              \n      </bpmndi:BPMNShape>\n            \n      <bpmndi:BPMNEdge bpmnElement=\"SequenceFlow_1bzn5tn\" id=\"SequenceFlow_1bzn5tn_di\">\n                \n        <di:waypoint x=\"328\" y=\"334\"/>\n                \n        <di:waypoint x=\"378\" y=\"334\"/>\n                \n        <bpmndi:BPMNLabel>\n                    \n          <dc:Bounds height=\"12\" width=\"0\" x=\"353\" y=\"148\"/>\n                  \n        </bpmndi:BPMNLabel>\n              \n      </bpmndi:BPMNEdge>\n            \n      <bpmndi:BPMNShape bpmnElement=\"Task_1l3px0t\" id=\"ServiceTask_0fc8l5k_di\">\n                \n        <dc:Bounds height=\"80\" width=\"100\" x=\"378\" y=\"294\"/>\n              \n      </bpmndi:BPMNShape>\n            \n      <bpmndi:BPMNShape bpmnElement=\"ExclusiveGateway_0i9u2oe\" id=\"ExclusiveGateway_0i9u2oe_di\" isMarkerVisible=\"true\">\n                \n        <dc:Bounds height=\"50\" width=\"50\" x=\"528\" y=\"309\"/>\n                \n        <bpmndi:BPMNLabel>\n                    \n          <dc:Bounds height=\"14\" width=\"89\" x=\"509\" y=\"287\"/>\n                  \n        </bpmndi:BPMNLabel>\n              \n      </bpmndi:BPMNShape>\n            \n      <bpmndi:BPMNEdge bpmnElement=\"SequenceFlow_19n0ed3\" id=\"SequenceFlow_19n0ed3_di\">\n                \n        <di:waypoint x=\"478\" y=\"334\"/>\n                \n        <di:waypoint x=\"528\" y=\"334\"/>\n                \n        <bpmndi:BPMNLabel>\n                    \n          <dc:Bounds height=\"12\" width=\"0\" x=\"503\" y=\"148\"/>\n                  \n        </bpmndi:BPMNLabel>\n              \n      </bpmndi:BPMNEdge>\n            \n      <bpmndi:BPMNEdge bpmnElement=\"SequenceFlow_0jp92nl\" id=\"SequenceFlow_0jp92nl_di\">\n                \n        <di:waypoint x=\"578\" y=\"334\"/>\n                \n        <di:waypoint x=\"628\" y=\"334\"/>\n                \n        <bpmndi:BPMNLabel>\n                    \n          <dc:Bounds height=\"14\" width=\"15\" x=\"596\" y=\"313\"/>\n                  \n        </bpmndi:BPMNLabel>\n              \n      </bpmndi:BPMNEdge>\n            \n      <bpmndi:BPMNEdge bpmnElement=\"SequenceFlow_0vf6q5t\" id=\"SequenceFlow_0vf6q5t_di\">\n                \n        <di:waypoint x=\"553\" y=\"359\"/>\n                \n        <di:waypoint x=\"553\" y=\"553\"/>\n                \n        <di:waypoint x=\"628\" y=\"553\"/>\n                \n        <bpmndi:BPMNLabel>\n                    \n          <dc:Bounds height=\"14\" width=\"18\" x=\"560\" y=\"450\"/>\n                  \n        </bpmndi:BPMNLabel>\n              \n      </bpmndi:BPMNEdge>\n            \n      <bpmndi:BPMNShape bpmnElement=\"checkoutBook\" id=\"UserTask_1k6euka_di\">\n                \n        <dc:Bounds height=\"80\" width=\"100\" x=\"628\" y=\"513\"/>\n              \n      </bpmndi:BPMNShape>\n            \n      <bpmndi:BPMNShape bpmnElement=\"Task_0fyy1mq\" id=\"SendTask_0pd2avm_di\">\n                \n        <dc:Bounds height=\"80\" width=\"100\" x=\"628\" y=\"294\"/>\n              \n      </bpmndi:BPMNShape>\n            \n      <bpmndi:BPMNEdge bpmnElement=\"SequenceFlow_1mozvul\" id=\"SequenceFlow_1mozvul_di\">\n                \n        <di:waypoint x=\"728\" y=\"553\"/>\n                \n        <di:waypoint x=\"778\" y=\"553\"/>\n                \n        <bpmndi:BPMNLabel>\n                    \n          <dc:Bounds height=\"12\" width=\"0\" x=\"753\" y=\"367\"/>\n                  \n        </bpmndi:BPMNLabel>\n              \n      </bpmndi:BPMNEdge>\n            \n      <bpmndi:BPMNEdge bpmnElement=\"SequenceFlow_1gdprmj\" id=\"SequenceFlow_1gdprmj_di\">\n                \n        <di:waypoint x=\"728\" y=\"334\"/>\n                \n        <di:waypoint x=\"778\" y=\"334\"/>\n                \n        <bpmndi:BPMNLabel>\n                    \n          <dc:Bounds height=\"12\" width=\"0\" x=\"753\" y=\"148\"/>\n                  \n        </bpmndi:BPMNLabel>\n              \n      </bpmndi:BPMNEdge>\n            \n      <bpmndi:BPMNShape bpmnElement=\"ExclusiveGateway_186hbka\" id=\"EventBasedGateway_0lhsnkb_di\">\n                \n        <dc:Bounds height=\"50\" width=\"50\" x=\"778\" y=\"309\"/>\n                \n        <bpmndi:BPMNLabel>\n                    \n          <dc:Bounds height=\"12\" width=\"0\" x=\"803\" y=\"204\"/>\n                  \n        </bpmndi:BPMNLabel>\n              \n      </bpmndi:BPMNShape>\n            \n      <bpmndi:BPMNShape bpmnElement=\"IntermediateCatchEvent_0a1widf\" id=\"IntermediateCatchEvent_0a1widf_di\">\n                \n        <dc:Bounds height=\"36\" width=\"36\" x=\"878\" y=\"316\"/>\n                \n        <bpmndi:BPMNLabel>\n                    \n          <dc:Bounds height=\"14\" width=\"65\" x=\"864\" y=\"356\"/>\n                  \n        </bpmndi:BPMNLabel>\n              \n      </bpmndi:BPMNShape>\n            \n      <bpmndi:BPMNEdge bpmnElement=\"SequenceFlow_0i60o08\" id=\"SequenceFlow_0i60o08_di\">\n                \n        <di:waypoint x=\"828\" y=\"334\"/>\n                \n        <di:waypoint x=\"878\" y=\"334\"/>\n                \n        <bpmndi:BPMNLabel>\n                    \n          <dc:Bounds height=\"12\" width=\"0\" x=\"853\" y=\"148\"/>\n                  \n        </bpmndi:BPMNLabel>\n              \n      </bpmndi:BPMNEdge>\n            \n      <bpmndi:BPMNShape bpmnElement=\"IntermediateCatchEvent_0gj7pjl\" id=\"IntermediateCatchEvent_0gj7pjl_di\">\n                \n        <dc:Bounds height=\"36\" width=\"36\" x=\"878\" y=\"212\"/>\n                \n        <bpmndi:BPMNLabel>\n                    \n          <dc:Bounds height=\"14\" width=\"51\" x=\"871\" y=\"252\"/>\n                  \n        </bpmndi:BPMNLabel>\n              \n      </bpmndi:BPMNShape>\n            \n      <bpmndi:BPMNEdge bpmnElement=\"SequenceFlow_0f8uxqu\" id=\"SequenceFlow_0f8uxqu_di\">\n                \n        <di:waypoint x=\"803\" y=\"309\"/>\n                \n        <di:waypoint x=\"803\" y=\"230\"/>\n                \n        <di:waypoint x=\"878\" y=\"230\"/>\n                \n        <bpmndi:BPMNLabel>\n                    \n          <dc:Bounds height=\"12\" width=\"0\" x=\"818\" y=\"98.5\"/>\n                  \n        </bpmndi:BPMNLabel>\n              \n      </bpmndi:BPMNEdge>\n            \n      <bpmndi:BPMNShape bpmnElement=\"IntermediateCatchEvent_0dd9qc7\" id=\"IntermediateCatchEvent_0dd9qc7_di\">\n                \n        <dc:Bounds height=\"36\" width=\"36\" x=\"878\" y=\"424\"/>\n                \n        <bpmndi:BPMNLabel>\n                    \n          <dc:Bounds height=\"14\" width=\"52\" x=\"871\" y=\"464\"/>\n                  \n        </bpmndi:BPMNLabel>\n              \n      </bpmndi:BPMNShape>\n            \n      <bpmndi:BPMNEdge bpmnElement=\"SequenceFlow_1lceegs\" id=\"SequenceFlow_1lceegs_di\">\n                \n        <di:waypoint x=\"803\" y=\"359\"/>\n                \n        <di:waypoint x=\"803\" y=\"442\"/>\n                \n        <di:waypoint x=\"878\" y=\"442\"/>\n                \n        <bpmndi:BPMNLabel>\n                    \n          <dc:Bounds height=\"12\" width=\"0\" x=\"818\" y=\"229.5\"/>\n                  \n        </bpmndi:BPMNLabel>\n              \n      </bpmndi:BPMNEdge>\n            \n      <bpmndi:BPMNEdge bpmnElement=\"SequenceFlow_01mezfj\" id=\"SequenceFlow_01mezfj_di\">\n                \n        <di:waypoint x=\"914\" y=\"334\"/>\n                \n        <di:waypoint x=\"964\" y=\"334\"/>\n                \n        <bpmndi:BPMNLabel>\n                    \n          <dc:Bounds height=\"12\" width=\"0\" x=\"939\" y=\"148\"/>\n                  \n        </bpmndi:BPMNLabel>\n              \n      </bpmndi:BPMNEdge>\n            \n      <bpmndi:BPMNEdge bpmnElement=\"SequenceFlow_0jjjdth\" id=\"SequenceFlow_0jjjdth_di\">\n                \n        <di:waypoint x=\"914\" y=\"442\"/>\n                \n        <di:waypoint x=\"1014\" y=\"442\"/>\n                \n        <di:waypoint x=\"1014\" y=\"374\"/>\n                \n        <bpmndi:BPMNLabel>\n                    \n          <dc:Bounds height=\"12\" width=\"0\" x=\"964\" y=\"256\"/>\n                  \n        </bpmndi:BPMNLabel>\n              \n      </bpmndi:BPMNEdge>\n            \n      <bpmndi:BPMNShape bpmnElement=\"EndEvent_0kcx8gn\" id=\"EndEvent_0kcx8gn_di\">\n                \n        <dc:Bounds height=\"36\" width=\"36\" x=\"1114\" y=\"316\"/>\n                \n        <bpmndi:BPMNLabel>\n                    \n          <dc:Bounds height=\"27\" width=\"70\" x=\"1097\" y=\"286\"/>\n                  \n        </bpmndi:BPMNLabel>\n              \n      </bpmndi:BPMNShape>\n            \n      <bpmndi:BPMNEdge bpmnElement=\"SequenceFlow_0msajcc\" id=\"SequenceFlow_0msajcc_di\">\n                \n        <di:waypoint x=\"1064\" y=\"334\"/>\n                \n        <di:waypoint x=\"1114\" y=\"334\"/>\n                \n        <bpmndi:BPMNLabel>\n                    \n          <dc:Bounds height=\"12\" width=\"0\" x=\"1089\" y=\"148\"/>\n                  \n        </bpmndi:BPMNLabel>\n              \n      </bpmndi:BPMNEdge>\n            \n      <bpmndi:BPMNEdge bpmnElement=\"SequenceFlow_1gea84p\" id=\"SequenceFlow_1gea84p_di\">\n                \n        <di:waypoint x=\"878\" y=\"553\"/>\n                \n        <di:waypoint x=\"1132\" y=\"553\"/>\n                \n        <di:waypoint x=\"1132\" y=\"352\"/>\n                \n        <bpmndi:BPMNLabel>\n                    \n          <dc:Bounds height=\"12\" width=\"0\" x=\"1005\" y=\"367\"/>\n                  \n        </bpmndi:BPMNLabel>\n              \n      </bpmndi:BPMNEdge>\n            \n      <bpmndi:BPMNEdge bpmnElement=\"SequenceFlow_154q9ec\" id=\"SequenceFlow_154q9ec_di\">\n                \n        <di:waypoint x=\"914\" y=\"230\"/>\n                \n        <di:waypoint x=\"964\" y=\"230\"/>\n                \n        <bpmndi:BPMNLabel>\n                    \n          <dc:Bounds height=\"12\" width=\"0\" x=\"939\" y=\"44\"/>\n                  \n        </bpmndi:BPMNLabel>\n              \n      </bpmndi:BPMNEdge>\n            \n      <bpmndi:BPMNEdge bpmnElement=\"SequenceFlow_0zfoxl1\" id=\"SequenceFlow_0zfoxl1_di\">\n                \n        <di:waypoint x=\"1064\" y=\"230\"/>\n                \n        <di:waypoint x=\"1114\" y=\"230\"/>\n                \n        <bpmndi:BPMNLabel>\n                    \n          <dc:Bounds height=\"12\" width=\"0\" x=\"1089\" y=\"44\"/>\n                  \n        </bpmndi:BPMNLabel>\n              \n      </bpmndi:BPMNEdge>\n            \n      <bpmndi:BPMNEdge bpmnElement=\"SequenceFlow_01gp9uj\" id=\"SequenceFlow_01gp9uj_di\">\n                \n        <di:waypoint x=\"1164\" y=\"190\"/>\n                \n        <di:waypoint x=\"1164\" y=\"99\"/>\n                \n        <di:waypoint x=\"873\" y=\"99\"/>\n                \n        <bpmndi:BPMNLabel>\n                    \n          <dc:Bounds height=\"12\" width=\"0\" x=\"1179\" y=\"-26.5\"/>\n                  \n        </bpmndi:BPMNLabel>\n              \n      </bpmndi:BPMNEdge>\n            \n      <bpmndi:BPMNShape bpmnElement=\"IntermediateThrowEvent_17ddgu1\" id=\"IntermediateCatchEvent_06zhr1i_di\">\n                \n        <dc:Bounds height=\"36\" width=\"36\" x=\"837\" y=\"81\"/>\n                \n        <bpmndi:BPMNLabel>\n                    \n          <dc:Bounds height=\"14\" width=\"57\" x=\"827\" y=\"121\"/>\n                  \n        </bpmndi:BPMNLabel>\n              \n      </bpmndi:BPMNShape>\n            \n      <bpmndi:BPMNEdge bpmnElement=\"SequenceFlow_0dbiqt6\" id=\"SequenceFlow_0dbiqt6_di\">\n                \n        <di:waypoint x=\"837\" y=\"99\"/>\n                \n        <di:waypoint x=\"428\" y=\"99\"/>\n                \n        <di:waypoint x=\"428\" y=\"294\"/>\n                \n        <bpmndi:BPMNLabel>\n                    \n          <dc:Bounds height=\"12\" width=\"0\" x=\"632.5\" y=\"-87\"/>\n                  \n        </bpmndi:BPMNLabel>\n              \n      </bpmndi:BPMNEdge>\n            \n      <bpmndi:BPMNShape bpmnElement=\"Task_12p04yx\" id=\"SendTask_0c1sqiy_di\">\n                \n        <dc:Bounds height=\"80\" width=\"100\" x=\"778\" y=\"513\"/>\n              \n      </bpmndi:BPMNShape>\n            \n      <bpmndi:BPMNShape bpmnElement=\"Task_1x9vb2g\" id=\"ServiceTask_1d3dq9l_di\">\n                \n        <dc:Bounds height=\"80\" width=\"100\" x=\"964\" y=\"190\"/>\n              \n      </bpmndi:BPMNShape>\n            \n      <bpmndi:BPMNShape bpmnElement=\"Task_0hrmeet\" id=\"SendTask_1f2rlum_di\">\n                \n        <dc:Bounds height=\"80\" width=\"100\" x=\"964\" y=\"294\"/>\n              \n      </bpmndi:BPMNShape>\n            \n      <bpmndi:BPMNShape bpmnElement=\"Task_0ggoifp\" id=\"SendTask_059pg89_di\">\n                \n        <dc:Bounds height=\"80\" width=\"100\" x=\"1114\" y=\"190\"/>\n              \n      </bpmndi:BPMNShape>\n          \n    </bpmndi:BPMNPlane>\n      \n  </bpmndi:BPMNDiagram>\n  \n</bpmn:definitions>\n",[m
[31m-      "tableColumns" : {[m
[31m-        "includeNewVariables" : true,[m
[31m-        "excludedColumns" : [ ],[m
[31m-        "includedColumns" : [ ],[m
[31m-        "columnOrder" : [ ][m
[32m+[m[32m      "distributedBy": {[m
[32m+[m[32m        "type": "none",[m
[32m+[m[32m        "value": null[m
       },[m
[31m-      "targetValue" : {[m
[31m-        "countChart" : {[m
[31m-          "isBelow" : false,[m
[31m-          "value" : "100"[m
[31m-        },[m
[31m-        "durationProgress" : {[m
[31m-          "baseline" : {[m
[31m-            "unit" : "hours",[m
[31m-            "value" : "0"[m
[31m-          },[m
[31m-          "target" : {[m
[31m-            "unit" : "hours",[m
[31m-            "value" : "2",[m
[31m-            "isBelow" : false[m
[32m+[m[32m      "visualization": "bar",[m
[32m+[m[32m      "managementReport": false,[m
[32m+[m[32m      "instantPreviewReport": false,[m
[32m+[m[32m      "userTaskReport": false[m
[32m+[m[32m    }[m
[32m+[m[32m  },[m
[32m+[m[32m  {[m
[32m+[m[32m    "id": "39bb9f4e-c43c-4451-92af-75cad9f9333c",[m
[32m+[m[32m    "exportEntityType": "single_process_report",[m
[32m+[m[32m    "name": "processDashboard_bottlenecksInTheProcess",[m
[32m+[m[32m    "description": "processDashboard_bottlenecksInTheProcess-description",[m
[32m+[m[32m    "sourceIndexVersion": 11,[m
[32m+[m[32m    "collectionId": null,[m
[32m+[m[32m    "data": {[m
[32m+[m[32m      "configuration": {[m
[32m+[m[32m        "color": "#1991c8",[m
[32m+[m[32m        "aggregationTypes": [[m
[32m+[m[32m          {[m
[32m+[m[32m            "type": "avg",[m
[32m+[m[32m            "value": null[m
           }[m
[32m+[m[32m        ],[m
[32m+[m[32m        "userTaskDurationTimes": ["total"],[m
[32m+[m[32m        "showInstanceCount": false,[m
[32m+[m[32m        "pointMarkers": true,[m
[32m+[m[32m        "precision": null,[m
[32m+[m[32m        "hideRelativeValue": false,[m
[32m+[m[32m        "hideAbsoluteValue": false,[m
[32m+[m[32m        "alwaysShowRelative": false,[m
[32m+[m[32m        "alwaysShowAbsolute": false,[m
[32m+[m[32m        "showGradientBars": true,[m
[32m+[m[32m        "tableColumns": {[m
[32m+[m[32m          "includeNewVariables": true,[m
[32m+[m[32m          "excludedColumns": [],[m
[32m+[m[32m          "includedColumns": [],[m
[32m+[m[32m          "columnOrder": [][m
         },[m
[31m-        "active" : false,[m
[31m-        "countProgress" : {[m
[31m-          "baseline" : "0",[m
[31m-          "target" : "100",[m
[31m-          "isBelow" : false[m
[32m+[m[32m        "targetValue": {[m
[32m+[m[32m          "countChart": {[m
[32m+[m[32m            "isBelow": false,[m
[32m+[m[32m            "value": "100"[m
[32m+[m[32m          },[m
[32m+[m[32m          "durationProgress": {[m
[32m+[m[32m            "baseline": {[m
[32m+[m[32m              "unit": "hours",[m
[32m+[m[32m              "value": "0"[m
[32m+[m[32m            },[m
[32m+[m[32m            "target": {[m
[32m+[m[32m              "unit": "hours",[m
[32m+[m[32m              "value": "2",[m
[32m+[m[32m              "isBelow": false[m
[32m+[m[32m            }[m
[32m+[m[32m          },[m
[32m+[m[32m          "active": false,[m
[32m+[m[32m          "countProgress": {[m
[32m+[m[32m            "baseline": "0",[m
[32m+[m[32m            "target": "100",[m
[32m+[m[32m            "isBelow": false[m
[32m+[m[32m          },[m
[32m+[m[32m          "durationChart": {[m
[32m+[m[32m            "unit": "hours",[m
[32m+[m[32m            "isBelow": false,[m
[32m+[m[32m            "value": "2"[m
[32m+[m[32m          },[m
[32m+[m[32m          "isKpi": false[m
         },[m
[31m-        "durationChart" : {[m
[31m-          "unit" : "hours",[m
[31m-          "isBelow" : false,[m
[31m-          "value" : "2"[m
[32m+[m[32m        "heatmapTargetValue": {[m
[32m+[m[32m          "active": false,[m
[32m+[m[32m          "values": {}[m
         },[m
[31m-        "isKpi" : false[m
[31m-      },[m
[31m-      "heatmapTargetValue" : {[m
[31m-        "active" : false,[m
[31m-        "values" : { }[m
[31m-      },[m
[31m-      "groupByDateVariableUnit" : "automatic",[m
[31m-      "distributeByDateVariableUnit" : "automatic",[m
[31m-      "customBucket" : {[m
[31m-        "active" : false,[m
[31m-        "bucketSize" : "10.0",[m
[31m-        "bucketSizeUnit" : null,[m
[31m-        "baseline" : "0.0",[m
[31m-        "baselineUnit" : null[m
[31m-      },[m
[31m-      "distributeByCustomBucket" : {[m
[31m-        "active" : false,[m
[31m-        "bucketSize" : "10.0",[m
[31m-        "bucketSizeUnit" : null,[m
[31m-        "baseline" : "0.0",[m
[31m-        "baselineUnit" : null[m
[31m-      },[m
[31m-      "sorting" : {[m
[31m-        "by" : "key",[m
[31m-        "order" : "asc"[m
[32m+[m[32m        "groupByDateVariableUnit": "automatic",[m
[32m+[m[32m        "distributeByDateVariableUnit": "automatic",[m
[32m+[m[32m        "customBucket": {[m
[32m+[m[32m          "active": false,[m
[32m+[m[32m          "bucketSize": "10.0",[m
[32m+[m[32m          "bucketSizeUnit": null,[m
[32m+[m[32m          "baseline": "0.0",[m
[32m+[m[32m          "baselineUnit": null[m
[32m+[m[32m        },[m
[32m+[m[32m        "distributeByCustomBucket": {[m
[32m+[m[32m          "active": false,[m
[32m+[m[32m          "bucketSize": "10.0",[m
[32m+[m[32m          "bucketSizeUnit": null,[m
[32m+[m[32m          "baseline": "0.0",[m
[32m+[m[32m          "baselineUnit": null[m
[32m+[m[32m        },[m
[32m+[m[32m        "sorting": {[m
[32m+[m[32m          "by": "value",[m
[32m+[m[32m          "order": "desc"[m
[32m+[m[32m        },[m
[32m+[m[32m        "processPart": null,[m
[32m+[m[32m        "measureVisualizations": {[m
[32m+[m[32m          "frequency": "bar",[m
[32m+[m[32m          "duration": "line"[m
[32m+[m[32m        },[m
[32m+[m[32m        "stackedBar": false,[m
[32m+[m[32m        "horizontalBar": false,[m
[32m+[m[32m        "logScale": false,[m
[32m+[m[32m        "yLabel": "Flow Node Duration",[m
[32m+[m[32m        "xLabel": "Flow Nodes"[m
       },[m
[31m-      "processPart" : null,[m
[31m-      "measureVisualizations" : {[m
[31m-        "frequency" : "bar",[m
[31m-        "duration" : "line"[m
[32m+[m[32m      "definitions": [[m
[32m+[m[32m        {[m
[32m+[m[32m          "identifier": "definition",[m
[32m+[m[32m          "key": "bookrequest-suspended-instances",[m
[32m+[m[32m          "name": "Book Request with suspended process instances",[m
[32m+[m[32m          "displayName": "Book Request with suspended process instances",[m
[32m+[m[32m          "versions": ["all"],[m
[32m+[m[32m          "tenantIds": [[m
[32m+[m[32m            null,[m
[32m+[m[32m            "csm",[m
[32m+[m[32m            "engineering",[m
[32m+[m[32m            "hr",[m
[32m+[m[32m            "library",[m
[32m+[m[32m            "marketing",[m
[32m+[m[32m            "sales",[m
[32m+[m[32m            "support"[m
[32m+[m[32m          ][m
[32m+[m[32m        }[m
[32m+[m[32m      ],[m
[32m+[m[32m      "filter": [[m
[32m+[m[32m        {[m
[32m+[m[32m          "type": "instanceEndDate",[m
[32m+[m[32m          "data": {[m
[32m+[m[32m            "type": "rolling",[m
[32m+[m[32m            "start": {[m
[32m+[m[32m              "value": 6,[m
[32m+[m[32m              "unit": "months"[m
[32m+[m[32m            },[m
[32m+[m[32m            "end": null,[m
[32m+[m[32m            "includeUndefined": false,[m
[32m+[m[32m            "excludeUndefined": false[m
[32m+[m[32m          },[m
[32m+[m[32m          "filterLevel": "instance",[m
[32m+[m[32m          "appliedTo": ["all"][m
[32m+[m[32m        }[m
[32m+[m[32m      ],[m
[32m+[m[32m      "view": {[m
[32m+[m[32m        "entity": "flowNode",[m
[32m+[m[32m        "properties": ["duration"][m
       },[m
[31m-      "stackedBar" : false,[m
[31m-      "horizontalBar" : false,[m
[31m-      "logScale" : false,[m
[31m-      "yLabel" : "Process Instance Count",[m
[31m-      "xLabel" : "End Date"[m
[31m-    },[m
[31m-    "definitions" : [ {[m
[31m-      "identifier" : "definition",[m
[31m-      "key" : "bookrequest-1-tenant",[m
[31m-      "name" : "Book Request One Tenant",[m
[31m-      "displayName" : "Book Request One Tenant",[m
[31m-      "versions" : [ "all" ],[m
[31m-      "tenantIds" : [ "library" ][m
[31m-    } ],[m
[31m-    "filter" : [ {[m
[31m-      "type" : "instanceEndDate",[m
[31m-      "data" : {[m
[31m-        "type" : "rolling",[m
[31m-        "start" : {[m
[31m-          "value" : 1,[m
[31m-          "unit" : "years"[m
[31m-        },[m
[31m-        "end" : null,[m
[31m-        "includeUndefined" : false,[m
[31m-        "excludeUndefined" : false[m
[32m+[m[32m      "groupBy": {[m
[32m+[m[32m        "type": "flowNodes",[m
[32m+[m[32m        "value": null[m
       },[m
[31m-      "filterLevel" : "instance",[m
[31m-      "appliedTo" : [ "all" ][m
[31m-    } ],[m
[31m-    "view" : {[m
[31m-      "entity" : "processInstance",[m
[31m-      "properties" : [ "frequency" ][m
[31m-    },[m
[31m-    "groupBy" : {[m
[31m-      "type" : "endDate",[m
[31m-      "value" : {[m
[31m-        "unit" : "month"[m
[31m-      }[m
[31m-    },[m
[31m-    "distributedBy" : {[m
[31m-      "type" : "none",[m
[31m-      "value" : null[m
[31m-    },[m
[31m-    "visualization" : "bar",[m
[31m-    "managementReport" : false,[m
[31m-    "instantPreviewReport" : true,[m
[31m-    "userTaskReport" : false[m
[31m-  }[m
[31m-}, {[m
[31m-  "id" : "2b498b6c-4248-464f-8203-480eacd02382",[m
[31m-  "exportEntityType" : "single_process_report",[m
[31m-  "name" : "IP_TileText_BusinessOperations_Report2",[m
[31m-  "description" : null,[m
[31m-  "sourceIndexVersion" : 11,[m
[31m-  "collectionId" : null,[m
[31m-  "data" : {[m
[31m-    "configuration" : {[m
[31m-      "color" : "#DB3E00",[m
[31m-      "aggregationTypes" : [ {[m
[31m-        "type" : "avg",[m
[31m-        "value" : null[m
[31m-      } ],[m
[31m-      "userTaskDurationTimes" : [ "total" ],[m
[31m-      "showInstanceCount" : false,[m
[31m-      "pointMarkers" : true,[m
[31m-      "precision" : null,[m
[31m-      "hideRelativeValue" : false,[m
[31m-      "hideAbsoluteValue" : false,[m
[31m-      "alwaysShowRelative" : false,[m
[31m-      "alwaysShowAbsolute" : false,[m
[31m-      "showGradientBars" : true,[m
[31m-      "xml" : "<?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"no\"?>\n<bpmn:definitions xmlns:bpmn=\"http://www.omg.org/spec/BPMN/20100524/MODEL\" xmlns:bpmndi=\"http://www.omg.org/spec/BPMN/20100524/DI\" xmlns:camunda=\"http://camunda.org/schema/1.0/bpmn\" xmlns:dc=\"http://www.omg.org/spec/DD/20100524/DC\" xmlns:di=\"http://www.omg.org/spec/DD/20100524/DI\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" exporter=\"Camunda Modeler\" exporterVersion=\"3.1.0\" expressionLanguage=\"http://www.w3.org/1999/XPath\" id=\"Definitions_1iqy5bl\" targetNamespace=\"http://bpmn.io/schema/bpmn\" typeLanguage=\"http://www.w3.org/2001/XMLSchema\">\n    \n  <bpmn:process id=\"bookrequest-1-tenant\" isClosed=\"false\" isExecutable=\"true\" name=\"Book Request One Tenant\" processType=\"None\">\n        \n    <bpmn:startEvent camunda:asyncBefore=\"true\" id=\"StartEvent_1\" isInterrupting=\"true\" name=\"Received Book Request\" parallelMultiple=\"false\">\n            \n      <bpmn:outgoing>SequenceFlow_0yrmjj2</bpmn:outgoing>\n          \n    </bpmn:startEvent>\n        \n    <bpmn:sequenceFlow id=\"SequenceFlow_0yrmjj2\" sourceRef=\"StartEvent_1\" targetRef=\"Task_1hscozi\"/>\n        \n    <bpmn:receiveTask completionQuantity=\"1\" id=\"Task_1hscozi\" implementation=\"##WebService\" instantiate=\"false\" isForCompensation=\"false\" messageRef=\"Message_15xrx39\" name=\"Receive Book Request\" startQuantity=\"1\">\n            \n      <bpmn:incoming>SequenceFlow_0yrmjj2</bpmn:incoming>\n            \n      <bpmn:outgoing>SequenceFlow_1bzn5tn</bpmn:outgoing>\n          \n    </bpmn:receiveTask>\n        \n    <bpmn:sequenceFlow id=\"SequenceFlow_1bzn5tn\" sourceRef=\"Task_1hscozi\" targetRef=\"Task_1l3px0t\"/>\n        \n    <bpmn:serviceTask camunda:expression=\"${true}\" completionQuantity=\"1\" id=\"Task_1l3px0t\" implementation=\"##WebService\" isForCompensation=\"false\" name=\"Get Book Status\" startQuantity=\"1\">\n            \n      <bpmn:incoming>SequenceFlow_1bzn5tn</bpmn:incoming>\n            \n      <bpmn:incoming>SequenceFlow_0dbiqt6</bpmn:incoming>\n            \n      <bpmn:outgoing>SequenceFlow_19n0ed3</bpmn:outgoing>\n          \n    </bpmn:serviceTask>\n        \n    <bpmn:exclusiveGateway default=\"SequenceFlow_0vf6q5t\" gatewayDirection=\"Unspecified\" id=\"ExclusiveGateway_0i9u2oe\" name=\"Is book availalbe?\">\n            \n      <bpmn:extensionElements>\n                \n        <camunda:executionListener event=\"start\">\n                    \n          <camunda:script scriptFormat=\"groovy\">execution.setVariable(\"bookAvailable\", new Random().nextDouble()&lt;0.3 );</camunda:script>\n                  \n        </camunda:executionListener>\n              \n      </bpmn:extensionElements>\n            \n      <bpmn:incoming>SequenceFlow_19n0ed3</bpmn:incoming>\n            \n      <bpmn:outgoing>SequenceFlow_0jp92nl</bpmn:outgoing>\n            \n      <bpmn:outgoing>SequenceFlow_0vf6q5t</bpmn:outgoing>\n          \n    </bpmn:exclusiveGateway>\n        \n    <bpmn:sequenceFlow id=\"SequenceFlow_19n0ed3\" sourceRef=\"Task_1l3px0t\" targetRef=\"ExclusiveGateway_0i9u2oe\"/>\n        \n    <bpmn:sequenceFlow id=\"SequenceFlow_0jp92nl\" name=\"No\" sourceRef=\"ExclusiveGateway_0i9u2oe\" targetRef=\"Task_0fyy1mq\">\n            \n      <bpmn:conditionExpression xsi:type=\"bpmn:tFormalExpression\">${bookAvailable}</bpmn:conditionExpression>\n          \n    </bpmn:sequenceFlow>\n        \n    <bpmn:sequenceFlow id=\"SequenceFlow_0vf6q5t\" name=\"Yes\" sourceRef=\"ExclusiveGateway_0i9u2oe\" targetRef=\"checkoutBook\"/>\n        \n    <bpmn:userTask camunda:candidateGroups=\"management\" camunda:candidateUsers=\"demo\" completionQuantity=\"1\" id=\"checkoutBook\" implementation=\"##unspecified\" isForCompensation=\"false\" name=\"Checkout Book\" startQuantity=\"1\">\n            \n      <bpmn:incoming>SequenceFlow_0vf6q5t</bpmn:incoming>\n            \n      <bpmn:outgoing>SequenceFlow_1mozvul</bpmn:outgoing>\n          \n    </bpmn:userTask>\n        \n    <bpmn:sendTask camunda:expression=\"${true}\" completionQuantity=\"1\" id=\"Task_0fyy1mq\" implementation=\"##WebService\" isForCompensation=\"false\" name=\"On Loan Reply\" startQuantity=\"1\">\n            \n      <bpmn:incoming>SequenceFlow_0jp92nl</bpmn:incoming>\n            \n      <bpmn:outgoing>SequenceFlow_1gdprmj</bpmn:outgoing>\n          \n    </bpmn:sendTask>\n        \n    <bpmn:sequenceFlow id=\"SequenceFlow_1mozvul\" sourceRef=\"checkoutBook\" targetRef=\"Task_12p04yx\"/>\n        \n    <bpmn:sequenceFlow id=\"SequenceFlow_1gdprmj\" sourceRef=\"Task_0fyy1mq\" targetRef=\"ExclusiveGateway_186hbka\"/>\n        \n    <bpmn:eventBasedGateway eventGatewayType=\"Exclusive\" gatewayDirection=\"Unspecified\" id=\"ExclusiveGateway_186hbka\" instantiate=\"false\">\n            \n      <bpmn:incoming>SequenceFlow_1gdprmj</bpmn:incoming>\n            \n      <bpmn:outgoing>SequenceFlow_0i60o08</bpmn:outgoing>\n            \n      <bpmn:outgoing>SequenceFlow_0f8uxqu</bpmn:outgoing>\n            \n      <bpmn:outgoing>SequenceFlow_1lceegs</bpmn:outgoing>\n          \n    </bpmn:eventBasedGateway>\n        \n    <bpmn:intermediateCatchEvent id=\"IntermediateCatchEvent_0a1widf\" name=\"Decliine Hold\" parallelMultiple=\"false\">\n            \n      <bpmn:incoming>SequenceFlow_0i60o08</bpmn:incoming>\n            \n      <bpmn:outgoing>SequenceFlow_01mezfj</bpmn:outgoing>\n            \n      <bpmn:messageEventDefinition messageRef=\"Message_1o8fd0g\"/>\n          \n    </bpmn:intermediateCatchEvent>\n        \n    <bpmn:sequenceFlow id=\"SequenceFlow_0i60o08\" sourceRef=\"ExclusiveGateway_186hbka\" targetRef=\"IntermediateCatchEvent_0a1widf\"/>\n        \n    <bpmn:intermediateCatchEvent id=\"IntermediateCatchEvent_0gj7pjl\" name=\"Hold Book\" parallelMultiple=\"false\">\n            \n      <bpmn:incoming>SequenceFlow_0f8uxqu</bpmn:incoming>\n            \n      <bpmn:outgoing>SequenceFlow_154q9ec</bpmn:outgoing>\n            \n      <bpmn:messageEventDefinition messageRef=\"Message_0jhij3z\"/>\n          \n    </bpmn:intermediateCatchEvent>\n        \n    <bpmn:sequenceFlow id=\"SequenceFlow_0f8uxqu\" sourceRef=\"ExclusiveGateway_186hbka\" targetRef=\"IntermediateCatchEvent_0gj7pjl\"/>\n        \n    <bpmn:intermediateCatchEvent id=\"IntermediateCatchEvent_0dd9qc7\" name=\"One Week\" parallelMultiple=\"false\">\n            \n      <bpmn:incoming>SequenceFlow_1lceegs</bpmn:incoming>\n            \n      <bpmn:outgoing>SequenceFlow_0jjjdth</bpmn:outgoing>\n            \n      <bpmn:timerEventDefinition>\n                \n        <bpmn:timeDuration xsi:type=\"bpmn:tFormalExpression\">PT3S</bpmn:timeDuration>\n              \n      </bpmn:timerEventDefinition>\n          \n    </bpmn:intermediateCatchEvent>\n        \n    <bpmn:sequenceFlow id=\"SequenceFlow_1lceegs\" sourceRef=\"ExclusiveGateway_186hbka\" targetRef=\"IntermediateCatchEvent_0dd9qc7\"/>\n        \n    <bpmn:sequenceFlow id=\"SequenceFlow_01mezfj\" sourceRef=\"IntermediateCatchEvent_0a1widf\" targetRef=\"Task_0hrmeet\"/>\n        \n    <bpmn:sequenceFlow id=\"SequenceFlow_0jjjdth\" sourceRef=\"IntermediateCatchEvent_0dd9qc7\" targetRef=\"Task_0hrmeet\"/>\n        \n    <bpmn:endEvent id=\"EndEvent_0kcx8gn\" name=\"Book Request Processed\">\n            \n      <bpmn:incoming>SequenceFlow_0msajcc</bpmn:incoming>\n            \n      <bpmn:incoming>SequenceFlow_1gea84p</bpmn:incoming>\n          \n    </bpmn:endEvent>\n        \n    <bpmn:sequenceFlow id=\"SequenceFlow_0msajcc\" sourceRef=\"Task_0hrmeet\" targetRef=\"EndEvent_0kcx8gn\"/>\n        \n    <bpmn:sequenceFlow id=\"SequenceFlow_1gea84p\" sourceRef=\"Task_12p04yx\" targetRef=\"EndEvent_0kcx8gn\"/>\n        \n    <bpmn:sequenceFlow id=\"SequenceFlow_154q9ec\" sourceRef=\"IntermediateCatchEvent_0gj7pjl\" targetRef=\"Task_1x9vb2g\"/>\n        \n    <bpmn:sequenceFlow id=\"SequenceFlow_0zfoxl1\" sourceRef=\"Task_1x9vb2g\" targetRef=\"Task_0ggoifp\"/>\n        \n    <bpmn:sequenceFlow id=\"SequenceFlow_01gp9uj\" sourceRef=\"Task_0ggoifp\" targetRef=\"IntermediateThrowEvent_17ddgu1\"/>\n        \n    <bpmn:intermediateCatchEvent id=\"IntermediateThrowEvent_17ddgu1\" name=\"Two Weeks\" parallelMultiple=\"false\">\n            \n      <bpmn:incoming>SequenceFlow_01gp9uj</bpmn:incoming>\n            \n      <bpmn:outgoing>SequenceFlow_0dbiqt6</bpmn:outgoing>\n            \n      <bpmn:timerEventDefinition>\n                \n        <bpmn:timeDuration xsi:type=\"bpmn:tFormalExpression\">PT0S</bpmn:timeDuration>\n              \n      </bpmn:timerEventDefinition>\n          \n    </bpmn:intermediateCatchEvent>\n        \n    <bpmn:sequenceFlow id=\"SequenceFlow_0dbiqt6\" sourceRef=\"IntermediateThrowEvent_17ddgu1\" targetRef=\"Task_1l3px0t\"/>\n        \n    <bpmn:sendTask camunda:expression=\"${true}\" completionQuantity=\"1\" id=\"Task_12p04yx\" implementation=\"##WebService\" isForCompensation=\"false\" name=\"Checkout Reply\" startQuantity=\"1\">\n            \n      <bpmn:incoming>SequenceFlow_1mozvul</bpmn:incoming>\n            \n      <bpmn:outgoing>SequenceFlow_1gea84p</bpmn:outgoing>\n          \n    </bpmn:sendTask>\n        \n    <bpmn:serviceTask camunda:expression=\"$[true}\" completionQuantity=\"1\" id=\"Task_1x9vb2g\" implementation=\"##WebService\" isForCompensation=\"false\" name=\"Request Hold\" startQuantity=\"1\">\n            \n      <bpmn:incoming>SequenceFlow_154q9ec</bpmn:incoming>\n            \n      <bpmn:outgoing>SequenceFlow_0zfoxl1</bpmn:outgoing>\n          \n    </bpmn:serviceTask>\n        \n    <bpmn:sendTask camunda:expression=\"$[true}\" completionQuantity=\"1\" id=\"Task_0hrmeet\" implementation=\"##WebService\" isForCompensation=\"false\" name=\"Cancel Request\" startQuantity=\"1\">\n            \n      <bpmn:incoming>SequenceFlow_01mezfj</bpmn:incoming>\n            \n      <bpmn:incoming>SequenceFlow_0jjjdth</bpmn:incoming>\n            \n      <bpmn:outgoing>SequenceFlow_0msajcc</bpmn:outgoing>\n          \n    </bpmn:sendTask>\n        \n    <bpmn:sendTask camunda:expression=\"${true}\" completionQuantity=\"1\" id=\"Task_0ggoifp\" implementation=\"##WebService\" isForCompensation=\"false\" name=\"Hold Reply\" startQuantity=\"1\">\n            \n      <bpmn:incoming>SequenceFlow_0zfoxl1</bpmn:incoming>\n            \n      <bpmn:outgoing>SequenceFlow_01gp9uj</bpmn:outgoing>\n          \n    </bpmn:sendTask>\n      \n  </bpmn:process>\n    \n  <bpmn:message id=\"Message_15xrx39\" name=\"ReceivedBookRequest\"/>\n    \n  <bpmn:message id=\"Message_1o8fd0g\" name=\"DeclineHold\"/>\n    \n  <bpmn:message id=\"Message_0jhij3z\" name=\"HoldBook\"/>\n    \n  <bpmndi:BPMNDiagram id=\"BPMNDiagram_1\">\n        \n    <bpmndi:BPMNPlane bpmnElement=\"bookrequest\" id=\"BPMNPlane_1\">\n            \n      <bpmndi:BPMNShape bpmnElement=\"StartEvent_1\" id=\"_BPMNShape_StartEvent_2\">\n                \n        <dc:Bounds height=\"36\" width=\"36\" x=\"142\" y=\"316\"/>\n                \n        <bpmndi:BPMNLabel>\n                    \n          <dc:Bounds height=\"27\" width=\"74\" x=\"124\" y=\"352\"/>\n                  \n        </bpmndi:BPMNLabel>\n              \n      </bpmndi:BPMNShape>\n            \n      <bpmndi:BPMNEdge bpmnElement=\"SequenceFlow_0yrmjj2\" id=\"SequenceFlow_0yrmjj2_di\">\n                \n        <di:waypoint x=\"178\" y=\"334\"/>\n                \n        <di:waypoint x=\"228\" y=\"334\"/>\n                \n        <bpmndi:BPMNLabel>\n                    \n          <dc:Bounds height=\"12\" width=\"0\" x=\"203\" y=\"148\"/>\n                  \n        </bpmndi:BPMNLabel>\n              \n      </bpmndi:BPMNEdge>\n            \n      <bpmndi:BPMNShape bpmnElement=\"Task_1hscozi\" id=\"ReceiveTask_0u2soi3_di\">\n                \n        <dc:Bounds height=\"80\" width=\"100\" x=\"228\" y=\"294\"/>\n              \n      </bpmndi:BPMNShape>\n            \n      <bpmndi:BPMNEdge bpmnElement=\"SequenceFlow_1bzn5tn\" id=\"SequenceFlow_1bzn5tn_di\">\n                \n        <di:waypoint x=\"328\" y=\"334\"/>\n                \n        <di:waypoint x=\"378\" y=\"334\"/>\n                \n        <bpmndi:BPMNLabel>\n                    \n          <dc:Bounds height=\"12\" width=\"0\" x=\"353\" y=\"148\"/>\n                  \n        </bpmndi:BPMNLabel>\n              \n      </bpmndi:BPMNEdge>\n            \n      <bpmndi:BPMNShape bpmnElement=\"Task_1l3px0t\" id=\"ServiceTask_0fc8l5k_di\">\n                \n        <dc:Bounds height=\"80\" width=\"100\" x=\"378\" y=\"294\"/>\n              \n      </bpmndi:BPMNShape>\n            \n      <bpmndi:BPMNShape bpmnElement=\"ExclusiveGateway_0i9u2oe\" id=\"ExclusiveGateway_0i9u2oe_di\" isMarkerVisible=\"true\">\n                \n        <dc:Bounds height=\"50\" width=\"50\" x=\"528\" y=\"309\"/>\n                \n        <bpmndi:BPMNLabel>\n                    \n          <dc:Bounds height=\"14\" width=\"89\" x=\"509\" y=\"287\"/>\n                  \n        </bpmndi:BPMNLabel>\n              \n      </bpmndi:BPMNShape>\n            \n      <bpmndi:BPMNEdge bpmnElement=\"SequenceFlow_19n0ed3\" id=\"SequenceFlow_19n0ed3_di\">\n                \n        <di:waypoint x=\"478\" y=\"334\"/>\n                \n        <di:waypoint x=\"528\" y=\"334\"/>\n                \n        <bpmndi:BPMNLabel>\n                    \n          <dc:Bounds height=\"12\" width=\"0\" x=\"503\" y=\"148\"/>\n                  \n        </bpmndi:BPMNLabel>\n              \n      </bpmndi:BPMNEdge>\n            \n      <bpmndi:BPMNEdge bpmnElement=\"SequenceFlow_0jp92nl\" id=\"SequenceFlow_0jp92nl_di\">\n                \n        <di:waypoint x=\"578\" y=\"334\"/>\n                \n        <di:waypoint x=\"628\" y=\"334\"/>\n                \n        <bpmndi:BPMNLabel>\n                    \n          <dc:Bounds height=\"14\" width=\"15\" x=\"596\" y=\"313\"/>\n                  \n        </bpmndi:BPMNLabel>\n              \n      </bpmndi:BPMNEdge>\n            \n      <bpmndi:BPMNEdge bpmnElement=\"SequenceFlow_0vf6q5t\" id=\"SequenceFlow_0vf6q5t_di\">\n                \n        <di:waypoint x=\"553\" y=\"359\"/>\n                \n        <di:waypoint x=\"553\" y=\"553\"/>\n                \n        <di:waypoint x=\"628\" y=\"553\"/>\n                \n        <bpmndi:BPMNLabel>\n                    \n          <dc:Bounds height=\"14\" width=\"18\" x=\"560\" y=\"450\"/>\n                  \n        </bpmndi:BPMNLabel>\n              \n      </bpmndi:BPMNEdge>\n            \n      <bpmndi:BPMNShape bpmnElement=\"checkoutBook\" id=\"UserTask_1k6euka_di\">\n                \n        <dc:Bounds height=\"80\" width=\"100\" x=\"628\" y=\"513\"/>\n              \n      </bpmndi:BPMNShape>\n            \n      <bpmndi:BPMNShape bpmnElement=\"Task_0fyy1mq\" id=\"SendTask_0pd2avm_di\">\n                \n        <dc:Bounds height=\"80\" width=\"100\" x=\"628\" y=\"294\"/>\n              \n      </bpmndi:BPMNShape>\n            \n      <bpmndi:BPMNEdge bpmnElement=\"SequenceFlow_1mozvul\" id=\"SequenceFlow_1mozvul_di\">\n                \n        <di:waypoint x=\"728\" y=\"553\"/>\n                \n        <di:waypoint x=\"778\" y=\"553\"/>\n                \n        <bpmndi:BPMNLabel>\n                    \n          <dc:Bounds height=\"12\" width=\"0\" x=\"753\" y=\"367\"/>\n                  \n        </bpmndi:BPMNLabel>\n              \n      </bpmndi:BPMNEdge>\n            \n      <bpmndi:BPMNEdge bpmnElement=\"SequenceFlow_1gdprmj\" id=\"SequenceFlow_1gdprmj_di\">\n                \n        <di:waypoint x=\"728\" y=\"334\"/>\n                \n        <di:waypoint x=\"778\" y=\"334\"/>\n                \n        <bpmndi:BPMNLabel>\n                    \n          <dc:Bounds height=\"12\" width=\"0\" x=\"753\" y=\"148\"/>\n                  \n        </bpmndi:BPMNLabel>\n              \n      </bpmndi:BPMNEdge>\n            \n      <bpmndi:BPMNShape bpmnElement=\"ExclusiveGateway_186hbka\" id=\"EventBasedGateway_0lhsnkb_di\">\n                \n        <dc:Bounds height=\"50\" width=\"50\" x=\"778\" y=\"309\"/>\n                \n        <bpmndi:BPMNLabel>\n                    \n          <dc:Bounds height=\"12\" width=\"0\" x=\"803\" y=\"204\"/>\n                  \n        </bpmndi:BPMNLabel>\n              \n      </bpmndi:BPMNShape>\n            \n      <bpmndi:BPMNShape bpmnElement=\"IntermediateCatchEvent_0a1widf\" id=\"IntermediateCatchEvent_0a1widf_di\">\n                \n        <dc:Bounds height=\"36\" width=\"36\" x=\"878\" y=\"316\"/>\n                \n        <bpmndi:BPMNLabel>\n                    \n          <dc:Bounds height=\"14\" width=\"65\" x=\"864\" y=\"356\"/>\n                  \n        </bpmndi:BPMNLabel>\n              \n      </bpmndi:BPMNShape>\n            \n      <bpmndi:BPMNEdge bpmnElement=\"SequenceFlow_0i60o08\" id=\"SequenceFlow_0i60o08_di\">\n                \n        <di:waypoint x=\"828\" y=\"334\"/>\n                \n        <di:waypoint x=\"878\" y=\"334\"/>\n                \n        <bpmndi:BPMNLabel>\n                    \n          <dc:Bounds height=\"12\" width=\"0\" x=\"853\" y=\"148\"/>\n                  \n        </bpmndi:BPMNLabel>\n              \n      </bpmndi:BPMNEdge>\n            \n      <bpmndi:BPMNShape bpmnElement=\"IntermediateCatchEvent_0gj7pjl\" id=\"IntermediateCatchEvent_0gj7pjl_di\">\n                \n        <dc:Bounds height=\"36\" width=\"36\" x=\"878\" y=\"212\"/>\n                \n        <bpmndi:BPMNLabel>\n                    \n          <dc:Bounds height=\"14\" width=\"51\" x=\"871\" y=\"252\"/>\n                  \n        </bpmndi:BPMNLabel>\n              \n      </bpmndi:BPMNShape>\n            \n      <bpmndi:BPMNEdge bpmnElement=\"SequenceFlow_0f8uxqu\" id=\"SequenceFlow_0f8uxqu_di\">\n                \n        <di:waypoint x=\"803\" y=\"309\"/>\n                \n        <di:waypoint x=\"803\" y=\"230\"/>\n                \n        <di:waypoint x=\"878\" y=\"230\"/>\n                \n        <bpmndi:BPMNLabel>\n                    \n          <dc:Bounds height=\"12\" width=\"0\" x=\"818\" y=\"98.5\"/>\n                  \n        </bpmndi:BPMNLabel>\n              \n      </bpmndi:BPMNEdge>\n            \n      <bpmndi:BPMNShape bpmnElement=\"IntermediateCatchEvent_0dd9qc7\" id=\"IntermediateCatchEvent_0dd9qc7_di\">\n                \n        <dc:Bounds height=\"36\" width=\"36\" x=\"878\" y=\"424\"/>\n                \n        <bpmndi:BPMNLabel>\n                    \n          <dc:Bounds height=\"14\" width=\"52\" x=\"871\" y=\"464\"/>\n                  \n        </bpmndi:BPMNLabel>\n              \n      </bpmndi:BPMNShape>\n            \n      <bpmndi:BPMNEdge bpmnElement=\"SequenceFlow_1lceegs\" id=\"SequenceFlow_1lceegs_di\">\n                \n        <di:waypoint x=\"803\" y=\"359\"/>\n                \n        <di:waypoint x=\"803\" y=\"442\"/>\n                \n        <di:waypoint x=\"878\" y=\"442\"/>\n                \n        <bpmndi:BPMNLabel>\n                    \n          <dc:Bounds height=\"12\" width=\"0\" x=\"818\" y=\"229.5\"/>\n                  \n        </bpmndi:BPMNLabel>\n              \n      </bpmndi:BPMNEdge>\n            \n      <bpmndi:BPMNEdge bpmnElement=\"SequenceFlow_01mezfj\" id=\"SequenceFlow_01mezfj_di\">\n                \n        <di:waypoint x=\"914\" y=\"334\"/>\n                \n        <di:waypoint x=\"964\" y=\"334\"/>\n                \n        <bpmndi:BPMNLabel>\n                    \n          <dc:Bounds height=\"12\" width=\"0\" x=\"939\" y=\"148\"/>\n                  \n        </bpmndi:BPMNLabel>\n              \n      </bpmndi:BPMNEdge>\n            \n      <bpmndi:BPMNEdge bpmnElement=\"SequenceFlow_0jjjdth\" id=\"SequenceFlow_0jjjdth_di\">\n                \n        <di:waypoint x=\"914\" y=\"442\"/>\n                \n        <di:waypoint x=\"1014\" y=\"442\"/>\n                \n        <di:waypoint x=\"1014\" y=\"374\"/>\n                \n        <bpmndi:BPMNLabel>\n                    \n          <dc:Bounds height=\"12\" width=\"0\" x=\"964\" y=\"256\"/>\n                  \n        </bpmndi:BPMNLabel>\n              \n      </bpmndi:BPMNEdge>\n            \n      <bpmndi:BPMNShape bpmnElement=\"EndEvent_0kcx8gn\" id=\"EndEvent_0kcx8gn_di\">\n                \n        <dc:Bounds height=\"36\" width=\"36\" x=\"1114\" y=\"316\"/>\n                \n        <bpmndi:BPMNLabel>\n                    \n          <dc:Bounds height=\"27\" width=\"70\" x=\"1097\" y=\"286\"/>\n                  \n        </bpmndi:BPMNLabel>\n              \n      </bpmndi:BPMNShape>\n            \n      <bpmndi:BPMNEdge bpmnElement=\"SequenceFlow_0msajcc\" id=\"SequenceFlow_0msajcc_di\">\n                \n        <di:waypoint x=\"1064\" y=\"334\"/>\n                \n        <di:waypoint x=\"1114\" y=\"334\"/>\n                \n        <bpmndi:BPMNLabel>\n                    \n          <dc:Bounds height=\"12\" width=\"0\" x=\"1089\" y=\"148\"/>\n                  \n        </bpmndi:BPMNLabel>\n              \n      </bpmndi:BPMNEdge>\n            \n      <bpmndi:BPMNEdge bpmnElement=\"SequenceFlow_1gea84p\" id=\"SequenceFlow_1gea84p_di\">\n                \n        <di:waypoint x=\"878\" y=\"553\"/>\n                \n        <di:waypoint x=\"1132\" y=\"553\"/>\n                \n        <di:waypoint x=\"1132\" y=\"352\"/>\n                \n        <bpmndi:BPMNLabel>\n                    \n          <dc:Bounds height=\"12\" width=\"0\" x=\"1005\" y=\"367\"/>\n                  \n        </bpmndi:BPMNLabel>\n              \n      </bpmndi:BPMNEdge>\n            \n      <bpmndi:BPMNEdge bpmnElement=\"SequenceFlow_154q9ec\" id=\"SequenceFlow_154q9ec_di\">\n                \n        <di:waypoint x=\"914\" y=\"230\"/>\n                \n        <di:waypoint x=\"964\" y=\"230\"/>\n                \n        <bpmndi:BPMNLabel>\n                    \n          <dc:Bounds height=\"12\" width=\"0\" x=\"939\" y=\"44\"/>\n                  \n        </bpmndi:BPMNLabel>\n              \n      </bpmndi:BPMNEdge>\n            \n      <bpmndi:BPMNEdge bpmnElement=\"SequenceFlow_0zfoxl1\" id=\"SequenceFlow_0zfoxl1_di\">\n                \n        <di:waypoint x=\"1064\" y=\"230\"/>\n                \n        <di:waypoint x=\"1114\" y=\"230\"/>\n                \n        <bpmndi:BPMNLabel>\n                    \n          <dc:Bounds height=\"12\" width=\"0\" x=\"1089\" y=\"44\"/>\n                  \n        </bpmndi:BPMNLabel>\n              \n      </bpmndi:BPMNEdge>\n            \n      <bpmndi:BPMNEdge bpmnElement=\"SequenceFlow_01gp9uj\" id=\"SequenceFlow_01gp9uj_di\">\n                \n        <di:waypoint x=\"1164\" y=\"190\"/>\n                \n        <di:waypoint x=\"1164\" y=\"99\"/>\n                \n        <di:waypoint x=\"873\" y=\"99\"/>\n                \n        <bpmndi:BPMNLabel>\n                    \n          <dc:Bounds height=\"12\" width=\"0\" x=\"1179\" y=\"-26.5\"/>\n                  \n        </bpmndi:BPMNLabel>\n              \n      </bpmndi:BPMNEdge>\n            \n      <bpmndi:BPMNShape bpmnElement=\"IntermediateThrowEvent_17ddgu1\" id=\"IntermediateCatchEvent_06zhr1i_di\">\n                \n        <dc:Bounds height=\"36\" width=\"36\" x=\"837\" y=\"81\"/>\n                \n        <bpmndi:BPMNLabel>\n                    \n          <dc:Bounds height=\"14\" width=\"57\" x=\"827\" y=\"121\"/>\n                  \n        </bpmndi:BPMNLabel>\n              \n      </bpmndi:BPMNShape>\n            \n      <bpmndi:BPMNEdge bpmnElement=\"SequenceFlow_0dbiqt6\" id=\"SequenceFlow_0dbiqt6_di\">\n                \n        <di:waypoint x=\"837\" y=\"99\"/>\n                \n        <di:waypoint x=\"428\" y=\"99\"/>\n                \n        <di:waypoint x=\"428\" y=\"294\"/>\n                \n        <bpmndi:BPMNLabel>\n                    \n          <dc:Bounds height=\"12\" width=\"0\" x=\"632.5\" y=\"-87\"/>\n                  \n        </bpmndi:BPMNLabel>\n              \n      </bpmndi:BPMNEdge>\n            \n      <bpmndi:BPMNShape bpmnElement=\"Task_12p04yx\" id=\"SendTask_0c1sqiy_di\">\n                \n        <dc:Bounds height=\"80\" width=\"100\" x=\"778\" y=\"513\"/>\n              \n      </bpmndi:BPMNShape>\n            \n      <bpmndi:BPMNShape bpmnElement=\"Task_1x9vb2g\" id=\"ServiceTask_1d3dq9l_di\">\n                \n        <dc:Bounds height=\"80\" width=\"100\" x=\"964\" y=\"190\"/>\n              \n      </bpmndi:BPMNShape>\n            \n      <bpmndi:BPMNShape bpmnElement=\"Task_0hrmeet\" id=\"SendTask_1f2rlum_di\">\n                \n        <dc:Bounds height=\"80\" width=\"100\" x=\"964\" y=\"294\"/>\n              \n      </bpmndi:BPMNShape>\n            \n      <bpmndi:BPMNShape bpmnElement=\"Task_0ggoifp\" id=\"SendTask_059pg89_di\">\n                \n        <dc:Bounds height=\"80\" width=\"100\" x=\"1114\" y=\"190\"/>\n              \n      </bpmndi:BPMNShape>\n          \n    </bpmndi:BPMNPlane>\n      \n  </bpmndi:BPMNDiagram>\n  \n</bpmn:definitions>\n",[m
[31m-      "tableColumns" : {[m
[31m-        "includeNewVariables" : true,[m
[31m-        "excludedColumns" : [ ],[m
[31m-        "includedColumns" : [ ],[m
[31m-        "columnOrder" : [ ][m
[32m+[m[32m      "distributedBy": {[m
[32m+[m[32m        "type": "none",[m
[32m+[m[32m        "value": null[m
       },[m
[31m-      "targetValue" : {[m
[31m-        "countChart" : {[m
[31m-          "isBelow" : false,[m
[31m-          "value" : "100"[m
[31m-        },[m
[31m-        "durationProgress" : {[m
[31m-          "baseline" : {[m
[31m-            "unit" : "hours",[m
[31m-            "value" : "0"[m
[31m-          },[m
[31m-          "target" : {[m
[31m-            "unit" : "hours",[m
[31m-            "value" : "2",[m
[31m-            "isBelow" : false[m
[32m+[m[32m      "visualization": "heat",[m
[32m+[m[32m      "managementReport": false,[m
[32m+[m[32m      "instantPreviewReport": false,[m
[32m+[m[32m      "userTaskReport": false[m
[32m+[m[32m    }[m
[32m+[m[32m  },[m
[32m+[m[32m  {[m
[32m+[m[32m    "id": "25f44c6b-173d-4958-82f5-5c0282f47e3b",[m
[32m+[m[32m    "exportEntityType": "single_process_report",[m
[32m+[m[32m    "name": "processDashboard_incomingInLast7Days",[m
[32m+[m[32m    "description": "processDashboard_incomingInLast7Days-description",[m
[32m+[m[32m    "sourceIndexVersion": 11,[m
[32m+[m[32m    "collectionId": null,[m
[32m+[m[32m    "data": {[m
[32m+[m[32m      "configuration": {[m
[32m+[m[32m        "color": "#1991c8",[m
[32m+[m[32m        "aggregationTypes": [[m
[32m+[m[32m          {[m
[32m+[m[32m            "type": "avg",[m
[32m+[m[32m            "value": null[m
           }[m
[32m+[m[32m        ],[m
[32m+[m[32m        "userTaskDurationTimes": ["total"],[m
[32m+[m[32m        "showInstanceCount": false,[m
[32m+[m[32m        "pointMarkers": true,[m
[32m+[m[32m        "precision": null,[m
[32m+[m[32m        "hideRelativeValue": false,[m
[32m+[m[32m        "hideAbsoluteValue": false,[m
[32m+[m[32m        "alwaysShowRelative": false,[m
[32m+[m[32m        "alwaysShowAbsolute": false,[m
[32m+[m[32m        "showGradientBars": true,[m
[32m+[m[32m        "tableColumns": {[m
[32m+[m[32m          "includeNewVariables": true,[m
[32m+[m[32m          "excludedColumns": [],[m
[32m+[m[32m          "includedColumns": [],[m
[32m+[m[32m          "columnOrder": [][m
         },[m
[31m-        "active" : false,[m
[31m-        "countProgress" : {[m
[31m-          "baseline" : "0",[m
[31m-          "target" : "100",[m
[31m-          "isBelow" : false[m
[32m+[m[32m        "targetValue": {[m
[32m+[m[32m          "countChart": {[m
[32m+[m[32m            "isBelow": false,[m
[32m+[m[32m            "value": "100"[m
[32m+[m[32m          },[m
[32m+[m[32m          "durationProgress": {[m
[32m+[m[32m            "baseline": {[m
[32m+[m[32m              "unit": "hours",[m
[32m+[m[32m              "value": "0"[m
[32m+[m[32m            },[m
[32m+[m[32m            "target": {[m
[32m+[m[32m              "unit": "hours",[m
[32m+[m[32m              "value": "2",[m
[32m+[m[32m              "isBelow": false[m
[32m+[m[32m            }[m
[32m+[m[32m          },[m
[32m+[m[32m          "active": false,[m
[32m+[m[32m          "countProgress": {[m
[32m+[m[32m            "baseline": "0",[m
[32m+[m[32m            "target": "100",[m
[32m+[m[32m            "isBelow": false[m
[32m+[m[32m          },[m
[32m+[m[32m          "durationChart": {[m
[32m+[m[32m            "unit": "hours",[m
[32m+[m[32m            "isBelow": false,[m
[32m+[m[32m            "value": "2"[m
[32m+[m[32m          },[m
[32m+[m[32m          "isKpi": false[m
         },[m
[31m-        "durationChart" : {[m
[31m-          "unit" : "hours",[m
[31m-          "isBelow" : false,[m
[31m-          "value" : "2"[m
[32m+[m[32m        "heatmapTargetValue": {[m
[32m+[m[32m          "active": false,[m
[32m+[m[32m          "values": {}[m
         },[m
[31m-        "isKpi" : false[m
[31m-      },[m
[31m-      "heatmapTargetValue" : {[m
[31m-        "active" : false,[m
[31m-        "values" : { }[m
[31m-      },[m
[31m-      "groupByDateVariableUnit" : "automatic",[m
[31m-      "distributeByDateVariableUnit" : "automatic",[m
[31m-      "customBucket" : {[m
[31m-        "active" : false,[m
[31m-        "bucketSize" : "10.0",[m
[31m-        "bucketSizeUnit" : null,[m
[31m-        "baseline" : "0.0",[m
[31m-        "baselineUnit" : null[m
[31m-      },[m
[31m-      "distributeByCustomBucket" : {[m
[31m-        "active" : false,[m
[31m-        "bucketSize" : "10.0",[m
[31m-        "bucketSizeUnit" : null,[m
[31m-        "baseline" : "0.0",[m
[31m-        "baselineUnit" : null[m
[31m-      },[m
[31m-      "sorting" : {[m
[31m-        "by" : "key",[m
[31m-        "order" : "asc"[m
[32m+[m[32m        "groupByDateVariableUnit": "automatic",[m
[32m+[m[32m        "distributeByDateVariableUnit": "automatic",[m
[32m+[m[32m        "customBucket": {[m
[32m+[m[32m          "active": false,[m
[32m+[m[32m          "bucketSize": "10.0",[m
[32m+[m[32m          "bucketSizeUnit": null,[m
[32m+[m[32m          "baseline": "0.0",[m
[32m+[m[32m          "baselineUnit": null[m
[32m+[m[32m        },[m
[32m+[m[32m        "distributeByCustomBucket": {[m
[32m+[m[32m          "active": false,[m
[32m+[m[32m          "bucketSize": "10.0",[m
[32m+[m[32m          "bucketSizeUnit": null,[m
[32m+[m[32m          "baseline": "0.0",[m
[32m+[m[32m          "baselineUnit": null[m
[32m+[m[32m        },[m
[32m+[m[32m        "sorting": {[m
[32m+[m[32m          "by": "key",[m
[32m+[m[32m          "order": "desc"[m
[32m+[m[32m        },[m
[32m+[m[32m        "processPart": null,[m
[32m+[m[32m        "measureVisualizations": {[m
[32m+[m[32m          "frequency": "bar",[m
[32m+[m[32m          "duration": "line"[m
[32m+[m[32m        },[m
[32m+[m[32m        "stackedBar": false,[m
[32m+[m[32m        "horizontalBar": false,[m
[32m+[m[32m        "logScale": false,[m
[32m+[m[32m        "yLabel": "Process Instance Count",[m
[32m+[m[32m        "xLabel": "None"[m
       },[m
[31m-      "processPart" : null,[m
[31m-      "measureVisualizations" : {[m
[31m-        "frequency" : "bar",[m
[31m-        "duration" : "line"[m
[32m+[m[32m      "definitions": [[m
[32m+[m[32m        {[m
[32m+[m[32m          "identifier": "definition",[m
[32m+[m[32m          "key": "bookrequest-suspended-instances",[m
[32m+[m[32m          "name": "Book Request with suspended process instances",[m
[32m+[m[32m          "displayName": "Book Request with suspended process instances",[m
[32m+[m[32m          "versions": ["all"],[m
[32m+[m[32m          "tenantIds": [[m
[32m+[m[32m            null,[m
[32m+[m[32m            "csm",[m
[32m+[m[32m            "engineering",[m
[32m+[m[32m            "hr",[m
[32m+[m[32m            "library",[m
[32m+[m[32m            "marketing",[m
[32m+[m[32m            "sales",[m
[32m+[m[32m            "support"[m
[32m+[m[32m          ][m
[32m+[m[32m        }[m
[32m+[m[32m      ],[m
[32m+[m[32m      "filter": [[m
[32m+[m[32m        {[m
[32m+[m[32m          "type": "instanceStartDate",[m
[32m+[m[32m          "data": {[m
[32m+[m[32m            "type": "rolling",[m
[32m+[m[32m            "start": {[m
[32m+[m[32m              "value": 7,[m
[32m+[m[32m              "unit": "days"[m
[32m+[m[32m            },[m
[32m+[m[32m            "end": null,[m
[32m+[m[32m            "includeUndefined": false,[m
[32m+[m[32m            "excludeUndefined": false[m
[32m+[m[32m          },[m
[32m+[m[32m          "filterLevel": "instance",[m
[32m+[m[32m          "appliedTo": ["all"][m
[32m+[m[32m        }[m
[32m+[m[32m      ],[m
[32m+[m[32m      "view": {[m
[32m+[m[32m        "entity": "processInstance",[m
[32m+[m[32m        "properties": ["frequency"][m
       },[m
[31m-      "stackedBar" : false,[m
[31m-      "horizontalBar" : false,[m
[31m-      "logScale" : false,[m
[31m-      "yLabel" : "Process Instance Count",[m
[31m-      "xLabel" : "Start Date"[m
[31m-    },[m
[31m-    "definitions" : [ {[m
[31m-      "identifier" : "definition",[m
[31m-      "key" : "bookrequest-1-tenant",[m
[31m-      "name" : "Book Request One Tenant",[m
[31m-      "displayName" : "Book Request One Tenant",[m
[31m-      "versions" : [ "all" ],[m
[31m-      "tenantIds" : [ "library" ][m
[31m-    } ],[m
[31m-    "filter" : [ {[m
[31m-      "type" : "instanceStartDate",[m
[31m-      "data" : {[m
[31m-        "type" : "rolling",[m
[31m-        "start" : {[m
[31m-          "value" : 7,[m
[31m-          "unit" : "days"[m
[31m-        },[m
[31m-        "end" : null,[m
[31m-        "includeUndefined" : false,[m
[31m-        "excludeUndefined" : false[m
[32m+[m[32m      "groupBy": {[m
[32m+[m[32m        "type": "none",[m
[32m+[m[32m        "value": null[m
       },[m
[31m-      "filterLevel" : "instance",[m
[31m-      "appliedTo" : [ "all" ][m
[31m-    } ],[m
[31m-    "view" : {[m
[31m-      "entity" : "processInstance",[m
[31m-      "properties" : [ "frequency" ][m
[31m-    },[m
[31m-    "groupBy" : {[m
[31m-      "type" : "startDate",[m
[31m-      "value" : {[m
[31m-        "unit" : "day"[m
[31m-      }[m
[31m-    },[m
[31m-    "distributedBy" : {[m
[31m-      "type" : "none",[m
[31m-      "value" : null[m
[31m-    },[m
[31m-    "visualization" : "line",[m
[31m-    "managementReport" : false,[m
[31m-    "instantPreviewReport" : true,[m
[31m-    "userTaskReport" : false[m
[31m-  }[m
[31m-}, {[m
[31m-  "id" : "33288428-52bd-476a-8974-d6724a5d52d2",[m
[31m-  "exportEntityType" : "single_process_report",[m
[31m-  "name" : "IP_TileText_BusinessOperations_Report4",[m
[31m-  "description" : null,[m
[31m-  "sourceIndexVersion" : 11,[m
[31m-  "collectionId" : null,[m
[31m-  "data" : {[m
[31m-    "configuration" : {[m
[31m-      "color" : "#1991c8",[m
[31m-      "aggregationTypes" : [ {[m
[31m-        "type" : "avg",[m
[31m-        "value" : null[m
[31m-      } ],[m
[31m-      "userTaskDurationTimes" : [ "total" ],[m
[31m-      "showInstanceCount" : false,[m
[31m-      "pointMarkers" : true,[m
[31m-      "precision" : null,[m
[31m-      "hideRelativeValue" : false,[m
[31m-      "hideAbsoluteValue" : false,[m
[31m-      "alwaysShowRelative" : false,[m
[31m-      "alwaysShowAbsolute" : false,[m
[31m-      "showGradientBars" : true,[m
[31m-      "xml" : "<?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"no\"?>\n<bpmn:definitions xmlns:bpmn=\"http://www.omg.org/spec/BPMN/20100524/MODEL\" xmlns:bpmndi=\"http://www.omg.org/spec/BPMN/20100524/DI\" xmlns:camunda=\"http://camunda.org/schema/1.0/bpmn\" xmlns:dc=\"http://www.omg.org/spec/DD/20100524/DC\" xmlns:di=\"http://www.omg.org/spec/DD/20100524/DI\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" exporter=\"Camunda Modeler\" exporterVersion=\"3.1.0\" expressionLanguage=\"http://www.w3.org/1999/XPath\" id=\"Definitions_1iqy5bl\" targetNamespace=\"http://bpmn.io/schema/bpmn\" typeLanguage=\"http://www.w3.org/2001/XMLSchema\">\n    \n  <bpmn:process id=\"bookrequest-1-tenant\" isClosed=\"false\" isExecutable=\"true\" name=\"Book Request One Tenant\" processType=\"None\">\n        \n    <bpmn:startEvent camunda:asyncBefore=\"true\" id=\"StartEvent_1\" isInterrupting=\"true\" name=\"Received Book Request\" parallelMultiple=\"false\">\n            \n      <bpmn:outgoing>SequenceFlow_0yrmjj2</bpmn:outgoing>\n          \n    </bpmn:startEvent>\n        \n    <bpmn:sequenceFlow id=\"SequenceFlow_0yrmjj2\" sourceRef=\"StartEvent_1\" targetRef=\"Task_1hscozi\"/>\n        \n    <bpmn:receiveTask completionQuantity=\"1\" id=\"Task_1hscozi\" implementation=\"##WebService\" instantiate=\"false\" isForCompensation=\"false\" messageRef=\"Message_15xrx39\" name=\"Receive Book Request\" startQuantity=\"1\">\n            \n      <bpmn:incoming>SequenceFlow_0yrmjj2</bpmn:incoming>\n            \n      <bpmn:outgoing>SequenceFlow_1bzn5tn</bpmn:outgoing>\n          \n    </bpmn:receiveTask>\n        \n    <bpmn:sequenceFlow id=\"SequenceFlow_1bzn5tn\" sourceRef=\"Task_1hscozi\" targetRef=\"Task_1l3px0t\"/>\n        \n    <bpmn:serviceTask camunda:expression=\"${true}\" completionQuantity=\"1\" id=\"Task_1l3px0t\" implementation=\"##WebService\" isForCompensation=\"false\" name=\"Get Book Status\" startQuantity=\"1\">\n            \n      <bpmn:incoming>SequenceFlow_1bzn5tn</bpmn:incoming>\n            \n      <bpmn:incoming>SequenceFlow_0dbiqt6</bpmn:incoming>\n            \n      <bpmn:outgoing>SequenceFlow_19n0ed3</bpmn:outgoing>\n          \n    </bpmn:serviceTask>\n        \n    <bpmn:exclusiveGateway default=\"SequenceFlow_0vf6q5t\" gatewayDirection=\"Unspecified\" id=\"ExclusiveGateway_0i9u2oe\" name=\"Is book availalbe?\">\n            \n      <bpmn:extensionElements>\n                \n        <camunda:executionListener event=\"start\">\n                    \n          <camunda:script scriptFormat=\"groovy\">execution.setVariable(\"bookAvailable\", new Random().nextDouble()&lt;0.3 );</camunda:script>\n                  \n        </camunda:executionListener>\n              \n      </bpmn:extensionElements>\n            \n      <bpmn:incoming>SequenceFlow_19n0ed3</bpmn:incoming>\n            \n      <bpmn:outgoing>SequenceFlow_0jp92nl</bpmn:outgoing>\n            \n      <bpmn:outgoing>SequenceFlow_0vf6q5t</bpmn:outgoing>\n          \n    </bpmn:exclusiveGateway>\n        \n    <bpmn:sequenceFlow id=\"SequenceFlow_19n0ed3\" sourceRef=\"Task_1l3px0t\" targetRef=\"ExclusiveGateway_0i9u2oe\"/>\n        \n    <bpmn:sequenceFlow id=\"SequenceFlow_0jp92nl\" name=\"No\" sourceRef=\"ExclusiveGateway_0i9u2oe\" targetRef=\"Task_0fyy1mq\">\n            \n      <bpmn:conditionExpression xsi:type=\"bpmn:tFormalExpression\">${bookAvailable}</bpmn:conditionExpression>\n          \n    </bpmn:sequenceFlow>\n        \n    <bpmn:sequenceFlow id=\"SequenceFlow_0vf6q5t\" name=\"Yes\" sourceRef=\"ExclusiveGateway_0i9u2oe\" targetRef=\"checkoutBook\"/>\n        \n    <bpmn:userTask camunda:candidateGroups=\"management\" camunda:candidateUsers=\"demo\" completionQuantity=\"1\" id=\"checkoutBook\" implementation=\"##unspecified\" isForCompensation=\"false\" name=\"Checkout Book\" startQuantity=\"1\">\n            \n      <bpmn:incoming>SequenceFlow_0vf6q5t</bpmn:incoming>\n            \n      <bpmn:outgoing>SequenceFlow_1mozvul</bpmn:outgoing>\n          \n    </bpmn:userTask>\n        \n    <bpmn:sendTask camunda:expression=\"${true}\" completionQuantity=\"1\" id=\"Task_0fyy1mq\" implementation=\"##WebService\" isForCompensation=\"false\" name=\"On Loan Reply\" startQuantity=\"1\">\n            \n      <bpmn:incoming>SequenceFlow_0jp92nl</bpmn:incoming>\n            \n      <bpmn:outgoing>SequenceFlow_1gdprmj</bpmn:outgoing>\n          \n    </bpmn:sendTask>\n        \n    <bpmn:sequenceFlow id=\"SequenceFlow_1mozvul\" sourceRef=\"checkoutBook\" targetRef=\"Task_12p04yx\"/>\n        \n    <bpmn:sequenceFlow id=\"SequenceFlow_1gdprmj\" sourceRef=\"Task_0fyy1mq\" targetRef=\"ExclusiveGateway_186hbka\"/>\n        \n    <bpmn:eventBasedGateway eventGatewayType=\"Exclusive\" gatewayDirection=\"Unspecified\" id=\"ExclusiveGateway_186hbka\" instantiate=\"false\">\n            \n      <bpmn:incoming>SequenceFlow_1gdprmj</bpmn:incoming>\n            \n      <bpmn:outgoing>SequenceFlow_0i60o08</bpmn:outgoing>\n            \n      <bpmn:outgoing>SequenceFlow_0f8uxqu</bpmn:outgoing>\n            \n      <bpmn:outgoing>SequenceFlow_1lceegs</bpmn:outgoing>\n          \n    </bpmn:eventBasedGateway>\n        \n    <bpmn:intermediateCatchEvent id=\"IntermediateCatchEvent_0a1widf\" name=\"Decliine Hold\" parallelMultiple=\"false\">\n            \n      <bpmn:incoming>SequenceFlow_0i60o08</bpmn:incoming>\n            \n      <bpmn:outgoing>SequenceFlow_01mezfj</bpmn:outgoing>\n            \n      <bpmn:messageEventDefinition messageRef=\"Message_1o8fd0g\"/>\n          \n    </bpmn:intermediateCatchEvent>\n        \n    <bpmn:sequenceFlow id=\"SequenceFlow_0i60o08\" sourceRef=\"ExclusiveGateway_186hbka\" targetRef=\"IntermediateCatchEvent_0a1widf\"/>\n        \n    <bpmn:intermediateCatchEvent id=\"IntermediateCatchEvent_0gj7pjl\" name=\"Hold Book\" parallelMultiple=\"false\">\n            \n      <bpmn:incoming>SequenceFlow_0f8uxqu</bpmn:incoming>\n            \n      <bpmn:outgoing>SequenceFlow_154q9ec</bpmn:outgoing>\n            \n      <bpmn:messageEventDefinition messageRef=\"Message_0jhij3z\"/>\n          \n    </bpmn:intermediateCatchEvent>\n        \n    <bpmn:sequenceFlow id=\"SequenceFlow_0f8uxqu\" sourceRef=\"ExclusiveGateway_186hbka\" targetRef=\"IntermediateCatchEvent_0gj7pjl\"/>\n        \n    <bpmn:intermediateCatchEvent id=\"IntermediateCatchEvent_0dd9qc7\" name=\"One Week\" parallelMultiple=\"false\">\n            \n      <bpmn:incoming>SequenceFlow_1lceegs</bpmn:incoming>\n            \n      <bpmn:outgoing>SequenceFlow_0jjjdth</bpmn:outgoing>\n            \n      <bpmn:timerEventDefinition>\n                \n        <bpmn:timeDuration xsi:type=\"bpmn:tFormalExpression\">PT3S</bpmn:timeDuration>\n              \n      </bpmn:timerEventDefinition>\n          \n    </bpmn:intermediateCatchEvent>\n        \n    <bpmn:sequenceFlow id=\"SequenceFlow_1lceegs\" sourceRef=\"ExclusiveGateway_186hbka\" targetRef=\"IntermediateCatchEvent_0dd9qc7\"/>\n        \n    <bpmn:sequenceFlow id=\"SequenceFlow_01mezfj\" sourceRef=\"IntermediateCatchEvent_0a1widf\" targetRef=\"Task_0hrmeet\"/>\n        \n    <bpmn:sequenceFlow id=\"SequenceFlow_0jjjdth\" sourceRef=\"IntermediateCatchEvent_0dd9qc7\" targetRef=\"Task_0hrmeet\"/>\n        \n    <bpmn:endEvent id=\"EndEvent_0kcx8gn\" name=\"Book Request Processed\">\n            \n      <bpmn:incoming>SequenceFlow_0msajcc</bpmn:incoming>\n            \n      <bpmn:incoming>SequenceFlow_1gea84p</bpmn:incoming>\n          \n    </bpmn:endEvent>\n        \n    <bpmn:sequenceFlow id=\"SequenceFlow_0msajcc\" sourceRef=\"Task_0hrmeet\" targetRef=\"EndEvent_0kcx8gn\"/>\n        \n    <bpmn:sequenceFlow id=\"SequenceFlow_1gea84p\" sourceRef=\"Task_12p04yx\" targetRef=\"EndEvent_0kcx8gn\"/>\n        \n    <bpmn:sequenceFlow id=\"SequenceFlow_154q9ec\" sourceRef=\"IntermediateCatchEvent_0gj7pjl\" targetRef=\"Task_1x9vb2g\"/>\n        \n    <bpmn:sequenceFlow id=\"SequenceFlow_0zfoxl1\" sourceRef=\"Task_1x9vb2g\" targetRef=\"Task_0ggoifp\"/>\n        \n    <bpmn:sequenceFlow id=\"SequenceFlow_01gp9uj\" sourceRef=\"Task_0ggoifp\" targetRef=\"IntermediateThrowEvent_17ddgu1\"/>\n        \n    <bpmn:intermediateCatchEvent id=\"IntermediateThrowEvent_17ddgu1\" name=\"Two Weeks\" parallelMultiple=\"false\">\n            \n      <bpmn:incoming>SequenceFlow_01gp9uj</bpmn:incoming>\n            \n      <bpmn:outgoing>SequenceFlow_0dbiqt6</bpmn:outgoing>\n            \n      <bpmn:timerEventDefinition>\n                \n        <bpmn:timeDuration xsi:type=\"bpmn:tFormalExpression\">PT0S</bpmn:timeDuration>\n              \n      </bpmn:timerEventDefinition>\n          \n    </bpmn:intermediateCatchEvent>\n        \n    <bpmn:sequenceFlow id=\"SequenceFlow_0dbiqt6\" sourceRef=\"IntermediateThrowEvent_17ddgu1\" targetRef=\"Task_1l3px0t\"/>\n        \n    <bpmn:sendTask camunda:expression=\"${true}\" completionQuantity=\"1\" id=\"Task_12p04yx\" implementation=\"##WebService\" isForCompensation=\"false\" name=\"Checkout Reply\" startQuantity=\"1\">\n            \n      <bpmn:incoming>SequenceFlow_1mozvul</bpmn:incoming>\n            \n      <bpmn:outgoing>SequenceFlow_1gea84p</bpmn:outgoing>\n          \n    </bpmn:sendTask>\n        \n    <bpmn:serviceTask camunda:expression=\"$[true}\" completionQuantity=\"1\" id=\"Task_1x9vb2g\" implementation=\"##WebService\" isForCompensation=\"false\" name=\"Request Hold\" startQuantity=\"1\">\n            \n      <bpmn:incoming>SequenceFlow_154q9ec</bpmn:incoming>\n            \n      <bpmn:outgoing>SequenceFlow_0zfoxl1</bpmn:outgoing>\n          \n    </bpmn:serviceTask>\n        \n    <bpmn:sendTask camunda:expression=\"$[true}\" completionQuantity=\"1\" id=\"Task_0hrmeet\" implementation=\"##WebService\" isForCompensation=\"false\" name=\"Cancel Request\" startQuantity=\"1\">\n            \n      <bpmn:incoming>SequenceFlow_01mezfj</bpmn:incoming>\n            \n      <bpmn:incoming>SequenceFlow_0jjjdth</bpmn:incoming>\n            \n      <bpmn:outgoing>SequenceFlow_0msajcc</bpmn:outgoing>\n          \n    </bpmn:sendTask>\n        \n    <bpmn:sendTask camunda:expression=\"${true}\" completionQuantity=\"1\" id=\"Task_0ggoifp\" implementation=\"##WebService\" isForCompensation=\"false\" name=\"Hold Reply\" startQuantity=\"1\">\n            \n      <bpmn:incoming>SequenceFlow_0zfoxl1</bpmn:incoming>\n            \n      <bpmn:outgoing>SequenceFlow_01gp9uj</bpmn:outgoing>\n          \n    </bpmn:sendTask>\n      \n  </bpmn:process>\n    \n  <bpmn:message id=\"Message_15xrx39\" name=\"ReceivedBookRequest\"/>\n    \n  <bpmn:message id=\"Message_1o8fd0g\" name=\"DeclineHold\"/>\n    \n  <bpmn:message id=\"Message_0jhij3z\" name=\"HoldBook\"/>\n    \n  <bpmndi:BPMNDiagram id=\"BPMNDiagram_1\">\n        \n    <bpmndi:BPMNPlane bpmnElement=\"bookrequest\" id=\"BPMNPlane_1\">\n            \n      <bpmndi:BPMNShape bpmnElement=\"StartEvent_1\" id=\"_BPMNShape_StartEvent_2\">\n                \n        <dc:Bounds height=\"36\" width=\"36\" x=\"142\" y=\"316\"/>\n                \n        <bpmndi:BPMNLabel>\n                    \n          <dc:Bounds height=\"27\" width=\"74\" x=\"124\" y=\"352\"/>\n                  \n        </bpmndi:BPMNLabel>\n              \n      </bpmndi:BPMNShape>\n            \n      <bpmndi:BPMNEdge bpmnElement=\"SequenceFlow_0yrmjj2\" id=\"SequenceFlow_0yrmjj2_di\">\n                \n        <di:waypoint x=\"178\" y=\"334\"/>\n                \n        <di:waypoint x=\"228\" y=\"334\"/>\n                \n        <bpmndi:BPMNLabel>\n                    \n          <dc:Bounds height=\"12\" width=\"0\" x=\"203\" y=\"148\"/>\n                  \n        </bpmndi:BPMNLabel>\n              \n      </bpmndi:BPMNEdge>\n            \n      <bpmndi:BPMNShape bpmnElement=\"Task_1hscozi\" id=\"ReceiveTask_0u2soi3_di\">\n                \n        <dc:Bounds height=\"80\" width=\"100\" x=\"228\" y=\"294\"/>\n              \n      </bpmndi:BPMNShape>\n            \n      <bpmndi:BPMNEdge bpmnElement=\"SequenceFlow_1bzn5tn\" id=\"SequenceFlow_1bzn5tn_di\">\n                \n        <di:waypoint x=\"328\" y=\"334\"/>\n                \n        <di:waypoint x=\"378\" y=\"334\"/>\n                \n        <bpmndi:BPMNLabel>\n                    \n          <dc:Bounds height=\"12\" width=\"0\" x=\"353\" y=\"148\"/>\n                  \n        </bpmndi:BPMNLabel>\n              \n      </bpmndi:BPMNEdge>\n            \n      <bpmndi:BPMNShape bpmnElement=\"Task_1l3px0t\" id=\"ServiceTask_0fc8l5k_di\">\n                \n        <dc:Bounds height=\"80\" width=\"100\" x=\"378\" y=\"294\"/>\n              \n      </bpmndi:BPMNShape>\n            \n      <bpmndi:BPMNShape bpmnElement=\"ExclusiveGateway_0i9u2oe\" id=\"ExclusiveGateway_0i9u2oe_di\" isMarkerVisible=\"true\">\n                \n        <dc:Bounds height=\"50\" width=\"50\" x=\"528\" y=\"309\"/>\n                \n        <bpmndi:BPMNLabel>\n                    \n          <dc:Bounds height=\"14\" width=\"89\" x=\"509\" y=\"287\"/>\n                  \n        </bpmndi:BPMNLabel>\n              \n      </bpmndi:BPMNShape>\n            \n      <bpmndi:BPMNEdge bpmnElement=\"SequenceFlow_19n0ed3\" id=\"SequenceFlow_19n0ed3_di\">\n                \n        <di:waypoint x=\"478\" y=\"334\"/>\n                \n        <di:waypoint x=\"528\" y=\"334\"/>\n                \n        <bpmndi:BPMNLabel>\n                    \n          <dc:Bounds height=\"12\" width=\"0\" x=\"503\" y=\"148\"/>\n                  \n        </bpmndi:BPMNLabel>\n              \n      </bpmndi:BPMNEdge>\n            \n      <bpmndi:BPMNEdge bpmnElement=\"SequenceFlow_0jp92nl\" id=\"SequenceFlow_0jp92nl_di\">\n                \n        <di:waypoint x=\"578\" y=\"334\"/>\n                \n        <di:waypoint x=\"628\" y=\"334\"/>\n                \n        <bpmndi:BPMNLabel>\n                    \n          <dc:Bounds height=\"14\" width=\"15\" x=\"596\" y=\"313\"/>\n                  \n        </bpmndi:BPMNLabel>\n              \n      </bpmndi:BPMNEdge>\n            \n      <bpmndi:BPMNEdge bpmnElement=\"SequenceFlow_0vf6q5t\" id=\"SequenceFlow_0vf6q5t_di\">\n                \n        <di:waypoint x=\"553\" y=\"359\"/>\n                \n        <di:waypoint x=\"553\" y=\"553\"/>\n                \n        <di:waypoint x=\"628\" y=\"553\"/>\n                \n        <bpmndi:BPMNLabel>\n                    \n          <dc:Bounds height=\"14\" width=\"18\" x=\"560\" y=\"450\"/>\n                  \n        </bpmndi:BPMNLabel>\n              \n      </bpmndi:BPMNEdge>\n            \n      <bpmndi:BPMNShape bpmnElement=\"checkoutBook\" id=\"UserTask_1k6euka_di\">\n                \n        <dc:Bounds height=\"80\" width=\"100\" x=\"628\" y=\"513\"/>\n              \n      </bpmndi:BPMNShape>\n            \n      <bpmndi:BPMNShape bpmnElement=\"Task_0fyy1mq\" id=\"SendTask_0pd2avm_di\">\n                \n        <dc:Bounds height=\"80\" width=\"100\" x=\"628\" y=\"294\"/>\n              \n      </bpmndi:BPMNShape>\n            \n      <bpmndi:BPMNEdge bpmnElement=\"SequenceFlow_1mozvul\" id=\"SequenceFlow_1mozvul_di\">\n                \n        <di:waypoint x=\"728\" y=\"553\"/>\n                \n        <di:waypoint x=\"778\" y=\"553\"/>\n                \n        <bpmndi:BPMNLabel>\n                    \n          <dc:Bounds height=\"12\" width=\"0\" x=\"753\" y=\"367\"/>\n                  \n        </bpmndi:BPMNLabel>\n              \n      </bpmndi:BPMNEdge>\n            \n      <bpmndi:BPMNEdge bpmnElement=\"SequenceFlow_1gdprmj\" id=\"SequenceFlow_1gdprmj_di\">\n                \n        <di:waypoint x=\"728\" y=\"334\"/>\n                \n        <di:waypoint x=\"778\" y=\"334\"/>\n                \n        <bpmndi:BPMNLabel>\n                    \n          <dc:Bounds height=\"12\" width=\"0\" x=\"753\" y=\"148\"/>\n                  \n        </bpmndi:BPMNLabel>\n              \n      </bpmndi:BPMNEdge>\n            \n      <bpmndi:BPMNShape bpmnElement=\"ExclusiveGateway_186hbka\" id=\"EventBasedGateway_0lhsnkb_di\">\n                \n        <dc:Bounds height=\"50\" width=\"50\" x=\"778\" y=\"309\"/>\n                \n        <bpmndi:BPMNLabel>\n                    \n          <dc:Bounds height=\"12\" width=\"0\" x=\"803\" y=\"204\"/>\n                  \n        </bpmndi:BPMNLabel>\n              \n      </bpmndi:BPMNShape>\n            \n      <bpmndi:BPMNShape bpmnElement=\"IntermediateCatchEvent_0a1widf\" id=\"IntermediateCatchEvent_0a1widf_di\">\n                \n        <dc:Bounds height=\"36\" width=\"36\" x=\"878\" y=\"316\"/>\n                \n        <bpmndi:BPMNLabel>\n                    \n          <dc:Bounds height=\"14\" width=\"65\" x=\"864\" y=\"356\"/>\n                  \n        </bpmndi:BPMNLabel>\n              \n      </bpmndi:BPMNShape>\n            \n      <bpmndi:BPMNEdge bpmnElement=\"SequenceFlow_0i60o08\" id=\"SequenceFlow_0i60o08_di\">\n                \n        <di:waypoint x=\"828\" y=\"334\"/>\n                \n        <di:waypoint x=\"878\" y=\"334\"/>\n                \n        <bpmndi:BPMNLabel>\n                    \n          <dc:Bounds height=\"12\" width=\"0\" x=\"853\" y=\"148\"/>\n                  \n        </bpmndi:BPMNLabel>\n              \n      </bpmndi:BPMNEdge>\n            \n      <bpmndi:BPMNShape bpmnElement=\"IntermediateCatchEvent_0gj7pjl\" id=\"IntermediateCatchEvent_0gj7pjl_di\">\n                \n        <dc:Bounds height=\"36\" width=\"36\" x=\"878\" y=\"212\"/>\n                \n        <bpmndi:BPMNLabel>\n                    \n          <dc:Bounds height=\"14\" width=\"51\" x=\"871\" y=\"252\"/>\n                  \n        </bpmndi:BPMNLabel>\n              \n      </bpmndi:BPMNShape>\n            \n      <bpmndi:BPMNEdge bpmnElement=\"SequenceFlow_0f8uxqu\" id=\"SequenceFlow_0f8uxqu_di\">\n                \n        <di:waypoint x=\"803\" y=\"309\"/>\n                \n        <di:waypoint x=\"803\" y=\"230\"/>\n                \n        <di:waypoint x=\"878\" y=\"230\"/>\n                \n        <bpmndi:BPMNLabel>\n                    \n          <dc:Bounds height=\"12\" width=\"0\" x=\"818\" y=\"98.5\"/>\n                  \n        </bpmndi:BPMNLabel>\n              \n      </bpmndi:BPMNEdge>\n            \n      <bpmndi:BPMNShape bpmnElement=\"IntermediateCatchEvent_0dd9qc7\" id=\"IntermediateCatchEvent_0dd9qc7_di\">\n                \n        <dc:Bounds height=\"36\" width=\"36\" x=\"878\" y=\"424\"/>\n                \n        <bpmndi:BPMNLabel>\n                    \n          <dc:Bounds height=\"14\" width=\"52\" x=\"871\" y=\"464\"/>\n                  \n        </bpmndi:BPMNLabel>\n              \n      </bpmndi:BPMNShape>\n            \n      <bpmndi:BPMNEdge bpmnElement=\"SequenceFlow_1lceegs\" id=\"SequenceFlow_1lceegs_di\">\n                \n        <di:waypoint x=\"803\" y=\"359\"/>\n                \n        <di:waypoint x=\"803\" y=\"442\"/>\n                \n        <di:waypoint x=\"878\" y=\"442\"/>\n                \n        <bpmndi:BPMNLabel>\n                    \n          <dc:Bounds height=\"12\" width=\"0\" x=\"818\" y=\"229.5\"/>\n                  \n        </bpmndi:BPMNLabel>\n              \n      </bpmndi:BPMNEdge>\n            \n      <bpmndi:BPMNEdge bpmnElement=\"SequenceFlow_01mezfj\" id=\"SequenceFlow_01mezfj_di\">\n                \n        <di:waypoint x=\"914\" y=\"334\"/>\n                \n        <di:waypoint x=\"964\" y=\"334\"/>\n                \n        <bpmndi:BPMNLabel>\n                    \n          <dc:Bounds height=\"12\" width=\"0\" x=\"939\" y=\"148\"/>\n                  \n        </bpmndi:BPMNLabel>\n              \n      </bpmndi:BPMNEdge>\n            \n      <bpmndi:BPMNEdge bpmnElement=\"SequenceFlow_0jjjdth\" id=\"SequenceFlow_0jjjdth_di\">\n                \n        <di:waypoint x=\"914\" y=\"442\"/>\n                \n        <di:waypoint x=\"1014\" y=\"442\"/>\n                \n        <di:waypoint x=\"1014\" y=\"374\"/>\n                \n        <bpmndi:BPMNLabel>\n                    \n          <dc:Bounds height=\"12\" width=\"0\" x=\"964\" y=\"256\"/>\n                  \n        </bpmndi:BPMNLabel>\n              \n      </bpmndi:BPMNEdge>\n            \n      <bpmndi:BPMNShape bpmnElement=\"EndEvent_0kcx8gn\" id=\"EndEvent_0kcx8gn_di\">\n                \n        <dc:Bounds height=\"36\" width=\"36\" x=\"1114\" y=\"316\"/>\n                \n        <bpmndi:BPMNLabel>\n                    \n          <dc:Bounds height=\"27\" width=\"70\" x=\"1097\" y=\"286\"/>\n                  \n        </bpmndi:BPMNLabel>\n              \n      </bpmndi:BPMNShape>\n            \n      <bpmndi:BPMNEdge bpmnElement=\"SequenceFlow_0msajcc\" id=\"SequenceFlow_0msajcc_di\">\n                \n        <di:waypoint x=\"1064\" y=\"334\"/>\n                \n        <di:waypoint x=\"1114\" y=\"334\"/>\n                \n        <bpmndi:BPMNLabel>\n                    \n          <dc:Bounds height=\"12\" width=\"0\" x=\"1089\" y=\"148\"/>\n                  \n        </bpmndi:BPMNLabel>\n              \n      </bpmndi:BPMNEdge>\n            \n      <bpmndi:BPMNEdge bpmnElement=\"SequenceFlow_1gea84p\" id=\"SequenceFlow_1gea84p_di\">\n                \n        <di:waypoint x=\"878\" y=\"553\"/>\n                \n        <di:waypoint x=\"1132\" y=\"553\"/>\n                \n        <di:waypoint x=\"1132\" y=\"352\"/>\n                \n        <bpmndi:BPMNLabel>\n                    \n          <dc:Bounds height=\"12\" width=\"0\" x=\"1005\" y=\"367\"/>\n                  \n        </bpmndi:BPMNLabel>\n              \n      </bpmndi:BPMNEdge>\n            \n      <bpmndi:BPMNEdge bpmnElement=\"SequenceFlow_154q9ec\" id=\"SequenceFlow_154q9ec_di\">\n                \n        <di:waypoint x=\"914\" y=\"230\"/>\n                \n        <di:waypoint x=\"964\" y=\"230\"/>\n                \n        <bpmndi:BPMNLabel>\n                    \n          <dc:Bounds height=\"12\" width=\"0\" x=\"939\" y=\"44\"/>\n                  \n        </bpmndi:BPMNLabel>\n              \n      </bpmndi:BPMNEdge>\n            \n      <bpmndi:BPMNEdge bpmnElement=\"SequenceFlow_0zfoxl1\" id=\"SequenceFlow_0zfoxl1_di\">\n                \n        <di:waypoint x=\"1064\" y=\"230\"/>\n                \n        <di:waypoint x=\"1114\" y=\"230\"/>\n                \n        <bpmndi:BPMNLabel>\n                    \n          <dc:Bounds height=\"12\" width=\"0\" x=\"1089\" y=\"44\"/>\n                  \n        </bpmndi:BPMNLabel>\n              \n      </bpmndi:BPMNEdge>\n            \n      <bpmndi:BPMNEdge bpmnElement=\"SequenceFlow_01gp9uj\" id=\"SequenceFlow_01gp9uj_di\">\n                \n        <di:waypoint x=\"1164\" y=\"190\"/>\n                \n        <di:waypoint x=\"1164\" y=\"99\"/>\n                \n        <di:waypoint x=\"873\" y=\"99\"/>\n                \n        <bpmndi:BPMNLabel>\n                    \n          <dc:Bounds height=\"12\" width=\"0\" x=\"1179\" y=\"-26.5\"/>\n                  \n        </bpmndi:BPMNLabel>\n              \n      </bpmndi:BPMNEdge>\n            \n      <bpmndi:BPMNShape bpmnElement=\"IntermediateThrowEvent_17ddgu1\" id=\"IntermediateCatchEvent_06zhr1i_di\">\n                \n        <dc:Bounds height=\"36\" width=\"36\" x=\"837\" y=\"81\"/>\n                \n        <bpmndi:BPMNLabel>\n                    \n          <dc:Bounds height=\"14\" width=\"57\" x=\"827\" y=\"121\"/>\n                  \n        </bpmndi:BPMNLabel>\n              \n      </bpmndi:BPMNShape>\n            \n      <bpmndi:BPMNEdge bpmnElement=\"SequenceFlow_0dbiqt6\" id=\"SequenceFlow_0dbiqt6_di\">\n                \n        <di:waypoint x=\"837\" y=\"99\"/>\n                \n        <di:waypoint x=\"428\" y=\"99\"/>\n                \n        <di:waypoint x=\"428\" y=\"294\"/>\n                \n        <bpmndi:BPMNLabel>\n                    \n          <dc:Bounds height=\"12\" width=\"0\" x=\"632.5\" y=\"-87\"/>\n                  \n        </bpmndi:BPMNLabel>\n              \n      </bpmndi:BPMNEdge>\n            \n      <bpmndi:BPMNShape bpmnElement=\"Task_12p04yx\" id=\"SendTask_0c1sqiy_di\">\n                \n        <dc:Bounds height=\"80\" width=\"100\" x=\"778\" y=\"513\"/>\n              \n      </bpmndi:BPMNShape>\n            \n      <bpmndi:BPMNShape bpmnElement=\"Task_1x9vb2g\" id=\"ServiceTask_1d3dq9l_di\">\n                \n        <dc:Bounds height=\"80\" width=\"100\" x=\"964\" y=\"190\"/>\n              \n      </bpmndi:BPMNShape>\n            \n      <bpmndi:BPMNShape bpmnElement=\"Task_0hrmeet\" id=\"SendTask_1f2rlum_di\">\n                \n        <dc:Bounds height=\"80\" width=\"100\" x=\"964\" y=\"294\"/>\n              \n      </bpmndi:BPMNShape>\n            \n      <bpmndi:BPMNShape bpmnElement=\"Task_0ggoifp\" id=\"SendTask_059pg89_di\">\n                \n        <dc:Bounds height=\"80\" width=\"100\" x=\"1114\" y=\"190\"/>\n              \n      </bpmndi:BPMNShape>\n          \n    </bpmndi:BPMNPlane>\n      \n  </bpmndi:BPMNDiagram>\n  \n</bpmn:definitions>\n",[m
[31m-      "tableColumns" : {[m
[31m-        "includeNewVariables" : true,[m
[31m-        "excludedColumns" : [ ],[m
[31m-        "includedColumns" : [ ],[m
[31m-        "columnOrder" : [ ][m
[32m+[m[32m      "distributedBy": {[m
[32m+[m[32m        "type": "none",[m
[32m+[m[32m        "value": null[m
       },[m
[31m-      "targetValue" : {[m
[31m-        "countChart" : {[m
[31m-          "isBelow" : false,[m
[31m-          "value" : "100"[m
[31m-        },[m
[31m-        "durationProgress" : {[m
[31m-          "baseline" : {[m
[31m-            "unit" : "hours",[m
[31m-            "value" : "0"[m
[31m-          },[m
[31m-          "target" : {[m
[31m-            "unit" : "hours",[m
[31m-            "value" : "2",[m
[31m-            "isBelow" : false[m
[32m+[m[32m      "visualization": "number",[m
[32m+[m[32m      "managementReport": false,[m
[32m+[m[32m      "instantPreviewReport": false,[m
[32m+[m[32m      "userTaskReport": false[m
[32m+[m[32m    }[m
[32m+[m[32m  },[m
[32m+[m[32m  {[m
[32m+[m[32m    "id": "2f622f77-6b5a-4d26-893d-ee69de3ea696",[m
[32m+[m[32m    "exportEntityType": "single_process_report",[m
[32m+[m[32m    "name": "processDashboard_currentlyOpenIncidents",[m
[32m+[m[32m    "description": "processDashboard_currentlyOpenIncidents-description",[m
[32m+[m[32m    "sourceIndexVersion": 11,[m
[32m+[m[32m    "collectionId": null,[m
[32m+[m[32m    "data": {[m
[32m+[m[32m      "configuration": {[m
[32m+[m[32m        "color": "#1991c8",[m
[32m+[m[32m        "aggregationTypes": [[m
[32m+[m[32m          {[m
[32m+[m[32m            "type": "avg",[m
[32m+[m[32m            "value": null[m
           }[m
[32m+[m[32m        ],[m
[32m+[m[32m        "userTaskDurationTimes": ["total"],[m
[32m+[m[32m        "showInstanceCount": false,[m
[32m+[m[32m        "pointMarkers": true,[m
[32m+[m[32m        "precision": null,[m
[32m+[m[32m        "hideRelativeValue": false,[m
[32m+[m[32m        "hideAbsoluteValue": false,[m
[32m+[m[32m        "alwaysShowRelative": false,[m
[32m+[m[32m        "alwaysShowAbsolute": true,[m
[32m+[m[32m        "showGradientBars": true,[m
[32m+[m[32m        "tableColumns": {[m
[32m+[m[32m          "includeNewVariables": true,[m
[32m+[m[32m          "excludedColumns": [],[m
[32m+[m[32m          "includedColumns": [],[m
[32m+[m[32m          "columnOrder": [][m
         },[m
[31m-        "active" : false,[m
[31m-        "countProgress" : {[m
[31m-          "baseline" : "0",[m
[31m-          "target" : "100",[m
[31m-          "isBelow" : false[m
[32m+[m[32m        "targetValue": {[m
[32m+[m[32m          "countChart": {[m
[32m+[m[32m            "isBelow": false,[m
[32m+[m[32m            "value": "100"[m
[32m+[m[32m          },[m
[32m+[m[32m          "durationProgress": {[m
[32m+[m[32m            "baseline": {[m
[32m+[m[32m              "unit": "hours",[m
[32m+[m[32m              "value": "0"[m
[32m+[m[32m            },[m
[32m+[m[32m            "target": {[m
[32m+[m[32m              "unit": "hours",[m
[32m+[m[32m              "value": "2",[m
[32m+[m[32m              "isBelow": false[m
[32m+[m[32m            }[m
[32m+[m[32m          },[m
[32m+[m[32m          "active": false,[m
[32m+[m[32m          "countProgress": {[m
[32m+[m[32m            "baseline": "0",[m
[32m+[m[32m            "target": "100",[m
[32m+[m[32m            "isBelow": false[m
[32m+[m[32m          },[m
[32m+[m[32m          "durationChart": {[m
[32m+[m[32m            "unit": "hours",[m
[32m+[m[32m            "isBelow": false,[m
[32m+[m[32m            "value": "2"[m
[32m+[m[32m          },[m
[32m+[m[32m          "isKpi": false[m
         },[m
[31m-        "durationChart" : {[m
[31m-          "unit" : "hours",[m
[31m-          "isBelow" : false,[m
[31m-          "value" : "2"[m
[32m+[m[32m        "heatmapTargetValue": {[m
[32m+[m[32m          "active": false,[m
[32m+[m[32m          "values": {}[m
         },[m
[31m-        "isKpi" : false[m
[31m-      },[m
[31m-      "heatmapTargetValue" : {[m
[31m-        "active" : false,[m
[31m-        "values" : { }[m
[31m-      },[m
[31m-      "groupByDateVariableUnit" : "automatic",[m
[31m-      "distributeByDateVariableUnit" : "automatic",[m
[31m-      "customBucket" : {[m
[31m-        "active" : false,[m
[31m-        "bucketSize" : "10.0",[m
[31m-        "bucketSizeUnit" : null,[m
[31m-        "baseline" : "0.0",[m
[31m-        "baselineUnit" : null[m
[31m-      },[m
[31m-      "distributeByCustomBucket" : {[m
[31m-        "active" : false,[m
[31m-        "bucketSize" : "10.0",[m
[31m-        "bucketSizeUnit" : null,[m
[31m-        "baseline" : "0.0",[m
[31m-        "baselineUnit" : null[m
[32m+[m[32m        "groupByDateVariableUnit": "automatic",[m
[32m+[m[32m        "distributeByDateVariableUnit": "automatic",[m
[32m+[m[32m        "customBucket": {[m
[32m+[m[32m          "active": false,[m
[32m+[m[32m          "bucketSize": "10.0",[m
[32m+[m[32m          "bucketSizeUnit": null,[m
[32m+[m[32m          "baseline": "0.0",[m
[32m+[m[32m          "baselineUnit": null[m
[32m+[m[32m        },[m
[32m+[m[32m        "distributeByCustomBucket": {[m
[32m+[m[32m          "active": false,[m
[32m+[m[32m          "bucketSize": "10.0",[m
[32m+[m[32m          "bucketSizeUnit": null,[m
[32m+[m[32m          "baseline": "0.0",[m
[32m+[m[32m          "baselineUnit": null[m
[32m+[m[32m        },[m
[32m+[m[32m        "sorting": {[m
[32m+[m[32m          "by": "value",[m
[32m+[m[32m          "order": "desc"[m
[32m+[m[32m        },[m
[32m+[m[32m        "processPart": null,[m
[32m+[m[32m        "measureVisualizations": {[m
[32m+[m[32m          "frequency": "bar",[m
[32m+[m[32m          "duration": "line"[m
[32m+[m[32m        },[m
[32m+[m[32m        "stackedBar": false,[m
[32m+[m[32m        "horizontalBar": false,[m
[32m+[m[32m        "logScale": false,[m
[32m+[m[32m        "yLabel": "Incident Count",[m
[32m+[m[32m        "xLabel": "Flow Nodes"[m
       },[m
[31m-      "sorting" : {[m
[31m-        "by" : "value",[m
[31m-        "order" : "desc"[m
[32m+[m[32m      "definitions": [[m
[32m+[m[32m        {[m
[32m+[m[32m          "identifier": "definition",[m
[32m+[m[32m          "key": "bookrequest-suspended-instances",[m
[32m+[m[32m          "name": "Book Request with suspended process instances",[m
[32m+[m[32m          "displayName": "Book Request with suspended process instances",[m
[32m+[m[32m          "versions": ["all"],[m
[32m+[m[32m          "tenantIds": [[m
[32m+[m[32m            null,[m
[32m+[m[32m            "csm",[m
[32m+[m[32m            "engineering",[m
[32m+[m[32m            "hr",[m
[32m+[m[32m            "library",[m
[32m+[m[32m            "marketing",[m
[32m+[m[32m            "sales",[m
[32m+[m[32m            "support"[m
[32m+[m[32m          ][m
[32m+[m[32m        }[m
[32m+[m[32m      ],[m
[32m+[m[32m      "filter": [[m
[32m+[m[32m        {[m
[32m+[m[32m          "type": "runningFlowNodesOnly",[m
[32m+[m[32m          "data": null,[m
[32m+[m[32m          "filterLevel": "view",[m
[32m+[m[32m          "appliedTo": ["all"][m
[32m+[m[32m        }[m
[32m+[m[32m      ],[m
[32m+[m[32m      "view": {[m
[32m+[m[32m        "entity": "incident",[m
[32m+[m[32m        "properties": ["frequency"][m
       },[m
[31m-      "processPart" : null,[m
[31m-      "measureVisualizations" : {[m
[31m-        "frequency" : "bar",[m
[31m-        "duration" : "line"[m
[32m+[m[32m      "groupBy": {[m
[32m+[m[32m        "type": "flowNodes",[m
[32m+[m[32m        "value": null[m
       },[m
[31m-      "stackedBar" : false,[m
[31m-      "horizontalBar" : false,[m
[31m-      "logScale" : false,[m
[31m-      "yLabel" : "Incident Count",[m
[31m-      "xLabel" : "Flow Nodes"[m
[31m-    },[m
[31m-    "definitions" : [ {[m
[31m-      "identifier" : "definition",[m
[31m-      "key" : "bookrequest-1-tenant",[m
[31m-      "name" : "Book Request One Tenant",[m
[31m-      "displayName" : "Book Request One Tenant",[m
[31m-      "versions" : [ "all" ],[m
[31m-      "tenantIds" : [ "library" ][m
[31m-    } ],[m
[31m-    "filter" : [ ],[m
[31m-    "view" : {[m
[31m-      "entity" : "incident",[m
[31m-      "properties" : [ "frequency" ][m
[31m-    },[m
[31m-    "groupBy" : {[m
[31m-      "type" : "flowNodes",[m
[31m-      "value" : null[m
[31m-    },[m
[31m-    "distributedBy" : {[m
[31m-      "type" : "none",[m
[31m-      "value" : null[m
[31m-    },[m
[31m-    "visualization" : "heat",[m
[31m-    "managementReport" : false,[m
[31m-    "instantPreviewReport" : true,[m
[31m-    "userTaskReport" : false[m
[31m-  }[m
[31m-}, {[m
[31m-  "id" : "badee490-769c-4180-8228-912bea73a856",[m
[31m-  "exportEntityType" : "single_process_report",[m
[31m-  "name" : "IP_TileText_BusinessOperations_Report6",[m
[31m-  "description" : null,[m
[31m-  "sourceIndexVersion" : 11,[m
[31m-  "collectionId" : null,[m
[31m-  "data" : {[m
[31m-    "configuration" : {[m
[31m-      "color" : "#1991c8",[m
[31m-      "aggregationTypes" : [ {[m
[31m-        "type" : "avg",[m
[31m-        "value" : null[m
[31m-      } ],[m
[31m-      "userTaskDurationTimes" : [ "total" ],[m
[31m-      "showInstanceCount" : false,[m
[31m-      "pointMarkers" : true,[m
[31m-      "precision" : null,[m
[31m-      "hideRelativeValue" : false,[m
[31m-      "hideAbsoluteValue" : false,[m
[31m-      "alwaysShowRelative" : false,[m
[31m-      "alwaysShowAbsolute" : false,[m
[31m-      "showGradientBars" : true,[m
[31m-      "xml" : "<?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"no\"?>\n<bpmn:definitions xmlns:bpmn=\"http://www.omg.org/spec/BPMN/20100524/MODEL\" xmlns:bpmndi=\"http://www.omg.org/spec/BPMN/20100524/DI\" xmlns:camunda=\"http://camunda.org/schema/1.0/bpmn\" xmlns:dc=\"http://www.omg.org/spec/DD/20100524/DC\" xmlns:di=\"http://www.omg.org/spec/DD/20100524/DI\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" exporter=\"Camunda Modeler\" exporterVersion=\"3.1.0\" expressionLanguage=\"http://www.w3.org/1999/XPath\" id=\"Definitions_1iqy5bl\" targetNamespace=\"http://bpmn.io/schema/bpmn\" typeLanguage=\"http://www.w3.org/2001/XMLSchema\">\n    \n  <bpmn:process id=\"bookrequest-suspended-instances\" isClosed=\"false\" isExecutable=\"true\" name=\"Book Request with suspended process instances\" processType=\"None\">\n        \n    <bpmn:startEvent camunda:asyncBefore=\"true\" id=\"StartEvent_1\" isInterrupting=\"true\" name=\"Received Book Request\" parallelMultiple=\"false\">\n            \n      <bpmn:outgoing>SequenceFlow_0yrmjj2</bpmn:outgoing>\n          \n    </bpmn:startEvent>\n        \n    <bpmn:sequenceFlow id=\"SequenceFlow_0yrmjj2\" sourceRef=\"StartEvent_1\" targetRef=\"Task_1hscozi\"/>\n        \n    <bpmn:receiveTask completionQuantity=\"1\" id=\"Task_1hscozi\" implementation=\"##WebService\" instantiate=\"false\" isForCompensation=\"false\" messageRef=\"Message_15xrx39\" name=\"Receive Book Request\" startQuantity=\"1\">\n            \n      <bpmn:incoming>SequenceFlow_0yrmjj2</bpmn:incoming>\n            \n      <bpmn:outgoing>SequenceFlow_1bzn5tn</bpmn:outgoing>\n          \n    </bpmn:receiveTask>\n        \n    <bpmn:sequenceFlow id=\"SequenceFlow_1bzn5tn\" sourceRef=\"Task_1hscozi\" targetRef=\"Task_1l3px0t\"/>\n        \n    <bpmn:serviceTask camunda:expression=\"${true}\" completionQuantity=\"1\" id=\"Task_1l3px0t\" implementation=\"##WebService\" isForCompensation=\"false\" name=\"Get Book Status\" startQuantity=\"1\">\n            \n      <bpmn:incoming>SequenceFlow_1bzn5tn</bpmn:incoming>\n            \n      <bpmn:incoming>SequenceFlow_0dbiqt6</bpmn:incoming>\n            \n      <bpmn:outgoing>SequenceFlow_19n0ed3</bpmn:outgoing>\n          \n    </bpmn:serviceTask>\n        \n    <bpmn:exclusiveGateway default=\"SequenceFlow_0vf6q5t\" gatewayDirection=\"Unspecified\" id=\"ExclusiveGateway_0i9u2oe\" name=\"Is book availalbe?\">\n            \n      <bpmn:extensionElements>\n                \n        <camunda:executionListener event=\"start\">\n                    \n          <camunda:script scriptFormat=\"groovy\">execution.setVariable(\"bookAvailable\", new Random().nextDouble()&lt;0.3 );</camunda:script>\n                  \n        </camunda:executionListener>\n              \n      </bpmn:extensionElements>\n            \n      <bpmn:incoming>SequenceFlow_19n0ed3</bpmn:incoming>\n            \n      <bpmn:outgoing>SequenceFlow_0jp92nl</bpmn:outgoing>\n            \n      <bpmn:outgoing>SequenceFlow_0vf6q5t</bpmn:outgoing>\n          \n    </bpmn:exclusiveGateway>\n        \n    <bpmn:sequenceFlow id=\"SequenceFlow_19n0ed3\" sourceRef=\"Task_1l3px0t\" targetRef=\"ExclusiveGateway_0i9u2oe\"/>\n        \n    <bpmn:sequenceFlow id=\"SequenceFlow_0jp92nl\" name=\"No\" sourceRef=\"ExclusiveGateway_0i9u2oe\" targetRef=\"Task_0fyy1mq\">\n            \n      <bpmn:conditionExpression xsi:type=\"bpmn:tFormalExpression\">${bookAvailable}</bpmn:conditionExpression>\n          \n    </bpmn:sequenceFlow>\n        \n    <bpmn:sequenceFlow id=\"SequenceFlow_0vf6q5t\" name=\"Yes\" sourceRef=\"ExclusiveGateway_0i9u2oe\" targetRef=\"checkoutBook\"/>\n        \n    <bpmn:userTask camunda:candidateGroups=\"management\" camunda:candidateUsers=\"demo\" completionQuantity=\"1\" id=\"checkoutBook\" implementation=\"##unspecified\" isForCompensation=\"false\" name=\"Checkout Book\" startQuantity=\"1\">\n            \n      <bpmn:incoming>SequenceFlow_0vf6q5t</bpmn:incoming>\n            \n      <bpmn:outgoing>SequenceFlow_1mozvul</bpmn:outgoing>\n          \n    </bpmn:userTask>\n        \n    <bpmn:sendTask camunda:expression=\"${true}\" completionQuantity=\"1\" id=\"Task_0fyy1mq\" implementation=\"##WebService\" isForCompensation=\"false\" name=\"On Loan Reply\" startQuantity=\"1\">\n            \n      <bpmn:incoming>SequenceFlow_0jp92nl</bpmn:incoming>\n            \n      <bpmn:outgoing>SequenceFlow_1gdprmj</bpmn:outgoing>\n          \n    </bpmn:sendTask>\n        \n    <bpmn:sequenceFlow id=\"SequenceFlow_1mozvul\" sourceRef=\"checkoutBook\" targetRef=\"Task_12p04yx\"/>\n        \n    <bpmn:sequenceFlow id=\"SequenceFlow_1gdprmj\" sourceRef=\"Task_0fyy1mq\" targetRef=\"ExclusiveGateway_186hbka\"/>\n        \n    <bpmn:eventBasedGateway eventGatewayType=\"Exclusive\" gatewayDirection=\"Unspecified\" id=\"ExclusiveGateway_186hbka\" instantiate=\"false\">\n            \n      <bpmn:incoming>SequenceFlow_1gdprmj</bpmn:incoming>\n            \n      <bpmn:outgoing>SequenceFlow_0i60o08</bpmn:outgoing>\n            \n      <bpmn:outgoing>SequenceFlow_0f8uxqu</bpmn:outgoing>\n            \n      <bpmn:outgoing>SequenceFlow_1lceegs</bpmn:outgoing>\n          \n    </bpmn:eventBasedGateway>\n        \n    <bpmn:intermediateCatchEvent id=\"IntermediateCatchEvent_0a1widf\" name=\"Decliine Hold\" parallelMultiple=\"false\">\n            \n      <bpmn:incoming>SequenceFlow_0i60o08</bpmn:incoming>\n            \n      <bpmn:outgoing>SequenceFlow_01mezfj</bpmn:outgoing>\n            \n      <bpmn:messageEventDefinition messageRef=\"Message_1o8fd0g\"/>\n          \n    </bpmn:intermediateCatchEvent>\n        \n    <bpmn:sequenceFlow id=\"SequenceFlow_0i60o08\" sourceRef=\"ExclusiveGateway_186hbka\" targetRef=\"IntermediateCatchEvent_0a1widf\"/>\n        \n    <bpmn:intermediateCatchEvent id=\"IntermediateCatchEvent_0gj7pjl\" name=\"Hold Book\" parallelMultiple=\"false\">\n            \n      <bpmn:incoming>SequenceFlow_0f8uxqu</bpmn:incoming>\n            \n      <bpmn:outgoing>SequenceFlow_154q9ec</bpmn:outgoing>\n            \n      <bpmn:messageEventDefinition messageRef=\"Message_0jhij3z\"/>\n          \n    </bpmn:intermediateCatchEvent>\n        \n    <bpmn:sequenceFlow id=\"SequenceFlow_0f8uxqu\" sourceRef=\"ExclusiveGateway_186hbka\" targetRef=\"IntermediateCatchEvent_0gj7pjl\"/>\n        \n    <bpmn:intermediateCatchEvent id=\"IntermediateCatchEvent_0dd9qc7\" name=\"One Week\" parallelMultiple=\"false\">\n            \n      <bpmn:incoming>SequenceFlow_1lceegs</bpmn:incoming>\n            \n      <bpmn:outgoing>SequenceFlow_0jjjdth</bpmn:outgoing>\n            \n      <bpmn:timerEventDefinition>\n                \n        <bpmn:timeDuration xsi:type=\"bpmn:tFormalExpression\">PT3S</bpmn:timeDuration>\n              \n      </bpmn:timerEventDefinition>\n          \n    </bpmn:intermediateCatchEvent>\n        \n    <bpmn:sequenceFlow id=\"SequenceFlow_1lceegs\" sourceRef=\"ExclusiveGateway_186hbka\" targetRef=\"IntermediateCatchEvent_0dd9qc7\"/>\n        \n    <bpmn:sequenceFlow id=\"SequenceFlow_01mezfj\" sourceRef=\"IntermediateCatchEvent_0a1widf\" targetRef=\"Task_0hrmeet\"/>\n        \n    <bpmn:sequenceFlow id=\"SequenceFlow_0jjjdth\" sourceRef=\"IntermediateCatchEvent_0dd9qc7\" targetRef=\"Task_0hrmeet\"/>\n        \n    <bpmn:endEvent id=\"EndEvent_0kcx8gn\" name=\"Book Request Processed\">\n            \n      <bpmn:incoming>SequenceFlow_0msajcc</bpmn:incoming>\n            \n      <bpmn:incoming>SequenceFlow_1gea84p</bpmn:incoming>\n          \n    </bpmn:endEvent>\n        \n    <bpmn:sequenceFlow id=\"SequenceFlow_0msajcc\" sourceRef=\"Task_0hrmeet\" targetRef=\"EndEvent_0kcx8gn\"/>\n        \n    <bpmn:sequenceFlow id=\"SequenceFlow_1gea84p\" sourceRef=\"Task_12p04yx\" targetRef=\"EndEvent_0kcx8gn\"/>\n        \n    <bpmn:sequenceFlow id=\"SequenceFlow_154q9ec\" sourceRef=\"IntermediateCatchEvent_0gj7pjl\" targetRef=\"Task_1x9vb2g\"/>\n        \n    <bpmn:sequenceFlow id=\"SequenceFlow_0zfoxl1\" sourceRef=\"Task_1x9vb2g\" targetRef=\"Task_0ggoifp\"/>\n        \n    <bpmn:sequenceFlow id=\"SequenceFlow_01gp9uj\" sourceRef=\"Task_0ggoifp\" targetRef=\"IntermediateThrowEvent_17ddgu1\"/>\n        \n    <bpmn:intermediateCatchEvent id=\"IntermediateThrowEvent_17ddgu1\" name=\"Two Weeks\" parallelMultiple=\"false\">\n            \n      <bpmn:incoming>SequenceFlow_01gp9uj</bpmn:incoming>\n            \n      <bpmn:outgoing>SequenceFlow_0dbiqt6</bpmn:outgoing>\n            \n      <bpmn:timerEventDefinition>\n                \n        <bpmn:timeDuration xsi:type=\"bpmn:tFormalExpression\">PT0S</bpmn:timeDuration>\n              \n      </bpmn:timerEventDefinition>\n          \n    </bpmn:intermediateCatchEvent>\n        \n    <bpmn:sequenceFlow id=\"SequenceFlow_0dbiqt6\" sourceRef=\"IntermediateThrowEvent_17ddgu1\" targetRef=\"Task_1l3px0t\"/>\n        \n    <bpmn:sendTask camunda:expression=\"${true}\" completionQuantity=\"1\" id=\"Task_12p04yx\" implementation=\"##WebService\" isForCompensation=\"false\" name=\"Checkout Reply\" startQuantity=\"1\">\n            \n      <bpmn:incoming>SequenceFlow_1mozvul</bpmn:incoming>\n            \n      <bpmn:outgoing>SequenceFlow_1gea84p</bpmn:outgoing>\n          \n    </bpmn:sendTask>\n        \n    <bpmn:serviceTask camunda:expression=\"$[true}\" completionQuantity=\"1\" id=\"Task_1x9vb2g\" implementation=\"##WebService\" isForCompensation=\"false\" name=\"Request Hold\" startQuantity=\"1\">\n            \n      <bpmn:incoming>SequenceFlow_154q9ec</bpmn:incoming>\n            \n      <bpmn:outgoing>SequenceFlow_0zfoxl1</bpmn:outgoing>\n          \n    </bpmn:serviceTask>\n        \n    <bpmn:sendTask camunda:expression=\"$[true}\" completionQuantity=\"1\" id=\"Task_0hrmeet\" implementation=\"##WebService\" isForCompensation=\"false\" name=\"Cancel Request\" startQuantity=\"1\">\n            \n      <bpmn:incoming>SequenceFlow_01mezfj</bpmn:incoming>\n            \n      <bpmn:incoming>SequenceFlow_0jjjdth</bpmn:incoming>\n            \n      <bpmn:outgoing>SequenceFlow_0msajcc</bpmn:outgoing>\n          \n    </bpmn:sendTask>\n        \n    <bpmn:sendTask camunda:expression=\"${true}\" completionQuantity=\"1\" id=\"Task_0ggoifp\" implementation=\"##WebService\" isForCompensation=\"false\" name=\"Hold Reply\" startQuantity=\"1\">\n            \n      <bpmn:incoming>SequenceFlow_0zfoxl1</bpmn:incoming>\n            \n      <bpmn:outgoing>SequenceFlow_01gp9uj</bpmn:outgoing>\n          \n    </bpmn:sendTask>\n      \n  </bpmn:process>\n    \n  <bpmn:message id=\"Message_15xrx39\" name=\"ReceivedBookRequest\"/>\n    \n  <bpmn:message id=\"Message_1o8fd0g\" name=\"DeclineHold\"/>\n    \n  <bpmn:message id=\"Message_0jhij3z\" name=\"HoldBook\"/>\n    \n  <bpmndi:BPMNDiagram id=\"BPMNDiagram_1\">\n        \n    <bpmndi:BPMNPlane bpmnElement=\"bookrequest\" id=\"BPMNPlane_1\">\n            \n      <bpmndi:BPMNShape bpmnElement=\"StartEvent_1\" id=\"_BPMNShape_StartEvent_2\">\n                \n        <dc:Bounds height=\"36\" width=\"36\" x=\"142\" y=\"316\"/>\n                \n        <bpmndi:BPMNLabel>\n                    \n          <dc:Bounds height=\"27\" width=\"74\" x=\"124\" y=\"352\"/>\n                  \n        </bpmndi:BPMNLabel>\n              \n      </bpmndi:BPMNShape>\n            \n      <bpmndi:BPMNEdge bpmnElement=\"SequenceFlow_0yrmjj2\" id=\"SequenceFlow_0yrmjj2_di\">\n                \n        <di:waypoint x=\"178\" y=\"334\"/>\n                \n        <di:waypoint x=\"228\" y=\"334\"/>\n                \n        <bpmndi:BPMNLabel>\n                    \n          <dc:Bounds height=\"12\" width=\"0\" x=\"203\" y=\"148\"/>\n                  \n        </bpmndi:BPMNLabel>\n              \n      </bpmndi:BPMNEdge>\n            \n      <bpmndi:BPMNShape bpmnElement=\"Task_1hscozi\" id=\"ReceiveTask_0u2soi3_di\">\n                \n        <dc:Bounds height=\"80\" width=\"100\" x=\"228\" y=\"294\"/>\n              \n      </bpmndi:BPMNShape>\n            \n      <bpmndi:BPMNEdge bpmnElement=\"SequenceFlow_1bzn5tn\" id=\"SequenceFlow_1bzn5tn_di\">\n                \n        <di:waypoint x=\"328\" y=\"334\"/>\n                \n        <di:waypoint x=\"378\" y=\"334\"/>\n                \n        <bpmndi:BPMNLabel>\n                    \n          <dc:Bounds height=\"12\" width=\"0\" x=\"353\" y=\"148\"/>\n                  \n        </bpmndi:BPMNLabel>\n              \n      </bpmndi:BPMNEdge>\n            \n      <bpmndi:BPMNShape bpmnElement=\"Task_1l3px0t\" id=\"ServiceTask_0fc8l5k_di\">\n                \n        <dc:Bounds height=\"80\" width=\"100\" x=\"378\" y=\"294\"/>\n              \n      </bpmndi:BPMNShape>\n            \n      <bpmndi:BPMNShape bpmnElement=\"ExclusiveGateway_0i9u2oe\" id=\"ExclusiveGateway_0i9u2oe_di\" isMarkerVisible=\"true\">\n                \n        <dc:Bounds height=\"50\" width=\"50\" x=\"528\" y=\"309\"/>\n                \n        <bpmndi:BPMNLabel>\n                    \n          <dc:Bounds height=\"14\" width=\"89\" x=\"509\" y=\"287\"/>\n                  \n        </bpmndi:BPMNLabel>\n              \n      </bpmndi:BPMNShape>\n            \n      <bpmndi:BPMNEdge bpmnElement=\"SequenceFlow_19n0ed3\" id=\"SequenceFlow_19n0ed3_di\">\n                \n        <di:waypoint x=\"478\" y=\"334\"/>\n                \n        <di:waypoint x=\"528\" y=\"334\"/>\n                \n        <bpmndi:BPMNLabel>\n                    \n          <dc:Bounds height=\"12\" width=\"0\" x=\"503\" y=\"148\"/>\n                  \n        </bpmndi:BPMNLabel>\n              \n      </bpmndi:BPMNEdge>\n            \n      <bpmndi:BPMNEdge bpmnElement=\"SequenceFlow_0jp92nl\" id=\"SequenceFlow_0jp92nl_di\">\n                \n        <di:waypoint x=\"578\" y=\"334\"/>\n                \n        <di:waypoint x=\"628\" y=\"334\"/>\n                \n        <bpmndi:BPMNLabel>\n                    \n          <dc:Bounds height=\"14\" width=\"15\" x=\"596\" y=\"313\"/>\n                  \n        </bpmndi:BPMNLabel>\n              \n      </bpmndi:BPMNEdge>\n            \n      <bpmndi:BPMNEdge bpmnElement=\"SequenceFlow_0vf6q5t\" id=\"SequenceFlow_0vf6q5t_di\">\n                \n        <di:waypoint x=\"553\" y=\"359\"/>\n                \n        <di:waypoint x=\"553\" y=\"553\"/>\n                \n        <di:waypoint x=\"628\" y=\"553\"/>\n                \n        <bpmndi:BPMNLabel>\n                    \n          <dc:Bounds height=\"14\" width=\"18\" x=\"560\" y=\"450\"/>\n                  \n        </bpmndi:BPMNLabel>\n              \n      </bpmndi:BPMNEdge>\n            \n      <bpmndi:BPMNShape bpmnElement=\"checkoutBook\" id=\"UserTask_1k6euka_di\">\n                \n        <dc:Bounds height=\"80\" width=\"100\" x=\"628\" y=\"513\"/>\n              \n      </bpmndi:BPMNShape>\n            \n      <bpmndi:BPMNShape bpmnElement=\"Task_0fyy1mq\" id=\"SendTask_0pd2avm_di\">\n                \n        <dc:Bounds height=\"80\" width=\"100\" x=\"628\" y=\"294\"/>\n              \n      </bpmndi:BPMNShape>\n            \n      <bpmndi:BPMNEdge bpmnElement=\"SequenceFlow_1mozvul\" id=\"SequenceFlow_1mozvul_di\">\n                \n        <di:waypoint x=\"728\" y=\"553\"/>\n                \n        <di:waypoint x=\"778\" y=\"553\"/>\n                \n        <bpmndi:BPMNLabel>\n                    \n          <dc:Bounds height=\"12\" width=\"0\" x=\"753\" y=\"367\"/>\n                  \n        </bpmndi:BPMNLabel>\n              \n      </bpmndi:BPMNEdge>\n            \n      <bpmndi:BPMNEdge bpmnElement=\"SequenceFlow_1gdprmj\" id=\"SequenceFlow_1gdprmj_di\">\n                \n        <di:waypoint x=\"728\" y=\"334\"/>\n                \n        <di:waypoint x=\"778\" y=\"334\"/>\n                \n        <bpmndi:BPMNLabel>\n                    \n          <dc:Bounds height=\"12\" width=\"0\" x=\"753\" y=\"148\"/>\n                  \n        </bpmndi:BPMNLabel>\n              \n      </bpmndi:BPMNEdge>\n            \n      <bpmndi:BPMNShape bpmnElement=\"ExclusiveGateway_186hbka\" id=\"EventBasedGateway_0lhsnkb_di\">\n                \n        <dc:Bounds height=\"50\" width=\"50\" x=\"778\" y=\"309\"/>\n                \n        <bpmndi:BPMNLabel>\n                    \n          <dc:Bounds height=\"12\" width=\"0\" x=\"803\" y=\"204\"/>\n                  \n        </bpmndi:BPMNLabel>\n              \n      </bpmndi:BPMNShape>\n            \n      <bpmndi:BPMNShape bpmnElement=\"IntermediateCatchEvent_0a1widf\" id=\"IntermediateCatchEvent_0a1widf_di\">\n                \n        <dc:Bounds height=\"36\" width=\"36\" x=\"878\" y=\"316\"/>\n                \n        <bpmndi:BPMNLabel>\n                    \n          <dc:Bounds height=\"14\" width=\"65\" x=\"864\" y=\"356\"/>\n                  \n        </bpmndi:BPMNLabel>\n              \n      </bpmndi:BPMNShape>\n            \n      <bpmndi:BPMNEdge bpmnElement=\"SequenceFlow_0i60o08\" id=\"SequenceFlow_0i60o08_di\">\n                \n        <di:waypoint x=\"828\" y=\"334\"/>\n                \n        <di:waypoint x=\"878\" y=\"334\"/>\n                \n        <bpmndi:BPMNLabel>\n                    \n          <dc:Bounds height=\"12\" width=\"0\" x=\"853\" y=\"148\"/>\n                  \n        </bpmndi:BPMNLabel>\n              \n      </bpmndi:BPMNEdge>\n            \n      <bpmndi:BPMNShape bpmnElement=\"IntermediateCatchEvent_0gj7pjl\" id=\"IntermediateCatchEvent_0gj7pjl_di\">\n                \n        <dc:Bounds height=\"36\" width=\"36\" x=\"878\" y=\"212\"/>\n                \n        <bpmndi:BPMNLabel>\n                    \n          <dc:Bounds height=\"14\" width=\"51\" x=\"871\" y=\"252\"/>\n                  \n        </bpmndi:BPMNLabel>\n              \n      </bpmndi:BPMNShape>\n            \n      <bpmndi:BPMNEdge bpmnElement=\"SequenceFlow_0f8uxqu\" id=\"SequenceFlow_0f8uxqu_di\">\n                \n        <di:waypoint x=\"803\" y=\"309\"/>\n                \n        <di:waypoint x=\"803\" y=\"230\"/>\n                \n        <di:waypoint x=\"878\" y=\"230\"/>\n                \n        <bpmndi:BPMNLabel>\n                    \n          <dc:Bounds height=\"12\" width=\"0\" x=\"818\" y=\"98.5\"/>\n                  \n        </bpmndi:BPMNLabel>\n              \n      </bpmndi:BPMNEdge>\n            \n      <bpmndi:BPMNShape bpmnElement=\"IntermediateCatchEvent_0dd9qc7\" id=\"IntermediateCatchEvent_0dd9qc7_di\">\n                \n        <dc:Bounds height=\"36\" width=\"36\" x=\"878\" y=\"424\"/>\n                \n        <bpmndi:BPMNLabel>\n                    \n          <dc:Bounds height=\"14\" width=\"52\" x=\"871\" y=\"464\"/>\n                  \n        </bpmndi:BPMNLabel>\n              \n      </bpmndi:BPMNShape>\n            \n      <bpmndi:BPMNEdge bpmnElement=\"SequenceFlow_1lceegs\" id=\"SequenceFlow_1lceegs_di\">\n                \n        <di:waypoint x=\"803\" y=\"359\"/>\n                \n        <di:waypoint x=\"803\" y=\"442\"/>\n                \n        <di:waypoint x=\"878\" y=\"442\"/>\n                \n        <bpmndi:BPMNLabel>\n                    \n          <dc:Bounds height=\"12\" width=\"0\" x=\"818\" y=\"229.5\"/>\n                  \n        </bpmndi:BPMNLabel>\n              \n      </bpmndi:BPMNEdge>\n            \n      <bpmndi:BPMNEdge bpmnElement=\"SequenceFlow_01mezfj\" id=\"SequenceFlow_01mezfj_di\">\n                \n        <di:waypoint x=\"914\" y=\"334\"/>\n                \n        <di:waypoint x=\"964\" y=\"334\"/>\n                \n        <bpmndi:BPMNLabel>\n                    \n          <dc:Bounds height=\"12\" width=\"0\" x=\"939\" y=\"148\"/>\n                  \n        </bpmndi:BPMNLabel>\n              \n      </bpmndi:BPMNEdge>\n            \n      <bpmndi:BPMNEdge bpmnElement=\"SequenceFlow_0jjjdth\" id=\"SequenceFlow_0jjjdth_di\">\n                \n        <di:waypoint x=\"914\" y=\"442\"/>\n                \n        <di:waypoint x=\"1014\" y=\"442\"/>\n                \n        <di:waypoint x=\"1014\" y=\"374\"/>\n                \n        <bpmndi:BPMNLabel>\n                    \n          <dc:Bounds height=\"12\" width=\"0\" x=\"964\" y=\"256\"/>\n                  \n        </bpmndi:BPMNLabel>\n              \n      </bpmndi:BPMNEdge>\n            \n      <bpmndi:BPMNShape bpmnElement=\"EndEvent_0kcx8gn\" id=\"EndEvent_0kcx8gn_di\">\n                \n        <dc:Bounds height=\"36\" width=\"36\" x=\"1114\" y=\"316\"/>\n                \n        <bpmndi:BPMNLabel>\n                    \n          <dc:Bounds height=\"27\" width=\"70\" x=\"1097\" y=\"286\"/>\n                  \n        </bpmndi:BPMNLabel>\n              \n      </bpmndi:BPMNShape>\n            \n      <bpmndi:BPMNEdge bpmnElement=\"SequenceFlow_0msajcc\" id=\"SequenceFlow_0msajcc_di\">\n                \n        <di:waypoint x=\"1064\" y=\"334\"/>\n                \n        <di:waypoint x=\"1114\" y=\"334\"/>\n                \n        <bpmndi:BPMNLabel>\n                    \n          <dc:Bounds height=\"12\" width=\"0\" x=\"1089\" y=\"148\"/>\n                  \n        </bpmndi:BPMNLabel>\n              \n      </bpmndi:BPMNEdge>\n            \n      <bpmndi:BPMNEdge bpmnElement=\"SequenceFlow_1gea84p\" id=\"SequenceFlow_1gea84p_di\">\n                \n        <di:waypoint x=\"878\" y=\"553\"/>\n                \n        <di:waypoint x=\"1132\" y=\"553\"/>\n                \n        <di:waypoint x=\"1132\" y=\"352\"/>\n                \n        <bpmndi:BPMNLabel>\n                    \n          <dc:Bounds height=\"12\" width=\"0\" x=\"1005\" y=\"367\"/>\n                  \n        </bpmndi:BPMNLabel>\n              \n      </bpmndi:BPMNEdge>\n            \n      <bpmndi:BPMNEdge bpmnElement=\"SequenceFlow_154q9ec\" id=\"SequenceFlow_154q9ec_di\">\n                \n        <di:waypoint x=\"914\" y=\"230\"/>\n                \n        <di:waypoint x=\"964\" y=\"230\"/>\n                \n        <bpmndi:BPMNLabel>\n                    \n          <dc:Bounds height=\"12\" width=\"0\" x=\"939\" y=\"44\"/>\n                  \n        </bpmndi:BPMNLabel>\n              \n      </bpmndi:BPMNEdge>\n            \n      <bpmndi:BPMNEdge bpmnElement=\"SequenceFlow_0zfoxl1\" id=\"SequenceFlow_0zfoxl1_di\">\n                \n        <di:waypoint x=\"1064\" y=\"230\"/>\n                \n        <di:waypoint x=\"1114\" y=\"230\"/>\n                \n        <bpmndi:BPMNLabel>\n                    \n          <dc:Bounds height=\"12\" width=\"0\" x=\"1089\" y=\"44\"/>\n                  \n        </bpmndi:BPMNLabel>\n              \n      </bpmndi:BPMNEdge>\n            \n      <bpmndi:BPMNEdge bpmnElement=\"SequenceFlow_01gp9uj\" id=\"SequenceFlow_01gp9uj_di\">\n                \n        <di:waypoint x=\"1164\" y=\"190\"/>\n                \n        <di:waypoint x=\"1164\" y=\"99\"/>\n                \n        <di:waypoint x=\"873\" y=\"99\"/>\n                \n        <bpmndi:BPMNLabel>\n                    \n          <dc:Bounds height=\"12\" width=\"0\" x=\"1179\" y=\"-26.5\"/>\n                  \n        </bpmndi:BPMNLabel>\n              \n      </bpmndi:BPMNEdge>\n            \n      <bpmndi:BPMNShape bpmnElement=\"IntermediateThrowEvent_17ddgu1\" id=\"IntermediateCatchEvent_06zhr1i_di\">\n                \n        <dc:Bounds height=\"36\" width=\"36\" x=\"837\" y=\"81\"/>\n                \n        <bpmndi:BPMNLabel>\n                    \n          <dc:Bounds height=\"14\" width=\"57\" x=\"827\" y=\"121\"/>\n                  \n        </bpmndi:BPMNLabel>\n              \n      </bpmndi:BPMNShape>\n            \n      <bpmndi:BPMNEdge bpmnElement=\"SequenceFlow_0dbiqt6\" id=\"SequenceFlow_0dbiqt6_di\">\n                \n        <di:waypoint x=\"837\" y=\"99\"/>\n                \n        <di:waypoint x=\"428\" y=\"99\"/>\n                \n        <di:waypoint x=\"428\" y=\"294\"/>\n                \n        <bpmndi:BPMNLabel>\n                    \n          <dc:Bounds height=\"12\" width=\"0\" x=\"632.5\" y=\"-87\"/>\n                  \n        </bpmndi:BPMNLabel>\n              \n      </bpmndi:BPMNEdge>\n            \n      <bpmndi:BPMNShape bpmnElement=\"Task_12p04yx\" id=\"SendTask_0c1sqiy_di\">\n                \n        <dc:Bounds height=\"80\" width=\"100\" x=\"778\" y=\"513\"/>\n              \n      </bpmndi:BPMNShape>\n            \n      <bpmndi:BPMNShape bpmnElement=\"Task_1x9vb2g\" id=\"ServiceTask_1d3dq9l_di\">\n                \n        <dc:Bounds height=\"80\" width=\"100\" x=\"964\" y=\"190\"/>\n              \n      </bpmndi:BPMNShape>\n            \n      <bpmndi:BPMNShape bpmnElement=\"Task_0hrmeet\" id=\"SendTask_1f2rlum_di\">\n                \n        <dc:Bounds height=\"80\" width=\"100\" x=\"964\" y=\"294\"/>\n              \n      </bpmndi:BPMNShape>\n            \n      <bpmndi:BPMNShape bpmnElement=\"Task_0ggoifp\" id=\"SendTask_059pg89_di\">\n                \n        <dc:Bounds height=\"80\" width=\"100\" x=\"1114\" y=\"190\"/>\n              \n      </bpmndi:BPMNShape>\n          \n    </bpmndi:BPMNPlane>\n      \n  </bpmndi:BPMNDiagram>\n  \n</bpmn:definitions>\n",[m
[31m-      "tableColumns" : {[m
[31m-        "includeNewVariables" : true,[m
[31m-        "excludedColumns" : [ ],[m
[31m-        "includedColumns" : [ ],[m
[31m-        "columnOrder" : [ ][m
[32m+[m[32m      "distributedBy": {[m
[32m+[m[32m        "type": "none",[m
[32m+[m[32m        "value": null[m
       },[m
[31m-      "targetValue" : {[m
[31m-        "countChart" : {[m
[31m-          "isBelow" : false,[m
[31m-          "value" : "100"[m
[31m-        },[m
[31m-        "durationProgress" : {[m
[31m-          "baseline" : {[m
[31m-            "unit" : "hours",[m
[31m-            "value" : "0"[m
[31m-          },[m
[31m-          "target" : {[m
[31m-            "unit" : "hours",[m
[31m-            "value" : "2",[m
[31m-            "isBelow" : false[m
[32m+[m[32m      "visualization": "heat",[m
[32m+[m[32m      "managementReport": false,[m
[32m+[m[32m      "instantPreviewReport": false,[m
[32m+[m[32m      "userTaskReport": false[m
[32m+[m[32m    }[m
[32m+[m[32m  },[m
[32m+[m[32m  {[m
[32m+[m[32m    "id": "8c78beb1-ae1f-48b3-ab58-da99d2fbdc3b",[m
[32m+[m[32m    "exportEntityType": "single_process_report",[m
[32m+[m[32m    "name": "processDashboard_endedInLast7Days",[m
[32m+[m[32m    "description": "processDashboard_endedInLast7Days-description",[m
[32m+[m[32m    "sourceIndexVersion": 11,[m
[32m+[m[32m    "collectionId": null,[m
[32m+[m[32m    "data": {[m
[32m+[m[32m      "configuration": {[m
[32m+[m[32m        "color": "#1991c8",[m
[32m+[m[32m        "aggregationTypes": [[m
[32m+[m[32m          {[m
[32m+[m[32m            "type": "avg",[m
[32m+[m[32m            "value": null[m
           }[m
[32m+[m[32m        ],[m
[32m+[m[32m        "userTaskDurationTimes": ["total"],[m
[32m+[m[32m        "showInstanceCount": false,[m
[32m+[m[32m        "pointMarkers": true,[m
[32m+[m[32m        "precision": null,[m
[32m+[m[32m        "hideRelativeValue": false,[m
[32m+[m[32m        "hideAbsoluteValue": false,[m
[32m+[m[32m        "alwaysShowRelative": false,[m
[32m+[m[32m        "alwaysShowAbsolute": false,[m
[32m+[m[32m        "showGradientBars": true,[m
[32m+[m[32m        "tableColumns": {[m
[32m+[m[32m          "includeNewVariables": true,[m
[32m+[m[32m          "excludedColumns": [],[m
[32m+[m[32m          "includedColumns": [],[m
[32m+[m[32m          "columnOrder": [][m
         },[m
[31m-        "active" : false,[m
[31m-        "countProgress" : {[m
[31m-          "baseline" : "0",[m
[31m-          "target" : "100",[m
[31m-          "isBelow" : false[m
[32m+[m[32m        "targetValue": {[m
[32m+[m[32m          "countChart": {[m
[32m+[m[32m            "isBelow": false,[m
[32m+[m[32m            "value": "100"[m
[32m+[m[32m          },[m
[32m+[m[32m          "durationProgress": {[m
[32m+[m[32m            "baseline": {[m
[32m+[m[32m              "unit": "hours",[m
[32m+[m[32m              "value": "0"[m
[32m+[m[32m            },[m
[32m+[m[32m            "target": {[m
[32m+[m[32m              "unit": "hours",[m
[32m+[m[32m              "value": "2",[m
[32m+[m[32m              "isBelow": false[m
[32m+[m[32m            }[m
[32m+[m[32m          },[m
[32m+[m[32m          "active": false,[m
[32m+[m[32m          "countProgress": {[m
[32m+[m[32m            "baseline": "0",[m
[32m+[m[32m            "target": "100",[m
[32m+[m[32m            "isBelow": false[m
[32m+[m[32m          },[m
[32m+[m[32m          "durationChart": {[m
[32m+[m[32m            "unit": "hours",[m
[32m+[m[32m            "isBelow": false,[m
[32m+[m[32m            "value": "2"[m
[32m+[m[32m          },[m
[32m+[m[32m          "isKpi": false[m
         },[m
[31m-        "durationChart" : {[m
[31m-          "unit" : "hours",[m
[31m-          "isBelow" : false,[m
[31m-          "value" : "2"[m
[32m+[m[32m        "heatmapTargetValue": {[m
[32m+[m[32m          "active": false,[m
[32m+[m[32m          "values": {}[m
         },[m
[31m-        "isKpi" : false[m
[32m+[m[32m        "groupByDateVariableUnit": "automatic",[m
[32m+[m[32m        "distributeByDateVariableUnit": "automatic",[m
[32m+[m[32m        "customBucket": {[m
[32m+[m[32m          "active": false,[m
[32m+[m[32m          "bucketSize": "10.0",[m
[32m+[m[32m          "bucketSizeUnit": null,[m
[32m+[m[32m          "baseline": "0.0",[m
[32m+[m[32m          "baselineUnit": null[m
[32m+[m[32m        },[m
[32m+[m[32m        "distributeByCustomBucket": {[m
[32m+[m[32m          "active": false,[m
[32m+[m[32m          "bucketSize": "10.0",[m
[32m+[m[32m          "bucketSizeUnit": null,[m
[32m+[m[32m          "baseline": "0.0",[m
[32m+[m[32m          "baselineUnit": null[m
[32m+[m[32m        },[m
[32m+[m[32m        "sorting": {[m
[32m+[m[32m          "by": "key",[m
[32m+[m[32m          "order": "desc"[m
[32m+[m[32m        },[m
[32m+[m[32m        "processPart": null,[m
[32m+[m[32m        "measureVisualizations": {[m
[32m+[m[32m          "frequency": "bar",[m
[32m+[m[32m          "duration": "line"[m
[32m+[m[32m        },[m
[32m+[m[32m        "stackedBar": false,[m
[32m+[m[32m        "horizontalBar": false,[m
[32m+[m[32m        "logScale": false,[m
[32m+[m[32m        "yLabel": "Process Instance Count",[m
[32m+[m[32m        "xLabel": "None"[m
       },[m
[31m-      "heatmapTargetValue" : {[m
[31m-        "active" : false,[m
[31m-        "values" : { }[m
[32m+[m[32m      "definitions": [[m
[32m+[m[32m        {[m
[32m+[m[32m          "identifier": "definition",[m
[32m+[m[32m          "key": "bookrequest-suspended-instances",[m
[32m+[m[32m          "name": "Book Request with suspended process instances",[m
[32m+[m[32m          "displayName": "Book Request with suspended process instances",[m
[32m+[m[32m          "versions": ["all"],[m
[32m+[m[32m          "tenantIds": [[m
[32m+[m[32m            null,[m
[32m+[m[32m            "csm",[m
[32m+[m[32m            "engineering",[m
[32m+[m[32m            "hr",[m
[32m+[m[32m            "library",[m
[32m+[m[32m            "marketing",[m
[32m+[m[32m            "sales",[m
[32m+[m[32m            "support"[m
[32m+[m[32m          ][m
[32m+[m[32m        }[m
[32m+[m[32m      ],[m
[32m+[m[32m      "filter": [[m
[32m+[m[32m        {[m
[32m+[m[32m          "type": "instanceEndDate",[m
[32m+[m[32m          "data": {[m
[32m+[m[32m            "type": "rolling",[m
[32m+[m[32m            "start": {[m
[32m+[m[32m              "value": 7,[m
[32m+[m[32m              "unit": "days"[m
[32m+[m[32m            },[m
[32m+[m[32m            "end": null,[m
[32m+[m[32m            "includeUndefined": false,[m
[32m+[m[32m            "excludeUndefined": false[m
[32m+[m[32m          },[m
[32m+[m[32m          "filterLevel": "instance",[m
[32m+[m[32m          "appliedTo": ["all"][m
[32m+[m[32m        }[m
[32m+[m[32m      ],[m
[32m+[m[32m      "view": {[m
[32m+[m[32m        "entity": "processInstance",[m
[32m+[m[32m        "properties": ["frequency"][m
       },[m
[31m-      "groupByDateVariableUnit" : "automatic",[m
[31m-      "distributeByDateVariableUnit" : "automatic",[m
[31m-      "customBucket" : {[m
[31m-        "active" : false,[m
[31m-        "bucketSize" : "10.0",[m
[31m-        "bucketSizeUnit" : null,[m
[31m-        "baseline" : "0.0",[m
[31m-        "baselineUnit" : null[m
[32m+[m[32m      "groupBy": {[m
[32m+[m[32m        "type": "none",[m
[32m+[m[32m        "value": null[m
       },[m
[31m-      "distributeByCustomBucket" : {[m
[31m-        "active" : false,[m
[31m-        "bucketSize" : "10.0",[m
[31m-        "bucketSizeUnit" : null,[m
[31m-        "baseline" : "0.0",[m
[31m-        "baselineUnit" : null[m
[32m+[m[32m      "distributedBy": {[m
[32m+[m[32m        "type": "none",[m
[32m+[m[32m        "value": null[m
       },[m
[31m-      "sorting" : {[m
[31m-        "by" : "key",[m
[31m-        "order" : "desc"[m
[32m+[m[32m      "visualization": "number",[m
[32m+[m[32m      "managementReport": false,[m
[32m+[m[32m      "instantPreviewReport": false,[m
[32m+[m[32m      "userTaskReport": false[m
[32m+[m[32m    }[m
[32m+[m[32m  },[m
[32m+[m[32m  {[m
[32m+[m[32m    "id": "6ea61cbc-cd79-40be-848d-9d9021110c1a",[m
[32m+[m[32m    "exportEntityType": "single_process_report",[m
[32m+[m[32m    "name": "processDashboard_openIncidents",[m
[32m+[m[32m    "description": "processDashboard_openIncidents-description",[m
[32m+[m[32m    "sourceIndexVersion": 11,[m
[32m+[m[32m    "collectionId": null,[m
[32m+[m[32m    "data": {[m
[32m+[m[32m      "configuration": {[m
[32m+[m[32m        "color": "#1991c8",[m
[32m+[m[32m        "aggregationTypes": [[m
[32m+[m[32m          {[m
[32m+[m[32m            "type": "avg",[m
[32m+[m[32m            "value": null[m
[32m+[m[32m          }[m
[32m+[m[32m        ],[m
[32m+[m[32m        "userTaskDurationTimes": ["total"],[m
[32m+[m[32m        "showInstanceCount": false,[m
[32m+[m[32m        "pointMarkers": true,[m
[32m+[m[32m        "precision": null,[m
[32m+[m[32m        "hideRelativeValue": false,[m
[32m+[m[32m        "hideAbsoluteValue": false,[m
[32m+[m[32m        "alwaysShowRelative": false,[m
[32m+[m[32m        "alwaysShowAbsolute": false,[m
[32m+[m[32m        "showGradientBars": true,[m
[32m+[m[32m        "tableColumns": {[m
[32m+[m[32m          "includeNewVariables": true,[m
[32m+[m[32m          "excludedColumns": [],[m
[32m+[m[32m          "includedColumns": [],[m
[32m+[m[32m          "columnOrder": [][m
[32m+[m[32m        },[m
[32m+[m[32m        "targetValue": {[m
[32m+[m[32m          "countChart": {[m
[32m+[m[32m            "isBelow": false,[m
[32m+[m[32m            "value": "100"[m
[32m+[m[32m          },[m
[32m+[m[32m          "durationProgress": {[m
[32m+[m[32m            "baseline": {[m
[32m+[m[32m              "unit": "hours",[m
[32m+[m[32m              "value": "0"[m
[32m+[m[32m            },[m
[32m+[m[32m            "target": {[m
[32m+[m[32m              "unit": "hours",[m
[32m+[m[32m              "value": "2",[m
[32m+[m[32m              "isBelow": false[m
[32m+[m[32m            }[m
[32m+[m[32m          },[m
[32m+[m[32m          "active": false,[m
[32m+[m[32m          "countProgress": {[m
[32m+[m[32m            "baseline": "0",[m
[32m+[m[32m            "target": "100",[m
[32m+[m[32m            "isBelow": false[m
[32m+[m[32m          },[m
[32m+[m[32m          "durationChart": {[m
[32m+[m[32m            "unit": "hours",[m
[32m+[m[32m            "isBelow": false,[m
[32m+[m[32m            "value": "2"[m
[32m+[m[32m          },[m
[32m+[m[32m          "isKpi": false[m
[32m+[m[32m        },[m
[32m+[m[32m        "heatmapTargetValue": {[m
[32m+[m[32m          "active": false,[m
[32m+[m[32m          "values": {}[m
[32m+[m[32m        },[m
[32m+[m[32m        "groupByDateVariableUnit": "automatic",[m
[32m+[m[32m        "distributeByDateVariableUnit": "automatic",[m
[32m+[m[32m        "customBucket": {[m
[32m+[m[32m          "active": false,[m
[32m+[m[32m          "bucketSize": "10.0",[m
[32m+[m[32m          "bucketSizeUnit": null,[m
[32m+[m[32m          "baseline": "0.0",[m
[32m+[m[32m          "baselineUnit": null[m
[32m+[m[32m        },[m
[32m+[m[32m        "distributeByCustomBucket": {[m
[32m+[m[32m          "active": false,[m
[32m+[m[32m          "bucketSize": "10.0",[m
[32m+[m[32m          "bucketSizeUnit": null,[m
[32m+[m[32m          "baseline": "0.0",[m
[32m+[m[32m          "baselineUnit": null[m
[32m+[m[32m        },[m
[32m+[m[32m        "sorting": {[m
[32m+[m[32m          "by": "key",[m
[32m+[m[32m          "order": "desc"[m
[32m+[m[32m        },[m
[32m+[m[32m        "processPart": null,[m
[32m+[m[32m        "measureVisualizations": {[m
[32m+[m[32m          "frequency": "bar",[m
[32m+[m[32m          "duration": "line"[m
[32m+[m[32m        },[m
[32m+[m[32m        "stackedBar": false,[m
[32m+[m[32m        "horizontalBar": false,[m
[32m+[m[32m        "logScale": false,[m
[32m+[m[32m        "yLabel": "Incident Count",[m
[32m+[m[32m        "xLabel": "None"[m
       },[m
[31m-      "processPart" : null,[m
[31m-      "measureVisualizations" : {[m
[31m-        "frequency" : "bar",[m
[31m-        "duration" : "line"[m
[32m+[m[32m      "definitions": [[m
[32m+[m[32m        {[m
[32m+[m[32m          "identifier": "definition",[m
[32m+[m[32m          "key": "bookrequest-suspended-instances",[m
[32m+[m[32m          "name": "Book Request with suspended process instances",[m
[32m+[m[32m          "displayName": "Book Request with suspended process instances",[m
[32m+[m[32m          "versions": ["all"],[m
[32m+[m[32m          "tenantIds": [[m
[32m+[m[32m            null,[m
[32m+[m[32m            "csm",[m
[32m+[m[32m            "engineering",[m
[32m+[m[32m            "hr",[m
[32m+[m[32m            "library",[m
[32m+[m[32m            "marketing",[m
[32m+[m[32m            "sales",[m
[32m+[m[32m            "support"[m
[32m+[m[32m          ][m
[32m+[m[32m        }[m
[32m+[m[32m      ],[m
[32m+[m[32m      "filter": [[m
[32m+[m[32m        {[m
[32m+[m[32m          "type": "includesOpenIncident",[m
[32m+[m[32m          "data": null,[m
[32m+[m[32m          "filterLevel": "view",[m
[32m+[m[32m          "appliedTo": ["all"][m
[32m+[m[32m        }[m
[32m+[m[32m      ],[m
[32m+[m[32m      "view": {[m
[32m+[m[32m        "entity": "incident",[m
[32m+[m[32m        "properties": ["frequency"][m
       },[m
[31m-      "stackedBar" : false,[m
[31m-      "horizontalBar" : false,[m
[31m-      "logScale" : false,[m
[31m-      "yLabel" : "Process Instance Count",[m
[31m-      "xLabel" : "None"[m
[31m-    },[m
[31m-    "definitions" : [ {[m
[31m-      "identifier" : "definition",[m
[31m-      "key" : "bookrequest-suspended-instances",[m
[31m-      "name" : "Book Request with suspended process instances",[m
[31m-      "displayName" : "Book Request with suspended process instances",[m
[31m-      "versions" : [ "all" ],[m
[31m-      "tenantIds" : [ null, "csm", "engineering", "hr", "library", "marketing", "sales", "support" ][m
[31m-    } ],[m
[31m-    "filter" : [ {[m
[31m-      "type" : "instanceStartDate",[m
[31m-      "data" : {[m
[31m-        "type" : "rolling",[m
[31m-        "start" : {[m
[31m-          "value" : 7,[m
[31m-          "unit" : "days"[m
[31m-        },[m
[31m-        "end" : null,[m
[31m-        "includeUndefined" : false,[m
[31m-        "excludeUndefined" : false[m
[32m+[m[32m      "groupBy": {[m
[32m+[m[32m        "type": "none",[m
[32m+[m[32m        "value": null[m
       },[m
[31m-      "filterLevel" : "instance",[m
[31m-      "appliedTo" : [ "all" ][m
[31m-    } ],[m
[31m-    "view" : {[m
[31m-      "entity" : "processInstance",[m
[31m-      "properties" : [ "frequency" ][m
[31m-    },[m
[31m-    "groupBy" : {[m
[31m-      "type" : "none",[m
[31m-      "value" : null[m
[31m-    },[m
[31m-    "distributedBy" : {[m
[31m-      "type" : "none",[m
[31m-      "value" : null[m
[31m-    },[m
[31m-    "visualization" : "number",[m
[31m-    "managementReport" : false,[m
[31m-    "instantPreviewReport" : true,[m
[31m-    "userTaskReport" : false[m
[31m-  }[m
[31m-}, {[m
[31m-  "id" : "073e04a7-1dc9-4276-b4b7-26978b9e6865",[m
[31m-  "exportEntityType" : "single_process_report",[m
[31m-  "name" : "IP_TileText_BusinessOperations_Report3",[m
[31m-  "description" : null,[m
[31m-  "sourceIndexVersion" : 11,[m
[31m-  "collectionId" : null,[m
[31m-  "data" : {[m
[31m-    "configuration" : {[m
[31m-      "color" : "#1991c8",[m
[31m-      "aggregationTypes" : [ {[m
[31m-        "type" : "sum",[m
[31m-        "value" : null[m
[31m-      }, {[m
[31m-        "type" : "percentile",[m
[31m-        "value" : 75.0[m
[31m-      } ],[m
[31m-      "userTaskDurationTimes" : [ "total" ],[m
[31m-      "showInstanceCount" : false,[m
[31m-      "pointMarkers" : true,[m
[31m-      "precision" : 1,[m
[31m-      "hideRelativeValue" : false,[m
[31m-      "hideAbsoluteValue" : false,[m
[31m-      "alwaysShowRelative" : false,[m
[31m-      "alwaysShowAbsolute" : false,[m
[31m-      "showGradientBars" : true,[m
[31m-      "xml" : "<?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"no\"?>\n<bpmn:definitions xmlns:bpmn=\"http://www.omg.org/spec/BPMN/20100524/MODEL\" xmlns:bpmndi=\"http://www.omg.org/spec/BPMN/20100524/DI\" xmlns:camunda=\"http://camunda.org/schema/1.0/bpmn\" xmlns:dc=\"http://www.omg.org/spec/DD/20100524/DC\" xmlns:di=\"http://www.omg.org/spec/DD/20100524/DI\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" exporter=\"Camunda Modeler\" exporterVersion=\"3.1.0\" expressionLanguage=\"http://www.w3.org/1999/XPath\" id=\"Definitions_1iqy5bl\" targetNamespace=\"http://bpmn.io/schema/bpmn\" typeLanguage=\"http://www.w3.org/2001/XMLSchema\">\n    \n  <bpmn:process id=\"bookrequest-suspended-instances\" isClosed=\"false\" isExecutable=\"true\" name=\"Book Request with suspended process instances\" processType=\"None\">\n        \n    <bpmn:startEvent camunda:asyncBefore=\"true\" id=\"StartEvent_1\" isInterrupting=\"true\" name=\"Received Book Request\" parallelMultiple=\"false\">\n            \n      <bpmn:outgoing>SequenceFlow_0yrmjj2</bpmn:outgoing>\n          \n    </bpmn:startEvent>\n        \n    <bpmn:sequenceFlow id=\"SequenceFlow_0yrmjj2\" sourceRef=\"StartEvent_1\" targetRef=\"Task_1hscozi\"/>\n        \n    <bpmn:receiveTask completionQuantity=\"1\" id=\"Task_1hscozi\" implementation=\"##WebService\" instantiate=\"false\" isForCompensation=\"false\" messageRef=\"Message_15xrx39\" name=\"Receive Book Request\" startQuantity=\"1\">\n            \n      <bpmn:incoming>SequenceFlow_0yrmjj2</bpmn:incoming>\n            \n      <bpmn:outgoing>SequenceFlow_1bzn5tn</bpmn:outgoing>\n          \n    </bpmn:receiveTask>\n        \n    <bpmn:sequenceFlow id=\"SequenceFlow_1bzn5tn\" sourceRef=\"Task_1hscozi\" targetRef=\"Task_1l3px0t\"/>\n        \n    <bpmn:serviceTask camunda:expression=\"${true}\" completionQuantity=\"1\" id=\"Task_1l3px0t\" implementation=\"##WebService\" isForCompensation=\"false\" name=\"Get Book Status\" startQuantity=\"1\">\n            \n      <bpmn:incoming>SequenceFlow_1bzn5tn</bpmn:incoming>\n            \n      <bpmn:incoming>SequenceFlow_0dbiqt6</bpmn:incoming>\n            \n      <bpmn:outgoing>SequenceFlow_19n0ed3</bpmn:outgoing>\n          \n    </bpmn:serviceTask>\n        \n    <bpmn:exclusiveGateway default=\"SequenceFlow_0vf6q5t\" gatewayDirection=\"Unspecified\" id=\"ExclusiveGateway_0i9u2oe\" name=\"Is book availalbe?\">\n            \n      <bpmn:extensionElements>\n                \n        <camunda:executionListener event=\"start\">\n                    \n          <camunda:script scriptFormat=\"groovy\">execution.setVariable(\"bookAvailable\", new Random().nextDouble()&lt;0.3 );</camunda:script>\n                  \n        </camunda:executionListener>\n              \n      </bpmn:extensionElements>\n            \n      <bpmn:incoming>SequenceFlow_19n0ed3</bpmn:incoming>\n            \n      <bpmn:outgoing>SequenceFlow_0jp92nl</bpmn:outgoing>\n            \n      <bpmn:outgoing>SequenceFlow_0vf6q5t</bpmn:outgoing>\n          \n    </bpmn:exclusiveGateway>\n        \n    <bpmn:sequenceFlow id=\"SequenceFlow_19n0ed3\" sourceRef=\"Task_1l3px0t\" targetRef=\"ExclusiveGateway_0i9u2oe\"/>\n        \n    <bpmn:sequenceFlow id=\"SequenceFlow_0jp92nl\" name=\"No\" sourceRef=\"ExclusiveGateway_0i9u2oe\" targetRef=\"Task_0fyy1mq\">\n            \n      <bpmn:conditionExpression xsi:type=\"bpmn:tFormalExpression\">${bookAvailable}</bpmn:conditionExpression>\n          \n    </bpmn:sequenceFlow>\n        \n    <bpmn:sequenceFlow id=\"SequenceFlow_0vf6q5t\" name=\"Yes\" sourceRef=\"ExclusiveGateway_0i9u2oe\" targetRef=\"checkoutBook\"/>\n        \n    <bpmn:userTask camunda:candidateGroups=\"management\" camunda:candidateUsers=\"demo\" completionQuantity=\"1\" id=\"checkoutBook\" implementation=\"##unspecified\" isForCompensation=\"false\" name=\"Checkout Book\" startQuantity=\"1\">\n            \n      <bpmn:incoming>SequenceFlow_0vf6q5t</bpmn:incoming>\n            \n      <bpmn:outgoing>SequenceFlow_1mozvul</bpmn:outgoing>\n          \n    </bpmn:userTask>\n        \n    <bpmn:sendTask camunda:expression=\"${true}\" completionQuantity=\"1\" id=\"Task_0fyy1mq\" implementation=\"##WebService\" isForCompensation=\"false\" name=\"On Loan Reply\" startQuantity=\"1\">\n            \n      <bpmn:incoming>SequenceFlow_0jp92nl</bpmn:incoming>\n            \n      <bpmn:outgoing>SequenceFlow_1gdprmj</bpmn:outgoing>\n          \n    </bpmn:sendTask>\n        \n    <bpmn:sequenceFlow id=\"SequenceFlow_1mozvul\" sourceRef=\"checkoutBook\" targetRef=\"Task_12p04yx\"/>\n        \n    <bpmn:sequenceFlow id=\"SequenceFlow_1gdprmj\" sourceRef=\"Task_0fyy1mq\" targetRef=\"ExclusiveGateway_186hbka\"/>\n        \n    <bpmn:eventBasedGateway eventGatewayType=\"Exclusive\" gatewayDirection=\"Unspecified\" id=\"ExclusiveGateway_186hbka\" instantiate=\"false\">\n            \n      <bpmn:incoming>SequenceFlow_1gdprmj</bpmn:incoming>\n            \n      <bpmn:outgoing>SequenceFlow_0i60o08</bpmn:outgoing>\n            \n      <bpmn:outgoing>SequenceFlow_0f8uxqu</bpmn:outgoing>\n            \n      <bpmn:outgoing>SequenceFlow_1lceegs</bpmn:outgoing>\n          \n    </bpmn:eventBasedGateway>\n        \n    <bpmn:intermediateCatchEvent id=\"IntermediateCatchEvent_0a1widf\" name=\"Decliine Hold\" parallelMultiple=\"false\">\n            \n      <bpmn:incoming>SequenceFlow_0i60o08</bpmn:incoming>\n            \n      <bpmn:outgoing>SequenceFlow_01mezfj</bpmn:outgoing>\n            \n      <bpmn:messageEventDefinition messageRef=\"Message_1o8fd0g\"/>\n          \n    </bpmn:intermediateCatchEvent>\n        \n    <bpmn:sequenceFlow id=\"SequenceFlow_0i60o08\" sourceRef=\"ExclusiveGateway_186hbka\" targetRef=\"IntermediateCatchEvent_0a1widf\"/>\n        \n    <bpmn:intermediateCatchEvent id=\"IntermediateCatchEvent_0gj7pjl\" name=\"Hold Book\" parallelMultiple=\"false\">\n            \n      <bpmn:incoming>SequenceFlow_0f8uxqu</bpmn:incoming>\n            \n      <bpmn:outgoing>SequenceFlow_154q9ec</bpmn:outgoing>\n            \n      <bpmn:messageEventDefinition messageRef=\"Message_0jhij3z\"/>\n          \n    </bpmn:intermediateCatchEvent>\n        \n    <bpmn:sequenceFlow id=\"SequenceFlow_0f8uxqu\" sourceRef=\"ExclusiveGateway_186hbka\" targetRef=\"IntermediateCatchEvent_0gj7pjl\"/>\n        \n    <bpmn:intermediateCatchEvent id=\"IntermediateCatchEvent_0dd9qc7\" name=\"One Week\" parallelMultiple=\"false\">\n            \n      <bpmn:incoming>SequenceFlow_1lceegs</bpmn:incoming>\n            \n      <bpmn:outgoing>SequenceFlow_0jjjdth</bpmn:outgoing>\n            \n      <bpmn:timerEventDefinition>\n                \n        <bpmn:timeDuration xsi:type=\"bpmn:tFormalExpression\">PT3S</bpmn:timeDuration>\n              \n      </bpmn:timerEventDefinition>\n          \n    </bpmn:intermediateCatchEvent>\n        \n    <bpmn:sequenceFlow id=\"SequenceFlow_1lceegs\" sourceRef=\"ExclusiveGateway_186hbka\" targetRef=\"IntermediateCatchEvent_0dd9qc7\"/>\n        \n    <bpmn:sequenceFlow id=\"SequenceFlow_01mezfj\" sourceRef=\"IntermediateCatchEvent_0a1widf\" targetRef=\"Task_0hrmeet\"/>\n        \n    <bpmn:sequenceFlow id=\"SequenceFlow_0jjjdth\" sourceRef=\"IntermediateCatchEvent_0dd9qc7\" targetRef=\"Task_0hrmeet\"/>\n        \n    <bpmn:endEvent id=\"EndEvent_0kcx8gn\" name=\"Book Request Processed\">\n            \n      <bpmn:incoming>SequenceFlow_0msajcc</bpmn:incoming>\n            \n      <bpmn:incoming>SequenceFlow_1gea84p</bpmn:incoming>\n          \n    </bpmn:endEvent>\n        \n    <bpmn:sequenceFlow id=\"SequenceFlow_0msajcc\" sourceRef=\"Task_0hrmeet\" targetRef=\"EndEvent_0kcx8gn\"/>\n        \n    <bpmn:sequenceFlow id=\"SequenceFlow_1gea84p\" sourceRef=\"Task_12p04yx\" targetRef=\"EndEvent_0kcx8gn\"/>\n        \n    <bpmn:sequenceFlow id=\"SequenceFlow_154q9ec\" sourceRef=\"IntermediateCatchEvent_0gj7pjl\" targetRef=\"Task_1x9vb2g\"/>\n        \n    <bpmn:sequenceFlow id=\"SequenceFlow_0zfoxl1\" sourceRef=\"Task_1x9vb2g\" targetRef=\"Task_0ggoifp\"/>\n        \n    <bpmn:sequenceFlow id=\"SequenceFlow_01gp9uj\" sourceRef=\"Task_0ggoifp\" targetRef=\"IntermediateThrowEvent_17ddgu1\"/>\n        \n    <bpmn:intermediateCatchEvent id=\"IntermediateThrowEvent_17ddgu1\" name=\"Two Weeks\" parallelMultiple=\"false\">\n            \n      <bpmn:incoming>SequenceFlow_01gp9uj</bpmn:incoming>\n            \n      <bpmn:outgoing>SequenceFlow_0dbiqt6</bpmn:outgoing>\n            \n      <bpmn:timerEventDefinition>\n                \n        <bpmn:timeDuration xsi:type=\"bpmn:tFormalExpression\">PT0S</bpmn:timeDuration>\n              \n      </bpmn:timerEventDefinition>\n          \n    </bpmn:intermediateCatchEvent>\n        \n    <bpmn:sequenceFlow id=\"SequenceFlow_0dbiqt6\" sourceRef=\"IntermediateThrowEvent_17ddgu1\" targetRef=\"Task_1l3px0t\"/>\n        \n    <bpmn:sendTask camunda:expression=\"${true}\" completionQuantity=\"1\" id=\"Task_12p04yx\" implementation=\"##WebService\" isForCompensation=\"false\" name=\"Checkout Reply\" startQuantity=\"1\">\n            \n      <bpmn:incoming>SequenceFlow_1mozvul</bpmn:incoming>\n            \n      <bpmn:outgoing>SequenceFlow_1gea84p</bpmn:outgoing>\n          \n    </bpmn:sendTask>\n        \n    <bpmn:serviceTask camunda:expression=\"$[true}\" completionQuantity=\"1\" id=\"Task_1x9vb2g\" implementation=\"##WebService\" isForCompensation=\"false\" name=\"Request Hold\" startQuantity=\"1\">\n            \n      <bpmn:incoming>SequenceFlow_154q9ec</bpmn:incoming>\n            \n      <bpmn:outgoing>SequenceFlow_0zfoxl1</bpmn:outgoing>\n          \n    </bpmn:serviceTask>\n        \n    <bpmn:sendTask camunda:expression=\"$[true}\" completionQuantity=\"1\" id=\"Task_0hrmeet\" implementation=\"##WebService\" isForCompensation=\"false\" name=\"Cancel Request\" startQuantity=\"1\">\n            \n      <bpmn:incoming>SequenceFlow_01mezfj</bpmn:incoming>\n            \n      <bpmn:incoming>SequenceFlow_0jjjdth</bpmn:incoming>\n            \n      <bpmn:outgoing>SequenceFlow_0msajcc</bpmn:outgoing>\n          \n    </bpmn:sendTask>\n        \n    <bpmn:sendTask camunda:expression=\"${true}\" completionQuantity=\"1\" id=\"Task_0ggoifp\" implementation=\"##WebService\" isForCompensation=\"false\" name=\"Hold Reply\" startQuantity=\"1\">\n            \n      <bpmn:incoming>SequenceFlow_0zfoxl1</bpmn:incoming>\n            \n      <bpmn:outgoing>SequenceFlow_01gp9uj</bpmn:outgoing>\n          \n    </bpmn:sendTask>\n      \n  </bpmn:process>\n    \n  <bpmn:message id=\"Message_15xrx39\" name=\"ReceivedBookRequest\"/>\n    \n  <bpmn:message id=\"Message_1o8fd0g\" name=\"DeclineHold\"/>\n    \n  <bpmn:message id=\"Message_0jhij3z\" name=\"HoldBook\"/>\n    \n  <bpmndi:BPMNDiagram id=\"BPMNDiagram_1\">\n        \n    <bpmndi:BPMNPlane bpmnElement=\"bookrequest\" id=\"BPMNPlane_1\">\n            \n      <bpmndi:BPMNShape bpmnElement=\"StartEvent_1\" id=\"_BPMNShape_StartEvent_2\">\n                \n        <dc:Bounds height=\"36\" width=\"36\" x=\"142\" y=\"316\"/>\n                \n        <bpmndi:BPMNLabel>\n                    \n          <dc:Bounds height=\"27\" width=\"74\" x=\"124\" y=\"352\"/>\n                  \n        </bpmndi:BPMNLabel>\n              \n      </bpmndi:BPMNShape>\n            \n      <bpmndi:BPMNEdge bpmnElement=\"SequenceFlow_0yrmjj2\" id=\"SequenceFlow_0yrmjj2_di\">\n                \n        <di:waypoint x=\"178\" y=\"334\"/>\n                \n        <di:waypoint x=\"228\" y=\"334\"/>\n                \n        <bpmndi:BPMNLabel>\n                    \n          <dc:Bounds height=\"12\" width=\"0\" x=\"203\" y=\"148\"/>\n                  \n        </bpmndi:BPMNLabel>\n              \n      </bpmndi:BPMNEdge>\n            \n      <bpmndi:BPMNShape bpmnElement=\"Task_1hscozi\" id=\"ReceiveTask_0u2soi3_di\">\n                \n        <dc:Bounds height=\"80\" width=\"100\" x=\"228\" y=\"294\"/>\n              \n      </bpmndi:BPMNShape>\n            \n      <bpmndi:BPMNEdge bpmnElement=\"SequenceFlow_1bzn5tn\" id=\"SequenceFlow_1bzn5tn_di\">\n                \n        <di:waypoint x=\"328\" y=\"334\"/>\n                \n        <di:waypoint x=\"378\" y=\"334\"/>\n                \n        <bpmndi:BPMNLabel>\n                    \n          <dc:Bounds height=\"12\" width=\"0\" x=\"353\" y=\"148\"/>\n                  \n        </bpmndi:BPMNLabel>\n              \n      </bpmndi:BPMNEdge>\n            \n      <bpmndi:BPMNShape bpmnElement=\"Task_1l3px0t\" id=\"ServiceTask_0fc8l5k_di\">\n                \n        <dc:Bounds height=\"80\" width=\"100\" x=\"378\" y=\"294\"/>\n              \n      </bpmndi:BPMNShape>\n            \n      <bpmndi:BPMNShape bpmnElement=\"ExclusiveGateway_0i9u2oe\" id=\"ExclusiveGateway_0i9u2oe_di\" isMarkerVisible=\"true\">\n                \n        <dc:Bounds height=\"50\" width=\"50\" x=\"528\" y=\"309\"/>\n                \n        <bpmndi:BPMNLabel>\n                    \n          <dc:Bounds height=\"14\" width=\"89\" x=\"509\" y=\"287\"/>\n                  \n        </bpmndi:BPMNLabel>\n              \n      </bpmndi:BPMNShape>\n            \n      <bpmndi:BPMNEdge bpmnElement=\"SequenceFlow_19n0ed3\" id=\"SequenceFlow_19n0ed3_di\">\n                \n        <di:waypoint x=\"478\" y=\"334\"/>\n                \n        <di:waypoint x=\"528\" y=\"334\"/>\n                \n        <bpmndi:BPMNLabel>\n                    \n          <dc:Bounds height=\"12\" width=\"0\" x=\"503\" y=\"148\"/>\n                  \n        </bpmndi:BPMNLabel>\n              \n      </bpmndi:BPMNEdge>\n            \n      <bpmndi:BPMNEdge bpmnElement=\"SequenceFlow_0jp92nl\" id=\"SequenceFlow_0jp92nl_di\">\n                \n        <di:waypoint x=\"578\" y=\"334\"/>\n                \n        <di:waypoint x=\"628\" y=\"334\"/>\n                \n        <bpmndi:BPMNLabel>\n                    \n          <dc:Bounds height=\"14\" width=\"15\" x=\"596\" y=\"313\"/>\n                  \n        </bpmndi:BPMNLabel>\n              \n      </bpmndi:BPMNEdge>\n            \n      <bpmndi:BPMNEdge bpmnElement=\"SequenceFlow_0vf6q5t\" id=\"SequenceFlow_0vf6q5t_di\">\n                \n        <di:waypoint x=\"553\" y=\"359\"/>\n                \n        <di:waypoint x=\"553\" y=\"553\"/>\n                \n        <di:waypoint x=\"628\" y=\"553\"/>\n                \n        <bpmndi:BPMNLabel>\n                    \n          <dc:Bounds height=\"14\" width=\"18\" x=\"560\" y=\"450\"/>\n                  \n        </bpmndi:BPMNLabel>\n              \n      </bpmndi:BPMNEdge>\n            \n      <bpmndi:BPMNShape bpmnElement=\"checkoutBook\" id=\"UserTask_1k6euka_di\">\n                \n        <dc:Bounds height=\"80\" width=\"100\" x=\"628\" y=\"513\"/>\n              \n      </bpmndi:BPMNShape>\n            \n      <bpmndi:BPMNShape bpmnElement=\"Task_0fyy1mq\" id=\"SendTask_0pd2avm_di\">\n                \n        <dc:Bounds height=\"80\" width=\"100\" x=\"628\" y=\"294\"/>\n              \n      </bpmndi:BPMNShape>\n            \n      <bpmndi:BPMNEdge bpmnElement=\"SequenceFlow_1mozvul\" id=\"SequenceFlow_1mozvul_di\">\n                \n        <di:waypoint x=\"728\" y=\"553\"/>\n                \n        <di:waypoint x=\"778\" y=\"553\"/>\n                \n        <bpmndi:BPMNLabel>\n                    \n          <dc:Bounds height=\"12\" width=\"0\" x=\"753\" y=\"367\"/>\n                  \n        </bpmndi:BPMNLabel>\n              \n      </bpmndi:BPMNEdge>\n            \n      <bpmndi:BPMNEdge bpmnElement=\"SequenceFlow_1gdprmj\" id=\"SequenceFlow_1gdprmj_di\">\n                \n        <di:waypoint x=\"728\" y=\"334\"/>\n                \n        <di:waypoint x=\"778\" y=\"334\"/>\n                \n        <bpmndi:BPMNLabel>\n                    \n          <dc:Bounds height=\"12\" width=\"0\" x=\"753\" y=\"148\"/>\n                  \n        </bpmndi:BPMNLabel>\n              \n      </bpmndi:BPMNEdge>\n            \n      <bpmndi:BPMNShape bpmnElement=\"ExclusiveGateway_186hbka\" id=\"EventBasedGateway_0lhsnkb_di\">\n                \n        <dc:Bounds height=\"50\" width=\"50\" x=\"778\" y=\"309\"/>\n                \n        <bpmndi:BPMNLabel>\n                    \n          <dc:Bounds height=\"12\" width=\"0\" x=\"803\" y=\"204\"/>\n                  \n        </bpmndi:BPMNLabel>\n              \n      </bpmndi:BPMNShape>\n            \n      <bpmndi:BPMNShape bpmnElement=\"IntermediateCatchEvent_0a1widf\" id=\"IntermediateCatchEvent_0a1widf_di\">\n                \n        <dc:Bounds height=\"36\" width=\"36\" x=\"878\" y=\"316\"/>\n                \n        <bpmndi:BPMNLabel>\n                    \n          <dc:Bounds height=\"14\" width=\"65\" x=\"864\" y=\"356\"/>\n                  \n        </bpmndi:BPMNLabel>\n              \n      </bpmndi:BPMNShape>\n            \n      <bpmndi:BPMNEdge bpmnElement=\"SequenceFlow_0i60o08\" id=\"SequenceFlow_0i60o08_di\">\n                \n        <di:waypoint x=\"828\" y=\"334\"/>\n                \n        <di:waypoint x=\"878\" y=\"334\"/>\n                \n        <bpmndi:BPMNLabel>\n                    \n          <dc:Bounds height=\"12\" width=\"0\" x=\"853\" y=\"148\"/>\n                  \n        </bpmndi:BPMNLabel>\n              \n      </bpmndi:BPMNEdge>\n            \n      <bpmndi:BPMNShape bpmnElement=\"IntermediateCatchEvent_0gj7pjl\" id=\"IntermediateCatchEvent_0gj7pjl_di\">\n                \n        <dc:Bounds height=\"36\" width=\"36\" x=\"878\" y=\"212\"/>\n                \n        <bpmndi:BPMNLabel>\n                    \n          <dc:Bounds height=\"14\" width=\"51\" x=\"871\" y=\"252\"/>\n                  \n        </bpmndi:BPMNLabel>\n              \n      </bpmndi:BPMNShape>\n            \n      <bpmndi:BPMNEdge bpmnElement=\"SequenceFlow_0f8uxqu\" id=\"SequenceFlow_0f8uxqu_di\">\n                \n        <di:waypoint x=\"803\" y=\"309\"/>\n                \n        <di:waypoint x=\"803\" y=\"230\"/>\n                \n        <di:waypoint x=\"878\" y=\"230\"/>\n                \n        <bpmndi:BPMNLabel>\n                    \n          <dc:Bounds height=\"12\" width=\"0\" x=\"818\" y=\"98.5\"/>\n                  \n        </bpmndi:BPMNLabel>\n              \n      </bpmndi:BPMNEdge>\n            \n      <bpmndi:BPMNShape bpmnElement=\"IntermediateCatchEvent_0dd9qc7\" id=\"IntermediateCatchEvent_0dd9qc7_di\">\n                \n        <dc:Bounds height=\"36\" width=\"36\" x=\"878\" y=\"424\"/>\n                \n        <bpmndi:BPMNLabel>\n                    \n          <dc:Bounds height=\"14\" width=\"52\" x=\"871\" y=\"464\"/>\n                  \n        </bpmndi:BPMNLabel>\n              \n      </bpmndi:BPMNShape>\n            \n      <bpmndi:BPMNEdge bpmnElement=\"SequenceFlow_1lceegs\" id=\"SequenceFlow_1lceegs_di\">\n                \n        <di:waypoint x=\"803\" y=\"359\"/>\n                \n        <di:waypoint x=\"803\" y=\"442\"/>\n                \n        <di:waypoint x=\"878\" y=\"442\"/>\n                \n        <bpmndi:BPMNLabel>\n                    \n          <dc:Bounds height=\"12\" width=\"0\" x=\"818\" y=\"229.5\"/>\n                  \n        </bpmndi:BPMNLabel>\n              \n      </bpmndi:BPMNEdge>\n            \n      <bpmndi:BPMNEdge bpmnElement=\"SequenceFlow_01mezfj\" id=\"SequenceFlow_01mezfj_di\">\n                \n        <di:waypoint x=\"914\" y=\"334\"/>\n                \n        <di:waypoint x=\"964\" y=\"334\"/>\n                \n        <bpmndi:BPMNLabel>\n                    \n          <dc:Bounds height=\"12\" width=\"0\" x=\"939\" y=\"148\"/>\n                  \n        </bpmndi:BPMNLabel>\n              \n      </bpmndi:BPMNEdge>\n            \n      <bpmndi:BPMNEdge bpmnElement=\"SequenceFlow_0jjjdth\" id=\"SequenceFlow_0jjjdth_di\">\n                \n        <di:waypoint x=\"914\" y=\"442\"/>\n                \n        <di:waypoint x=\"1014\" y=\"442\"/>\n                \n        <di:waypoint x=\"1014\" y=\"374\"/>\n                \n        <bpmndi:BPMNLabel>\n                    \n          <dc:Bounds height=\"12\" width=\"0\" x=\"964\" y=\"256\"/>\n                  \n        </bpmndi:BPMNLabel>\n              \n      </bpmndi:BPMNEdge>\n            \n      <bpmndi:BPMNShape bpmnElement=\"EndEvent_0kcx8gn\" id=\"EndEvent_0kcx8gn_di\">\n                \n        <dc:Bounds height=\"36\" width=\"36\" x=\"1114\" y=\"316\"/>\n                \n        <bpmndi:BPMNLabel>\n                    \n          <dc:Bounds height=\"27\" width=\"70\" x=\"1097\" y=\"286\"/>\n                  \n        </bpmndi:BPMNLabel>\n              \n      </bpmndi:BPMNShape>\n            \n      <bpmndi:BPMNEdge bpmnElement=\"SequenceFlow_0msajcc\" id=\"SequenceFlow_0msajcc_di\">\n                \n        <di:waypoint x=\"1064\" y=\"334\"/>\n                \n        <di:waypoint x=\"1114\" y=\"334\"/>\n                \n        <bpmndi:BPMNLabel>\n                    \n          <dc:Bounds height=\"12\" width=\"0\" x=\"1089\" y=\"148\"/>\n                  \n        </bpmndi:BPMNLabel>\n              \n      </bpmndi:BPMNEdge>\n            \n      <bpmndi:BPMNEdge bpmnElement=\"SequenceFlow_1gea84p\" id=\"SequenceFlow_1gea84p_di\">\n                \n        <di:waypoint x=\"878\" y=\"553\"/>\n                \n        <di:waypoint x=\"1132\" y=\"553\"/>\n                \n        <di:waypoint x=\"1132\" y=\"352\"/>\n                \n        <bpmndi:BPMNLabel>\n                    \n          <dc:Bounds height=\"12\" width=\"0\" x=\"1005\" y=\"367\"/>\n                  \n        </bpmndi:BPMNLabel>\n              \n      </bpmndi:BPMNEdge>\n            \n      <bpmndi:BPMNEdge bpmnElement=\"SequenceFlow_154q9ec\" id=\"SequenceFlow_154q9ec_di\">\n                \n        <di:waypoint x=\"914\" y=\"230\"/>\n                \n        <di:waypoint x=\"964\" y=\"230\"/>\n                \n        <bpmndi:BPMNLabel>\n                    \n          <dc:Bounds height=\"12\" width=\"0\" x=\"939\" y=\"44\"/>\n                  \n        </bpmndi:BPMNLabel>\n              \n      </bpmndi:BPMNEdge>\n            \n      <bpmndi:BPMNEdge bpmnElement=\"SequenceFlow_0zfoxl1\" id=\"SequenceFlow_0zfoxl1_di\">\n                \n        <di:waypoint x=\"1064\" y=\"230\"/>\n                \n        <di:waypoint x=\"1114\" y=\"230\"/>\n                \n        <bpmndi:BPMNLabel>\n                    \n          <dc:Bounds height=\"12\" width=\"0\" x=\"1089\" y=\"44\"/>\n                  \n        </bpmndi:BPMNLabel>\n              \n      </bpmndi:BPMNEdge>\n            \n      <bpmndi:BPMNEdge bpmnElement=\"SequenceFlow_01gp9uj\" id=\"SequenceFlow_01gp9uj_di\">\n                \n        <di:waypoint x=\"1164\" y=\"190\"/>\n                \n        <di:waypoint x=\"1164\" y=\"99\"/>\n                \n        <di:waypoint x=\"873\" y=\"99\"/>\n                \n        <bpmndi:BPMNLabel>\n                    \n          <dc:Bounds height=\"12\" width=\"0\" x=\"1179\" y=\"-26.5\"/>\n                  \n        </bpmndi:BPMNLabel>\n              \n      </bpmndi:BPMNEdge>\n            \n      <bpmndi:BPMNShape bpmnElement=\"IntermediateThrowEvent_17ddgu1\" id=\"IntermediateCatchEvent_06zhr1i_di\">\n                \n        <dc:Bounds height=\"36\" width=\"36\" x=\"837\" y=\"81\"/>\n                \n        <bpmndi:BPMNLabel>\n                    \n          <dc:Bounds height=\"14\" width=\"57\" x=\"827\" y=\"121\"/>\n                  \n        </bpmndi:BPMNLabel>\n              \n      </bpmndi:BPMNShape>\n            \n      <bpmndi:BPMNEdge bpmnElement=\"SequenceFlow_0dbiqt6\" id=\"SequenceFlow_0dbiqt6_di\">\n                \n        <di:waypoint x=\"837\" y=\"99\"/>\n                \n        <di:waypoint x=\"428\" y=\"99\"/>\n                \n        <di:waypoint x=\"428\" y=\"294\"/>\n                \n        <bpmndi:BPMNLabel>\n                    \n          <dc:Bounds height=\"12\" width=\"0\" x=\"632.5\" y=\"-87\"/>\n                  \n        </bpmndi:BPMNLabel>\n              \n      </bpmndi:BPMNEdge>\n            \n      <bpmndi:BPMNShape bpmnElement=\"Task_12p04yx\" id=\"SendTask_0c1sqiy_di\">\n                \n        <dc:Bounds height=\"80\" width=\"100\" x=\"778\" y=\"513\"/>\n              \n      </bpmndi:BPMNShape>\n            \n      <bpmndi:BPMNShape bpmnElement=\"Task_1x9vb2g\" id=\"ServiceTask_1d3dq9l_di\">\n                \n        <dc:Bounds height=\"80\" width=\"100\" x=\"964\" y=\"190\"/>\n              \n      </bpmndi:BPMNShape>\n            \n      <bpmndi:BPMNShape bpmnElement=\"Task_0hrmeet\" id=\"SendTask_1f2rlum_di\">\n                \n        <dc:Bounds height=\"80\" width=\"100\" x=\"964\" y=\"294\"/>\n              \n      </bpmndi:BPMNShape>\n            \n      <bpmndi:BPMNShape bpmnElement=\"Task_0ggoifp\" id=\"SendTask_059pg89_di\">\n                \n        <dc:Bounds height=\"80\" width=\"100\" x=\"1114\" y=\"190\"/>\n              \n      </bpmndi:BPMNShape>\n          \n    </bpmndi:BPMNPlane>\n      \n  </bpmndi:BPMNDiagram>\n  \n</bpmn:definitions>\n",[m
[31m-      "tableColumns" : {[m
[31m-        "includeNewVariables" : true,[m
[31m-        "excludedColumns" : [ ],[m
[31m-        "includedColumns" : [ ],[m
[31m-        "columnOrder" : [ ][m
[32m+[m[32m      "distributedBy": {[m
[32m+[m[32m        "type": "none",[m
[32m+[m[32m        "value": null[m
       },[m
[31m-      "targetValue" : {[m
[31m-        "countChart" : {[m
[31m-          "isBelow" : false,[m
[31m-          "value" : "100"[m
[31m-        },[m
[31m-        "durationProgress" : {[m
[31m-          "baseline" : {[m
[31m-            "unit" : "hours",[m
[31m-            "value" : "0"[m
[31m-          },[m
[31m-          "target" : {[m
[31m-            "unit" : "hours",[m
[31m-            "value" : "24",[m
[31m-            "isBelow" : true[m
[31m-          }[m
[31m-        },[m
[31m-        "active" : false,[m
[31m-        "countProgress" : {[m
[31m-          "baseline" : "0",[m
[31m-          "target" : "100",[m
[31m-          "isBelow" : false[m
[32m+[m[32m      "visualization": "number",[m
[32m+[m[32m      "managementReport": false,[m
[32m+[m[32m      "instantPreviewReport": false,[m
[32m+[m[32m      "userTaskReport": false[m
[32m+[m[32m    }[m
[32m+[m[32m  },[m
[32m+[m[32m  {[m
[32m+[m[32m    "id": "d1e3c133-4831-42e1-b169-0f3c32c7864a",[m
[32m+[m[32m    "exportEntityType": "dashboard",[m
[32m+[m[32m    "name": "processDashboard",[m
[32m+[m[32m    "description": "processDashboard-description",[m
[32m+[m[32m    "sourceIndexVersion": 8,[m
[32m+[m[32m    "tiles": [[m
[32m+[m[32m      {[m
[32m+[m[32m        "id": "",[m
[32m+[m[32m        "position": {[m
[32m+[m[32m          "x": 0,[m
[32m+[m[32m          "y": 0[m
         },[m
[31m-        "durationChart" : {[m
[31m-          "unit" : "hours",[m
[31m-          "isBelow" : false,[m
[31m-          "value" : "2"[m
[32m+[m[32m        "dimensions": {[m
[32m+[m[32m          "width": 18,[m
[32m+[m[32m          "height": 1[m
         },[m
[31m-        "isKpi" : false[m
[31m-      },[m
[31m-      "heatmapTargetValue" : {[m
[31m-        "active" : false,[m
[31m-        "values" : { }[m
[32m+[m[32m        "type": "text",[m
[32m+[m[32m        "configuration": {[m
[32m+[m[32m          "text": {[m
[32m+[m[32m            "root": {[m
[32m+[m[32m              "children": [[m
[32m+[m[32m                {[m
[32m+[m[32m                  "children": [[m
[32m+[m[32m                    {[m
[32m+[m[32m                      "altText": "https://i.postimg.cc/HncWnR8v/prod_business_reporting.png",[m
[32m+[m[32m                      "src": "https://i.postimg.cc/HncWnR8v/prod_business_reporting.png",[m
[32m+[m[32m                      "width": 0,[m
[32m+[m[32m                      "caption": {[m
[32m+[m[32m                        "editorState": {[m
[32m+[m[32m                          "root": {[m
[32m+[m[32m                            "children": [],[m
[32m+[m[32m                            "indent": 0,[m
[32m+[m[32m                            "format": "",[m
[32m+[m[32m                            "type": "root",[m
[32m+[m[32m                            "version": 1,[m
[32m+[m[32m                            "direction": null[m
[32m+[m[32m                          }[m
[32m+[m[32m                        }[m
[32m+[m[32m                      },[m
[32m+[m[32m                      "showCaption": false,[m
[32m+[m[32m                      "type": "image",[m
[32m+[m[32m                      "version": 1,[m
[32m+[m[32m                      "height": 0,[m
[32m+[m[32m                      "maxWidth": 500[m
[32m+[m[32m                    }[m
[32m+[m[32m                  ],[m
[32m+[m[32m                  "format": "",[m
[32m+[m[32m                  "type": "paragraph",[m
[32m+[m[32m                  "version": 1,[m
[32m+[m[32m                  "direction": null[m
[32m+[m[32m                }[m
[32m+[m[32m              ],[m
[32m+[m[32m              "indent": 0,[m
[32m+[m[32m              "format": "",[m
[32m+[m[32m              "type": "root",[m
[32m+[m[32m              "version": 1,[m
[32m+[m[32m              "direction": null[m
[32m+[m[32m            }[m
[32m+[m[32m          }[m
[32m+[m[32m        }[m
       },[m
[31m-      "groupByDateVariableUnit" : "automatic",[m
[31m-      "distributeByDateVariableUnit" : "automatic",[m
[31m-      "customBucket" : {[m
[31m-        "active" : false,[m
[31m-        "bucketSize" : "10.0",[m
[31m-        "bucketSizeUnit" : null,[m
[31m-        "baseline" : "0.0",[m
[31m-        "baselineUnit" : null[m
[32m+[m[32m      {[m
[32m+[m[32m        "id": "53382bd9-0806-4001-b195-994edd4632f4",[m
[32m+[m[32m        "position": {[m
[32m+[m[32m          "x": 5,[m
[32m+[m[32m          "y": 6[m
[32m+[m[32m        },[m
[32m+[m[32m        "dimensions": {[m
[32m+[m[32m          "width": 4,[m
[32m+[m[32m          "height": 2[m
[32m+[m[32m        },[m
[32m+[m[32m        "type": "optimize_report",[m
[32m+[m[32m        "configuration": null[m
       },[m
[31m-      "distributeByCustomBucket" : {[m
[31m-        "active" : false,[m
[31m-        "bucketSize" : "10.0",[m
[31m-        "bucketSizeUnit" : null,[m
[31m-        "baseline" : "0.0",[m
[31m-        "baselineUnit" : null[m
[32m+[m[32m      {[m
[32m+[m[32m        "id": "60c09d9b-dc33-4d04-bfa1-e0e19ee31144",[m
[32m+[m[32m        "position": {[m
[32m+[m[32m          "x": 0,[m
[32m+[m[32m          "y": 1[m
[32m+[m[32m        },[m
[32m+[m[32m        "dimensions": {[m
[32m+[m[32m          "width": 18,[m
[32m+[m[32m          "height": 5[m
[32m+[m[32m        },[m
[32m+[m[32m        "type": "optimize_report",[m
[32m+[m[32m        "configuration": null[m
       },[m
[31m-      "sorting" : {[m
[31m-        "by" : "key",[m
[31m-        "order" : "desc"[m
[32m+[m[32m      {[m
[32m+[m[32m        "id": "2f622f77-6b5a-4d26-893d-ee69de3ea696",[m
[32m+[m[32m        "position": {[m
[32m+[m[32m          "x": 4,[m
[32m+[m[32m          "y": 8[m
[32m+[m[32m        },[m
[32m+[m[32m        "dimensions": {[m
[32m+[m[32m          "width": 14,[m
[32m+[m[32m          "height": 4[m
[32m+[m[32m        },[m
[32m+[m[32m        "type": "optimize_report",[m
[32m+[m[32m        "configuration": null[m
       },[m
[31m-      "processPart" : null,[m
[31m-      "measureVisualizations" : {[m
[31m-        "frequency" : "bar",[m
[31m-        "duration" : "line"[m
[32m+[m[32m      {[m
[32m+[m[32m        "id": "25f44c6b-173d-4958-82f5-5c0282f47e3b",[m
[32m+[m[32m        "position": {[m
[32m+[m[32m          "x": 0,[m
[32m+[m[32m          "y": 6[m
[32m+[m[32m        },[m
[32m+[m[32m        "dimensions": {[m
[32m+[m[32m          "width": 5,[m
[32m+[m[32m          "height": 2[m
[32m+[m[32m        },[m
[32m+[m[32m        "type": "optimize_report",[m
[32m+[m[32m        "configuration": null[m
       },[m
[31m-      "stackedBar" : false,[m
[31m-      "horizontalBar" : false,[m
[31m-      "logScale" : false,[m
[31m-      "yLabel" : "Process Instance Count",[m
[31m-      "xLabel" : "None"[m
[31m-    },[m
[31m-    "definitions" : [ {[m
[31m-      "identifier" : "definition",[m
[31m-      "key" : "bookrequest-suspended-instances",[m
[31m-      "name" : "Book Request with suspended process instances",[m
[31m-      "displayName" : "Book Request with suspended process instances",[m
[31m-      "versions" : [ "all" ],[m
[31m-      "tenantIds" : [ null, "csm", "engineering", "hr", "library", "marketing", "sales", "support" ][m
[31m-    } ],[m
[31m-    "filter" : [ {[m
[31m-      "type" : "instanceEndDate",[m
[31m-      "data" : {[m
[31m-        "type" : "rolling",[m
[31m-        "start" : {[m
[31m-          "value" : 7,[m
[31m-          "unit" : "days"[m
[31m-        },[m
[31m-        "end" : null,[m
[31m-        "includeUndefined" : false,[m
[31m-        "excludeUndefined" : false[m
[32m+[m[32m      {[m
[32m+[m[32m        "id": "8c78beb1-ae1f-48b3-ab58-da99d2fbdc3b",[m
[32m+[m[32m        "position": {[m
[32m+[m[32m          "x": 9,[m
[32m+[m[32m          "y": 6[m
[32m+[m[32m        },[m
[32m+[m[32m        "dimensions": {[m
[32m+[m[32m          "width": 5,[m
[32m+[m[32m          "height": 2[m
[32m+[m[32m        },[m
[32m+[m[32m        "type": "optimize_report",[m
[32m+[m[32m        "configuration": null[m
       },[m
[31m-      "filterLevel" : "instance",[m
[31m-      "appliedTo" : [ "all" ][m
[31m-    } ],[m
[31m-    "view" : {[m
[31m-      "entity" : "processInstance",[m
[31m-      "properties" : [ "frequency" ][m
[31m-    },[m
[31m-    "groupBy" : {[m
[31m-      "type" : "none",[m
[31m-      "value" : null[m
[31m-    },[m
[31m-    "distributedBy" : {[m
[31m-      "type" : "none",[m
[31m-      "value" : null[m
[31m-    },[m
[31m-    "visualization" : "number",[m
[31m-    "managementReport" : false,[m
[31m-    "instantPreviewReport" : true,[m
[31m-    "userTaskReport" : false[m
[31m-  }[m
[31m-}, {[m
[31m-  "id" : "438c08d8-06cb-41a7-9464-cc9fa8a8f09d",[m
[31m-  "exportEntityType" : "dashboard",[m
[31m-  "name" : "IP_DashboardName",[m
[31m-  "description" : null,[m
[31m-  "sourceIndexVersion" : 8,[m
[31m-  "tiles" : [ {[m
[31m-    "id" : "",[m
[31m-    "position" : {[m
[31m-      "x" : 0,[m
[31m-      "y" : 0[m
[31m-    },[m
[31m-    "dimensions" : {[m
[31m-      "width" : 18,[m
[31m-      "height" : 1[m
[31m-    },[m
[31m-    "type" : "text",[m
[31m-    "configuration" : {[m
[31m-      "text" : {[m
[31m-        "root" : {[m
[31m-          "children" : [ {[m
[31m-            "children" : [ {[m
[31m-              "altText" : "https://i.postimg.cc/jSwfwDKW/OPT_Logo.png",[m
[31m-              "src" : "https://i.postimg.cc/jSwfwDKW/OPT_Logo.png",[m
[31m-              "width" : 0,[m
[31m-              "caption" : {[m
[31m-                "editorState" : {[m
[31m-                  "root" : {[m
[31m-                    "children" : [ ],[m
[31m-                    "indent" : 0,[m
[31m-                    "format" : "",[m
[31m-                    "type" : "root",[m
[31m-                    "version" : 1,[m
[31m-                    "direction" : null[m
[31m-                  }[m
[31m-                }[m
[31m-              },[m
[31m-              "showCaption" : false,[m
[31m-              "type" : "image",[m
[31m-              "version" : 1,[m
[31m-              "height" : 0,[m
[31m-              "maxWidth" : 500[m
[31m-            } ],[m
[31m-            "format" : "",[m
[31m-            "type" : "paragraph",[m
[31m-            "version" : 1,[m
[31m-            "direction" : null[m
[31m-          } ],[m
[31m-          "indent" : 0,[m
[31m-          "format" : "",[m
[31m-          "type" : "root",[m
[31m-          "version" : 1,[m
[31m-          "direction" : null[m
[31m-        }[m
[31m-      }[m
[31m-    }[m
[31m-  }, {[m
[31m-    "id" : "",[m
[31m-    "position" : {[m
[31m-      "x" : 0,[m
[31m-      "y" : 1[m
[31m-    },[m
[31m-    "dimensions" : {[m
[31m-      "width" : 18,[m
[31m-      "height" : 1[m
[31m-    },[m
[31m-    "type" : "text",[m
[31m-    "configuration" : {[m
[31m-      "text" : {[m
[31m-        "root" : {[m
[31m-          "children" : [ {[m
[31m-            "children" : [ {[m
[31m-              "altText" : "https://i.postimg.cc/vZNphSpq/OPT_Business_Operations.png",[m
[31m-              "src" : "https://i.postimg.cc/vZNphSpq/OPT_Business_Operations.png",[m
[31m-              "width" : 0,[m
[31m-              "caption" : {[m
[31m-                "editorState" : {[m
[31m-                  "root" : {[m
[31m-                    "children" : [ ],[m
[31m-                    "indent" : 0,[m
[31m-                    "format" : "",[m
[31m-                    "type" : "root",[m
[31m-                    "version" : 1,[m
[31m-                    "direction" : null[m
[31m-                  }[m
[31m-                }[m
[31m-              },[m
[31m-              "showCaption" : false,[m
[31m-              "type" : "image",[m
[31m-              "version" : 1,[m
[31m-              "height" : 0,[m
[31m-              "maxWidth" : 500[m
[31m-            } ],[m
[31m-            "format" : "",[m
[31m-            "type" : "paragraph",[m
[31m-            "version" : 1,[m
[31m-            "direction" : null[m
[31m-          } ],[m
[31m-          "indent" : 0,[m
[31m-          "format" : "",[m
[31m-          "type" : "root",[m
[31m-          "version" : 1,[m
[31m-          "direction" : null[m
[31m-        }[m
[31m-      }[m
[31m-    }[m
[31m-  }, {[m
[31m-    "id" : "",[m
[31m-    "position" : {[m
[31m-      "x" : 0,[m
[31m-      "y" : 2[m
[31m-    },[m
[31m-    "dimensions" : {[m
[31m-      "width" : 3,[m
[31m-      "height" : 7[m
[31m-    },[m
[31m-    "type" : "text",[m
[31m-    "configuration" : {[m
[31m-      "text" : {[m
[31m-        "root" : {[m
[31m-          "children" : [ {[m
[31m-            "children" : [ {[m
[31m-              "mode" : "normal",[m
[31m-              "format" : 0,[m
[31m-              "style" : "",[m
[31m-              "detail" : 0,[m
[31m-              "text" : "IP_TileText_BusinessOperations",[m
[31m-              "type" : "text",[m
[31m-              "version" : 1[m
[31m-            } ],[m
[31m-            "format" : "",[m
[31m-            "type" : "paragraph",[m
[31m-            "version" : 1,[m
[31m-            "direction" : "ltr"[m
[31m-          }, {[m
[31m-            "children" : [ {[m
[31m-              "altText" : "https://i.postimg.cc/QC6JkvH0/OPT_Logo_Business_Operations.png",[m
[31m-              "src" : "https://i.postimg.cc/QC6JkvH0/OPT_Logo_Business_Operations.png",[m
[31m-              "width" : 0,[m
[31m-              "caption" : {[m
[31m-                "editorState" : {[m
[31m-                  "root" : {[m
[31m-                    "children" : [ ],[m
[31m-                    "indent" : 0,[m
[31m-                    "format" : "",[m
[31m-                    "type" : "root",[m
[31m-                    "version" : 1,[m
[31m-                    "direction" : null[m
[31m-                  }[m
[32m+[m[32m      {[m
[32m+[m[32m        "id": "",[m
[32m+[m[32m        "position": {[m
[32m+[m[32m          "x": 0,[m
[32m+[m[32m          "y": 12[m
[32m+[m[32m        },[m
[32m+[m[32m        "dimensions": {[m
[32m+[m[32m          "width": 18,[m
[32m+[m[32m          "height": 1[m
[32m+[m[32m        },[m
[32m+[m[32m        "type": "text",[m
[32m+[m[32m        "configuration": {[m
[32m+[m[32m          "text": {[m
[32m+[m[32m            "root": {[m
[32m+[m[32m              "children": [[m
[32m+[m[32m                {[m
[32m+[m[32m                  "children": [[m
[32m+[m[32m                    {[m
[32m+[m[32m                      "altText": "https://i.postimg.cc/k45g3BJm/prod_business_operations.png",[m
[32m+[m[32m                      "src": "https://i.postimg.cc/k45g3BJm/prod_business_operations.png",[m
[32m+[m[32m                      "width": 0,[m
[32m+[m[32m                      "caption": {[m
[32m+[m[32m                        "editorState": {[m
[32m+[m[32m                          "root": {[m
[32m+[m[32m                            "children": [],[m
[32m+[m[32m                            "indent": 0,[m
[32m+[m[32m                            "format": "",[m
[32m+[m[32m                            "type": "root",[m
[32m+[m[32m                            "version": 1,[m
[32m+[m[32m                            "direction": null[m
[32m+[m[32m                          }[m
[32m+[m[32m                        }[m
[32m+[m[32m                      },[m
[32m+[m[32m                      "showCaption": false,[m
[32m+[m[32m                      "type": "image",[m
[32m+[m[32m                      "version": 1,[m
[32m+[m[32m                      "height": 0,[m
[32m+[m[32m                      "maxWidth": 500[m
[32m+[m[32m                    }[m
[32m+[m[32m                  ],[m
[32m+[m[32m                  "format": "",[m
[32m+[m[32m                  "type": "paragraph",[m
[32m+[m[32m                  "version": 1,[m
[32m+[m[32m                  "direction": null[m
                 }[m
[31m-              },[m
[31m-              "showCaption" : false,[m
[31m-              "type" : "image",[m
[31m-              "version" : 1,[m
[31m-              "height" : 0,[m
[31m-              "maxWidth" : 500[m
[31m-            } ],[m
[31m-            "indent" : 0,[m
[31m-            "format" : "",[m
[31m-            "type" : "paragraph",[m
[31m-            "version" : 1,[m
[31m-            "direction" : null[m
[31m-          } ],[m
[31m-          "indent" : 0,[m
[31m-          "format" : "",[m
[31m-          "type" : "root",[m
[31m-          "version" : 1,[m
[31m-          "direction" : "ltr"[m
[31m-        }[m
[31m-      }[m
[31m-    }[m
[31m-  }, {[m
[31m-    "id" : "e066e465-a74c-452a-8cd7-a13b8532095f",[m
[31m-    "position" : {[m
[31m-      "x" : 3,[m
[31m-      "y" : 2[m
[31m-    },[m
[31m-    "dimensions" : {[m
[31m-      "width" : 5,[m
[31m-      "height" : 2[m
[31m-    },[m
[31m-    "type" : "optimize_report",[m
[31m-    "configuration" : null[m
[31m-  }, {[m
[31m-    "id" : "badee490-769c-4180-8228-912bea73a856",[m
[31m-    "position" : {[m
[31m-      "x" : 8,[m
[31m-      "y" : 2[m
[31m-    },[m
[31m-    "dimensions" : {[m
[31m-      "width" : 5,[m
[31m-      "height" : 2[m
[31m-    },[m
[31m-    "type" : "optimize_report",[m
[31m-    "configuration" : null[m
[31m-  }, {[m
[31m-    "id" : "073e04a7-1dc9-4276-b4b7-26978b9e6865",[m
[31m-    "position" : {[m
[31m-      "x" : 13,[m
[31m-      "y" : 2[m
[31m-    },[m
[31m-    "dimensions" : {[m
[31m-      "width" : 5,[m
[31m-      "height" : 2[m
[31m-    },[m
[31m-    "type" : "optimize_report",[m
[31m-    "configuration" : null[m
[31m-  }, {[m
[31m-    "id" : "2b498b6c-4248-464f-8203-480eacd02382",[m
[31m-    "position" : {[m
[31m-      "x" : 3,[m
[31m-      "y" : 7[m
[31m-    },[m
[31m-    "dimensions" : {[m
[31m-      "width" : 10,[m
[31m-      "height" : 2[m
[31m-    },[m
[31m-    "type" : "optimize_report",[m
[31m-    "configuration" : null[m
[31m-  }, {[m
[31m-    "id" : "64f558a1-60c6-4215-baac-5497f3d7c404",[m
[31m-    "position" : {[m
[31m-      "x" : 13,[m
[31m-      "y" : 4[m
[31m-    },[m
[31m-    "dimensions" : {[m
[31m-      "width" : 5,[m
[31m-      "height" : 2[m
[31m-    },[m
[31m-    "type" : "optimize_report",[m
[31m-    "configuration" : null[m
[31m-  }, {[m
[31m-    "id" : "",[m
[31m-    "position" : {[m
[31m-      "x" : 13,[m
[31m-      "y" : 6[m
[31m-    },[m
[31m-    "dimensions" : {[m
[31m-      "width" : 5,[m
[31m-      "height" : 3[m
[31m-    },[m
[31m-    "type" : "text",[m
[31m-    "configuration" : {[m
[31m-      "text" : {[m
[31m-        "root" : {[m
[31m-          "children" : [ {[m
[31m-            "children" : [ {[m
[31m-              "mode" : "normal",[m
[31m-              "format" : 0,[m
[31m-              "style" : "",[m
[31m-              "detail" : 0,[m
[31m-              "text" : "IP_TileText_BusinessOperations_Details_1",[m
[31m-              "type" : "text",[m
[31m-              "version" : 1[m
[31m-            } ],[m
[31m-            "indent" : 0,[m
[31m-            "format" : "",[m
[31m-            "type" : "paragraph",[m
[31m-            "version" : 1,[m
[31m-            "direction" : "ltr"[m
[31m-          }, {[m
[31m-            "children" : [ ],[m
[31m-            "indent" : 0,[m
[31m-            "format" : "",[m
[31m-            "type" : "paragraph",[m
[31m-            "version" : 1,[m
[31m-            "direction" : "ltr"[m
[31m-          }, {[m
[31m-            "children" : [ {[m
[31m-              "mode" : "normal",[m
[31m-              "format" : 1,[m
[31m-              "style" : "",[m
[31m-              "detail" : 0,[m
[31m-              "text" : "IP_TileText_BusinessOperations_Details_2",[m
[31m-              "type" : "text",[m
[31m-              "version" : 1[m
[31m-            } ],[m
[31m-            "format" : "",[m
[31m-            "type" : "paragraph",[m
[31m-            "version" : 1,[m
[31m-            "direction" : "ltr"[m
[31m-          }, {[m
[31m-            "children" : [ {[m
[31m-              "mode" : "normal",[m
[31m-              "format" : 0,[m
[31m-              "style" : "",[m
[31m-              "detail" : 0,[m
[31m-              "text" : "IP_TileText_BusinessOperations_Details_3",[m
[31m-              "type" : "text",[m
[31m-              "version" : 1[m
[31m-            } ],[m
[31m-            "indent" : 0,[m
[31m-            "format" : "",[m
[31m-            "type" : "paragraph",[m
[31m-            "version" : 1,[m
[31m-            "direction" : "ltr"[m
[31m-          } ],[m
[31m-          "indent" : 0,[m
[31m-          "format" : "",[m
[31m-          "type" : "root",[m
[31m-          "version" : 1,[m
[31m-          "direction" : "ltr"[m
[32m+[m[32m              ],[m
[32m+[m[32m              "indent": 0,[m
[32m+[m[32m              "format": "",[m
[32m+[m[32m              "type": "root",[m
[32m+[m[32m              "version": 1,[m
[32m+[m[32m              "direction": null[m
[32m+[m[32m            }[m
[32m+[m[32m          }[m
         }[m
[31m-      }[m
[31m-    }[m
[31m-  }, {[m
[31m-    "id" : "",[m
[31m-    "position" : {[m
[31m-      "x" : 0,[m
[31m-      "y" : 10[m
[31m-    },[m
[31m-    "dimensions" : {[m
[31m-      "width" : 3,[m
[31m-      "height" : 4[m
[31m-    },[m
[31m-    "type" : "text",[m
[31m-    "configuration" : {[m
[31m-      "text" : {[m
[31m-        "root" : {[m
[31m-          "children" : [ {[m
[31m-            "children" : [ {[m
[31m-              "mode" : "normal",[m
[31m-              "format" : 0,[m
[31m-              "style" : "",[m
[31m-              "detail" : 0,[m
[31m-              "text" : "IP_TileText_BusinessReporting",[m
[31m-              "type" : "text",[m
[31m-              "version" : 1[m
[31m-            } ],[m
[31m-            "format" : "",[m
[31m-            "type" : "paragraph",[m
[31m-            "version" : 1,[m
[31m-            "direction" : "ltr"[m
[31m-          }, {[m
[31m-            "children" : [ {[m
[31m-              "altText" : "https://i.postimg.cc/g0Cpk7YM/OPT_Logo_Business_Reporting.png",[m
[31m-              "src" : "https://i.postimg.cc/g0Cpk7YM/OPT_Logo_Business_Reporting.png",[m
[31m-              "width" : 0,[m
[31m-              "caption" : {[m
[31m-                "editorState" : {[m
[31m-                  "root" : {[m
[31m-                    "children" : [ ],[m
[31m-                    "indent" : 0,[m
[31m-                    "format" : "",[m
[31m-                    "type" : "root",[m
[31m-                    "version" : 1,[m
[31m-                    "direction" : null[m
[31m-                  }[m
[32m+[m[32m      },[m
[32m+[m[32m      {[m
[32m+[m[32m        "id": "",[m
[32m+[m[32m        "position": {[m
[32m+[m[32m          "x": 0,[m
[32m+[m[32m          "y": 17[m
[32m+[m[32m        },[m
[32m+[m[32m        "dimensions": {[m
[32m+[m[32m          "width": 18,[m
[32m+[m[32m          "height": 1[m
[32m+[m[32m        },[m
[32m+[m[32m        "type": "text",[m
[32m+[m[32m        "configuration": {[m
[32m+[m[32m          "text": {[m
[32m+[m[32m            "root": {[m
[32m+[m[32m              "children": [[m
[32m+[m[32m                {[m
[32m+[m[32m                  "children": [[m
[32m+[m[32m                    {[m
[32m+[m[32m                      "altText": "https://i.postimg.cc/wvbT6gMs/prod_process_improvement.png",[m
[32m+[m[32m                      "src": "https://i.postimg.cc/wvbT6gMs/prod_process_improvement.png",[m
[32m+[m[32m                      "width": 0,[m
[32m+[m[32m                      "caption": {[m
[32m+[m[32m                        "editorState": {[m
[32m+[m[32m                          "root": {[m
[32m+[m[32m                            "children": [],[m
[32m+[m[32m                            "indent": 0,[m
[32m+[m[32m                            "format": "",[m
[32m+[m[32m                            "type": "root",[m
[32m+[m[32m                            "version": 1,[m
[32m+[m[32m                            "direction": null[m
[32m+[m[32m                          }[m
[32m+[m[32m                        }[m
[32m+[m[32m                      },[m
[32m+[m[32m                      "showCaption": false,[m
[32m+[m[32m                      "type": "image",[m
[32m+[m[32m                      "version": 1,[m
[32m+[m[32m                      "height": 0,[m
[32m+[m[32m                      "maxWidth": 500[m
[32m+[m[32m                    }[m
[32m+[m[32m                  ],[m
[32m+[m[32m                  "format": "",[m
[32m+[m[32m                  "type": "paragraph",[m
[32m+[m[32m                  "version": 1,[m
[32m+[m[32m                  "direction": null[m
                 }[m
[31m-              },[m
[31m-              "showCaption" : false,[m
[31m-              "type" : "image",[m
[31m-              "version" : 1,[m
[31m-              "height" : 0,[m
[31m-              "maxWidth" : 500[m
[31m-            } ],[m
[31m-            "indent" : 0,[m
[31m-            "format" : "",[m
[31m-            "type" : "paragraph",[m
[31m-            "version" : 1,[m
[31m-            "direction" : null[m
[31m-          } ],[m
[31m-          "indent" : 0,[m
[31m-          "format" : "",[m
[31m-          "type" : "root",[m
[31m-          "version" : 1,[m
[31m-          "direction" : "ltr"[m
[32m+[m[32m              ],[m
[32m+[m[32m              "indent": 0,[m
[32m+[m[32m              "format": "",[m
[32m+[m[32m              "type": "root",[m
[32m+[m[32m              "version": 1,[m
[32m+[m[32m              "direction": null[m
[32m+[m[32m            }[m
[32m+[m[32m          }[m
         }[m
[31m-      }[m
[31m-    }[m
[31m-  }, {[m
[31m-    "id" : "",[m
[31m-    "position" : {[m
[31m-      "x" : 0,[m
[31m-      "y" : 9[m
[31m-    },[m
[31m-    "dimensions" : {[m
[31m-      "width" : 18,[m
[31m-      "height" : 1[m
[31m-    },[m
[31m-    "type" : "text",[m
[31m-    "configuration" : {[m
[31m-      "text" : {[m
[31m-        "root" : {[m
[31m-          "children" : [ {[m
[31m-            "children" : [ {[m
[31m-              "altText" : "https://i.postimg.cc/prph7MzS/OPT_Business_Reporting.png",[m
[31m-              "src" : "https://i.postimg.cc/prph7MzS/OPT_Business_Reporting.png",[m
[31m-              "width" : 0,[m
[31m-              "caption" : {[m
[31m-                "editorState" : {[m
[31m-                  "root" : {[m
[31m-                    "children" : [ ],[m
[31m-                    "indent" : 0,[m
[31m-                    "format" : "",[m
[31m-                    "type" : "root",[m
[31m-                    "version" : 1,[m
[31m-                    "direction" : null[m
[31m-                  }[m
[32m+[m[32m      },[m
[32m+[m[32m      {[m
[32m+[m[32m        "id": "5f65eb24-d09b-4085-a7ca-c7545c71acdd",[m
[32m+[m[32m        "position": {[m
[32m+[m[32m          "x": 4,[m
[32m+[m[32m          "y": 13[m
[32m+[m[32m        },[m
[32m+[m[32m        "dimensions": {[m
[32m+[m[32m          "width": 14,[m
[32m+[m[32m          "height": 4[m
[32m+[m[32m        },[m
[32m+[m[32m        "type": "optimize_report",[m
[32m+[m[32m        "configuration": null[m
[32m+[m[32m      },[m
[32m+[m[32m      {[m
[32m+[m[32m        "id": "",[m
[32m+[m[32m        "position": {[m
[32m+[m[32m          "x": 0,[m
[32m+[m[32m          "y": 13[m
[32m+[m[32m        },[m
[32m+[m[32m        "dimensions": {[m
[32m+[m[32m          "width": 4,[m
[32m+[m[32m          "height": 4[m
[32m+[m[32m        },[m
[32m+[m[32m        "type": "text",[m
[32m+[m[32m        "configuration": {[m
[32m+[m[32m          "text": {[m
[32m+[m[32m            "root": {[m
[32m+[m[32m              "children": [[m
[32m+[m[32m                {[m
[32m+[m[32m                  "children": [[m
[32m+[m[32m                    {[m
[32m+[m[32m                      "mode": "normal",[m
[32m+[m[32m                      "format": 1,[m
[32m+[m[32m                      "style": "font-size: 20px;",[m
[32m+[m[32m                      "detail": 0,[m
[32m+[m[32m                      "text": "processDashboard_text1_line1",[m
[32m+[m[32m                      "type": "text",[m
[32m+[m[32m                      "version": 1[m
[32m+[m[32m                    }[m
[32m+[m[32m                  ],[m
[32m+[m[32m                  "indent": 0,[m
[32m+[m[32m                  "format": "",[m
[32m+[m[32m                  "type": "paragraph",[m
[32m+[m[32m                  "version": 1,[m
[32m+[m[32m                  "direction": "ltr"[m
[32m+[m[32m                },[m
[32m+[m[32m                {[m
[32m+[m[32m                  "children": [[m
[32m+[m[32m                    {[m
[32m+[m[32m                      "mode": "normal",[m
[32m+[m[32m                      "format": 0,[m
[32m+[m[32m                      "style": "",[m
[32m+[m[32m                      "detail": 0,[m
[32m+[m[32m                      "text": "processDashboard_text1_line2",[m
[32m+[m[32m                      "type": "text",[m
[32m+[m[32m                      "version": 1[m
[32m+[m[32m                    }[m
[32m+[m[32m                  ],[m
[32m+[m[32m                  "indent": 0,[m
[32m+[m[32m                  "format": "",[m
[32m+[m[32m                  "type": "paragraph",[m
[32m+[m[32m                  "version": 1,[m
[32m+[m[32m                  "direction": "ltr"[m
[32m+[m[32m                },[m
[32m+[m[32m                {[m
[32m+[m[32m                  "children": [],[m
[32m+[m[32m                  "indent": 0,[m
[32m+[m[32m                  "format": "",[m
[32m+[m[32m                  "type": "paragraph",[m
[32m+[m[32m                  "version": 1,[m
[32m+[m[32m                  "direction": "ltr"[m
[32m+[m[32m                },[m
[32m+[m[32m                {[m
[32m+[m[32m                  "children": [[m
[32m+[m[32m                    {[m
[32m+[m[32m                      "children": [[m
[32m+[m[32m                        {[m
[32m+[m[32m                          "mode": "normal",[m
[32m+[m[32m                          "format": 0,[m
[32m+[m[32m                          "style": "",[m
[32m+[m[32m                          "detail": 0,[m
[32m+[m[32m                          "text": "processDashboard_text1_line3",[m
[32m+[m[32m                          "type": "text",[m
[32m+[m[32m                          "version": 1[m
[32m+[m[32m                        }[m
[32m+[m[32m                      ],[m
[32m+[m[32m                      "indent": 0,[m
[32m+[m[32m                      "format": "",[m
[32m+[m[32m                      "rel": "noopener norefereer",[m
[32m+[m[32m                      "type": "link",[m
[32m+[m[32m                      "version": 1,[m
[32m+[m[32m                      "url": "https://docs.camunda.io/optimize/components/userguide/process-dashboards/#configuring-process-owner-and-digests",[m
[32m+[m[32m                      "direction": "ltr",[m
[32m+[m[32m                      "target": "_blank"[m
[32m+[m[32m                    }[m
[32m+[m[32m                  ],[m
[32m+[m[32m                  "indent": 0,[m
[32m+[m[32m                  "format": "",[m
[32m+[m[32m                  "type": "paragraph",[m
[32m+[m[32m                  "version": 1,[m
[32m+[m[32m                  "direction": "ltr"[m
                 }[m
[31m-              },[m
[31m-              "showCaption" : false,[m
[31m-              "type" : "image",[m
[31m-              "version" : 1,[m
[31m-              "height" : 0,[m
[31m-              "maxWidth" : 500[m
[31m-            } ],[m
[31m-            "format" : "",[m
[31m-            "type" : "paragraph",[m
[31m-            "version" : 1,[m
[31m-            "direction" : null[m
[31m-          } ],[m
[31m-          "indent" : 0,[m
[31m-          "format" : "",[m
[31m-          "type" : "root",[m
[31m-          "version" : 1,[m
[31m-          "direction" : null[m
[31m-        }[m
[31m-      }[m
[31m-    }[m
[31m-  }, {[m
[31m-    "id" : "de02ee58-b107-4c9a-8fde-e10237a86085",[m
[31m-    "position" : {[m
[31m-      "x" : 3,[m
[31m-      "y" : 10[m
[31m-    },[m
[31m-    "dimensions" : {[m
[31m-      "width" : 10,[m
[31m-      "height" : 4[m
[31m-    },[m
[31m-    "type" : "optimize_report",[m
[31m-    "configuration" : null[m
[31m-  }, {[m
[31m-    "id" : "",[m
[31m-    "position" : {[m
[31m-      "x" : 13,[m
[31m-      "y" : 10[m
[31m-    },[m
[31m-    "dimensions" : {[m
[31m-      "width" : 5,[m
[31m-      "height" : 4[m
[31m-    },[m
[31m-    "type" : "text",[m
[31m-    "configuration" : {[m
[31m-      "text" : {[m
[31m-        "root" : {[m
[31m-          "children" : [ {[m
[31m-            "children" : [ {[m
[31m-              "mode" : "normal",[m
[31m-              "format" : 0,[m
[31m-              "style" : "",[m
[31m-              "detail" : 0,[m
[31m-              "text" : "IP_TileText_BusinessReporting_Details_1",[m
[31m-              "type" : "text",[m
[31m-              "version" : 1[m
[31m-            } ],[m
[31m-            "indent" : 0,[m
[31m-            "format" : "",[m
[31m-            "type" : "paragraph",[m
[31m-            "version" : 1,[m
[31m-            "direction" : "ltr"[m
[31m-          }, {[m
[31m-            "children" : [ ],[m
[31m-            "indent" : 0,[m
[31m-            "format" : "",[m
[31m-            "type" : "paragraph",[m
[31m-            "version" : 1,[m
[31m-            "direction" : "ltr"[m
[31m-          }, {[m
[31m-            "children" : [ {[m
[31m-              "mode" : "normal",[m
[31m-              "format" : 1,[m
[31m-              "style" : "",[m
[31m-              "detail" : 0,[m
[31m-              "text" : "IP_TileText_BusinessReporting_Details_2",[m
[31m-              "type" : "text",[m
[31m-              "version" : 1[m
[31m-            } ],[m
[31m-            "format" : "",[m
[31m-            "type" : "paragraph",[m
[31m-            "version" : 1,[m
[31m-            "direction" : "ltr"[m
[31m-          }, {[m
[31m-            "children" : [ {[m
[31m-              "mode" : "normal",[m
[31m-              "format" : 0,[m
[31m-              "style" : "",[m
[31m-              "detail" : 0,[m
[31m-              "text" : "IP_TileText_BusinessReporting_Details_3",[m
[31m-              "type" : "text",[m
[31m-              "version" : 1[m
[31m-            } ],[m
[31m-            "indent" : 0,[m
[31m-            "format" : "",[m
[31m-            "type" : "paragraph",[m
[31m-            "version" : 1,[m
[31m-            "direction" : "ltr"[m
[31m-          }, {[m
[31m-            "children" : [ {[m
[31m-              "mode" : "normal",[m
[31m-              "format" : 0,[m
[31m-              "style" : "",[m
[31m-              "detail" : 0,[m
[31m-              "text" : "IP_TileText_BusinessReporting_Details_4",[m
[31m-              "type" : "text",[m
[31m-              "version" : 1[m
[31m-            } ],[m
[31m-            "indent" : 0,[m
[31m-            "format" : "",[m
[31m-            "type" : "paragraph",[m
[31m-            "version" : 1,[m
[31m-            "direction" : "ltr"[m
[31m-          }, {[m
[31m-            "children" : [ {[m
[31m-              "mode" : "normal",[m
[31m-              "format" : 0,[m
[31m-              "style" : "",[m
[31m-              "detail" : 0,[m
[31m-              "text" : "IP_TileText_BusinessReporting_Details_5",[m
[31m-              "type" : "text",[m
[31m-              "version" : 1[m
[31m-            } ],[m
[31m-            "indent" : 0,[m
[31m-            "format" : "",[m
[31m-            "type" : "paragraph",[m
[31m-            "version" : 1,[m
[31m-            "direction" : "ltr"[m
[31m-          } ],[m
[31m-          "indent" : 0,[m
[31m-          "format" : "",[m
[31m-          "type" : "root",[m
[31m-          "version" : 1,[m
[31m-          "direction" : "ltr"[m
[32m+[m[32m              ],[m
[32m+[m[32m              "indent": 0,[m
[32m+[m[32m              "format": "",[m
[32m+[m[32m              "type": "root",[m
[32m+[m[32m              "version": 1,[m
[32m+[m[32m              "direction": "ltr"[m
[32m+[m[32m            }[m
[32m+[m[32m          }[m
         }[m
[31m-      }[m
[31m-    }[m
[31m-  }, {[m
[31m-    "id" : "",[m
[31m-    "position" : {[m
[31m-      "x" : 0,[m
[31m-      "y" : 14[m
[31m-    },[m
[31m-    "dimensions" : {[m
[31m-      "width" : 18,[m
[31m-      "height" : 1[m
[31m-    },[m
[31m-    "type" : "text",[m
[31m-    "configuration" : {[m
[31m-      "text" : {[m
[31m-        "root" : {[m
[31m-          "children" : [ {[m
[31m-            "children" : [ {[m
[31m-              "altText" : "https://i.postimg.cc/pT05qLh8/OPT_Process_Improvement.png",[m
[31m-              "src" : "https://i.postimg.cc/pT05qLh8/OPT_Process_Improvement.png",[m
[31m-              "width" : 0,[m
[31m-              "caption" : {[m
[31m-                "editorState" : {[m
[31m-                  "root" : {[m
[31m-                    "children" : [ ],[m
[31m-                    "indent" : 0,[m
[31m-                    "format" : "",[m
[31m-                    "type" : "root",[m
[31m-                    "version" : 1,[m
[31m-                    "direction" : null[m
[31m-                  }[m
[32m+[m[32m      },[m
[32m+[m[32m      {[m
[32m+[m[32m        "id": "",[m
[32m+[m[32m        "position": {[m
[32m+[m[32m          "x": 0,[m
[32m+[m[32m          "y": 18[m
[32m+[m[32m        },[m
[32m+[m[32m        "dimensions": {[m
[32m+[m[32m          "width": 4,[m
[32m+[m[32m          "height": 5[m
[32m+[m[32m        },[m
[32m+[m[32m        "type": "text",[m
[32m+[m[32m        "configuration": {[m
[32m+[m[32m          "text": {[m
[32m+[m[32m            "root": {[m
[32m+[m[32m              "children": [[m
[32m+[m[32m                {[m
[32m+[m[32m                  "children": [[m
[32m+[m[32m                    {[m
[32m+[m[32m                      "mode": "normal",[m
[32m+[m[32m                      "format": 1,[m
[32m+[m[32m                      "style": "font-size: 20px;",[m
[32m+[m[32m                      "detail": 0,[m
[32m+[m[32m                      "text": "processDashboard_text2_line1",[m
[32m+[m[32m                      "type": "text",[m
[32m+[m[32m                      "version": 1[m
[32m+[m[32m                    }[m
[32m+[m[32m                  ],[m
[32m+[m[32m                  "indent": 0,[m
[32m+[m[32m                  "format": "",[m
[32m+[m[32m                  "type": "paragraph",[m
[32m+[m[32m                  "version": 1,[m
[32m+[m[32m                  "direction": "ltr"[m
[32m+[m[32m                },[m
[32m+[m[32m                {[m
[32m+[m[32m                  "children": [[m
[32m+[m[32m                    {[m
[32m+[m[32m                      "mode": "normal",[m
[32m+[m[32m                      "format": 0,[m
[32m+[m[32m                      "style": "",[m
[32m+[m[32m                      "detail": 0,[m
[32m+[m[32m                      "text": "processDashboard_text2_line2",[m
[32m+[m[32m                      "type": "text",[m
[32m+[m[32m                      "version": 1[m
[32m+[m[32m                    }[m
[32m+[m[32m                  ],[m
[32m+[m[32m                  "indent": 0,[m
[32m+[m[32m                  "format": "",[m
[32m+[m[32m                  "type": "paragraph",[m
[32m+[m[32m                  "version": 1,[m
[32m+[m[32m                  "direction": "ltr"[m
[32m+[m[32m                },[m
[32m+[m[32m                {[m
[32m+[m[32m                  "children": [],[m
[32m+[m[32m                  "indent": 0,[m
[32m+[m[32m                  "format": "",[m
[32m+[m[32m                  "type": "paragraph",[m
[32m+[m[32m                  "version": 1,[m
[32m+[m[32m                  "direction": null[m
[32m+[m[32m                },[m
[32m+[m[32m                {[m
[32m+[m[32m                  "children": [[m
[32m+[m[32m                    {[m
[32m+[m[32m                      "children": [[m
[32m+[m[32m                        {[m
[32m+[m[32m                          "mode": "normal",[m
[32m+[m[32m                          "format": 0,[m
[32m+[m[32m                          "style": "",[m
[32m+[m[32m                          "detail": 0,[m
[32m+[m[32m                          "text": "processDashboard_text2_line3",[m
[32m+[m[32m                          "type": "text",[m
[32m+[m[32m                          "version": 1[m
[32m+[m[32m                        }[m
[32m+[m[32m                      ],[m
[32m+[m[32m                      "indent": 0,[m
[32m+[m[32m                      "format": "",[m
[32m+[m[32m                      "rel": "noopener norefereer",[m
[32m+[m[32m                      "type": "link",[m
[32m+[m[32m                      "version": 1,[m
[32m+[m[32m                      "url": "https://docs.camunda.io/optimize/components/userguide/process-analysis/outlier-analysis/",[m
[32m+[m[32m                      "direction": "ltr",[m
[32m+[m[32m                      "target": "_blank"[m
[32m+[m[32m                    }[m
[32m+[m[32m                  ],[m
[32m+[m[32m                  "indent": 0,[m
[32m+[m[32m                  "format": "",[m
[32m+[m[32m                  "type": "paragraph",[m
[32m+[m[32m                  "version": 1,[m
[32m+[m[32m                  "direction": "ltr"[m
                 }[m
[31m-              },[m
[31m-              "showCaption" : false,[m
[31m-              "type" : "image",[m
[31m-              "version" : 1,[m
[31m-              "height" : 0,[m
[31m-              "maxWidth" : 500[m
[31m-            } ],[m
[31m-            "format" : "",[m
[31m-            "type" : "paragraph",[m
[31m-            "version" : 1,[m
[31m-            "direction" : null[m
[31m-          } ],[m
[31m-          "indent" : 0,[m
[31m-          "format" : "",[m
[31m-          "type" : "root",[m
[31m-          "version" : 1,[m
[31m-          "direction" : null[m
[32m+[m[32m              ],[m
[32m+[m[32m              "indent": 0,[m
[32m+[m[32m              "format": "",[m
[32m+[m[32m              "type": "root",[m
[32m+[m[32m              "version": 1,[m
[32m+[m[32m              "direction": "ltr"[m
[32m+[m[32m            }[m
[32m+[m[32m          }[m
         }[m
[31m-      }[m
[31m-    }[m
[31m-  }, {[m
[31m-    "id" : "",[m
[31m-    "position" : {[m
[31m-      "x" : 0,[m
[31m-      "y" : 15[m
[31m-    },[m
[31m-    "dimensions" : {[m
[31m-      "width" : 3,[m
[31m-      "height" : 4[m
[31m-    },[m
[31m-    "type" : "text",[m
[31m-    "configuration" : {[m
[31m-      "text" : {[m
[31m-        "root" : {[m
[31m-          "children" : [ {[m
[31m-            "children" : [ {[m
[31m-              "mode" : "normal",[m
[31m-              "format" : 0,[m
[31m-              "style" : "",[m
[31m-              "detail" : 0,[m
[31m-              "text" : "IP_TileText_ProcessImprovement",[m
[31m-              "type" : "text",[m
[31m-              "version" : 1[m
[31m-            } ],[m
[31m-            "format" : "",[m
[31m-            "type" : "paragraph",[m
[31m-            "version" : 1,[m
[31m-            "direction" : "ltr"[m
[31m-          }, {[m
[31m-            "children" : [ {[m
[31m-              "altText" : "https://i.postimg.cc/j2qhfRdD/OPT_Logo_Process_Improvement.png",[m
[31m-              "src" : "https://i.postimg.cc/j2qhfRdD/OPT_Logo_Process_Improvement.png",[m
[31m-              "width" : 0,[m
[31m-              "caption" : {[m
[31m-                "editorState" : {[m
[31m-                  "root" : {[m
[31m-                    "children" : [ ],[m
[31m-                    "indent" : 0,[m
[31m-                    "format" : "",[m
[31m-                    "type" : "root",[m
[31m-                    "version" : 1,[m
[31m-                    "direction" : null[m
[31m-                  }[m
[32m+[m[32m      },[m
[32m+[m[32m      {[m
[32m+[m[32m        "id": "",[m
[32m+[m[32m        "position": {[m
[32m+[m[32m          "x": 0,[m
[32m+[m[32m          "y": 8[m
[32m+[m[32m        },[m
[32m+[m[32m        "dimensions": {[m
[32m+[m[32m          "width": 4,[m
[32m+[m[32m          "height": 4[m
[32m+[m[32m        },[m
[32m+[m[32m        "type": "text",[m
[32m+[m[32m        "configuration": {[m
[32m+[m[32m          "text": {[m
[32m+[m[32m            "root": {[m
[32m+[m[32m              "children": [[m
[32m+[m[32m                {[m
[32m+[m[32m                  "children": [[m
[32m+[m[32m                    {[m
[32m+[m[32m                      "mode": "normal",[m
[32m+[m[32m                      "format": 1,[m
[32m+[m[32m                      "style": "font-size: 20px;",[m
[32m+[m[32m                      "detail": 0,[m
[32m+[m[32m                      "text": "processDashboard_text3_line1",[m
[32m+[m[32m                      "type": "text",[m
[32m+[m[32m                      "version": 1[m
[32m+[m[32m                    }[m
[32m+[m[32m                  ],[m
[32m+[m[32m                  "indent": 0,[m
[32m+[m[32m                  "format": "",[m
[32m+[m[32m                  "type": "paragraph",[m
[32m+[m[32m                  "version": 1,[m
[32m+[m[32m                  "direction": "ltr"[m
[32m+[m[32m                },[m
[32m+[m[32m                {[m
[32m+[m[32m                  "children": [[m
[32m+[m[32m                    {[m
[32m+[m[32m                      "mode": "normal",[m
[32m+[m[32m                      "format": 0,[m
[32m+[m[32m                      "style": "",[m
[32m+[m[32m                      "detail": 0,[m
[32m+[m[32m                      "text": "processDashboard_text3_line2",[m
[32m+[m[32m                      "type": "text",[m
[32m+[m[32m                      "version": 1[m
[32m+[m[32m                    }[m
[32m+[m[32m                  ],[m
[32m+[m[32m                  "indent": 0,[m
[32m+[m[32m                  "format": "",[m
[32m+[m[32m                  "type": "paragraph",[m
[32m+[m[32m                  "version": 1,[m
[32m+[m[32m                  "direction": "ltr"[m
[32m+[m[32m                },[m
[32m+[m[32m                {[m
[32m+[m[32m                  "children": [],[m
[32m+[m[32m                  "indent": 0,[m
[32m+[m[32m                  "format": "",[m
[32m+[m[32m                  "type": "paragraph",[m
[32m+[m[32m                  "version": 1,[m
[32m+[m[32m                  "direction": "ltr"[m
[32m+[m[32m                },[m
[32m+[m[32m                {[m
[32m+[m[32m                  "children": [[m
[32m+[m[32m                    {[m
[32m+[m[32m                      "children": [[m
[32m+[m[32m                        {[m
[32m+[m[32m                          "mode": "normal",[m
[32m+[m[32m                          "format": 0,[m
[32m+[m[32m                          "style": "",[m
[32m+[m[32m                          "detail": 0,[m
[32m+[m[32m                          "text": "processDashboard_text3_line3",[m
[32m+[m[32m                          "type": "text",[m
[32m+[m[32m                          "version": 1[m
[32m+[m[32m                        }[m
[32m+[m[32m                      ],[m
[32m+[m[32m                      "indent": 0,[m
[32m+[m[32m                      "format": "",[m
[32m+[m[32m                      "rel": "noopener norefereer",[m
[32m+[m[32m                      "type": "link",[m
[32m+[m[32m                      "version": 1,[m
[32m+[m[32m                      "url": "https://docs.camunda.io/optimize/components/userguide/instant-preview-dashboards/",[m
[32m+[m[32m                      "direction": "ltr",[m
[32m+[m[32m                      "target": "_blank"[m
[32m+[m[32m                    }[m
[32m+[m[32m                  ],[m
[32m+[m[32m                  "indent": 0,[m
[32m+[m[32m                  "format": "",[m
[32m+[m[32m                  "type": "paragraph",[m
[32m+[m[32m                  "version": 1,[m
[32m+[m[32m                  "direction": "ltr"[m
                 }[m
[31m-              },[m
[31m-              "showCaption" : false,[m
[31m-              "type" : "image",[m
[31m-              "version" : 1,[m
[31m-              "height" : 0,[m
[31m-              "maxWidth" : 500[m
[31m-            } ],[m
[31m-            "indent" : 0,[m
[31m-            "format" : "",[m
[31m-            "type" : "paragraph",[m
[31m-            "version" : 1,[m
[31m-            "direction" : null[m
[31m-          } ],[m
[31m-          "indent" : 0,[m
[31m-          "format" : "",[m
[31m-          "type" : "root",[m
[31m-          "version" : 1,[m
[31m-          "direction" : "ltr"[m
[31m-        }[m
[31m-      }[m
[31m-    }[m
[31m-  }, {[m
[31m-    "id" : "33288428-52bd-476a-8974-d6724a5d52d2",[m
[31m-    "position" : {[m
[31m-      "x" : 3,[m
[31m-      "y" : 4[m
[31m-    },[m
[31m-    "dimensions" : {[m
[31m-      "width" : 10,[m
[31m-      "height" : 3[m
[31m-    },[m
[31m-    "type" : "optimize_report",[m
[31m-    "configuration" : null[m
[31m-  }, {[m
[31m-    "id" : "1af39def-fc88-4baf-ae22-c87fb0cd6726",[m
[31m-    "position" : {[m
[31m-      "x" : 3,[m
[31m-      "y" : 15[m
[31m-    },[m
[31m-    "dimensions" : {[m
[31m-      "width" : 10,[m
[31m-      "height" : 4[m
[31m-    },[m
[31m-    "type" : "optimize_report",[m
[31m-    "configuration" : null[m
[31m-  }, {[m
[31m-    "id" : "",[m
[31m-    "position" : {[m
[31m-      "x" : 13,[m
[31m-      "y" : 15[m
[31m-    },[m
[31m-    "dimensions" : {[m
[31m-      "width" : 5,[m
[31m-      "height" : 4[m
[31m-    },[m
[31m-    "type" : "text",[m
[31m-    "configuration" : {[m
[31m-      "text" : {[m
[31m-        "root" : {[m
[31m-          "children" : [ {[m
[31m-            "children" : [ {[m
[31m-              "mode" : "normal",[m
[31m-              "format" : 0,[m
[31m-              "style" : "",[m
[31m-              "detail" : 0,[m
[31m-              "text" : "IP_TileText_ProcessImprovement_Details_1",[m
[31m-              "type" : "text",[m
[31m-              "version" : 1[m
[31m-            } ],[m
[31m-            "format" : "",[m
[31m-            "type" : "paragraph",[m
[31m-            "version" : 1,[m
[31m-            "direction" : "ltr"[m
[31m-          }, {[m
[31m-            "children" : [ ],[m
[31m-            "indent" : 0,[m
[31m-            "format" : "",[m
[31m-            "type" : "paragraph",[m
[31m-            "version" : 1,[m
[31m-            "direction" : "ltr"[m
[31m-          }, {[m
[31m-            "children" : [ {[m
[31m-              "mode" : "normal",[m
[31m-              "format" : 1,[m
[31m-              "style" : "",[m
[31m-              "detail" : 0,[m
[31m-              "text" : "IP_TileText_ProcessImprovement_Details_2",[m
[31m-              "type" : "text",[m
[31m-              "version" : 1[m
[31m-            } ],[m
[31m-            "indent" : 0,[m
[31m-            "format" : "",[m
[31m-            "type" : "paragraph",[m
[31m-            "version" : 1,[m
[31m-            "direction" : "ltr"[m
[31m-          }, {[m
[31m-            "children" : [ {[m
[31m-              "mode" : "normal",[m
[31m-              "format" : 0,[m
[31m-              "style" : "",[m
[31m-              "detail" : 0,[m
[31m-              "text" : "IP_TileText_ProcessImprovement_Details_3",[m
[31m-              "type" : "text",[m
[31m-              "version" : 1[m
[31m-            } ],[m
[31m-            "indent" : 0,[m
[31m-            "format" : "",[m
[31m-            "type" : "paragraph",[m
[31m-            "version" : 1,[m
[31m-            "direction" : "ltr"[m
[31m-          }, {[m
[31m-            "children" : [ {[m
[31m-              "mode" : "normal",[m
[31m-              "format" : 0,[m
[31m-              "style" : "",[m
[31m-              "detail" : 0,[m
[31m-              "text" : "IP_TileText_ProcessImprovement_Details_4",[m
[31m-              "type" : "text",[m
[31m-              "version" : 1[m
[31m-            } ],[m
[31m-            "indent" : 0,[m
[31m-            "format" : "",[m
[31m-            "type" : "paragraph",[m
[31m-            "version" : 1,[m
[31m-            "direction" : "ltr"[m
[31m-          }, {[m
[31m-            "children" : [ {[m
[31m-              "mode" : "normal",[m
[31m-              "format" : 0,[m
[31m-              "style" : "",[m
[31m-              "detail" : 0,[m
[31m-              "text" : "IP_TileText_ProcessImprovement_Details_5",[m
[31m-              "type" : "text",[m
[31m-              "version" : 1[m
[31m-            } ],[m
[31m-            "indent" : 0,[m
[31m-            "format" : "",[m
[31m-            "type" : "paragraph",[m
[31m-            "version" : 1,[m
[31m-            "direction" : "ltr"[m
[31m-          } ],[m
[31m-          "indent" : 0,[m
[31m-          "format" : "",[m
[31m-          "type" : "root",[m
[31m-          "version" : 1,[m
[31m-          "direction" : "ltr"[m
[32m+[m[32m              ],[m
[32m+[m[32m              "indent": 0,[m
[32m+[m[32m              "format": "",[m
[32m+[m[32m              "type": "root",[m
[32m+[m[32m              "version": 1,[m
[32m+[m[32m              "direction": "ltr"[m
[32m+[m[32m            }[m
[32m+[m[32m          }[m
         }[m
[32m+[m[32m      },[m
[32m+[m[32m      {[m
[32m+[m[32m        "id": "6ea61cbc-cd79-40be-848d-9d9021110c1a",[m
[32m+[m[32m        "position": {[m
[32m+[m[32m          "x": 14,[m
[32m+[m[32m          "y": 6[m
[32m+[m[32m        },[m
[32m+[m[32m        "dimensions": {[m
[32m+[m[32m          "width": 4,[m
[32m+[m[32m          "height": 2[m
[32m+[m[32m        },[m
[32m+[m[32m        "type": "optimize_report",[m
[32m+[m[32m        "configuration": null[m
[32m+[m[32m      },[m
[32m+[m[32m      {[m
[32m+[m[32m        "id": "39bb9f4e-c43c-4451-92af-75cad9f9333c",[m
[32m+[m[32m        "position": {[m
[32m+[m[32m          "x": 4,[m
[32m+[m[32m          "y": 18[m
[32m+[m[32m        },[m
[32m+[m[32m        "dimensions": {[m
[32m+[m[32m          "width": 14,[m
[32m+[m[32m          "height": 5[m
[32m+[m[32m        },[m
[32m+[m[32m        "type": "optimize_report",[m
[32m+[m[32m        "configuration": null[m
       }[m
[31m-    }[m
[31m-  } ],[m
[31m-  "availableFilters" : [ ],[m
[31m-  "collectionId" : null,[m
[31m-  "instantPreviewDashboard" : false[m
[31m-} ][m
\ No newline at end of file[m
[32m+[m[32m    ],[m
[32m+[m[32m    "availableFilters": [],[m
[32m+[m[32m    "collectionId": null,[m
[32m+[m[32m    "instantPreviewDashboard": false[m
[32m+[m[32m  }[m
[32m+[m[32m][m
[1mdiff --git a/backend/src/main/resources/localization/de.json b/backend/src/main/resources/localization/de.json[m
[1mindex d16c7955c1..f79f6d6fe7 100644[m
[1m--- a/backend/src/main/resources/localization/de.json[m
[1m+++ b/backend/src/main/resources/localization/de.json[m
[36m@@ -36,8 +36,7 @@[m
     "username": "Nutzername",[m
     "password": "Passwort",[m
     "btn": "Einloggen",[m
[31m-    "errorMessage": "Bei der Anmeldung ist ein Fehler aufgetreten.",[m
[31m-    "closeError": "Login-Fehlermeldung schließen",[m
[32m+[m[32m    "error": "Bei der Anmeldung ist ein Fehler aufgetreten.",[m
     "timeout": "Ihre Sitzung ist abgelaufen. Bitte melden Sie sich erneut an, um die Aktion abzuschließen.",[m
     "telemetry": "Durch Anmelden akzeptieren Sie unsere <a href=\"https://camunda.com/legal/terms/\" target=\"_blank\" rel=\"noopener noreferrer\">AGB</a> und <a href=\"https://camunda.com/legal/privacy/\" target=\"_blank\" rel=\"noopener noreferrer\">Datenschutzerklärung</a>"[m
   },[m
[36m@@ -53,8 +52,7 @@[m
     "label": "Lizenz",[m
     "licensedFor": "Lizenziert für",[m
     "validUntil": "Gültig bis",[m
[31m-    "redirectMessage": "Sie werden in Kürze zur Anmeldeseite weitergeleitet.",[m
[31m-    "clickToLogin": "Klicken Sie hier, um sofort zur Anmeldeseite zu gelangen",[m
[32m+[m[32m    "redirectMessage": "Sie werden in Kürze zur Anmeldeseite weitergeleitet. <a href=\"./\">Klicken Sie hier, um sofort zur Anmeldeseite zu gelangen</a> ",[m
     "licenseKey": "Lizenzschlüssel",[m
     "enterLicense": "Bitte geben Sie den Lizenzschlüssel ein",[m
     "submit": "Absenden",[m
[36m@@ -191,7 +189,7 @@[m
   "processes": {[m
     "label": "Prozess",[m
     "label-plural": "Prozesse",[m
[31m-    "adoptionDashboard": "Adoption Dashboard",[m
[32m+[m[32m    "adoptionDashboard": "Einführungsübersicht",[m
     "defaultDashboardAndKPI": "Prozess Dashboards und KPIs",[m
     "empty": "Es sind noch keine Prozesse importiert",[m
     "owner": "Eigentümer",[m
[36m@@ -212,9 +210,9 @@[m
     "digestInfo": "Der Prozess Digest sendet regelmäßige E-Mails mit dem KPI-Status an den Prozesseigentümer. Standardmäßig wird der Digest jeden Montag um 9:00 Uhr versendet (wenn Sie die Standardversandzeit ändern möchten, wenden Sie sich bitte an Ihren Administrator).",[m
     "digestConfigured": "Ihr Prozess Digest wurde erfolgreich konfiguriert. Eine E-Mail wurde an {name} gesendet.",[m
     "configureKpis": "Erfahren Sie mehr über KPIs",[m
[31m-    "analysing": "<b>{count}</b> {label} analysiert.",[m
[31m-    "processesListed": "{total} {label} aufgelistet",[m
[31m-    "processesListedOf": "{count} von {total} {label} aufgelistet",[m
[32m+[m[32m    "analysing": "{count} orchestrierte {label}.",[m
[32m+[m[32m    "processesListed": "{total} {label} aufgelistet.",[m
[32m+[m[32m    "processesListedOf": "{count} von {total} {label} aufgelistet.",[m
     "timeGoals": {[m
       "label": "Zeitziele",[m
       "configure": "Ziele konfigurieren",[m
[36m@@ -574,6 +572,9 @@[m
         "inputVariable": "EingabeVar",[m
         "outputVariable": "AusgabeVar",[m
         "objectVariable": "Objektvariable",[m
[32m+[m[32m        "openIncidents": "Offener Zwischenfälle",[m
[32m+[m[32m        "incidents": "Zwischenfälle",[m
[32m+[m[32m        "userTasks": "Benutzeraufgaben",[m
         "flowNodeDuration": "Dauer",[m
         "count": "Anzahl"[m
       },[m
[36m@@ -690,8 +691,7 @@[m
     "missingVariable": "Fehlende Variable",[m
     "nonExistingVariable": "Variable existiert nicht",[m
     "nonExistingFlowNode": "Prozessknoten existiert nicht",[m
[31m-    "percentageOfInstances": "% der gesamten Instanzen, die dem Filter entsprechen",[m
[31m-    "addDescription": "Beschreibung hinzufügen"[m
[32m+[m[32m    "percentageOfInstances": "% der gesamten Instanzen, die dem Filter entsprechen"[m
   },[m
   "dashboard": {[m
     "label": "Dashboard",[m
[36m@@ -711,44 +711,128 @@[m
     },[m
     "templates": {[m
       "blank": "Leeres Dashboard",[m
[31m-      "instantPreviewDashboard": "Instant Preview Dashboard",[m
[31m-      "processPerformance": "Prozessleistungsübersicht",[m
[31m-      "processPerformance_subTitle": "Prozess- und Zwischenfall-Performance",[m
[31m-      "humanPerformance": "Benutzeraufgabenübersicht",[m
[31m-      "humanPerformance_subTitle": "Benutzeraufgabenanzahlen und -Dauern",[m
[31m-      "humanBottleneckAnalysis": "Engpassanalyse für Benutzeraufgaben",[m
[31m-      "humanBottleneckAnalysis_subTitle": "Beheben Sie Engpässe, um die Gesamtprozesszeit zu reduzieren",[m
[32m+[m[32m      "productivity": "Erhöhe die Produktivität",[m
[32m+[m[32m      "productivity-description": "Verbessern Sie die Nutzung vorhandener Ressourcen, um den Output zu steigern.",[m
[32m+[m[32m      "productivity_incomingToday": "Anfragen heute",[m
[32m+[m[32m      "productivity_incomingToday-description": "Dieser Bericht zeigt die eingegangenen Anfragen die einen Prozess gestartet haben.",[m
[32m+[m[32m      "productivity_incomingThisWeek": "Anfragen diese Woche (KPI)",[m
[32m+[m[32m      "productivity_incomingThisWeek-description": "Dieser Bericht zeigt die eingegangenen Anfragen die einen Prozess gestartet haben. Dieser Bericht ist als KPI markiert.",[m
[32m+[m[32m      "productivity_incomingInLast2Weeks": "Anfragen in den letzte 2 Wochen",[m
[32m+[m[32m      "productivity_incomingInLast2Weeks-description": "Dieser Bericht gibt einen Überblick über die eingehenden Anfragen der letzten zwei Wochen.",[m
[32m+[m[32m      "productivity_currentlyInProgress": "Anfragen aktuell in Arbeit (KPI)",[m
[32m+[m[32m      "productivity_currentlyInProgress-description": "Dieser Bericht zeigt die aktuell in Arbeit befindlichen Anfragen. Dieser Bericht ist als KPI markiert.",[m
[32m+[m[32m      "productivity_maxNumberOfItemsInProgress": "Max Anzahl von Prozessen in Arbeit pro Tag",[m
[32m+[m[32m      "productivity_maxNumberOfItemsInProgress-description": "Maximale Anzahl von Anfragen in Arbeit pro Tag",[m
[32m+[m[32m      "productivity_finishedYesterday": "Gestern beendet",[m
[32m+[m[32m      "productivity_finishedYesterday-description": "Dieser Bericht zeigt die gestern fertiggestellten Anfragen.",[m
[32m+[m[32m      "productivity_finishedThisWeek": "In diese Woche beended (KPI)",[m
[32m+[m[32m      "productivity_finishedThisWeek-description": "Dieser Bericht zeigt die maximale Anzahl der pro Tag in Bearbeitung befindlichen Anfragen. Dieser Bericht ist als KPI markiert.",[m
[32m+[m[32m      "productivity_finishedInLast2Weeks": "In den letzten 2 Wochen beendet",[m
[32m+[m[32m      "productivity_finishedInLast2Weeks-description": "Dieser Bericht zeigt die Rate der in den letzten 2 Wochen fertiggestellten Artikel.",[m
[32m+[m[32m      "productivity_text1_line1": "Wie viele eingehende Anfragen haben einen Prozess gestartet?",[m
[32m+[m[32m      "productivity_text1_line2": " Ziel",[m
[32m+[m[32m      "productivity_text1_line3": "Reagiere frühzeitig auf unerwartete Lasten, um definierte Ziele erreichen zu können.",[m
[32m+[m[32m      "productivity_text1_line4": " Anpassen",[m
[32m+[m[32m      "productivity_text1_line5": "- Definiere die Anzahl der \"Eingehenden Anfragen\" als ",[m
[32m+[m[32m      "productivity_text1_line6": "Ziel",[m
[32m+[m[32m      "productivity_text1_line7": "- Kennzeichne den Bericht als ",[m
[32m+[m[32m      "productivity_text1_line8": "Key Performance Indicator (KPI)",[m
[32m+[m[32m      "productivity_text1_line9": " und mache sie zu einem Teil einer ",[m
[32m+[m[32m      "productivity_text1_line10": "E-Mail Zusammenfassung",[m
[32m+[m[32m      "productivity_text2_line1": "Wie viele Anfragen laufen?",[m
[32m+[m[32m      "productivity_text2_line2": " Ziel",[m
[32m+[m[32m      "productivity_text2_line3": "Stimmen Sie die Anzahl der laufenden Arbeiten auf die verfügbaren Ressourcen ab.",[m
[32m+[m[32m      "productivity_text2_line4": " Anpassen",[m
[32m+[m[32m      "productivity_text2_line5": "- Lege die geplant Anzahl von Anfragen \"in Arbeit\" fest als ",[m
[32m+[m[32m      "productivity_text2_line6": "Ziel",[m
[32m+[m[32m      "productivity_text2_line7": "- Kennzeichne den Bericht als ",[m
[32m+[m[32m      "productivity_text2_line8": "KPI",[m
[32m+[m[32m      "productivity_text2_line9": ", um ihn in einem ",[m
[32m+[m[32m      "productivity_text2_line10": "E-Mail-Digest zu überwachen",[m
[32m+[m[32m      "productivity_text3_line1": "Wie viele Anfragen sind fertig?",[m
[32m+[m[32m      "productivity_text3_line2": " Ziel",[m
[32m+[m[32m      "productivity_text3_line3": "Stelle eine kontinuierlichen Fluss durch das System sicher.",[m
[32m+[m[32m      "productivity_text3_line4": " Anpassen",[m
[32m+[m[32m      "productivity_text3_line5": "- Lege als Ziel",[m
[32m+[m[32m      "productivity_text3_line6": " die geplant Anzahl von finalisierten Anfragen fest",[m
[32m+[m[32m      "productivity_text3_line7": "- Kennzeichne den Bericht als KPI, um ihn in einem E-Mail-Digest zu überwachen",[m
[32m+[m[32m      "efficiency": "Erhöhe die Effizienz",[m
[32m+[m[32m      "efficiency-description": "Erhöhe die Anzahl der Prozesse die mit dem gewünschten Ergebniss beendet wurden.",[m
[32m+[m[32m      "efficiency_outcomeThisWeek": "Gewünschte Ergebnisse diese Woche",[m
[32m+[m[32m      "efficiency_outcomeThisWeek-description": "Dieser Bericht zählt die Artikel, die diese Woche bereits wie vorgesehen abgeschlossen wurden.",[m
[32m+[m[32m      "efficiency_outcomeLastWeek": "Gewünschte Ergebnisse letzte Woche (KPI)",[m
[32m+[m[32m      "efficiency_outcomeLastWeek-description": "Dieser Bericht zeigt die Anzahl der gewünschten Ergebnisse letzte Woche. Der Bericht ist als KPI gekennzeichnet.",[m
[32m+[m[32m      "efficiency_unwantedOutcomeThisWeek": "Unerwünschte Ergebnisse diese Woche",[m
[32m+[m[32m      "efficiency_unwantedOutcomeThisWeek-description": "Dieser Bericht misst die unerwünschten Ergebnisse dieser Woche.",[m
[32m+[m[32m      "efficiency_unwantedOutcomeLastWeek": "Unerwünschte Ergebnisse letzte Woche (KPI)",[m
[32m+[m[32m      "efficiency_unwantedOutcomeLastWeek-description": "Dieser Bericht zeigt das unerwünschte Ergebnis der letzten Woche. Der Bericht ist als KPI gekennzeichnet.",[m
[32m+[m[32m      "efficiency_outcomeInLast4Weeks": "Erwünschte Ergenisses in den letzten 4 Wochen",[m
[32m+[m[32m      "efficiency_outcomeInLast4Weeks-description": "Dieser Bericht gibt einen Überblick über die positiven Ergebnisse der letzten 4 Wochen.",[m
[32m+[m[32m      "efficiency_incidentFreeRateInLast3Months": "Fehlerfrei Rate in den letzten 3 Monaten",[m
[32m+[m[32m      "efficiency_incidentFreeRateInLast3Months-description": "Dieser Bericht misst die Rate der Prozesse, die ohne einen Zwischenfall enden.",[m
[32m+[m[32m      "efficiency_incidentsInLast3Months": "Zwischenfälle in den letzten 3 Monaten",[m
[32m+[m[32m      "efficiency_incidentsInLast3Months-description": "Dieser Bericht listet alle Zwischenfälle auf, die in den letzten 3 Monaten aufgetreten sind.",[m
[32m+[m[32m      "efficiency_nodesCausingIncidentsInLast3Months": "Prozessknoten, die in den letzten 3 Monaten Vorfälle verursacht haben",[m
[32m+[m[32m      "efficiency_nodesCausingIncidentsInLast3Months-description": "Diese Heatmap zeigt, in welchen Prozessknoten die Vorfälle aufgetreten sind.",[m
[32m+[m[32m      "efficiency_typesOfUnwantedOutcomeLastWeek": "Arten von unerwünschten Ergebnissen",[m
[32m+[m[32m      "efficiency_typesOfUnwantedOutcomeLastWeek-description": "Dieser Bericht zeigt die Arten aller unerwünschter Ergebnisse.",[m
[32m+[m[32m      "efficiency_processScattering": "Prozessstreuung vom Happy Path",[m
[32m+[m[32m      "efficiency_processScattering-description": "Dieser Bericht zählt die Anzahl der Prozesse, die vom Happy Path abweichen.",[m
[32m+[m[32m      "efficiency_typesOfUnwantedOutcomeLas4tWeeks": "Arten unerwünschter Ergebnisse in den letzten 4 Wochen",[m
[32m+[m[32m      "efficiency_typesOfUnwantedOutcomeLas4tWeeks-description": "Dieser Bericht zeigt die Arten aller unerwünschter Ergebnisse.",[m
[32m+[m[32m      "efficiency_text1_line1": "Welche Zwischenfälle gibt es?",[m
[32m+[m[32m      "efficiency_text1_line2": " Ziel",[m
[32m+[m[32m      "efficiency_text1_line3": "Verstehe was die häufigsten Vorfälle sind und versuche sie zu beheben.",[m
[32m+[m[32m      "efficiency_text2_line1": "Wie viele Prozesse wurden wie beabsichtigt beendet?",[m
[32m+[m[32m      "efficiency_text2_line2": " Ziel",[m
[32m+[m[32m      "efficiency_text2_line3": "Erhöhe die gewünschte und reduziere die unerwünschten Ergebnisse.",[m
[32m+[m[32m      "efficiency_text2_line4": " Anpassen",[m
[32m+[m[32m      "efficiency_text2_line5": "- Ändere die ",[m
[32m+[m[32m      "efficiency_text2_line6": "Prozessknoten Auswahl",[m
[32m+[m[32m      "efficiency_text2_line7": ", um gewünschte und unerwünschte Prozessergebnisse zu filtern",[m
[32m+[m[32m      "efficiency_text3_line1": "Welche unerwünschten Ergebnissen gibt es?",[m
[32m+[m[32m      "efficiency_text3_line2": " Ziel",[m
[32m+[m[32m      "efficiency_text3_line3": "Reduziere die Anzahl der Prozesse, die nicht auf dem Happy Path sind.",[m
[32m+[m[32m      "efficiency_text3_line4": " Anpassen",[m
[32m+[m[32m      "efficiency_text3_line5": "- Ändere die ",[m
[32m+[m[32m      "efficiency_text3_line6": "Prozessknoten Auswahl",[m
[32m+[m[32m      "efficiency_text3_line7": ", um gewünschte und unerwünschte Prozessergebnisse zu filtern",[m
[32m+[m[32m      "acceleration": "Erhöhe die Beschleunigung",[m
[32m+[m[32m      "acceleration-description": "Optimiere die Ausführungszeit von Aufgaben im Prozess und überwache Service Level Agreements für den Prozess.",[m
[32m+[m[32m      "acceleration_cycleTimeLast7Days": "Durchlaufzeit in den letzten 7 Tagen (KPI)",[m
[32m+[m[32m      "acceleration_cycleTimeLast7Days-description": "Dieser Bericht zeigt die durchschnittliche Durchlaufzeit der letzten 7 Tage. Der Bericht ist als KPI gekennzeichnet.",[m
[32m+[m[32m      "acceleration_cycleTimeLast4Weeks": "Durchlaufzeit in den letzten 4 Wochen",[m
[32m+[m[32m      "acceleration_cycleTimeLast4Weeks-description": "Dieser Bericht zeigt den durchschnittlichen Durchlaufzeit des aktuellen Monats.",[m
[32m+[m[32m      "acceleration_cycleTimeLastWeeks": "Durchlaufzeit in den letzten Wochen",[m
[32m+[m[32m      "acceleration_cycleTimeLastWeeks-description": "Dieser Bericht zeigt den durchschnittlichen Durchlaufzeit der letzten Wochen.",[m
[32m+[m[32m      "acceleration_deviationOfPlannedToAverageDuration": "Abweichung der geplanten von der durchschnittlichen Dauer",[m
[32m+[m[32m      "acceleration_deviationOfPlannedToAverageDuration-description": "Dieser Bericht zeigt die geplante Zeit für die Aufgaben und die Abweichung vom Plan.",[m
[32m+[m[32m      "acceleration_durationOfCriticalTasksInLastMonth": "Dauer kritischer Aufgaben im letzten Monat",[m
[32m+[m[32m      "acceleration_durationOfCriticalTasksInLastMonth-description": "In dieser Tabelle sind alle Aufgaben und ihre durchschnittliche Dauer aufgeführt.",[m
[32m+[m[32m      "acceleration_taskBottlenecks": "Engpässe bei Aufgaben",[m
[32m+[m[32m      "acceleration_taskBottlenecks-description": "Dieser Bericht visualisiert die Prozessknoten, die die meiste Ausführungszeit in Anspruch nehmen.",[m
[32m+[m[32m      "acceleration_text1_line1": "Wie lange dauert es, bis der durchschnittliche Prozess abgeschlossen ist?",[m
[32m+[m[32m      "acceleration_text1_line2": " Ziel",[m
[32m+[m[32m      "acceleration_text1_line3": "Beenden Sie Prozesse in der definierten Zielzeit.",[m
[32m+[m[32m      "acceleration_text1_line4": " Anpassen",[m
[32m+[m[32m      "acceleration_text1_line5": "- Lege Ziele",[m
[32m+[m[32m      "acceleration_text1_line6": " für die geplante ",[m
[32m+[m[32m      "acceleration_text1_line7": "Durchlaufzeit fest",[m
[32m+[m[32m      "acceleration_text1_line8": "- Ändere den ",[m
[32m+[m[32m      "acceleration_text1_line9": "Fluss Knoten Auswahlfilter",[m
[32m+[m[32m      "acceleration_text1_line10": " für gewünschte und unerwünschte Prozessergebnisse",[m
[32m+[m[32m      "acceleration_text2_line1": "Wie lange hat eine Aufgabe gedauert?",[m
[32m+[m[32m      "acceleration_text2_line2": " Ziel",[m
[32m+[m[32m      "acceleration_text2_line3": "Reduziere die Prozessdauer durch bessere Ressourcenzuteilung oder Aufgaben Optimierung.",[m
[32m+[m[32m      "acceleration_text3_line1": "Wie viel länger hat eine Aufgabe gedauert als erwartet?",[m
[32m+[m[32m      "acceleration_text3_line2": " Anpassen",[m
[32m+[m[32m      "acceleration_text3_line3": "- Definieren Sie Zielzeiten für Aufgaben",[m
[32m+[m[32m      "processDashboard": "Process Übersicht",[m
[32m+[m[32m      "processDashboard-description": "Dieses Dashboard bietet eine Übersicht der Metriken und Anwendungsfälle, die mit Optimize abgedeckt werden können.",[m
       "portfolioPerformance": "Portfolio-Performance-Übersicht",[m
       "portfolioPerformance_subTitle": "Eine Zusammenfassung von bis zu 10 Prozessen anzeigen",[m
       "operationsMonitoring": "Betriebsüberwachung",[m
       "operationsMonitoring_subTitle": "Aktive Prozesse und Vorfälle überwachen",[m
[31m-      "30DayThroughput": "Durchsatz (30 Tage fortlaufend)",[m
[31m-      "p75Duration": "75. Perzentil Dauer",[m
[31m-      "p99Duration": "99. Perzentil Dauer",[m
[31m-      "percentSLAMet": "% SLA erfüllt",[m
[31m-      "percentNoIncidents": "Prozent ohne Zwischenfällen",[m
[31m-      "percentSuccess": "Erfolgsrate (Filter bearbeiten, um nur erfolgreiche Endereignisse anzuzeigen)",[m
[31m-      "percentAutomated": "Automatisierungsrate (Filter bearbeiten, um Benutzeraufgaben auszuschließen)",[m
[31m-      "flownodeDuration": "Welche Prozessschritte nehmen zu viel Zeit in Anspruch? (ToDo: Zielwerte für diese Prozessschritte hinzufügen)",[m
[31m-      "controlChart": "Ist mein Prozess unter Kontrolle?",[m
[31m-      "flownodeFrequency": "Wie oft wird jeder Prozessschritt ausgeführt?",[m
[31m-      "instanceTrends": "Wie oft wird dieser Prozess ausgeführt?",[m
[31m-      "activeIncidentsHeatmap": "Wo sind die aktiven Zwischenfälle?",[m
[31m-      "incidentDurationHeatmap": "Wo sind die schlimmsten Zwischenfälle?",[m
[31m-      "incidentDurationTrend": "Verbessern wir die Behandlung von Zwischenfällen?",[m
[31m-      "idleTime": "Wartezeit",[m
[31m-      "workTime": "Arbeitszeit",[m
[31m-      "tasksStarted": "Gestartete Aufgaben pro Monat",[m
[31m-      "tasksCompleted": "Abgeschlossene Aufgaben pro Monat",[m
[31m-      "bottleneckLocation": "Wo ist mein Engpass?",[m
[31m-      "bottleneckSeverity": "Wie schlimm ist mein Engpass?",[m
[31m-      "assigneeVariation": "Wie wirkt sich der Bearbeiter auf den Engpass aus?",[m
[31m-      "durationImprovement": "Verbessert sich der Engpass?",[m
[31m-      "userTaskImprovement": "Werden Benutzeraufgaben effizienter?",[m
[31m-      "upstreamWork": "Wird Arbeit reibungslos an den Engpass geliefert? (Zu tun: Bearbeiten Sie den Filter, um alle Prozessknoten VOR dem Engpass einzuschließen)",[m
[31m-      "bottleneckQueue": "Wie viele Aufgaben warten an meinem Engpass? (Zu tun: Bearbeiten Sie den Filter, um den Prozessknoten AM Engpass auszuwählen)",[m
[31m-      "workerProductivity": "Wie produktiv sind meine Arbeiter?",[m
[31m-      "workDuration": "Wie lange dauert jede Benutzeraufgabe?",[m
       "completedProcesses": "Abgeschlossene Prozesse",[m
       "activeIncidents": "Aktive Zwischenfälle",[m
       "runningProcesses": "Welche Prozesse laufen?",[m
[36m@@ -859,6 +943,7 @@[m
     "contactManager": "Bitte wenden Sie sich an den Sammelmanager, um neue Alarme zu erstellen",[m
     "inactiveStatus": "Alarm inaktiv",[m
     "activateInfo": "Zum Aktivieren fügen Sie eine E-Mail oder ein Zielsystem hinzu",[m
[32m+[m[32m    "existingAlerts": "Vorhandene Alarme",[m
     "updated": "\"{name}\" aktualisiert.",[m
     "removed": "\"{name}\" entfernt."[m
   },[m
[36m@@ -990,11 +1075,6 @@[m
     "less": "Weniger",[m
     "configure": "Konfigurieren",[m
     "new": "Neuer",[m
[31m-    "error": "Fehler",[m
[31m-    "closeError": "Fehlerbenachrichtigung schließen",[m
[31m-    "units": "Einheiten",[m
[31m-    "link": "Link",[m
[31m-    "details": "Details",[m
     "process": {[m
       "label": "Prozess",[m
       "label-plural": "Prozesse"[m
[36m@@ -1573,45 +1653,47 @@[m
     }[m
   },[m
   "managementDashboard": {[m
[31m-    "dashboardName": "Adoption Dashboard",[m
[32m+[m[32m    "dashboardName": "Adoption",[m
     "report": {[m
[31m-      "processInstanceUsage": "Anzahl der ausgeführten Prozessinstanzen",[m
[31m-      "incidentFreeRate": "Prozessausführungen ohne Zwischenfälle",[m
[31m-      "automationRate": "Automatisierungsrate (< 1 Stunde)",[m
[31m-      "longRunningInstances": "Lang laufende Prozessinstanzen",[m
[31m-      "automationCandidates": "Automatisierungskandidaten",[m
[31m-      "activeBottlenecks": "Aktive Engpässe"[m
[32m+[m[32m      "instancesCurrentlyInProgressName": "Aktuell laufende Prozesse",[m
[32m+[m[32m      "instancesCurrentlyInProgressDescription": "Dieser Bericht zeigt, wie stark der Cluster aktuell genutzt wird.",[m
[32m+[m[32m      "instancesStartedInLastSixMonthsName": "In den letzten 6 Monaten gestartete Prozesse",[m
[32m+[m[32m      "instancesStartedInLastSixMonthsDescription": "Dieser Bericht gibt Aufschluss über die Verbreitung der Prozess Orchestrierung.",[m
[32m+[m[32m      "instancesEndedInLastSixMonthsName": "In den letzten 6 Monaten beendete Prozesse",[m
[32m+[m[32m      "instancesEndedInLastSixMonthsDescription": "Dieser Bericht zeigt die Anzahl der beendeten Prozess Instanzen."[m
     }[m
   },[m
   "instantDashboard": {[m
     "IP_DashboardName": "Instant Preview Dashboard",[m
     "IP_KpiDashboardName": "KPI Dashboard",[m
[31m-    "IP_TileText_BusinessOperations": "Überwache echzeitnah die Gesundheit von Prozessen.",[m
[31m-    "IP_TileText_BusinessOperations_Details_1": "Das Betriebsdashboard erlaubt es, alle wichtigen Prozessemetriken zu überwachen.",[m
[31m-    "IP_TileText_BusinessOperations_Details_2": "Mögliche nächste Schritte:",[m
[31m-    "IP_TileText_BusinessOperations_Details_3": "- Gehe zur Sammlung und erstelle ein eigenes Dashboard.",[m
[31m-    "IP_TileText_BusinessOperations_Details_4": "- Definiere einen Alarm für eine Sammlung und erhalte Alarmbenachrichtigungen per Email.",[m
[31m-    "IP_TileText_BusinessReporting": "Berichte Geschäftsmetriken an Stakeholder.",[m
[31m-    "IP_TileText_BusinessReporting_Details_1": "Das Betriebsreporting enthält Prozesskennzahlen um eine Abteilung zu steuern.",[m
[31m-    "IP_TileText_BusinessReporting_Details_2": "Mögliche nächste Schritte:",[m
[31m-    "IP_TileText_BusinessReporting_Details_3": "- Gehe zur Sammlung und erstelle ein eigenes Dashboard.",[m
[31m-    "IP_TileText_BusinessReporting_Details_4": "- Gehe zu einem Bericht und definiere KPIs.",[m
[31m-    "IP_TileText_BusinessReporting_Details_5": "- Gehe zu den Dashboards und abonniere einen Prozess Digest.",[m
[31m-    "IP_TileText_ProcessImprovement": "Analytische Werkzeuge um Prozessverbesserungen zu identifizieren.",[m
[31m-    "IP_TileText_ProcessImprovement_Details_1": "Die angebotenen Werkzeuge zur Prozess- und Regelanalyse helfen dabei, Engpässe und ungenutzte Prozesszweige zu finden.",[m
[31m-    "IP_TileText_ProcessImprovement_Details_2": "Mögliche nächste Schritte:",[m
[31m-    "IP_TileText_ProcessImprovement_Details_3": "- Gehe zur Sammlung und erstelle einen Bericht.",[m
[31m-    "IP_TileText_ProcessImprovement_Details_4": "- Gehe zu den Analysen und führe eine Prozesszweiganalyse durch.",[m
[31m-    "IP_TileText_ProcessImprovement_Details_5": "- Gehe zu den Analysen und führe eine Ausreißeranalyse durch.",[m
[32m+[m[32m    "processDashboard": "Instant Process Übersicht",[m
[32m+[m[32m    "processDashboard-description": "Dieses Dashboard bietet eine Übersicht der Metriken und Anwendungsfälle, die mit Optimize abgedeckt werden können.",[m
[32m+[m[32m    "processDashboard_text1_line1": "Melde Geschäftskennzahlen",[m
[32m+[m[32m    "processDashboard_text1_line2": "Aggregiere und gruppiere Prozessausführung Daten in Tagen, Wochen und Monaten um Metriken und Key Performance Indicator (KPI) zu monitoren und zu melden.",[m
[32m+[m[32m    "processDashboard_text1_line3": "Abonniere eine wöchentliche Email-Zusammenfassung der Prozessmetriken und KPIs",[m
[32m+[m[32m    "processDashboard_text2_line1": "Analysiere Probleme und finde Verbesserungen",[m
[32m+[m[32m    "processDashboard_text2_line2": "Nutze alle gesammelten Prozessausführung Daten, um Probleme zu untersuchen oder neue Prozessverbesserungen einzuleiten.",[m
[32m+[m[32m    "processDashboard_text2_line3": "Nutze die Optimize Ausreißeranalyse, um Verbesserungspotenzial im Prozess zu finden",[m
[32m+[m[32m    "processDashboard_text3_line1": "Echtzeitnahe Überwache der Prozess Gesundheit",[m
[32m+[m[32m    "processDashboard_text3_line2": "Monitore Prozessausführung Daten der letzten Minuten, Stunden und Tage echtzeitnah, um korrektiv eingreifen zu können.",[m
[32m+[m[32m    "processDashboard_text3_line3": "Erstelle eine Kopie dieses Dashboards und passe es deinen Bedürfnissen an",[m
     "report": {[m
[31m-      "IP_TileText_BusinessOperations_Report1": "Aktuell laufend",[m
[31m-      "IP_TileText_BusinessOperations_Report2": "In den letzten 7 Tagen gestartet",[m
[31m-      "IP_TileText_BusinessOperations_Report3": "In den letzten 7 Tagen beendet",[m
[31m-      "IP_TileText_BusinessOperations_Report4": "Aufgaben mit Zwischenfällen",[m
[31m-      "IP_TileText_BusinessOperations_Report5": "Anzahl offener Zwischenfälle",[m
[31m-      "IP_TileText_BusinessOperations_Report6": "In den letzten 7 Tagen gestartet",[m
[31m-      "IP_TileText_BusinessReporting_Report1": "Anzahl abgeschlossener Prozesse pro Monat",[m
[31m-      "IP_TileText_ProcessImprovement_Report1": "Welche Aufgaben benötigen die meiste Zeit und sind daher Automatisierungskandidaten",[m
[32m+[m[32m      "processDashboard_currentlyRunningProcesses": "Aktuell laufend",[m
[32m+[m[32m      "processDashboard_currentlyRunningProcesses-description": "Dieser Bericht zeigt den fortschritt aller laufenden Prozesses an.",[m
[32m+[m[32m      "processDashboard_incomingInLast7Days": "In den letzten 7 Tagen eingegangene",[m
[32m+[m[32m      "processDashboard_incomingInLast7Days-description": "Dieser Bericht zeigt die in den letzten 7 Tagen eingegangenen Anfragen die einen Prozess gestartet haben.",[m
[32m+[m[32m      "processDashboard_currentlyInProgress": "Aktuell laufende Prozesse",[m
[32m+[m[32m      "processDashboard_currentlyInProgress-description": "Dieser Bericht zeigt die Anzahl der aktuell laufenden Prozesse.",[m
[32m+[m[32m      "processDashboard_endedInLast7Days": "In den letzten 7 Tagen beendete Prozesse",[m
[32m+[m[32m      "processDashboard_endedInLast7Days-description": "Dieser Bericht zeigt die Anzahl der in den letzten 7 Tagen beendeten Prozesse.",[m
[32m+[m[32m      "processDashboard_openIncidents": "Offene Zwischenfälle",[m
[32m+[m[32m      "processDashboard_openIncidents-description": "Dieser Bericht zeigt die Anzahl der offenen Zwischenfälle.",[m
[32m+[m[32m      "processDashboard_currentlyOpenIncidents": "Anzahl der aktuell offenen Zwischenfälle",[m
[32m+[m[32m      "processDashboard_currentlyOpenIncidents-description": "Dieser Bericht zeigt Prozessknoten mit aktuell offenen Zwischenfälle.",[m
[32m+[m[32m      "processDashboard_processEndedGroupedByMonth": "Beendete Prozesse gruppiert in Monaten",[m
[32m+[m[32m      "processDashboard_processEndedGroupedByMonth-description": "Dieser Bericht zeigt wie stark der Prozess in den letzten Monaten genutzt wurde.",[m
[32m+[m[32m      "processDashboard_bottlenecksInTheProcess": "Flaschenhälse der in den letzten 6 Monaten beendeten Prozesse",[m
[32m+[m[32m      "processDashboard_bottlenecksInTheProcess-description": "Die Heatmap hebt die Prozessknoten hervor, die im Durchschnitt die meiste Zeit bis zur Fertigstellung benötigen.",[m
       "percentSLAMet": "% SLA erfüllt",[m
       "flownodeDuration": "Welche Prozessschritte benötigen zu viel Zeit? (To Do: Ziellaufzeit festlegen)",[m
       "controlChart": "Ist mein Prozess unter Kontrolle?",[m
[1mdiff --git a/backend/src/main/resources/localization/en.json b/backend/src/main/resources/localization/en.json[m
[1mindex 4cbaeb93aa..343ab26a63 100644[m
[1m--- a/backend/src/main/resources/localization/en.json[m
[1m+++ b/backend/src/main/resources/localization/en.json[m
[36m@@ -36,8 +36,7 @@[m
     "username": "Username",[m
     "password": "Password",[m
     "btn": "Log in",[m
[31m-    "errorMessage": "An error occurred. Could not log you in.",[m
[31m-    "closeError": "Close login error notification",[m
[32m+[m[32m    "error": "An error occurred. Could not log you in.",[m
     "timeout": "Your session timed out. Please log in again to complete the action.",[m
     "telemetry": "By logging in, you accept our <a href=\"https://camunda.com/legal/terms/\" target=\"_blank\" rel=\"noopener noreferrer\">T&C</a> and <a href=\"https://camunda.com/legal/privacy/\" target=\"_blank\" rel=\"noopener noreferrer\">Privacy Policy</a>"[m
   },[m
[36m@@ -53,8 +52,7 @@[m
     "label": "License",[m
     "licensedFor": "Licensed for",[m
     "validUntil": "Valid until",[m
[31m-    "redirectMessage": "You will be redirected to login page shortly.",[m
[31m-    "clickToLogin": "Click here to go to login page immediately",[m
[32m+[m[32m    "redirectMessage": "You will be redirected to login page shortly. <a href=\"./\">Click here to go to login page immediately</a>",[m
     "licenseKey": "License Key",[m
     "enterLicense": "Please enter license key",[m
     "submit": "Submit",[m
[36m@@ -191,8 +189,8 @@[m
   "processes": {[m
     "label": "process",[m
     "label-plural": "processes",[m
[31m-    "adoptionDashboard": "Adoption Dashboard",[m
[31m-    "defaultDashboardAndKPI": "Process Default Dashboards and KPIs",[m
[32m+[m[32m    "adoptionDashboard": "Adoption",[m
[32m+[m[32m    "defaultDashboardAndKPI": "Process Dashboards and KPIs",[m
     "empty": "There are no processes imported yet",[m
     "owner": "Owner",[m
     "processOwner": "Process Owner",[m
[36m@@ -212,9 +210,9 @@[m
     "digestInfo": "The process digest sends periodic emails with the existing KPI status to the Process Owner. By default, the digest will be sent every Monday at 9:00 AM (To change the default send time, please contact your administrator).",[m
     "digestConfigured": "Your process digest has been successfully configured. An email has been sent to {name}.",[m
     "configureKpis": "Learn more about KPIs",[m
[31m-    "analysing": "Analyzing <b>{count}</b> {label}.",[m
[31m-    "processesListed": "{total} {label} listed",[m
[31m-    "processesListedOf": "{count} of {total} {label} listed",[m
[32m+[m[32m    "analysing": "{count} {label} are orchestrated.",[m
[32m+[m[32m    "processesListed": "{total} {label} listed.",[m
[32m+[m[32m    "processesListedOf": "{count} of {total} {label} listed.",[m
     "timeGoals": {[m
       "label": "Time goals",[m
       "configure": "Configure duration goals",[m
[36m@@ -574,6 +572,9 @@[m
         "inputVariable": "InputVar",[m
         "outputVariable": "OutputVar",[m
         "objectVariable": "Object Variable",[m
[32m+[m[32m        "openIncidents": "Open Incidents",[m
[32m+[m[32m        "incidents": "Incidents",[m
[32m+[m[32m        "userTasks": "User Tasks",[m
         "flowNodeDuration": "Dur",[m
         "count": "Count"[m
       },[m
[36m@@ -690,8 +691,7 @@[m
     "missingVariable": "Missing variable",[m
     "nonExistingVariable": "Variable does not exist",[m
     "nonExistingFlowNode": "Flow Node(s) does not exist",[m
[31m-    "percentageOfInstances": "% of total instances that match the filter",[m
[31m-    "addDescription": "Add description"[m
[32m+[m[32m    "percentageOfInstances": "% of total instances that match the filter"[m
   },[m
   "dashboard": {[m
     "label": "Dashboard",[m
[36m@@ -711,44 +711,128 @@[m
     },[m
     "templates": {[m
       "blank": "Blank Dashboard",[m
[31m-      "instantPreviewDashboard": "Instant Preview Dashboard",[m
[31m-      "processPerformance": "Process performance overview",[m
[31m-      "processPerformance_subTitle": "Process and incident performance",[m
[31m-      "humanPerformance": "Human task performance",[m
[31m-      "humanPerformance_subTitle": "User task counts and durations",[m
[31m-      "humanBottleneckAnalysis": "Human task bottleneck analysis",[m
[31m-      "humanBottleneckAnalysis_subTitle": "Fix bottlenecks to reduce total process time",[m
[32m+[m[32m      "productivity": "Improve Productivity",[m
[32m+[m[32m      "productivity-description": "Improve the utilization of existing resources to increase the output.",[m
[32m+[m[32m      "productivity_incomingToday": "Incoming today",[m
[32m+[m[32m      "productivity_incomingToday-description": "This report counts the number of incoming requests that started a process.",[m
[32m+[m[32m      "productivity_incomingThisWeek": "Incoming this week (KPI)",[m
[32m+[m[32m      "productivity_incomingThisWeek-description": "This report counts the number of incoming requests that started a process this week. The report is marked as KPI.",[m
[32m+[m[32m      "productivity_incomingInLast2Weeks": "Incoming in the last 2 weeks",[m
[32m+[m[32m      "productivity_incomingInLast2Weeks-description": "This report provides an overview of the incoming requests in the last two weeks.",[m
[32m+[m[32m      "productivity_currentlyInProgress": "Items currently in progress (KPI)",[m
[32m+[m[32m      "productivity_currentlyInProgress-description": "This report counts the currently in-work items. The report is marked as KPI.",[m
[32m+[m[32m      "productivity_maxNumberOfItemsInProgress": "Max number of processes in progress per day",[m
[32m+[m[32m      "productivity_maxNumberOfItemsInProgress-description": "This report shows the maximum number of items in progress per day.",[m
[32m+[m[32m      "productivity_finishedYesterday": "Finished yesterday",[m
[32m+[m[32m      "productivity_finishedYesterday-description": "This report counts the items finished yesterday.",[m
[32m+[m[32m      "productivity_finishedThisWeek": "Finished this week (KPI)",[m
[32m+[m[32m      "productivity_finishedThisWeek-description": "This report shows the maximum number of items in progress per day. The report is marked as KPI.",[m
[32m+[m[32m      "productivity_finishedInLast2Weeks": "Finished in the last 2 weeks",[m
[32m+[m[32m      "productivity_finishedInLast2Weeks-description": "This report shows the rate of items finished in the last 2 weeks.",[m
[32m+[m[32m      "productivity_text1_line1": "How many incoming items started a process?",[m
[32m+[m[32m      "productivity_text1_line2": " Target",[m
[32m+[m[32m      "productivity_text1_line3": "React early to unexpected load to be able to deliver on defined targets.",[m
[32m+[m[32m      "productivity_text1_line4": " Customize",[m
[32m+[m[32m      "productivity_text1_line5": "- Set planned input as the ",[m
[32m+[m[32m      "productivity_text1_line6": "incoming target.",[m
[32m+[m[32m      "productivity_text1_line7": "- Flag report as ",[m
[32m+[m[32m      "productivity_text1_line8": "Key Performance Indicator (KPI)",[m
[32m+[m[32m      "productivity_text1_line9": " to obtain it as part of the ",[m
[32m+[m[32m      "productivity_text1_line10": "Email Digest",[m
[32m+[m[32m      "productivity_text2_line1": "How many items are in progress?",[m
[32m+[m[32m      "productivity_text2_line2": " Target",[m
[32m+[m[32m      "productivity_text2_line3": "Balance the number of work in progress to the available resources to ensure process stability.",[m
[32m+[m[32m      "productivity_text2_line4": " Customize",[m
[32m+[m[32m      "productivity_text2_line5": "- Set the planned number of items in progress as the ",[m
[32m+[m[32m      "productivity_text2_line6": "target",[m
[32m+[m[32m      "productivity_text2_line7": "- Flag report as ",[m
[32m+[m[32m      "productivity_text2_line8": "Key Performance Indicator (KPI)",[m
[32m+[m[32m      "productivity_text2_line9": " to obtain it as part of the ",[m
[32m+[m[32m      "productivity_text2_line10": "Email Digest",[m
[32m+[m[32m      "productivity_text3_line1": "How many items are completed?",[m
[32m+[m[32m      "productivity_text3_line2": " Target",[m
[32m+[m[32m      "productivity_text3_line3": "Ensure continuous flow of items through the system.",[m
[32m+[m[32m      "productivity_text3_line4": " Customize",[m
[32m+[m[32m      "productivity_text3_line5": "Set targets",[m
[32m+[m[32m      "productivity_text3_line6": " for the planned completion rate",[m
[32m+[m[32m      "productivity_text3_line7": "- Flag report as Key Performance Indicator (KPI) to obtain it as part of the Email Digest",[m
[32m+[m[32m      "efficiency": "Increase Efficiency",[m
[32m+[m[32m      "efficiency-description": "Increase the outcome of processes ended as intended.",[m
[32m+[m[32m      "efficiency_outcomeThisWeek": "Outcome this week",[m
[32m+[m[32m      "efficiency_outcomeThisWeek-description": "This report counts the items that ended as intended this week already.",[m
[32m+[m[32m      "efficiency_outcomeLastWeek": "Outcome last week (KPI)",[m
[32m+[m[32m      "efficiency_outcomeLastWeek-description": "This report sums up the items processed as intended last week. The report is marked as KPI.",[m
[32m+[m[32m      "efficiency_unwantedOutcomeThisWeek": "Unwanted outcome this week",[m
[32m+[m[32m      "efficiency_unwantedOutcomeThisWeek-description": "This report measures the unwanted outcomes this week. ",[m
[32m+[m[32m      "efficiency_unwantedOutcomeLastWeek": "Unwanted outcome last week (KPI)",[m
[32m+[m[32m      "efficiency_unwantedOutcomeLastWeek-description": "This report shows the unwanted outcome last week. The report is marked as KPI.",[m
[32m+[m[32m      "efficiency_outcomeInLast4Weeks": "Outcome in the last 4 weeks",[m
[32m+[m[32m      "efficiency_outcomeInLast4Weeks-description": "This report provides an overview of the positive outcomes of the last 4 weeks.",[m
[32m+[m[32m      "efficiency_incidentFreeRateInLast3Months": "Incident-free rate in the last 3 months (KPI)",[m
[32m+[m[32m      "efficiency_incidentFreeRateInLast3Months-description": "This report measures the rate of processes ending without an incident.",[m
[32m+[m[32m      "efficiency_incidentsInLast3Months": "Incidents in the last 3 months",[m
[32m+[m[32m      "efficiency_incidentsInLast3Months-description": "This report lists all incidents that occurred in the last 3 months.",[m
[32m+[m[32m      "efficiency_nodesCausingIncidentsInLast3Months": "Process Nodes causing incidents in the last 3 months",[m
[32m+[m[32m      "efficiency_nodesCausingIncidentsInLast3Months-description": "This heatmap show in which process nodes the incidents happened.",[m
[32m+[m[32m      "efficiency_typesOfUnwantedOutcomeLastWeek": "Types of unwanted outcome last week",[m
[32m+[m[32m      "efficiency_typesOfUnwantedOutcomeLastWeek-description": "This report shows the types of unwanted outcomes.",[m
[32m+[m[32m      "efficiency_processScattering": "Process scattering from the happy path",[m
[32m+[m[32m      "efficiency_processScattering-description": "This report counts the number of processes that deviate from the happy path.",[m
[32m+[m[32m      "efficiency_typesOfUnwantedOutcomeLas4tWeeks": "Types of unwanted outcomes in the last 4 weeks",[m
[32m+[m[32m      "efficiency_typesOfUnwantedOutcomeLas4tWeeks-description": "This report shows the types of unwanted outcomes.",[m
[32m+[m[32m      "efficiency_text1_line1": "Which incidents do occur?",[m
[32m+[m[32m      "efficiency_text1_line2": " Target",[m
[32m+[m[32m      "efficiency_text1_line3": "Understand the most frequent incidents and try to fix them.",[m
[32m+[m[32m      "efficiency_text2_line1": "How many processes ended as intended?",[m
[32m+[m[32m      "efficiency_text2_line2": " Target",[m
[32m+[m[32m      "efficiency_text2_line3": "Increase wanted and reduce unwanted outcomes.",[m
[32m+[m[32m      "efficiency_text2_line4": " Customize",[m
[32m+[m[32m      "efficiency_text2_line5": "- Change ",[m
[32m+[m[32m      "efficiency_text2_line6": "Flow Node Selection",[m
[32m+[m[32m      "efficiency_text2_line7": " to filter wanted and unwanted process results",[m
[32m+[m[32m      "efficiency_text3_line1": "What are the unwanted outcomes?",[m
[32m+[m[32m      "efficiency_text3_line2": " Target",[m
[32m+[m[32m      "efficiency_text3_line3": "Reduce the number of processes not on the happy path.",[m
[32m+[m[32m      "efficiency_text3_line4": " Customize",[m
[32m+[m[32m      "efficiency_text3_line5": "- Change ",[m
[32m+[m[32m      "efficiency_text3_line6": "Flow Node Selection",[m
[32m+[m[32m      "efficiency_text3_line7": " to filter wanted and unwanted process result",[m
[32m+[m[32m      "acceleration": "Increase Acceleration",[m
[32m+[m[32m      "acceleration-description": "Optimize the execution time of tasks in the process and monitor service level agreements for the process.",[m
[32m+[m[32m      "acceleration_cycleTimeLast7Days": "Cycle time last 7 days (KPI)",[m
[32m+[m[32m      "acceleration_cycleTimeLast7Days-description": "This report shows the average cycle timer of the last 7 days. The report is marked as KPI.",[m
[32m+[m[32m      "acceleration_cycleTimeLast4Weeks": "Cycle time in the last 4 weeks",[m
[32m+[m[32m      "acceleration_cycleTimeLast4Weeks-description": "This report shows the average cycle timer of the current month.",[m
[32m+[m[32m      "acceleration_cycleTimeLastWeeks": "Cycle time in the last weeks",[m
[32m+[m[32m      "acceleration_cycleTimeLastWeeks-description": "This report shows how the cycle time was in the last weeks.",[m
[32m+[m[32m      "acceleration_deviationOfPlannedToAverageDuration": "Deviation of the planned to the average duration",[m
[32m+[m[32m      "acceleration_deviationOfPlannedToAverageDuration-description": "This report shows the planned time for the tasks and the deviation from the plan.",[m
[32m+[m[32m      "acceleration_durationOfCriticalTasksInLastMonth": "Duration of critical tasks in the last month",[m
[32m+[m[32m      "acceleration_durationOfCriticalTasksInLastMonth-description": "This table lists all tasks and their average duration.",[m
[32m+[m[32m      "acceleration_taskBottlenecks": "Task bottlenecks",[m
[32m+[m[32m      "acceleration_taskBottlenecks-description": "This report visualizes the flow nodes that take the most time of the execution.",[m
[32m+[m[32m      "acceleration_text1_line1": "How long does the average process take to end?",[m
[32m+[m[32m      "acceleration_text1_line2": " Target",[m
[32m+[m[32m      "acceleration_text1_line3": "End processes in the defined target time.",[m
[32m+[m[32m      "acceleration_text1_line4": " Customize",[m
[32m+[m[32m      "acceleration_text1_line5": "Set targets ",[m
[32m+[m[32m      "acceleration_text1_line6": " for the planned ",[m
[32m+[m[32m      "acceleration_text1_line7": "Cycle time",[m
[32m+[m[32m      "acceleration_text1_line8": "- Change ",[m
[32m+[m[32m      "acceleration_text1_line9": "Flow Node Selection",[m
[32m+[m[32m      "acceleration_text1_line10": "  filter for wanted and unwanted process results",[m
[32m+[m[32m      "acceleration_text2_line1": "How long did a task take?",[m
[32m+[m[32m      "acceleration_text2_line2": " Target",[m
[32m+[m[32m      "acceleration_text2_line3": "Reduce process duration by better resource allocation or task optimization.",[m
[32m+[m[32m      "acceleration_text3_line1": "How much longer did a task take than expected?",[m
[32m+[m[32m      "acceleration_text3_line2": " Customize",[m
[32m+[m[32m      "acceleration_text3_line3": "- Define target durations for tasks",[m
[32m+[m[32m      "processDashboard": "Process Dashboard",[m
[32m+[m[32m      "processDashboard-description": "This dashboard provides a competitive overview of metrics and use cases that can be covered with Optimize. It is available for any process as soon as a process is deployed.",[m
       "portfolioPerformance": "Portfolio performance overview",[m
       "portfolioPerformance_subTitle": "View a summary of up to 10 processes",[m
       "operationsMonitoring": "Operations monitoring",[m
       "operationsMonitoring_subTitle": "Monitor active processes and incidents",[m
[31m-      "30DayThroughput": "Throughput (30-day rolling)",[m
[31m-      "p75Duration": "75th Percentile Duration",[m
[31m-      "p99Duration": "99th Percentile Duration",[m
[31m-      "percentSLAMet": "% SLA Met",[m
[31m-      "percentNoIncidents": "Incident-Free Rate",[m
[31m-      "percentSuccess": "Success Rate (edit filter to only show successful end events)",[m
[31m-      "percentAutomated": "Automation Rate (edit filter to exclude user tasks)",[m
[31m-      "flownodeDuration": "Which process steps take too much time? (To Do: Add Target values for these process steps)",[m
[31m-      "controlChart": "Is my process within control?",[m
[31m-      "flownodeFrequency": "How often is each process step run?",[m
[31m-      "instanceTrends": "How frequently is this process run?",[m
[31m-      "activeIncidentsHeatmap": "Where are the active incidents?",[m
[31m-      "incidentDurationHeatmap": "Where are the worst incidents",[m
[31m-      "incidentDurationTrend": "Are we improving incident handling?",[m
[31m-      "idleTime": "Idle Time",[m
[31m-      "workTime": "Work Time",[m
[31m-      "tasksStarted": "Tasks started per month",[m
[31m-      "tasksCompleted": "Tasks completed per month",[m
[31m-      "bottleneckLocation": "Where is my bottleneck?",[m
[31m-      "bottleneckSeverity": "How bad is my bottleneck?",[m
[31m-      "assigneeVariation": "How does task assignee affect the bottleneck?",[m
[31m-      "durationImprovement": "Is the bottleneck improving?",[m
[31m-      "userTaskImprovement": "Are user tasks becoming more efficient?",[m
[31m-      "upstreamWork": "Is work delivered smoothly to the bottleneck? (To Do: Edit the filter to include all flow nodes BEFORE the bottleneck)",[m
[31m-      "bottleneckQueue": "How many tasks are waiting at my bottleneck? (To Do: Edit the filter to select the flow node AT the bottleneck)",[m
[31m-      "workerProductivity": "How productive are my workers?",[m
[31m-      "workDuration": "How long does each user task take?",[m
       "completedProcesses": "Processes Completed",[m
       "activeIncidents": "Active Incidents",[m
       "runningProcesses": "Which processes are running?",[m
[36m@@ -859,6 +943,7 @@[m
     "contactManager": "Please contact the collection manager to create new Alerts",[m
     "inactiveStatus": "Alert inactive",[m
     "activateInfo": "To active add email or target system",[m
[32m+[m[32m    "existingAlerts": "Existing alerts",[m
     "updated": "\"{name}\" updated.",[m
     "removed": "\"{name}\" removed."[m
   },[m
[36m@@ -990,11 +1075,6 @@[m
     "less": "Less",[m
     "configure": "Configure",[m
     "new": "New",[m
[31m-    "error": "Error",[m
[31m-    "closeError": "Close error notification",[m
[31m-    "units": "Units",[m
[31m-    "link": "Link",[m
[31m-    "details": "Details",[m
     "process": {[m
       "label": "Process",[m
       "label-plural": "Processes"[m
[36m@@ -1573,45 +1653,47 @@[m
     }[m
   },[m
   "managementDashboard": {[m
[31m-    "dashboardName": "Adoption Dashboard",[m
[32m+[m[32m    "dashboardName": "Adoption",[m
     "report": {[m
[31m-      "processInstanceUsage": "Process Instance Usage",[m
[31m-      "incidentFreeRate": "Overall Incident-Free Rate",[m
[31m-      "automationRate": "Automation Rate (<1 hour)",[m
[31m-      "longRunningInstances": "Long-Running Process Instances",[m
[31m-      "automationCandidates": "Automation Candidates",[m
[31m-      "activeBottlenecks": "Active Bottlenecks"[m
[32m+[m[32m      "instancesCurrentlyInProgressName": "Currently in progress",[m
[32m+[m[32m      "instancesCurrentlyInProgressDescription": "This report shows how busy your cluster currently is.",[m
[32m+[m[32m      "instancesStartedInLastSixMonthsName": "Started in the last 6 months",[m
[32m+[m[32m      "instancesStartedInLastSixMonthsDescription": "This report provides insight into the overall adoption of process orchestration.",[m
[32m+[m[32m      "instancesEndedInLastSixMonthsName": "Ended in the last 6 months",[m
[32m+[m[32m      "instancesEndedInLastSixMonthsDescription": "This report shows the total number of automated process instances ended."[m
     }[m
   },[m
   "instantDashboard": {[m
     "IP_DashboardName": "Instant Preview Dashboard",[m
     "IP_KpiDashboardName": "KPI Dashboard",[m
[31m-    "IP_TileText_BusinessOperations": "Monitor process health in near realtime.",[m
[31m-    "IP_TileText_BusinessOperations_Details_1": "The business operations dashboard provides you with an overview of the health of your process.",[m
[31m-    "IP_TileText_BusinessOperations_Details_2": "Next steps:",[m
[31m-    "IP_TileText_BusinessOperations_Details_3": "- Go to Collections and create your own Dashboard.",[m
[31m-    "IP_TileText_BusinessOperations_Details_4": "- Define Alerts for the Collection and get notified via email.",[m
[31m-    "IP_TileText_BusinessReporting": "Report business metrics to stakeholders.",[m
[31m-    "IP_TileText_BusinessReporting_Details_1": "The business reporting dashboards provide process metrics to manage and report a business.",[m
[31m-    "IP_TileText_BusinessReporting_Details_2": "Next steps:",[m
[31m-    "IP_TileText_BusinessReporting_Details_3": "- Go to Collections and create your own dashboard.",[m
[31m-    "IP_TileText_BusinessReporting_Details_4": "- Go to a Report and change it to a KPI.",[m
[31m-    "IP_TileText_BusinessReporting_Details_5": "- Go to Dashboards and subscribe to an email Digest.",[m
[31m-    "IP_TileText_ProcessImprovement": "Analytic tools to find process improvements.",[m
[31m-    "IP_TileText_ProcessImprovement_Details_1": "The tools provided for process and rules analytics help to find bottlenecks and unused branches to reduce complexity and increase performance.",[m
[31m-    "IP_TileText_ProcessImprovement_Details_2": "Next steps:",[m
[31m-    "IP_TileText_ProcessImprovement_Details_3": "- Go to Collections and build your own Reports.",[m
[31m-    "IP_TileText_ProcessImprovement_Details_4": "- Go to Analysis and perform a Branch Analysis.",[m
[31m-    "IP_TileText_ProcessImprovement_Details_5": "- Go to Analysis and perform an Outlier Analysis.",[m
[32m+[m[32m    "processDashboard": "Instant Process Dashboard",[m
[32m+[m[32m    "processDashboard-description": "This dashboard provides a competitive overview of metrics and use cases that can be covered with Optimize. It is available for any process as soon as a process is deployed.",[m
[32m+[m[32m    "processDashboard_text1_line1": "Report business metrics",[m
[32m+[m[32m    "processDashboard_text1_line2": "Aggregate and group the process execution data into days, weeks, and months to monitor and report business metrics and key performance indicators (KPI).",[m
[32m+[m[32m    "processDashboard_text1_line3": "Subscribe to an email digest to obtain a weekly summary of your process metrics and KPIs",[m
[32m+[m[32m    "processDashboard_text2_line1": "Investigate problems and find improvements",[m
[32m+[m[32m    "processDashboard_text2_line2": "Use all gathered process execution data to investigate problems or kick off new process improvements.",[m
[32m+[m[32m    "processDashboard_text2_line3": "Use Optimize Outlier Analysis to find improvement potential in your process",[m
[32m+[m[32m    "processDashboard_text3_line1": "Monitor process health in near real-time",[m
[32m+[m[32m    "processDashboard_text3_line2": "See process execution data of the last minutes, hours, and days in near real-time to take corrective actions if needed.",[m
[32m+[m[32m    "processDashboard_text3_line3": "Create a copy of this dashboard to be able to adjust it to your needs",[m
     "report": {[m
[31m-      "IP_TileText_BusinessOperations_Report1": "Currently running",[m
[31m-      "IP_TileText_BusinessOperations_Report2": "Started in the last 7 days",[m
[31m-      "IP_TileText_BusinessOperations_Report3": "Ended in the last 7 days",[m
[31m-      "IP_TileText_BusinessOperations_Report4": "Tasks with Incidents",[m
[31m-      "IP_TileText_BusinessOperations_Report5": "Number of running incidents",[m
[31m-      "IP_TileText_BusinessOperations_Report6": "Started in the last 7 days",[m
[31m-      "IP_TileText_BusinessReporting_Report1": "Number of processes completed per month",[m
[31m-      "IP_TileText_ProcessImprovement_Report1": "Which tasks take the most time and are candidates for automation",[m
[32m+[m[32m      "processDashboard_currentlyRunningProcesses": "Currently running processes",[m
[32m+[m[32m      "processDashboard_currentlyRunningProcesses-description": "This report provides an overview of the progress of all running processes. ",[m
[32m+[m[32m      "processDashboard_incomingInLast7Days": "Incoming in the last 7 days",[m
[32m+[m[32m      "processDashboard_incomingInLast7Days-description": "This report counts the number of incoming requests that started a process.",[m
[32m+[m[32m      "processDashboard_currentlyInProgress": "Currently in progress",[m
[32m+[m[32m      "processDashboard_currentlyInProgress-description": "This report counts all currently running processes.",[m
[32m+[m[32m      "processDashboard_endedInLast7Days": "Ended in the last 7 days",[m
[32m+[m[32m      "processDashboard_endedInLast7Days-description": "This report counts all processes that ended in the last 7 days.",[m
[32m+[m[32m      "processDashboard_openIncidents": "Open incidents",[m
[32m+[m[32m      "processDashboard_openIncidents-description": "This report shows the number of open incidents.",[m
[32m+[m[32m      "processDashboard_currentlyOpenIncidents": "Currently open incidents",[m
[32m+[m[32m      "processDashboard_currentlyOpenIncidents-description": "This report shows flow nodes with currently open incidents.",[m
[32m+[m[32m      "processDashboard_processEndedGroupedByMonth": "Processes ended grouped by month",[m
[32m+[m[32m      "processDashboard_processEndedGroupedByMonth-description": "This report provides an overview of the utilization of the process in the last months. ",[m
[32m+[m[32m      "processDashboard_bottlenecksInTheProcess": "Bottlenecks in the process ended in the last 6 months",[m
[32m+[m[32m      "processDashboard_bottlenecksInTheProcess-description": "The heatmap highlights the flow nodes that consume in average the most time to be completed.",[m
       "percentSLAMet": "% SLA Met",[m
       "flownodeDuration": "Which process steps take too much time? (To Do: Add Target values for these process steps)",[m
       "controlChart": "Is my process within control?",[m
[1mdiff --git a/backend/src/main/resources/localization/whatsnew_de.md b/backend/src/main/resources/localization/whatsnew_de.md[m
[1mindex dd04950848..69bf257d09 100644[m
[1m--- a/backend/src/main/resources/localization/whatsnew_de.md[m
[1m+++ b/backend/src/main/resources/localization/whatsnew_de.md[m
[36m@@ -1,11 +1,14 @@[m
[32m+[m[32m## Prozess Ziele Vorlagen[m
[32m+[m[32mMithilfe von Dashboard-Vorlagen können Benutzer schnell Berichte erstellen, die in einem Dashboard gruppiert sind und leicht an individuelle Anforderungen angepasst werden können. Die neuen Vorlagen konzentrieren sich auf die zentralen Automatisierungsziele: Beschleunigung, erhöhte Produktivität und bessere Effektivität. Jede Vorlage definiert eine Reihe von Metriken zur Messung dieser Ziele und kann auf jeden Prozess angewendet werden. So ist es einfach möglich vorhandene Prozesse kontinuierlich zu verbessern.[m
[32m+[m
 ## Vereinfachte Navigation zu den Rohdaten.[m
 Das Navigieren von einem Dashboard, zu den Details in den aggregierten Berichten, zu den Rohdaten hilft gefundene Erkenntnisse umfangreich zu analysieren. Diese Navigation ist heute schon möglich, jedoch schwer zu finden. Mit diesem Release wird die Navigation verbessert. Reports die Teil eines Dashboards sind, können nun an beliebiger Stelle geklickt werden, um direkt vom Dashboard zum Report zu navigieren. Der Report zeigt nun zusätzlich zur aggregierten Datenvisualisierung auch die Rohdaten an.[m
 [m
 ## Zeige Optimize Benachrichtigungen im Nachrichtentracker[m
 Optimize schickt wichtige Benachrichtigungen an den zentralen Camunda 8 Nachrichtentracker. So können Camunda 8 Nutzer bei der Prozessautomatisierung mit Hinweisen zur Nutzung von Optimize unterstützt werden.[m
 [m
[31m-## Kopierfunktion für das Instant Preview Dashboard[m
[31m-Beim Anzeigen eines Instant Preview-Dashboards können Sie jetzt direkt eine Kopie erstellen, die dann wie jedes andere Dashboard bearbeitet und geteilt werden kann. Dieses Dashboard steht nun auch als auswählbare Vorlage bei der Dashboard-Erstellung zur Verfügung.[m
[32m+[m[32m## Kopierfunktion für das Instant Process Dashboard[m
[32m+[m[32mBeim Anzeigen eines Instant Process Dashboards können Sie jetzt direkt eine Kopie erstellen, die dann wie jedes andere Dashboard bearbeitet und geteilt werden kann. Dieses Dashboard steht nun auch als auswählbare Vorlage bei der Dashboard-Erstellung zur Verfügung.[m
 [m
 ## Aktualisierung der Report Vorlagen[m
 Report Vorlagen helfen dem Nutzer Prozessausführungsdaten schnell in einem Report zu visualisieren. Die neuen Report Vorlagen bieten eine Übersicht der in Optimize verfügbaren Visualisierungsmöglichkeiten, um abhängig von der Problemstellung Daten möglichst aussagekräftig zu darzustellen.[m
[1mdiff --git a/backend/src/main/resources/localization/whatsnew_en.md b/backend/src/main/resources/localization/whatsnew_en.md[m
[1mindex 5d78bece1e..646c121592 100644[m
[1m--- a/backend/src/main/resources/localization/whatsnew_en.md[m
[1m+++ b/backend/src/main/resources/localization/whatsnew_en.md[m
[36m@@ -1,11 +1,14 @@[m
[32m+[m[32m## Process Goal Templates[m
[32m+[m[32mDashboard Templates help users quickly create a set of reports grouped in a dashboard that can easily be adjusted to custom needs. The new templates focus on the essential automation goals of improving: acceleration, productivity, and effectiveness. Each template defines a set of metrics on how to measure these goals and can be applied to any process. This allows you to start continuous improvement quickly for any process.[m
[32m+[m
 ## Ease full raw data drill down[m
 The drill down from the high-level overview dashboard to the details of a report to the raw data aggregated helps to investigate and analyze findings. This navigation is already possible today but difficult to follow. This release now streamlines the navigation. Each report on a dashboard can be clicked anywhere on the report tile to drill down to the report, which now contains the report plus the raw data side by side. [m
 [m
 ## Send Optimize notifications to the notification tracker[m
 Optimize is now sending important notifications to the Camunda 8 notifications tracker. This allows us to support users utilizing Camunda 8 for process orchestration with hints about the benefits of using Optimize.[m
 [m
[31m-## Copy Instant Preview Dashboard[m
[31m-When viewing an Instant Preview Dashboard, you can now directly create a copy that can then be edited and shared like any other dashboard. This dashboard is now also available as a selectable template during dashboard creation.[m
[32m+[m[32m## Copy Instant Process Dashboard[m
[32m+[m[32mWhen viewing an Instant Process Dashboard, you can now directly create a copy that can then be edited and shared like any other dashboard. This dashboard is now also available as a selectable template during dashboard creation.[m
 [m
 ## Updated Report Templates[m
 Report Templates help the user to visualize process execution data in a shareable report quickly. The new Report Templates provide an overview of the different report visualizations in Optimize.[m
[1mdiff --git a/backend/src/test/java/org/camunda/optimize/service/uiconfiguration/UIConfigurationServiceTest.java b/backend/src/test/java/org/camunda/optimize/service/uiconfiguration/UIConfigurationServiceTest.java[m
[1mindex 4409ff58e7..e3da5a3257 100644[m
[1m--- a/backend/src/test/java/org/camunda/optimize/service/uiconfiguration/UIConfigurationServiceTest.java[m
[1m+++ b/backend/src/test/java/org/camunda/optimize/service/uiconfiguration/UIConfigurationServiceTest.java[m
[36m@@ -8,12 +8,11 @@[m [mpackage org.camunda.optimize.service.uiconfiguration;[m
 import org.camunda.optimize.dto.optimize.query.ui_configuration.UIConfigurationResponseDto;[m
 import org.camunda.optimize.rest.cloud.CloudSaasMetaInfoService;[m
 import org.camunda.optimize.service.SettingsService;[m
[31m-import org.camunda.optimize.service.TenantService;[m
 import org.camunda.optimize.service.UIConfigurationService;[m
 import org.camunda.optimize.service.exceptions.OptimizeConfigurationException;[m
[31m-import org.camunda.optimize.service.metadata.OptimizeVersionService;[m
[32m+[m[32mimport org.camunda.optimize.service.metadata.PlatformOptimizeVersionService;[m
[32m+[m[32mimport org.camunda.optimize.service.tenant.TenantService;[m
 import org.camunda.optimize.service.util.configuration.ConfigurationService;[m
[31m-import org.camunda.optimize.service.util.configuration.ui.UIConfiguration;[m
 import org.junit.jupiter.api.Test;[m
 import org.junit.jupiter.api.extension.ExtendWith;[m
 import org.junit.jupiter.params.ParameterizedTest;[m
[36m@@ -42,7 +41,7 @@[m [mpublic class UIConfigurationServiceTest {[m
   @Mock(answer = Answers.RETURNS_DEEP_STUBS)[m
   private ConfigurationService configurationService;[m
   @Mock[m
[31m-  private OptimizeVersionService versionService;[m
[32m+[m[32m  private PlatformOptimizeVersionService versionService;[m
   @Mock[m
   private TenantService tenantService;[m
   @Mock(answer = Answers.RETURNS_DEEP_STUBS)[m
[1mdiff --git a/backend/src/test/java/org/camunda/optimize/service/util/ESVersionCheckerTest.java b/backend/src/test/java/org/camunda/optimize/service/util/DatabaseVersionCheckerTest.java[m
[1msimilarity index 55%[m
[1mrename from backend/src/test/java/org/camunda/optimize/service/util/ESVersionCheckerTest.java[m
[1mrename to backend/src/test/java/org/camunda/optimize/service/util/DatabaseVersionCheckerTest.java[m
[1mindex efddbc7da8..dda587d2a9 100644[m
[1m--- a/backend/src/test/java/org/camunda/optimize/service/util/ESVersionCheckerTest.java[m
[1m+++ b/backend/src/test/java/org/camunda/optimize/service/util/DatabaseVersionCheckerTest.java[m
[36m@@ -21,29 +21,47 @@[m [mimport static org.assertj.core.api.Assertions.assertThat;[m
 import static org.camunda.optimize.service.metadata.Version.getMajorVersionFrom;[m
 import static org.camunda.optimize.service.metadata.Version.getMinorVersionFrom;[m
 import static org.camunda.optimize.service.metadata.Version.getPatchVersionFrom;[m
[31m-import static org.camunda.optimize.service.util.ESVersionChecker.getLatestSupportedESVersion;[m
[32m+[m[32mimport static org.camunda.optimize.service.util.DatabaseVersionChecker.getLatestSupportedESVersion;[m
[32m+[m[32mimport static org.camunda.optimize.service.util.DatabaseVersionChecker.getLatestSupportedOSVersion;[m
[32m+[m[32mimport static org.camunda.optimize.service.util.DatabaseVersionChecker.getSupportedVersionsES;[m
[32m+[m[32mimport static org.camunda.optimize.service.util.DatabaseVersionChecker.getSupportedVersionsOS;[m
 [m
[31m-public class ESVersionCheckerTest {[m
[31m-  public static final List<String> SUPPORTED_VERSIONS = ESVersionChecker.getSupportedVersions();[m
[32m+[m[32mpublic class DatabaseVersionCheckerTest {[m
[32m+[m[32m  public static final List<String> SUPPORTED_VERSIONS_ES = DatabaseVersionChecker.getSupportedVersionsES();[m
[32m+[m[32m  public static final List<String> SUPPORTED_VERSIONS_OS = DatabaseVersionChecker.getSupportedVersionsOS();[m
 [m
   @AfterEach[m
   public void resetSupportedVersions() {[m
[31m-    ESVersionChecker.setSupportedVersions(SUPPORTED_VERSIONS);[m
[32m+[m[32m    DatabaseVersionChecker.setSupportedVersionsES(SUPPORTED_VERSIONS_ES);[m
[32m+[m[32m    DatabaseVersionChecker.setSupportedVersionsOS(SUPPORTED_VERSIONS_OS);[m
   }[m
 [m
   @ParameterizedTest[m
[31m-  @MethodSource("validVersions")[m
[32m+[m[32m  @MethodSource("validESVersions")[m
   public void testValidESVersions(final String version) {[m
[31m-    final boolean isSupported = ESVersionChecker.isCurrentVersionSupported(version);[m
[32m+[m[32m    final boolean isSupported = DatabaseVersionChecker.isCurrentElasticsearchVersionSupported(version);[m
 [m
     assertThat(isSupported).isTrue();[m
   }[m
 [m
   @ParameterizedTest[m
[31m-  @MethodSource("invalidVersions")[m
[32m+[m[32m  @MethodSource("validOSVersions")[m
[32m+[m[32m  public void testValidOSVersions(final String version) {[m
[32m+[m[32m    final boolean isSupported = DatabaseVersionChecker.isCurrentOpensearchVersionSupported(version);[m
[32m+[m[32m    assertThat(isSupported).isTrue();[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  @ParameterizedTest[m
[32m+[m[32m  @MethodSource("invalidESVersions")[m
   public void testInvalidESVersions(final String version) {[m
[31m-    final boolean isSupported = ESVersionChecker.isCurrentVersionSupported(version);[m
[32m+[m[32m    final boolean isSupported = DatabaseVersionChecker.isCurrentElasticsearchVersionSupported(version);[m
[32m+[m[32m    assertThat(isSupported).isFalse();[m
[32m+[m[32m  }[m
 [m
[32m+[m[32m  @ParameterizedTest[m
[32m+[m[32m  @MethodSource("invalidOSVersions")[m
[32m+[m[32m  public void testInvalidOSVersions(final String version) {[m
[32m+[m[32m    final boolean isSupported = DatabaseVersionChecker.isCurrentOpensearchVersionSupported(version);[m
     assertThat(isSupported).isFalse();[m
   }[m
 [m
[36m@@ -53,7 +71,16 @@[m [mpublic class ESVersionCheckerTest {[m
     String version = constructWarningVersionHigherMinor(getLatestSupportedESVersion());[m
 [m
     // then[m
[31m-    assertThat(ESVersionChecker.doesVersionNeedWarning(version)).isTrue();[m
[32m+[m[32m    assertThat(DatabaseVersionChecker.doesVersionNeedWarning(version, getLatestSupportedESVersion())).isTrue();[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  @Test[m
[32m+[m[32m  public void testWarningOSVersions() {[m
[32m+[m[32m    // given[m
[32m+[m[32m    String version = constructWarningVersionHigherMinor(getLatestSupportedOSVersion());[m
[32m+[m
[32m+[m[32m    // then[m
[32m+[m[32m    assertThat(DatabaseVersionChecker.doesVersionNeedWarning(version, getLatestSupportedOSVersion())).isTrue();[m
   }[m
 [m
   @Test[m
[36m@@ -62,23 +89,31 @@[m [mpublic class ESVersionCheckerTest {[m
     final String expectedLatestVersion = "7.11.5";[m
 [m
     List<String> versionsToTest = Arrays.asList("0.0.1", "7.2.0", expectedLatestVersion, "7.11.4", "7.10.6");[m
[31m-    ESVersionChecker.setSupportedVersions(versionsToTest);[m
[31m-[m
[31m-    // when[m
[31m-    final String latestSupportedVersion = getLatestSupportedESVersion();[m
[32m+[m[32m    DatabaseVersionChecker.setSupportedVersionsOS(versionsToTest);[m
[32m+[m[32m    DatabaseVersionChecker.setSupportedVersionsES(versionsToTest);[m
 [m
[31m-    assertThat(latestSupportedVersion).isEqualTo(expectedLatestVersion);[m
[32m+[m[32m    // then[m
[32m+[m[32m    assertThat(getLatestSupportedOSVersion()).isEqualTo(expectedLatestVersion);[m
[32m+[m[32m    assertThat(getLatestSupportedESVersion()).isEqualTo(expectedLatestVersion);[m
   }[m
 [m
[31m-  private static Stream<String> validVersions() {[m
[32m+[m[32m  private static Stream<String> validVersions(List<String> supportedVersions) {[m
     List<String> validVersionsToTest = new ArrayList<>();[m
[31m-    for (String supportedVersion : SUPPORTED_VERSIONS) {[m
[32m+[m[32m    for (String supportedVersion : supportedVersions) {[m
       validVersionsToTest.add(supportedVersion);[m
       validVersionsToTest.add(constructValidVersionHigherPatch(supportedVersion));[m
     }[m
     return validVersionsToTest.stream();[m
   }[m
 [m
[32m+[m[32m  private static Stream<String> validESVersions() {[m
[32m+[m[32m    return validVersions(getSupportedVersionsES());[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  private static Stream<String> validOSVersions() {[m
[32m+[m[32m    return validVersions(getSupportedVersionsOS());[m
[32m+[m[32m  }[m
[32m+[m
   private static String constructValidVersionHigherPatch(String supportedVersion) {[m
     final String major = getMajorVersionFrom(supportedVersion);[m
     final String minor = getMinorVersionFrom(supportedVersion);[m
[36m@@ -114,14 +149,22 @@[m [mpublic class ESVersionCheckerTest {[m
     return buildVersionFromParts(major, minor, decrementVersionPart(patch));[m
   }[m
 [m
[31m-  private static Stream<String> invalidVersions() {[m
[32m+[m[32m  private static Stream<String> invalidESVersions() {[m
[32m+[m[32m    return invalidVersions(getSupportedVersionsES(), getLatestSupportedESVersion());[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  private static Stream<String> invalidOSVersions() {[m
[32m+[m[32m    return invalidVersions(getSupportedVersionsOS(), getLatestSupportedOSVersion());[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  private static Stream<String> invalidVersions(List<String> supportedVersions, String latestSupportedVersion) {[m
     List<String> invalidVersions = new ArrayList<>();[m
 [m
[31m-    if (findPatchedVersionIfPresent().isPresent()) {[m
[31m-      invalidVersions.add(constructInvalidVersionLowerPatch(findPatchedVersionIfPresent().get()));[m
[32m+[m[32m    if (findPatchedVersionIfPresent(supportedVersions).isPresent()) {[m
[32m+[m[32m      invalidVersions.add(constructInvalidVersionLowerPatch(findPatchedVersionIfPresent(supportedVersions).get()));[m
     }[m
[31m-    invalidVersions.add(constructInvalidVersionHigherMajor(getLatestSupportedESVersion()));[m
[31m-    invalidVersions.add(constructInvalidVersionLowerMajor(getLeastSupportedESVersion()));[m
[32m+[m[32m    invalidVersions.add(constructInvalidVersionHigherMajor(latestSupportedVersion));[m
[32m+[m[32m    invalidVersions.add(constructInvalidVersionLowerMajor(getLeastSupportedVersion(supportedVersions)));[m
 [m
     return invalidVersions.stream();[m
   }[m
[36m@@ -138,12 +181,12 @@[m [mpublic class ESVersionCheckerTest {[m
     return String.valueOf(Long.parseLong(versionPart) + 1);[m
   }[m
 [m
[31m-  private static Optional<String> findPatchedVersionIfPresent() {[m
[31m-    return SUPPORTED_VERSIONS.stream().filter(v -> Integer.parseInt(getPatchVersionFrom(v)) > 0).findFirst();[m
[32m+[m[32m  private static Optional<String> findPatchedVersionIfPresent(List<String> supportedVersions) {[m
[32m+[m[32m      return supportedVersions.stream().filter(v -> Integer.parseInt(getPatchVersionFrom(v)) > 0).findFirst();[m
   }[m
 [m
[31m-  private static String getLeastSupportedESVersion() {[m
[31m-    return SUPPORTED_VERSIONS.stream().min(Comparator.naturalOrder()).get();[m
[32m+[m[32m  private static String getLeastSupportedVersion(List<String> supportedVersions) {[m
[32m+[m[32m    return supportedVersions.stream().min(Comparator.naturalOrder()).get();[m
   }[m
 [m
 }[m
[1mdiff --git a/backend/src/test/resources/customer_onboarding_definition.json b/backend/src/test/resources/customer_onboarding_definition.json[m
[1mindex 92676cd802..b4aa2df908 100644[m
[1m--- a/backend/src/test/resources/customer_onboarding_definition.json[m
[1m+++ b/backend/src/test/resources/customer_onboarding_definition.json[m
[36m@@ -3,7 +3,7 @@[m
   "key": "customer_onboarding_en",[m
   "version": "1",[m
   "versionTag": null,[m
[31m-  "name": "Customer Onboarding",[m
[32m+[m[32m  "name": "Camunda Customer Onboarding Demo",[m
   "dataSource": {[m
     "name": "zeebe-record",[m
     "type": "zeebe"[m
[36m@@ -11,7 +11,7 @@[m
   "tenantId": null,[m
   "deleted": false,[m
   "onboarded": true,[m
[31m-  "bpmn20Xml": "<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<bpmn2:definitions xmlns:bpmn2=\"http://www.omg.org/spec/BPMN/20100524/MODEL\" xmlns:camunda=\"http://camunda.org/schema/1.0/bpmn\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns:bpmndi=\"http://www.omg.org/spec/BPMN/20100524/DI\" xmlns:di=\"http://www.omg.org/spec/DD/20100524/DI\" xmlns:dc=\"http://www.omg.org/spec/DD/20100524/DC\" id=\"_5SVkEIXnEeSmwfgVk-ryvQ\" targetNamespace=\"http://camunda.org/schema/1.0/bpmn\" exporter=\"Camunda Modeler\" exporterVersion=\"3.6.0\" xsi:schemaLocation=\"http://www.omg.org/spec/BPMN/20100524/MODEL BPMN20.xsd\">\n  <bpmn2:collaboration id=\"Collaboration_1u35ano\">\n    <bpmn2:participant id=\"Participant_0477s11\" name=\"Customer Onboarding\" processRef=\"customer_onboarding_en\" />\n  </bpmn2:collaboration>\n  <bpmn2:process id=\"customer_onboarding_en\" name=\"Customer Onboarding\" isExecutable=\"true\">\n    <bpmn2:startEvent id=\"StartEvent_1\" name=\"Application received\" camunda:asyncAfter=\"true\" camunda:formKey=\"app:camunda/online/index.html\">\n      <bpmn2:extensionElements>\n        <camunda:properties>\n          <camunda:property name=\"simNextFire\" value=\"${g.timesPerDay(&#34;onboard&#34;,&#34;07:30&#34;,&#34;22:30&#34;, g.linearBySimulationTime(5,15))}\" />\n          <camunda:property name=\"simInitPayload\" value=\"application=${g.json(generator.newApplication(false))}\" />\n          <camunda:property name=\"simGeneratePayload\" value=\"applicationNumber=${application.getApplicationNumber()}\" />\n          <camunda:property name=\"simGeneratePayload\" value=\"applicantName=${application.getApplicant().getName()}\" />\n          <camunda:property name=\"simInitBusinessKey\" value=\"A-${g.format1(&#39;%05d&#39;, g.uniqueNumber())}\" />\n          <camunda:property name=\"simGeneratePayload\" value=\"category=${application.getCategory()}\" />\n          <camunda:property name=\"simKeepListeners\" value=\"true\" />\n        </camunda:properties>\n        <camunda:executionListener delegateExpression=\"${corporationMapper}\" event=\"start\" />\n      </bpmn2:extensionElements>\n      <bpmn2:outgoing>SequenceFlow_6</bpmn2:outgoing>\n    </bpmn2:startEvent>\n    <bpmn2:exclusiveGateway id=\"ExclusiveGateway_2\" name=\"Decision?\">\n      <bpmn2:extensionElements>\n        <camunda:properties>\n          <camunda:property name=\"simulateKeepImplementation\" value=\"true\" />\n        </camunda:properties>\n      </bpmn2:extensionElements>\n      <bpmn2:incoming>SequenceFlow_1h4oxvl</bpmn2:incoming>\n      <bpmn2:outgoing>SequenceFlow_8</bpmn2:outgoing>\n      <bpmn2:outgoing>SequenceFlow_12</bpmn2:outgoing>\n    </bpmn2:exclusiveGateway>\n    <bpmn2:endEvent id=\"EndEvent_ApplicationIssued\" name=\"Application&#10; issued\">\n      <bpmn2:extensionElements>\n        <camunda:properties>\n          <camunda:property name=\"KPI-Ratio\" value=\"Policed\" />\n        </camunda:properties>\n      </bpmn2:extensionElements>\n      <bpmn2:incoming>SequenceFlow_11</bpmn2:incoming>\n    </bpmn2:endEvent>\n    <bpmn2:sendTask id=\"SendTask_SendPolicy\" name=\"Send confirmation\" camunda:async=\"true\" camunda:type=\"external\" camunda:topic=\"emailService\">\n      <bpmn2:extensionElements>\n        <camunda:inputOutput>\n          <camunda:inputParameter name=\"mailBody\">\n            <camunda:script scriptFormat=\"freemarker\">Dear ${application.applicant.name}.\n\nWe happily inform you that your request was accepted.\n\nPlease check the key facts: \n- Application Number: ${application.applicationNumber}\n- Premium per anno: ${application.premium}\n- Product: ${application.product}\n\nKind regards,\n${application.corporation}.</camunda:script>\n          </camunda:inputParameter>\n          <camunda:inputParameter name=\"mailSubject\">Your request was issued</camunda:inputParameter>\n        </camunda:inputOutput>\n        <camunda:properties>\n          <camunda:property name=\"simNextFire\" value=\"${g.now()}\" />\n        </camunda:properties>\n      </bpmn2:extensionElements>\n      <bpmn2:incoming>SequenceFlow_10</bpmn2:incoming>\n      <bpmn2:outgoing>SequenceFlow_11</bpmn2:outgoing>\n    </bpmn2:sendTask>\n    <bpmn2:serviceTask id=\"ServiceTask_DeliverPolicy\" name=\"Deliver confirmation\" camunda:delegateExpression=\"${issuePolicyAdapter}\">\n      <bpmn2:extensionElements>\n        <camunda:properties>\n          <camunda:property name=\"simCallRealImplementation\" value=\"true\" />\n        </camunda:properties>\n      </bpmn2:extensionElements>\n      <bpmn2:incoming>SequenceFlow_8</bpmn2:incoming>\n      <bpmn2:incoming>SequenceFlow_7</bpmn2:incoming>\n      <bpmn2:outgoing>SequenceFlow_10</bpmn2:outgoing>\n    </bpmn2:serviceTask>\n    <bpmn2:businessRuleTask id=\"BusinessRuleTask_CheckApplicationAutomatically\" name=\"Check application automatically\" camunda:resultVariable=\"riskDMNresult\" camunda:decisionRef=\"checkRisk_en\">\n      <bpmn2:extensionElements>\n        <camunda:executionListener class=\"com.camunda.demo.customeronboarding.adapter.MapDmnResult\" event=\"end\" />\n        <camunda:properties>\n          <camunda:property name=\"simCallRealImplementation\" value=\"true\" />\n          <camunda:property name=\"simKeepListeners\" value=\"true\" />\n        </camunda:properties>\n        <camunda:executionListener event=\"start\">\n          <camunda:script scriptFormat=\"javascript\">if(execution.hasVariable(\"riskDMNresult\")) {\n      execution.removeVariable(\"riskDMNresult\");\n    }</camunda:script>\n        </camunda:executionListener>\n      </bpmn2:extensionElements>\n      <bpmn2:incoming>SequenceFlow_1gd6p37</bpmn2:incoming>\n      <bpmn2:outgoing>SequenceFlow_2</bpmn2:outgoing>\n    </bpmn2:businessRuleTask>\n    <bpmn2:exclusiveGateway id=\"ExclusiveGatewayPruefung\" name=\"Risk?\">\n      <bpmn2:extensionElements>\n        <camunda:properties>\n          <camunda:property name=\"simulateKeepImplementation\" value=\"true\" />\n        </camunda:properties>\n      </bpmn2:extensionElements>\n      <bpmn2:incoming>SequenceFlow_2</bpmn2:incoming>\n      <bpmn2:outgoing>SequenceFlow_7</bpmn2:outgoing>\n      <bpmn2:outgoing>SequenceFlow_16</bpmn2:outgoing>\n      <bpmn2:outgoing>SequenceFlow_3</bpmn2:outgoing>\n    </bpmn2:exclusiveGateway>\n    <bpmn2:endEvent id=\"EndEvent_DecisionAccelerated\" name=\"Decision accelerated\">\n      <bpmn2:incoming>SequenceFlow_5</bpmn2:incoming>\n    </bpmn2:endEvent>\n    <bpmn2:endEvent id=\"EndEvent_ApplicationRejected\" name=\"Application &#10;rejected\">\n      <bpmn2:extensionElements>\n        <camunda:properties>\n          <camunda:property name=\"KPI-Ratio\" value=\"Rejected\" />\n        </camunda:properties>\n      </bpmn2:extensionElements>\n      <bpmn2:incoming>SequenceFlow_13</bpmn2:incoming>\n    </bpmn2:endEvent>\n    <bpmn2:serviceTask id=\"ServiceTask_RejectPolicy\" name=\"Reject application\" camunda:delegateExpression=\"${loggerDelegate}\">\n      <bpmn2:incoming>SequenceFlow_12</bpmn2:incoming>\n      <bpmn2:incoming>SequenceFlow_16</bpmn2:incoming>\n      <bpmn2:outgoing>SequenceFlow_01vh1zw</bpmn2:outgoing>\n    </bpmn2:serviceTask>\n    <bpmn2:sendTask id=\"SendTask_SendRejection\" name=\"Send rejection\" camunda:async=\"true\" camunda:type=\"external\" camunda:topic=\"emailService\">\n      <bpmn2:extensionElements>\n        <camunda:inputOutput>\n          <camunda:inputParameter name=\"mailBody\">\n            <camunda:script scriptFormat=\"freemarker\">Dear ${application.applicant.name}.\n\nUnfortunately we have to inform you that we cannot issue the desired request.\n\nKind regards,\n${application.corporation}.</camunda:script>\n          </camunda:inputParameter>\n          <camunda:inputParameter name=\"mailSubject\">Request rejected</camunda:inputParameter>\n        </camunda:inputOutput>\n        <camunda:properties>\n          <camunda:property name=\"simNextFire\" value=\"${g.now()}\" />\n        </camunda:properties>\n      </bpmn2:extensionElements>\n      <bpmn2:incoming>SequenceFlow_01vh1zw</bpmn2:incoming>\n      <bpmn2:outgoing>SequenceFlow_13</bpmn2:outgoing>\n    </bpmn2:sendTask>\n    <bpmn2:userTask id=\"UserTask_DecideOnApplication\" name=\"Decide on application\" camunda:asyncAfter=\"true\" camunda:formKey=\"embedded:app:forms/decide_en.html\" camunda:candidateGroups=\"clerk\" camunda:dueDate=\"${dateTime().plusDays(1).toDate()}\">\n      <bpmn2:extensionElements>\n        <camunda:properties>\n          <camunda:property name=\"simGeneratePayload\" value=\"approved=${g.randBool(0.75)}\" />\n          <camunda:property name=\"simNextFire\" value=\"${g.nowPlusHours(g.uniformInt(g.exponentialBySimulationTime(1,48,3),72))}\" />\n          <camunda:property name=\"simKeepListeners\" value=\"true\" />\n          <camunda:property name=\"simGeneratePayload\" value=\"requestedDocumentDescription=someDocument\" />\n        </camunda:properties>\n        <camunda:taskListener event=\"create\">\n          <camunda:script scriptFormat=\"JavaScript\">task.setVariable('documentReferenceId', String(Date.now()));\n\nvar lastAssignee = task.getVariable('lastAssignee');\nif (lastAssignee != null) {\n  task.setAssignee(lastAssignee);\n}</camunda:script>\n        </camunda:taskListener>\n        <camunda:taskListener event=\"assignment\">\n          <camunda:script scriptFormat=\"JavaScript\">task.setVariable('lastAssignee', task.getAssignee());</camunda:script>\n        </camunda:taskListener>\n      </bpmn2:extensionElements>\n      <bpmn2:incoming>SequenceFlow_1te4zir</bpmn2:incoming>\n      <bpmn2:incoming>SequenceFlow_3</bpmn2:incoming>\n      <bpmn2:outgoing>SequenceFlow_1h4oxvl</bpmn2:outgoing>\n    </bpmn2:userTask>\n    <bpmn2:callActivity id=\"CallActivity_RequestDocument\" name=\"Request document\" calledElement=\"requestDocument_en\">\n      <bpmn2:extensionElements>\n        <camunda:in source=\"application\" target=\"application\" />\n        <camunda:in source=\"requestedDocumentDescription\" target=\"requestedDocumentDescription\" />\n        <camunda:out source=\"document\" target=\"document\" />\n        <camunda:executionListener event=\"end\">\n          <camunda:script scriptFormat=\"JavaScript\">var typedDocument = execution.getVariableTyped('document');\nvar oldDocuments = execution.getVariable('documents');\n\nif (typedDocument != null &amp;&amp; typedDocument.getValue() != null) {\n  execution.setVariable('document_' + documentReferenceId, typedDocument);\n\n  var json = S('{}');\n  json.prop('description', requestedDocumentDescription);\n  json.prop('filename', typedDocument.getFilename());\n\n  var documents = S(oldDocuments != null ? oldDocuments : '{}');\n  documents.prop(documentReferenceId, json);\n  execution.setVariable('documents', documents);\n}</camunda:script>\n        </camunda:executionListener>\n        <camunda:in source=\"documentReferenceId\" target=\"documentReferenceId\" />\n        <camunda:in source=\"uiBaseUrl\" target=\"uiBaseUrl\" />\n        <camunda:properties>\n          <camunda:property name=\"simKeepListeners\" value=\"true\" />\n        </camunda:properties>\n        <camunda:in businessKey=\"#{execution.processBusinessKey}\" />\n      </bpmn2:extensionElements>\n      <bpmn2:incoming>SequenceFlow_0lwkj1f</bpmn2:incoming>\n      <bpmn2:outgoing>SequenceFlow_1te4zir</bpmn2:outgoing>\n    </bpmn2:callActivity>\n    <bpmn2:userTask id=\"UserTask_AccelerateDecision\" name=\"Accelerate decision making\" camunda:candidateGroups=\"teamlead\">\n      <bpmn2:extensionElements>\n        <camunda:properties>\n          <camunda:property name=\"simNextComplete\" value=\"${g.nowPlusHours(g.uniformInt(2,10))}\" />\n        </camunda:properties>\n      </bpmn2:extensionElements>\n      <bpmn2:incoming>SequenceFlow_0o6gf8v</bpmn2:incoming>\n      <bpmn2:outgoing>SequenceFlow_5</bpmn2:outgoing>\n    </bpmn2:userTask>\n    <bpmn2:serviceTask id=\"ServiceTask_0tixwo5\" name=\"Get credit score\" camunda:delegateExpression=\"${calculateScore}\">\n      <bpmn2:extensionElements>\n        <camunda:properties>\n          <camunda:property name=\"simCallRealImplementation\" value=\"true\" />\n        </camunda:properties>\n      </bpmn2:extensionElements>\n      <bpmn2:incoming>SequenceFlow_6</bpmn2:incoming>\n      <bpmn2:outgoing>SequenceFlow_1gd6p37</bpmn2:outgoing>\n    </bpmn2:serviceTask>\n    <bpmn2:boundaryEvent id=\"BoundaryEvent_1i1spfe\" name=\"document needed\" attachedToRef=\"UserTask_DecideOnApplication\">\n      <bpmn2:extensionElements>\n        <camunda:properties>\n          <camunda:property name=\"simNextFire\" value=\"${generator.nowPlusHours(generator.uniformInt(24,72))}\" />\n          <camunda:property name=\"simGeneratePayload\" value=\"requestedDocumentDescription=&#34;very important document&#34;\" />\n          <camunda:property name=\"simGeneratePayload\" value=\"uiBaseUrl=&#34;camunda.com&#34;\" />\n          <camunda:property name=\"simGeneratePayload\" value=\"documentReferenceId=&#34;123456&#34;\" />\n        </camunda:properties>\n      </bpmn2:extensionElements>\n      <bpmn2:outgoing>SequenceFlow_0lwkj1f</bpmn2:outgoing>\n      <bpmn2:messageEventDefinition messageRef=\"Message_0fvpzfg\" />\n    </bpmn2:boundaryEvent>\n    <bpmn2:boundaryEvent id=\"BoundaryEvent_0mcjys5\" name=\"after 2 days\" cancelActivity=\"false\" attachedToRef=\"UserTask_DecideOnApplication\">\n      <bpmn2:outgoing>SequenceFlow_0o6gf8v</bpmn2:outgoing>\n      <bpmn2:timerEventDefinition>\n        <bpmn2:timeDuration xsi:type=\"bpmn2:tFormalExpression\">P2D</bpmn2:timeDuration>\n      </bpmn2:timerEventDefinition>\n    </bpmn2:boundaryEvent>\n    <bpmn2:sequenceFlow id=\"SequenceFlow_1gd6p37\" sourceRef=\"ServiceTask_0tixwo5\" targetRef=\"BusinessRuleTask_CheckApplicationAutomatically\" />\n    <bpmn2:sequenceFlow id=\"SequenceFlow_0o6gf8v\" sourceRef=\"BoundaryEvent_0mcjys5\" targetRef=\"UserTask_AccelerateDecision\" />\n    <bpmn2:sequenceFlow id=\"SequenceFlow_0lwkj1f\" sourceRef=\"BoundaryEvent_1i1spfe\" targetRef=\"CallActivity_RequestDocument\" />\n    <bpmn2:sequenceFlow id=\"SequenceFlow_1te4zir\" sourceRef=\"CallActivity_RequestDocument\" targetRef=\"UserTask_DecideOnApplication\" />\n    <bpmn2:sequenceFlow id=\"SequenceFlow_01vh1zw\" sourceRef=\"ServiceTask_RejectPolicy\" targetRef=\"SendTask_SendRejection\" />\n    <bpmn2:sequenceFlow id=\"SequenceFlow_13\" name=\"\" sourceRef=\"SendTask_SendRejection\" targetRef=\"EndEvent_ApplicationRejected\" />\n    <bpmn2:sequenceFlow id=\"SequenceFlow_5\" name=\"\" sourceRef=\"UserTask_AccelerateDecision\" targetRef=\"EndEvent_DecisionAccelerated\" />\n    <bpmn2:sequenceFlow id=\"SequenceFlow_16\" name=\"red &#10;(severe risk)\" sourceRef=\"ExclusiveGatewayPruefung\" targetRef=\"ServiceTask_RejectPolicy\">\n      <bpmn2:conditionExpression xsi:type=\"bpmn2:tFormalExpression\">#{riskLevel == 'red'}</bpmn2:conditionExpression>\n    </bpmn2:sequenceFlow>\n    <bpmn2:sequenceFlow id=\"SequenceFlow_3\" name=\"yellow&#10;(moderate risk)&#10;\" sourceRef=\"ExclusiveGatewayPruefung\" targetRef=\"UserTask_DecideOnApplication\">\n      <bpmn2:conditionExpression xsi:type=\"bpmn2:tFormalExpression\">#{riskLevel == 'yellow'}</bpmn2:conditionExpression>\n    </bpmn2:sequenceFlow>\n    <bpmn2:sequenceFlow id=\"SequenceFlow_2\" name=\"\" sourceRef=\"BusinessRuleTask_CheckApplicationAutomatically\" targetRef=\"ExclusiveGatewayPruefung\" />\n    <bpmn2:sequenceFlow id=\"SequenceFlow_7\" name=\"green&#10;(no risk)\" sourceRef=\"ExclusiveGatewayPruefung\" targetRef=\"ServiceTask_DeliverPolicy\">\n      <bpmn2:conditionExpression xsi:type=\"bpmn2:tFormalExpression\">#{riskLevel == 'green'}</bpmn2:conditionExpression>\n    </bpmn2:sequenceFlow>\n    <bpmn2:sequenceFlow id=\"SequenceFlow_10\" name=\"\" sourceRef=\"ServiceTask_DeliverPolicy\" targetRef=\"SendTask_SendPolicy\" />\n    <bpmn2:sequenceFlow id=\"SequenceFlow_11\" name=\"\" sourceRef=\"SendTask_SendPolicy\" targetRef=\"EndEvent_ApplicationIssued\" />\n    <bpmn2:sequenceFlow id=\"SequenceFlow_8\" name=\"application accepted\" camunda:modelerTemplate=\"com.camunda.demo.environment.probability\" sourceRef=\"ExclusiveGateway_2\" targetRef=\"ServiceTask_DeliverPolicy\">\n      <bpmn2:conditionExpression xsi:type=\"bpmn2:tFormalExpression\">#{approved}</bpmn2:conditionExpression>\n    </bpmn2:sequenceFlow>\n    <bpmn2:sequenceFlow id=\"SequenceFlow_12\" name=\"application declined\" sourceRef=\"ExclusiveGateway_2\" targetRef=\"ServiceTask_RejectPolicy\">\n      <bpmn2:conditionExpression xsi:type=\"bpmn2:tFormalExpression\">#{not approved}</bpmn2:conditionExpression>\n    </bpmn2:sequenceFlow>\n    <bpmn2:sequenceFlow id=\"SequenceFlow_1h4oxvl\" sourceRef=\"UserTask_DecideOnApplication\" targetRef=\"ExclusiveGateway_2\" />\n    <bpmn2:sequenceFlow id=\"SequenceFlow_6\" name=\"\" sourceRef=\"StartEvent_1\" targetRef=\"ServiceTask_0tixwo5\" />\n  </bpmn2:process>\n  <bpmn2:message id=\"Message_0fvpzfg\" name=\"Message_DocumentRequested\" />\n  <bpmndi:BPMNDiagram id=\"BPMNDiagram_1\">\n    <bpmndi:BPMNPlane id=\"BPMNPlane_1\" bpmnElement=\"Collaboration_1u35ano\">\n      <bpmndi:BPMNShape id=\"Participant_0477s11_di\" bpmnElement=\"Participant_0477s11\" isHorizontal=\"true\">\n        <dc:Bounds x=\"156\" y=\"71\" width=\"1360\" height=\"563\" />\n      </bpmndi:BPMNShape>\n      <bpmndi:BPMNShape id=\"_BPMNShape_StartEvent_4\" bpmnElement=\"StartEvent_1\">\n        <dc:Bounds x=\"206\" y=\"113\" width=\"36\" height=\"36\" />\n        <bpmndi:BPMNLabel>\n          <dc:Bounds x=\"199\" y=\"154\" width=\"53\" height=\"27\" />\n        </bpmndi:BPMNLabel>\n      </bpmndi:BPMNShape>\n      <bpmndi:BPMNShape id=\"_BPMNShape_SendTask_2\" bpmnElement=\"SendTask_SendPolicy\">\n        <dc:Bounds x=\"1290\" y=\"91\" width=\"100\" height=\"80\" />\n      </bpmndi:BPMNShape>\n      <bpmndi:BPMNShape id=\"_BPMNShape_ServiceTask_3\" bpmnElement=\"ServiceTask_DeliverPolicy\">\n        <dc:Bounds x=\"1139\" y=\"91\" width=\"100\" height=\"80\" />\n      </bpmndi:BPMNShape>\n      <bpmndi:BPMNShape id=\"_BPMNShape_EndEvent_2\" bpmnElement=\"EndEvent_ApplicationIssued\">\n        <dc:Bounds x=\"1445\" y=\"113\" width=\"36\" height=\"36\" />\n        <bpmndi:BPMNLabel>\n          <dc:Bounds x=\"1438\" y=\"154\" width=\"53\" height=\"27\" />\n        </bpmndi:BPMNLabel>\n      </bpmndi:BPMNShape>\n      <bpmndi:BPMNShape id=\"_BPMNShape_ExclusiveGateway_2\" bpmnElement=\"ExclusiveGatewayPruefung\" isMarkerVisible=\"true\">\n        <dc:Bounds x=\"556\" y=\"106\" width=\"50\" height=\"50\" />\n        <bpmndi:BPMNLabel>\n          <dc:Bounds x=\"567\" y=\"81\" width=\"28\" height=\"14\" />\n        </bpmndi:BPMNLabel>\n      </bpmndi:BPMNShape>\n      <bpmndi:BPMNShape id=\"_BPMNShape_BusinessRuleTask_2\" bpmnElement=\"BusinessRuleTask_CheckApplicationAutomatically\">\n        <dc:Bounds x=\"421\" y=\"91\" width=\"100\" height=\"80\" />\n      </bpmndi:BPMNShape>\n      <bpmndi:BPMNShape id=\"_BPMNShape_ExclusiveGateway_3\" bpmnElement=\"ExclusiveGateway_2\" isMarkerVisible=\"true\">\n        <dc:Bounds x=\"1055\" y=\"302\" width=\"50\" height=\"50\" />\n        <bpmndi:BPMNLabel>\n          <dc:Bounds x=\"1129\" y=\"317\" width=\"49\" height=\"14\" />\n        </bpmndi:BPMNLabel>\n      </bpmndi:BPMNShape>\n      <bpmndi:BPMNShape id=\"_BPMNShape_SendTask_3\" bpmnElement=\"SendTask_SendRejection\">\n        <dc:Bounds x=\"1290\" y=\"534\" width=\"100\" height=\"80\" />\n      </bpmndi:BPMNShape>\n      <bpmndi:BPMNShape id=\"_BPMNShape_EndEvent_3\" bpmnElement=\"EndEvent_ApplicationRejected\">\n        <dc:Bounds x=\"1445\" y=\"556\" width=\"36\" height=\"36\" />\n        <bpmndi:BPMNLabel>\n          <dc:Bounds x=\"1436\" y=\"597\" width=\"56\" height=\"27\" />\n        </bpmndi:BPMNLabel>\n      </bpmndi:BPMNShape>\n      <bpmndi:BPMNEdge id=\"BPMNEdge_SequenceFlow_6\" bpmnElement=\"SequenceFlow_6\" sourceElement=\"_BPMNShape_StartEvent_4\" targetElement=\"ServiceTask_0tixwo5_di\">\n        <di:waypoint x=\"242\" y=\"131\" />\n        <di:waypoint x=\"276\" y=\"131\" />\n        <bpmndi:BPMNLabel>\n          <dc:Bounds x=\"125\" y=\"131\" width=\"90\" height=\"6\" />\n        </bpmndi:BPMNLabel>\n      </bpmndi:BPMNEdge>\n      <bpmndi:BPMNEdge id=\"BPMNEdge_SequenceFlow_10\" bpmnElement=\"SequenceFlow_10\" sourceElement=\"_BPMNShape_ServiceTask_3\" targetElement=\"_BPMNShape_SendTask_2\">\n        <di:waypoint x=\"1239\" y=\"131\" />\n        <di:waypoint x=\"1290\" y=\"131\" />\n        <bpmndi:BPMNLabel>\n          <dc:Bounds x=\"999\" y=\"133\" width=\"90\" height=\"6\" />\n        </bpmndi:BPMNLabel>\n      </bpmndi:BPMNEdge>\n      <bpmndi:BPMNEdge id=\"BPMNEdge_SequenceFlow_11\" bpmnElement=\"SequenceFlow_11\" sourceElement=\"_BPMNShape_SendTask_2\" targetElement=\"_BPMNShape_EndEvent_2\">\n        <di:waypoint x=\"1390\" y=\"131\" />\n        <di:waypoint x=\"1445\" y=\"131\" />\n        <bpmndi:BPMNLabel>\n          <dc:Bounds x=\"1159\" y=\"143\" width=\"90\" height=\"6\" />\n        </bpmndi:BPMNLabel>\n      </bpmndi:BPMNEdge>\n      <bpmndi:BPMNEdge id=\"BPMNEdge_SequenceFlow_2\" bpmnElement=\"SequenceFlow_2\" sourceElement=\"_BPMNShape_BusinessRuleTask_2\" targetElement=\"_BPMNShape_ExclusiveGateway_2\">\n        <di:waypoint x=\"521\" y=\"131\" />\n        <di:waypoint x=\"556\" y=\"131\" />\n        <bpmndi:BPMNLabel>\n          <dc:Bounds x=\"301\" y=\"131\" width=\"90\" height=\"6\" />\n        </bpmndi:BPMNLabel>\n      </bpmndi:BPMNEdge>\n      <bpmndi:BPMNEdge id=\"BPMNEdge_SequenceFlow_7\" bpmnElement=\"SequenceFlow_7\" sourceElement=\"_BPMNShape_ExclusiveGateway_2\">\n        <di:waypoint x=\"606\" y=\"131\" />\n        <di:waypoint x=\"1139\" y=\"131\" />\n        <bpmndi:BPMNLabel>\n          <dc:Bounds x=\"604\" y=\"136\" width=\"41\" height=\"27\" />\n        </bpmndi:BPMNLabel>\n      </bpmndi:BPMNEdge>\n      <bpmndi:BPMNEdge id=\"BPMNEdge_SequenceFlow_16\" bpmnElement=\"SequenceFlow_16\" sourceElement=\"_BPMNShape_ExclusiveGateway_2\">\n        <di:waypoint x=\"581\" y=\"156\" />\n        <di:waypoint x=\"581\" y=\"574\" />\n        <di:waypoint x=\"1139\" y=\"574\" />\n        <bpmndi:BPMNLabel>\n          <dc:Bounds x=\"596\" y=\"542\" width=\"61\" height=\"27\" />\n        </bpmndi:BPMNLabel>\n      </bpmndi:BPMNEdge>\n      <bpmndi:BPMNEdge id=\"BPMNEdge_SequenceFlow_8\" bpmnElement=\"SequenceFlow_8\" sourceElement=\"_BPMNShape_ExclusiveGateway_3\">\n        <di:waypoint x=\"1080\" y=\"302\" />\n        <di:waypoint x=\"1080\" y=\"149\" />\n        <di:waypoint x=\"1139\" y=\"149\" />\n        <bpmndi:BPMNLabel>\n          <dc:Bounds x=\"1096\" y=\"255\" width=\"53\" height=\"27\" />\n        </bpmndi:BPMNLabel>\n      </bpmndi:BPMNEdge>\n      <bpmndi:BPMNEdge id=\"BPMNEdge_SequenceFlow_12\" bpmnElement=\"SequenceFlow_12\" sourceElement=\"_BPMNShape_ExclusiveGateway_3\">\n        <di:waypoint x=\"1080\" y=\"352\" />\n        <di:waypoint x=\"1080\" y=\"555\" />\n        <di:waypoint x=\"1139\" y=\"555\" />\n        <bpmndi:BPMNLabel>\n          <dc:Bounds x=\"1090\" y=\"364\" width=\"53\" height=\"27\" />\n        </bpmndi:BPMNLabel>\n      </bpmndi:BPMNEdge>\n      <bpmndi:BPMNEdge id=\"BPMNEdge_SequenceFlow_13\" bpmnElement=\"SequenceFlow_13\" sourceElement=\"_BPMNShape_SendTask_3\" targetElement=\"_BPMNShape_EndEvent_3\">\n        <di:waypoint x=\"1390\" y=\"574\" />\n        <di:waypoint x=\"1445\" y=\"574\" />\n        <bpmndi:BPMNLabel>\n          <dc:Bounds x=\"1054\" y=\"575\" width=\"90\" height=\"6\" />\n        </bpmndi:BPMNLabel>\n      </bpmndi:BPMNEdge>\n      <bpmndi:BPMNShape id=\"ServiceTask_0o3o39j_di\" bpmnElement=\"ServiceTask_RejectPolicy\">\n        <dc:Bounds x=\"1139\" y=\"534\" width=\"100\" height=\"80\" />\n      </bpmndi:BPMNShape>\n      <bpmndi:BPMNEdge id=\"SequenceFlow_01vh1zw_di\" bpmnElement=\"SequenceFlow_01vh1zw\">\n        <di:waypoint x=\"1239\" y=\"574\" />\n        <di:waypoint x=\"1290\" y=\"574\" />\n        <bpmndi:BPMNLabel>\n          <dc:Bounds x=\"1009\" y=\"564\" width=\"90\" height=\"20\" />\n        </bpmndi:BPMNLabel>\n      </bpmndi:BPMNEdge>\n      <bpmndi:BPMNEdge id=\"BPMNEdge_SequenceFlow_3\" bpmnElement=\"SequenceFlow_3\">\n        <di:waypoint x=\"581\" y=\"156\" />\n        <di:waypoint x=\"581\" y=\"313\" />\n        <di:waypoint x=\"717\" y=\"313\" />\n        <bpmndi:BPMNLabel>\n          <dc:Bounds x=\"593\" y=\"280\" width=\"75\" height=\"40\" />\n        </bpmndi:BPMNLabel>\n      </bpmndi:BPMNEdge>\n      <bpmndi:BPMNShape id=\"_BPMNShape_EndEvent_28\" bpmnElement=\"EndEvent_DecisionAccelerated\">\n        <dc:Bounds x=\"995\" y=\"188\" width=\"36\" height=\"36\" />\n        <bpmndi:BPMNLabel>\n          <dc:Bounds x=\"986\" y=\"229\" width=\"57\" height=\"27\" />\n        </bpmndi:BPMNLabel>\n      </bpmndi:BPMNShape>\n      <bpmndi:BPMNShape id=\"_BPMNShape_UserTask_6\" bpmnElement=\"UserTask_AccelerateDecision\">\n        <dc:Bounds x=\"867\" y=\"166\" width=\"100\" height=\"80\" />\n      </bpmndi:BPMNShape>\n      <bpmndi:BPMNEdge id=\"BPMNEdge_SequenceFlow_5\" bpmnElement=\"SequenceFlow_5\">\n        <di:waypoint x=\"967\" y=\"206\" />\n        <di:waypoint x=\"995\" y=\"206\" />\n        <bpmndi:BPMNLabel>\n          <dc:Bounds x=\"725\" y=\"188\" width=\"90\" height=\"6\" />\n        </bpmndi:BPMNLabel>\n      </bpmndi:BPMNEdge>\n      <bpmndi:BPMNShape id=\"UserTask_1b9zsmd_di\" bpmnElement=\"UserTask_DecideOnApplication\">\n        <dc:Bounds x=\"717\" y=\"287\" width=\"100\" height=\"80\" />\n      </bpmndi:BPMNShape>\n      <bpmndi:BPMNShape id=\"CallActivity_01bed3n_di\" bpmnElement=\"CallActivity_RequestDocument\">\n        <dc:Bounds x=\"867\" y=\"400\" width=\"100\" height=\"80\" />\n      </bpmndi:BPMNShape>\n      <bpmndi:BPMNShape id=\"BoundaryEvent_09ag0rf_di\" bpmnElement=\"BoundaryEvent_1i1spfe\">\n        <dc:Bounds x=\"772\" y=\"349\" width=\"36\" height=\"36\" />\n        <bpmndi:BPMNLabel>\n          <dc:Bounds x=\"786\" y=\"385\" width=\"89\" height=\"14\" />\n        </bpmndi:BPMNLabel>\n      </bpmndi:BPMNShape>\n      <bpmndi:BPMNEdge id=\"SequenceFlow_0lwkj1f_di\" bpmnElement=\"SequenceFlow_0lwkj1f\">\n        <di:waypoint x=\"790\" y=\"385\" />\n        <di:waypoint x=\"790\" y=\"440\" />\n        <di:waypoint x=\"867\" y=\"440\" />\n        <bpmndi:BPMNLabel>\n          <dc:Bounds x=\"549\" y=\"406\" width=\"90\" height=\"13\" />\n        </bpmndi:BPMNLabel>\n      </bpmndi:BPMNEdge>\n      <bpmndi:BPMNEdge id=\"SequenceFlow_1te4zir_di\" bpmnElement=\"SequenceFlow_1te4zir\">\n        <di:waypoint x=\"967\" y=\"440\" />\n        <di:waypoint x=\"996\" y=\"440\" />\n        <di:waypoint x=\"996\" y=\"505\" />\n        <di:waypoint x=\"656\" y=\"505\" />\n        <di:waypoint x=\"656\" y=\"341\" />\n        <di:waypoint x=\"717\" y=\"341\" />\n        <bpmndi:BPMNLabel>\n          <dc:Bounds x=\"570\" y=\"484\" width=\"90\" height=\"13\" />\n        </bpmndi:BPMNLabel>\n      </bpmndi:BPMNEdge>\n      <bpmndi:BPMNEdge id=\"SequenceFlow_0o6gf8v_di\" bpmnElement=\"SequenceFlow_0o6gf8v\">\n        <di:waypoint x=\"790\" y=\"269\" />\n        <di:waypoint x=\"790\" y=\"206\" />\n        <di:waypoint x=\"867\" y=\"206\" />\n        <bpmndi:BPMNLabel>\n          <dc:Bounds x=\"549\" y=\"231\" width=\"90\" height=\"13\" />\n        </bpmndi:BPMNLabel>\n      </bpmndi:BPMNEdge>\n      <bpmndi:BPMNEdge id=\"SequenceFlow_1h4oxvl_di\" bpmnElement=\"SequenceFlow_1h4oxvl\">\n        <di:waypoint x=\"817\" y=\"327\" />\n        <di:waypoint x=\"1055\" y=\"327\" />\n        <bpmndi:BPMNLabel>\n          <dc:Bounds x=\"680\" y=\"306\" width=\"90\" height=\"13\" />\n        </bpmndi:BPMNLabel>\n      </bpmndi:BPMNEdge>\n      <bpmndi:BPMNShape id=\"BoundaryEvent_138xipm_di\" bpmnElement=\"BoundaryEvent_0mcjys5\">\n        <dc:Bounds x=\"772\" y=\"269\" width=\"36\" height=\"36\" />\n        <bpmndi:BPMNLabel>\n          <dc:Bounds x=\"811\" y=\"254\" width=\"58\" height=\"14\" />\n        </bpmndi:BPMNLabel>\n      </bpmndi:BPMNShape>\n      <bpmndi:BPMNShape id=\"ServiceTask_0tixwo5_di\" bpmnElement=\"ServiceTask_0tixwo5\">\n        <dc:Bounds x=\"276\" y=\"91\" width=\"100\" height=\"80\" />\n      </bpmndi:BPMNShape>\n      <bpmndi:BPMNEdge id=\"SequenceFlow_1gd6p37_di\" bpmnElement=\"SequenceFlow_1gd6p37\">\n        <di:waypoint x=\"376\" y=\"131\" />\n        <di:waypoint x=\"421\" y=\"131\" />\n      </bpmndi:BPMNEdge>\n    </bpmndi:BPMNPlane>\n  </bpmndi:BPMNDiagram>\n</bpmn2:definitions>",[m
[32m+[m[32m  "bpmn20Xml": "<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<bpmn2:definitions xmlns:bpmn2=\"http://www.omg.org/spec/BPMN/20100524/MODEL\" xmlns:camunda=\"http://camunda.org/schema/1.0/bpmn\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns:bpmndi=\"http://www.omg.org/spec/BPMN/20100524/DI\" xmlns:di=\"http://www.omg.org/spec/DD/20100524/DI\" xmlns:dc=\"http://www.omg.org/spec/DD/20100524/DC\" id=\"_5SVkEIXnEeSmwfgVk-ryvQ\" targetNamespace=\"http://camunda.org/schema/1.0/bpmn\" exporter=\"Camunda Modeler\" exporterVersion=\"3.6.0\" xsi:schemaLocation=\"http://www.omg.org/spec/BPMN/20100524/MODEL BPMN20.xsd\">\n  <bpmn2:collaboration id=\"Collaboration_1u35ano\">\n    <bpmn2:participant id=\"Participant_0477s11\" name=\"Camunda Customer Onboarding Demo\" processRef=\"customer_onboarding_en\" />\n  </bpmn2:collaboration>\n  <bpmn2:process id=\"customer_onboarding_en\" name=\"Customer Onboarding\" isExecutable=\"true\">\n    <bpmn2:startEvent id=\"StartEvent_1\" name=\"Application received\" camunda:asyncAfter=\"true\" camunda:formKey=\"app:camunda/online/index.html\">\n      <bpmn2:extensionElements>\n        <camunda:properties>\n          <camunda:property name=\"simNextFire\" value=\"${g.timesPerDay(&#34;onboard&#34;,&#34;07:30&#34;,&#34;22:30&#34;, g.linearBySimulationTime(5,15))}\" />\n          <camunda:property name=\"simInitPayload\" value=\"application=${g.json(generator.newApplication(false))}\" />\n          <camunda:property name=\"simGeneratePayload\" value=\"applicationNumber=${application.getApplicationNumber()}\" />\n          <camunda:property name=\"simGeneratePayload\" value=\"applicantName=${application.getApplicant().getName()}\" />\n          <camunda:property name=\"simInitBusinessKey\" value=\"A-${g.format1(&#39;%05d&#39;, g.uniqueNumber())}\" />\n          <camunda:property name=\"simGeneratePayload\" value=\"category=${application.getCategory()}\" />\n          <camunda:property name=\"simKeepListeners\" value=\"true\" />\n        </camunda:properties>\n        <camunda:executionListener delegateExpression=\"${corporationMapper}\" event=\"start\" />\n      </bpmn2:extensionElements>\n      <bpmn2:outgoing>SequenceFlow_6</bpmn2:outgoing>\n    </bpmn2:startEvent>\n    <bpmn2:exclusiveGateway id=\"ExclusiveGateway_2\" name=\"Decision?\">\n      <bpmn2:extensionElements>\n        <camunda:properties>\n          <camunda:property name=\"simulateKeepImplementation\" value=\"true\" />\n        </camunda:properties>\n      </bpmn2:extensionElements>\n      <bpmn2:incoming>SequenceFlow_1h4oxvl</bpmn2:incoming>\n      <bpmn2:outgoing>SequenceFlow_8</bpmn2:outgoing>\n      <bpmn2:outgoing>SequenceFlow_12</bpmn2:outgoing>\n    </bpmn2:exclusiveGateway>\n    <bpmn2:endEvent id=\"EndEvent_ApplicationIssued\" name=\"Application&#10; issued\">\n      <bpmn2:extensionElements>\n        <camunda:properties>\n          <camunda:property name=\"KPI-Ratio\" value=\"Policed\" />\n        </camunda:properties>\n      </bpmn2:extensionElements>\n      <bpmn2:incoming>SequenceFlow_11</bpmn2:incoming>\n    </bpmn2:endEvent>\n    <bpmn2:sendTask id=\"SendTask_SendPolicy\" name=\"Send confirmation\" camunda:async=\"true\" camunda:type=\"external\" camunda:topic=\"emailService\">\n      <bpmn2:extensionElements>\n        <camunda:inputOutput>\n          <camunda:inputParameter name=\"mailBody\">\n            <camunda:script scriptFormat=\"freemarker\">Dear ${application.applicant.name}.\n\nWe happily inform you that your request was accepted.\n\nPlease check the key facts: \n- Application Number: ${application.applicationNumber}\n- Premium per anno: ${application.premium}\n- Product: ${application.product}\n\nKind regards,\n${application.corporation}.</camunda:script>\n          </camunda:inputParameter>\n          <camunda:inputParameter name=\"mailSubject\">Your request was issued</camunda:inputParameter>\n        </camunda:inputOutput>\n        <camunda:properties>\n          <camunda:property name=\"simNextFire\" value=\"${g.now()}\" />\n        </camunda:properties>\n      </bpmn2:extensionElements>\n      <bpmn2:incoming>SequenceFlow_10</bpmn2:incoming>\n      <bpmn2:outgoing>SequenceFlow_11</bpmn2:outgoing>\n    </bpmn2:sendTask>\n    <bpmn2:serviceTask id=\"ServiceTask_DeliverPolicy\" name=\"Deliver confirmation\" camunda:delegateExpression=\"${issuePolicyAdapter}\">\n      <bpmn2:extensionElements>\n        <camunda:properties>\n          <camunda:property name=\"simCallRealImplementation\" value=\"true\" />\n        </camunda:properties>\n      </bpmn2:extensionElements>\n      <bpmn2:incoming>SequenceFlow_8</bpmn2:incoming>\n      <bpmn2:incoming>SequenceFlow_7</bpmn2:incoming>\n      <bpmn2:outgoing>SequenceFlow_10</bpmn2:outgoing>\n    </bpmn2:serviceTask>\n    <bpmn2:businessRuleTask id=\"BusinessRuleTask_CheckApplicationAutomatically\" name=\"Check application automatically\" camunda:resultVariable=\"riskDMNresult\" camunda:decisionRef=\"checkRisk_en\">\n      <bpmn2:extensionElements>\n        <camunda:executionListener class=\"com.camunda.demo.customeronboarding.adapter.MapDmnResult\" event=\"end\" />\n        <camunda:properties>\n          <camunda:property name=\"simCallRealImplementation\" value=\"true\" />\n          <camunda:property name=\"simKeepListeners\" value=\"true\" />\n        </camunda:properties>\n        <camunda:executionListener event=\"start\">\n          <camunda:script scriptFormat=\"javascript\">if(execution.hasVariable(\"riskDMNresult\")) {\n      execution.removeVariable(\"riskDMNresult\");\n    }</camunda:script>\n        </camunda:executionListener>\n      </bpmn2:extensionElements>\n      <bpmn2:incoming>SequenceFlow_1gd6p37</bpmn2:incoming>\n      <bpmn2:outgoing>SequenceFlow_2</bpmn2:outgoing>\n    </bpmn2:businessRuleTask>\n    <bpmn2:exclusiveGateway id=\"ExclusiveGatewayPruefung\" name=\"Risk?\">\n      <bpmn2:extensionElements>\n        <camunda:properties>\n          <camunda:property name=\"simulateKeepImplementation\" value=\"true\" />\n        </camunda:properties>\n      </bpmn2:extensionElements>\n      <bpmn2:incoming>SequenceFlow_2</bpmn2:incoming>\n      <bpmn2:outgoing>SequenceFlow_7</bpmn2:outgoing>\n      <bpmn2:outgoing>SequenceFlow_16</bpmn2:outgoing>\n      <bpmn2:outgoing>SequenceFlow_3</bpmn2:outgoing>\n    </bpmn2:exclusiveGateway>\n    <bpmn2:endEvent id=\"EndEvent_DecisionAccelerated\" name=\"Decision accelerated\">\n      <bpmn2:incoming>SequenceFlow_5</bpmn2:incoming>\n    </bpmn2:endEvent>\n    <bpmn2:endEvent id=\"EndEvent_ApplicationRejected\" name=\"Application &#10;rejected\">\n      <bpmn2:extensionElements>\n        <camunda:properties>\n          <camunda:property name=\"KPI-Ratio\" value=\"Rejected\" />\n        </camunda:properties>\n      </bpmn2:extensionElements>\n      <bpmn2:incoming>SequenceFlow_13</bpmn2:incoming>\n    </bpmn2:endEvent>\n    <bpmn2:serviceTask id=\"ServiceTask_RejectPolicy\" name=\"Reject application\" camunda:delegateExpression=\"${loggerDelegate}\">\n      <bpmn2:incoming>SequenceFlow_12</bpmn2:incoming>\n      <bpmn2:incoming>SequenceFlow_16</bpmn2:incoming>\n      <bpmn2:outgoing>SequenceFlow_01vh1zw</bpmn2:outgoing>\n    </bpmn2:serviceTask>\n    <bpmn2:sendTask id=\"SendTask_SendRejection\" name=\"Send rejection\" camunda:async=\"true\" camunda:type=\"external\" camunda:topic=\"emailService\">\n      <bpmn2:extensionElements>\n        <camunda:inputOutput>\n          <camunda:inputParameter name=\"mailBody\">\n            <camunda:script scriptFormat=\"freemarker\">Dear ${application.applicant.name}.\n\nUnfortunately we have to inform you that we cannot issue the desired request.\n\nKind regards,\n${application.corporation}.</camunda:script>\n          </camunda:inputParameter>\n          <camunda:inputParameter name=\"mailSubject\">Request rejected</camunda:inputParameter>\n        </camunda:inputOutput>\n        <camunda:properties>\n          <camunda:property name=\"simNextFire\" value=\"${g.now()}\" />\n        </camunda:properties>\n      </bpmn2:extensionElements>\n      <bpmn2:incoming>SequenceFlow_01vh1zw</bpmn2:incoming>\n      <bpmn2:outgoing>SequenceFlow_13</bpmn2:outgoing>\n    </bpmn2:sendTask>\n    <bpmn2:userTask id=\"UserTask_DecideOnApplication\" name=\"Decide on application\" camunda:asyncAfter=\"true\" camunda:formKey=\"embedded:app:forms/decide_en.html\" camunda:candidateGroups=\"clerk\" camunda:dueDate=\"${dateTime().plusDays(1).toDate()}\">\n      <bpmn2:extensionElements>\n        <camunda:properties>\n          <camunda:property name=\"simGeneratePayload\" value=\"approved=${g.randBool(0.75)}\" />\n          <camunda:property name=\"simNextFire\" value=\"${g.nowPlusHours(g.uniformInt(g.exponentialBySimulationTime(1,48,3),72))}\" />\n          <camunda:property name=\"simKeepListeners\" value=\"true\" />\n          <camunda:property name=\"simGeneratePayload\" value=\"requestedDocumentDescription=someDocument\" />\n        </camunda:properties>\n        <camunda:taskListener event=\"create\">\n          <camunda:script scriptFormat=\"JavaScript\">task.setVariable('documentReferenceId', String(Date.now()));\n\nvar lastAssignee = task.getVariable('lastAssignee');\nif (lastAssignee != null) {\n  task.setAssignee(lastAssignee);\n}</camunda:script>\n        </camunda:taskListener>\n        <camunda:taskListener event=\"assignment\">\n          <camunda:script scriptFormat=\"JavaScript\">task.setVariable('lastAssignee', task.getAssignee());</camunda:script>\n        </camunda:taskListener>\n      </bpmn2:extensionElements>\n      <bpmn2:incoming>SequenceFlow_1te4zir</bpmn2:incoming>\n      <bpmn2:incoming>SequenceFlow_3</bpmn2:incoming>\n      <bpmn2:outgoing>SequenceFlow_1h4oxvl</bpmn2:outgoing>\n    </bpmn2:userTask>\n    <bpmn2:callActivity id=\"CallActivity_RequestDocument\" name=\"Request document\" calledElement=\"requestDocument_en\">\n      <bpmn2:extensionElements>\n        <camunda:in source=\"application\" target=\"application\" />\n        <camunda:in source=\"requestedDocumentDescription\" target=\"requestedDocumentDescription\" />\n        <camunda:out source=\"document\" target=\"document\" />\n        <camunda:executionListener event=\"end\">\n          <camunda:script scriptFormat=\"JavaScript\">var typedDocument = execution.getVariableTyped('document');\nvar oldDocuments = execution.getVariable('documents');\n\nif (typedDocument != null &amp;&amp; typedDocument.getValue() != null) {\n  execution.setVariable('document_' + documentReferenceId, typedDocument);\n\n  var json = S('{}');\n  json.prop('description', requestedDocumentDescription);\n  json.prop('filename', typedDocument.getFilename());\n\n  var documents = S(oldDocuments != null ? oldDocuments : '{}');\n  documents.prop(documentReferenceId, json);\n  execution.setVariable('documents', documents);\n}</camunda:script>\n        </camunda:executionListener>\n        <camunda:in source=\"documentReferenceId\" target=\"documentReferenceId\" />\n        <camunda:in source=\"uiBaseUrl\" target=\"uiBaseUrl\" />\n        <camunda:properties>\n          <camunda:property name=\"simKeepListeners\" value=\"true\" />\n        </camunda:properties>\n        <camunda:in businessKey=\"#{execution.processBusinessKey}\" />\n      </bpmn2:extensionElements>\n      <bpmn2:incoming>SequenceFlow_0lwkj1f</bpmn2:incoming>\n      <bpmn2:outgoing>SequenceFlow_1te4zir</bpmn2:outgoing>\n    </bpmn2:callActivity>\n    <bpmn2:userTask id=\"UserTask_AccelerateDecision\" name=\"Accelerate decision making\" camunda:candidateGroups=\"teamlead\">\n      <bpmn2:extensionElements>\n        <camunda:properties>\n          <camunda:property name=\"simNextComplete\" value=\"${g.nowPlusHours(g.uniformInt(2,10))}\" />\n        </camunda:properties>\n      </bpmn2:extensionElements>\n      <bpmn2:incoming>SequenceFlow_0o6gf8v</bpmn2:incoming>\n      <bpmn2:outgoing>SequenceFlow_5</bpmn2:outgoing>\n    </bpmn2:userTask>\n    <bpmn2:serviceTask id=\"ServiceTask_0tixwo5\" name=\"Get credit score\" camunda:delegateExpression=\"${calculateScore}\">\n      <bpmn2:extensionElements>\n        <camunda:properties>\n          <camunda:property name=\"simCallRealImplementation\" value=\"true\" />\n        </camunda:properties>\n      </bpmn2:extensionElements>\n      <bpmn2:incoming>SequenceFlow_6</bpmn2:incoming>\n      <bpmn2:outgoing>SequenceFlow_1gd6p37</bpmn2:outgoing>\n    </bpmn2:serviceTask>\n    <bpmn2:boundaryEvent id=\"BoundaryEvent_1i1spfe\" name=\"document needed\" attachedToRef=\"UserTask_DecideOnApplication\">\n      <bpmn2:extensionElements>\n        <camunda:properties>\n          <camunda:property name=\"simNextFire\" value=\"${generator.nowPlusHours(generator.uniformInt(24,72))}\" />\n          <camunda:property name=\"simGeneratePayload\" value=\"requestedDocumentDescription=&#34;very important document&#34;\" />\n          <camunda:property name=\"simGeneratePayload\" value=\"uiBaseUrl=&#34;camunda.com&#34;\" />\n          <camunda:property name=\"simGeneratePayload\" value=\"documentReferenceId=&#34;123456&#34;\" />\n        </camunda:properties>\n      </bpmn2:extensionElements>\n      <bpmn2:outgoing>SequenceFlow_0lwkj1f</bpmn2:outgoing>\n      <bpmn2:messageEventDefinition messageRef=\"Message_0fvpzfg\" />\n    </bpmn2:boundaryEvent>\n    <bpmn2:boundaryEvent id=\"BoundaryEvent_0mcjys5\" name=\"after 2 days\" cancelActivity=\"false\" attachedToRef=\"UserTask_DecideOnApplication\">\n      <bpmn2:outgoing>SequenceFlow_0o6gf8v</bpmn2:outgoing>\n      <bpmn2:timerEventDefinition>\n        <bpmn2:timeDuration xsi:type=\"bpmn2:tFormalExpression\">P2D</bpmn2:timeDuration>\n      </bpmn2:timerEventDefinition>\n    </bpmn2:boundaryEvent>\n    <bpmn2:sequenceFlow id=\"SequenceFlow_1gd6p37\" sourceRef=\"ServiceTask_0tixwo5\" targetRef=\"BusinessRuleTask_CheckApplicationAutomatically\" />\n    <bpmn2:sequenceFlow id=\"SequenceFlow_0o6gf8v\" sourceRef=\"BoundaryEvent_0mcjys5\" targetRef=\"UserTask_AccelerateDecision\" />\n    <bpmn2:sequenceFlow id=\"SequenceFlow_0lwkj1f\" sourceRef=\"BoundaryEvent_1i1spfe\" targetRef=\"CallActivity_RequestDocument\" />\n    <bpmn2:sequenceFlow id=\"SequenceFlow_1te4zir\" sourceRef=\"CallActivity_RequestDocument\" targetRef=\"UserTask_DecideOnApplication\" />\n    <bpmn2:sequenceFlow id=\"SequenceFlow_01vh1zw\" sourceRef=\"ServiceTask_RejectPolicy\" targetRef=\"SendTask_SendRejection\" />\n    <bpmn2:sequenceFlow id=\"SequenceFlow_13\" name=\"\" sourceRef=\"SendTask_SendRejection\" targetRef=\"EndEvent_ApplicationRejected\" />\n    <bpmn2:sequenceFlow id=\"SequenceFlow_5\" name=\"\" sourceRef=\"UserTask_AccelerateDecision\" targetRef=\"EndEvent_DecisionAccelerated\" />\n    <bpmn2:sequenceFlow id=\"SequenceFlow_16\" name=\"red &#10;(severe risk)\" sourceRef=\"ExclusiveGatewayPruefung\" targetRef=\"ServiceTask_RejectPolicy\">\n      <bpmn2:conditionExpression xsi:type=\"bpmn2:tFormalExpression\">#{riskLevel == 'red'}</bpmn2:conditionExpression>\n    </bpmn2:sequenceFlow>\n    <bpmn2:sequenceFlow id=\"SequenceFlow_3\" name=\"yellow&#10;(moderate risk)&#10;\" sourceRef=\"ExclusiveGatewayPruefung\" targetRef=\"UserTask_DecideOnApplication\">\n      <bpmn2:conditionExpression xsi:type=\"bpmn2:tFormalExpression\">#{riskLevel == 'yellow'}</bpmn2:conditionExpression>\n    </bpmn2:sequenceFlow>\n    <bpmn2:sequenceFlow id=\"SequenceFlow_2\" name=\"\" sourceRef=\"BusinessRuleTask_CheckApplicationAutomatically\" targetRef=\"ExclusiveGatewayPruefung\" />\n    <bpmn2:sequenceFlow id=\"SequenceFlow_7\" name=\"green&#10;(no risk)\" sourceRef=\"ExclusiveGatewayPruefung\" targetRef=\"ServiceTask_DeliverPolicy\">\n      <bpmn2:conditionExpression xsi:type=\"bpmn2:tFormalExpression\">#{riskLevel == 'green'}</bpmn2:conditionExpression>\n    </bpmn2:sequenceFlow>\n    <bpmn2:sequenceFlow id=\"SequenceFlow_10\" name=\"\" sourceRef=\"ServiceTask_DeliverPolicy\" targetRef=\"SendTask_SendPolicy\" />\n    <bpmn2:sequenceFlow id=\"SequenceFlow_11\" name=\"\" sourceRef=\"SendTask_SendPolicy\" targetRef=\"EndEvent_ApplicationIssued\" />\n    <bpmn2:sequenceFlow id=\"SequenceFlow_8\" name=\"application accepted\" camunda:modelerTemplate=\"com.camunda.demo.environment.probability\" sourceRef=\"ExclusiveGateway_2\" targetRef=\"ServiceTask_DeliverPolicy\">\n      <bpmn2:conditionExpression xsi:type=\"bpmn2:tFormalExpression\">#{approved}</bpmn2:conditionExpression>\n    </bpmn2:sequenceFlow>\n    <bpmn2:sequenceFlow id=\"SequenceFlow_12\" name=\"application declined\" sourceRef=\"ExclusiveGateway_2\" targetRef=\"ServiceTask_RejectPolicy\">\n      <bpmn2:conditionExpression xsi:type=\"bpmn2:tFormalExpression\">#{not approved}</bpmn2:conditionExpression>\n    </bpmn2:sequenceFlow>\n    <bpmn2:sequenceFlow id=\"SequenceFlow_1h4oxvl\" sourceRef=\"UserTask_DecideOnApplication\" targetRef=\"ExclusiveGateway_2\" />\n    <bpmn2:sequenceFlow id=\"SequenceFlow_6\" name=\"\" sourceRef=\"StartEvent_1\" targetRef=\"ServiceTask_0tixwo5\" />\n  </bpmn2:process>\n  <bpmn2:message id=\"Message_0fvpzfg\" name=\"Message_DocumentRequested\" />\n  <bpmndi:BPMNDiagram id=\"BPMNDiagram_1\">\n    <bpmndi:BPMNPlane id=\"BPMNPlane_1\" bpmnElement=\"Collaboration_1u35ano\">\n      <bpmndi:BPMNShape id=\"Participant_0477s11_di\" bpmnElement=\"Participant_0477s11\" isHorizontal=\"true\">\n        <dc:Bounds x=\"156\" y=\"71\" width=\"1360\" height=\"563\" />\n      </bpmndi:BPMNShape>\n      <bpmndi:BPMNShape id=\"_BPMNShape_StartEvent_4\" bpmnElement=\"StartEvent_1\">\n        <dc:Bounds x=\"206\" y=\"113\" width=\"36\" height=\"36\" />\n        <bpmndi:BPMNLabel>\n          <dc:Bounds x=\"199\" y=\"154\" width=\"53\" height=\"27\" />\n        </bpmndi:BPMNLabel>\n      </bpmndi:BPMNShape>\n      <bpmndi:BPMNShape id=\"_BPMNShape_SendTask_2\" bpmnElement=\"SendTask_SendPolicy\">\n        <dc:Bounds x=\"1290\" y=\"91\" width=\"100\" height=\"80\" />\n      </bpmndi:BPMNShape>\n      <bpmndi:BPMNShape id=\"_BPMNShape_ServiceTask_3\" bpmnElement=\"ServiceTask_DeliverPolicy\">\n        <dc:Bounds x=\"1139\" y=\"91\" width=\"100\" height=\"80\" />\n      </bpmndi:BPMNShape>\n      <bpmndi:BPMNShape id=\"_BPMNShape_EndEvent_2\" bpmnElement=\"EndEvent_ApplicationIssued\">\n        <dc:Bounds x=\"1445\" y=\"113\" width=\"36\" height=\"36\" />\n        <bpmndi:BPMNLabel>\n          <dc:Bounds x=\"1438\" y=\"154\" width=\"53\" height=\"27\" />\n        </bpmndi:BPMNLabel>\n      </bpmndi:BPMNShape>\n      <bpmndi:BPMNShape id=\"_BPMNShape_ExclusiveGateway_2\" bpmnElement=\"ExclusiveGatewayPruefung\" isMarkerVisible=\"true\">\n        <dc:Bounds x=\"556\" y=\"106\" width=\"50\" height=\"50\" />\n        <bpmndi:BPMNLabel>\n          <dc:Bounds x=\"567\" y=\"81\" width=\"28\" height=\"14\" />\n        </bpmndi:BPMNLabel>\n      </bpmndi:BPMNShape>\n      <bpmndi:BPMNShape id=\"_BPMNShape_BusinessRuleTask_2\" bpmnElement=\"BusinessRuleTask_CheckApplicationAutomatically\">\n        <dc:Bounds x=\"421\" y=\"91\" width=\"100\" height=\"80\" />\n      </bpmndi:BPMNShape>\n      <bpmndi:BPMNShape id=\"_BPMNShape_ExclusiveGateway_3\" bpmnElement=\"ExclusiveGateway_2\" isMarkerVisible=\"true\">\n        <dc:Bounds x=\"1055\" y=\"302\" width=\"50\" height=\"50\" />\n        <bpmndi:BPMNLabel>\n          <dc:Bounds x=\"1129\" y=\"317\" width=\"49\" height=\"14\" />\n        </bpmndi:BPMNLabel>\n      </bpmndi:BPMNShape>\n      <bpmndi:BPMNShape id=\"_BPMNShape_SendTask_3\" bpmnElement=\"SendTask_SendRejection\">\n        <dc:Bounds x=\"1290\" y=\"534\" width=\"100\" height=\"80\" />\n      </bpmndi:BPMNShape>\n      <bpmndi:BPMNShape id=\"_BPMNShape_EndEvent_3\" bpmnElement=\"EndEvent_ApplicationRejected\">\n        <dc:Bounds x=\"1445\" y=\"556\" width=\"36\" height=\"36\" />\n        <bpmndi:BPMNLabel>\n          <dc:Bounds x=\"1436\" y=\"597\" width=\"56\" height=\"27\" />\n        </bpmndi:BPMNLabel>\n      </bpmndi:BPMNShape>\n      <bpmndi:BPMNEdge id=\"BPMNEdge_SequenceFlow_6\" bpmnElement=\"SequenceFlow_6\" sourceElement=\"_BPMNShape_StartEvent_4\" targetElement=\"ServiceTask_0tixwo5_di\">\n        <di:waypoint x=\"242\" y=\"131\" />\n        <di:waypoint x=\"276\" y=\"131\" />\n        <bpmndi:BPMNLabel>\n          <dc:Bounds x=\"125\" y=\"131\" width=\"90\" height=\"6\" />\n        </bpmndi:BPMNLabel>\n      </bpmndi:BPMNEdge>\n      <bpmndi:BPMNEdge id=\"BPMNEdge_SequenceFlow_10\" bpmnElement=\"SequenceFlow_10\" sourceElement=\"_BPMNShape_ServiceTask_3\" targetElement=\"_BPMNShape_SendTask_2\">\n        <di:waypoint x=\"1239\" y=\"131\" />\n        <di:waypoint x=\"1290\" y=\"131\" />\n        <bpmndi:BPMNLabel>\n          <dc:Bounds x=\"999\" y=\"133\" width=\"90\" height=\"6\" />\n        </bpmndi:BPMNLabel>\n      </bpmndi:BPMNEdge>\n      <bpmndi:BPMNEdge id=\"BPMNEdge_SequenceFlow_11\" bpmnElement=\"SequenceFlow_11\" sourceElement=\"_BPMNShape_SendTask_2\" targetElement=\"_BPMNShape_EndEvent_2\">\n        <di:waypoint x=\"1390\" y=\"131\" />\n        <di:waypoint x=\"1445\" y=\"131\" />\n        <bpmndi:BPMNLabel>\n          <dc:Bounds x=\"1159\" y=\"143\" width=\"90\" height=\"6\" />\n        </bpmndi:BPMNLabel>\n      </bpmndi:BPMNEdge>\n      <bpmndi:BPMNEdge id=\"BPMNEdge_SequenceFlow_2\" bpmnElement=\"SequenceFlow_2\" sourceElement=\"_BPMNShape_BusinessRuleTask_2\" targetElement=\"_BPMNShape_ExclusiveGateway_2\">\n        <di:waypoint x=\"521\" y=\"131\" />\n        <di:waypoint x=\"556\" y=\"131\" />\n        <bpmndi:BPMNLabel>\n          <dc:Bounds x=\"301\" y=\"131\" width=\"90\" height=\"6\" />\n        </bpmndi:BPMNLabel>\n      </bpmndi:BPMNEdge>\n      <bpmndi:BPMNEdge id=\"BPMNEdge_SequenceFlow_7\" bpmnElement=\"SequenceFlow_7\" sourceElement=\"_BPMNShape_ExclusiveGateway_2\">\n        <di:waypoint x=\"606\" y=\"131\" />\n        <di:waypoint x=\"1139\" y=\"131\" />\n        <bpmndi:BPMNLabel>\n          <dc:Bounds x=\"604\" y=\"136\" width=\"41\" height=\"27\" />\n        </bpmndi:BPMNLabel>\n      </bpmndi:BPMNEdge>\n      <bpmndi:BPMNEdge id=\"BPMNEdge_SequenceFlow_16\" bpmnElement=\"SequenceFlow_16\" sourceElement=\"_BPMNShape_ExclusiveGateway_2\">\n        <di:waypoint x=\"581\" y=\"156\" />\n        <di:waypoint x=\"581\" y=\"574\" />\n        <di:waypoint x=\"1139\" y=\"574\" />\n        <bpmndi:BPMNLabel>\n          <dc:Bounds x=\"596\" y=\"542\" width=\"61\" height=\"27\" />\n        </bpmndi:BPMNLabel>\n      </bpmndi:BPMNEdge>\n      <bpmndi:BPMNEdge id=\"BPMNEdge_SequenceFlow_8\" bpmnElement=\"SequenceFlow_8\" sourceElement=\"_BPMNShape_ExclusiveGateway_3\">\n        <di:waypoint x=\"1080\" y=\"302\" />\n        <di:waypoint x=\"1080\" y=\"149\" />\n        <di:waypoint x=\"1139\" y=\"149\" />\n        <bpmndi:BPMNLabel>\n          <dc:Bounds x=\"1096\" y=\"255\" width=\"53\" height=\"27\" />\n        </bpmndi:BPMNLabel>\n      </bpmndi:BPMNEdge>\n      <bpmndi:BPMNEdge id=\"BPMNEdge_SequenceFlow_12\" bpmnElement=\"SequenceFlow_12\" sourceElement=\"_BPMNShape_ExclusiveGateway_3\">\n        <di:waypoint x=\"1080\" y=\"352\" />\n        <di:waypoint x=\"1080\" y=\"555\" />\n        <di:waypoint x=\"1139\" y=\"555\" />\n        <bpmndi:BPMNLabel>\n          <dc:Bounds x=\"1090\" y=\"364\" width=\"53\" height=\"27\" />\n        </bpmndi:BPMNLabel>\n      </bpmndi:BPMNEdge>\n      <bpmndi:BPMNEdge id=\"BPMNEdge_SequenceFlow_13\" bpmnElement=\"SequenceFlow_13\" sourceElement=\"_BPMNShape_SendTask_3\" targetElement=\"_BPMNShape_EndEvent_3\">\n        <di:waypoint x=\"1390\" y=\"574\" />\n        <di:waypoint x=\"1445\" y=\"574\" />\n        <bpmndi:BPMNLabel>\n          <dc:Bounds x=\"1054\" y=\"575\" width=\"90\" height=\"6\" />\n        </bpmndi:BPMNLabel>\n      </bpmndi:BPMNEdge>\n      <bpmndi:BPMNShape id=\"ServiceTask_0o3o39j_di\" bpmnElement=\"ServiceTask_RejectPolicy\">\n        <dc:Bounds x=\"1139\" y=\"534\" width=\"100\" height=\"80\" />\n      </bpmndi:BPMNShape>\n      <bpmndi:BPMNEdge id=\"SequenceFlow_01vh1zw_di\" bpmnElement=\"SequenceFlow_01vh1zw\">\n        <di:waypoint x=\"1239\" y=\"574\" />\n        <di:waypoint x=\"1290\" y=\"574\" />\n        <bpmndi:BPMNLabel>\n          <dc:Bounds x=\"1009\" y=\"564\" width=\"90\" height=\"20\" />\n        </bpmndi:BPMNLabel>\n      </bpmndi:BPMNEdge>\n      <bpmndi:BPMNEdge id=\"BPMNEdge_SequenceFlow_3\" bpmnElement=\"SequenceFlow_3\">\n        <di:waypoint x=\"581\" y=\"156\" />\n        <di:waypoint x=\"581\" y=\"313\" />\n        <di:waypoint x=\"717\" y=\"313\" />\n        <bpmndi:BPMNLabel>\n          <dc:Bounds x=\"593\" y=\"280\" width=\"75\" height=\"40\" />\n        </bpmndi:BPMNLabel>\n      </bpmndi:BPMNEdge>\n      <bpmndi:BPMNShape id=\"_BPMNShape_EndEvent_28\" bpmnElement=\"EndEvent_DecisionAccelerated\">\n        <dc:Bounds x=\"995\" y=\"188\" width=\"36\" height=\"36\" />\n        <bpmndi:BPMNLabel>\n          <dc:Bounds x=\"986\" y=\"229\" width=\"57\" height=\"27\" />\n        </bpmndi:BPMNLabel>\n      </bpmndi:BPMNShape>\n      <bpmndi:BPMNShape id=\"_BPMNShape_UserTask_6\" bpmnElement=\"UserTask_AccelerateDecision\">\n        <dc:Bounds x=\"867\" y=\"166\" width=\"100\" height=\"80\" />\n      </bpmndi:BPMNShape>\n      <bpmndi:BPMNEdge id=\"BPMNEdge_SequenceFlow_5\" bpmnElement=\"SequenceFlow_5\">\n        <di:waypoint x=\"967\" y=\"206\" />\n        <di:waypoint x=\"995\" y=\"206\" />\n        <bpmndi:BPMNLabel>\n          <dc:Bounds x=\"725\" y=\"188\" width=\"90\" height=\"6\" />\n        </bpmndi:BPMNLabel>\n      </bpmndi:BPMNEdge>\n      <bpmndi:BPMNShape id=\"UserTask_1b9zsmd_di\" bpmnElement=\"UserTask_DecideOnApplication\">\n        <dc:Bounds x=\"717\" y=\"287\" width=\"100\" height=\"80\" />\n      </bpmndi:BPMNShape>\n      <bpmndi:BPMNShape id=\"CallActivity_01bed3n_di\" bpmnElement=\"CallActivity_RequestDocument\">\n        <dc:Bounds x=\"867\" y=\"400\" width=\"100\" height=\"80\" />\n      </bpmndi:BPMNShape>\n      <bpmndi:BPMNShape id=\"BoundaryEvent_09ag0rf_di\" bpmnElement=\"BoundaryEvent_1i1spfe\">\n        <dc:Bounds x=\"772\" y=\"349\" width=\"36\" height=\"36\" />\n        <bpmndi:BPMNLabel>\n          <dc:Bounds x=\"786\" y=\"385\" width=\"89\" height=\"14\" />\n        </bpmndi:BPMNLabel>\n      </bpmndi:BPMNShape>\n      <bpmndi:BPMNEdge id=\"SequenceFlow_0lwkj1f_di\" bpmnElement=\"SequenceFlow_0lwkj1f\">\n        <di:waypoint x=\"790\" y=\"385\" />\n        <di:waypoint x=\"790\" y=\"440\" />\n        <di:waypoint x=\"867\" y=\"440\" />\n        <bpmndi:BPMNLabel>\n          <dc:Bounds x=\"549\" y=\"406\" width=\"90\" height=\"13\" />\n        </bpmndi:BPMNLabel>\n      </bpmndi:BPMNEdge>\n      <bpmndi:BPMNEdge id=\"SequenceFlow_1te4zir_di\" bpmnElement=\"SequenceFlow_1te4zir\">\n        <di:waypoint x=\"967\" y=\"440\" />\n        <di:waypoint x=\"996\" y=\"440\" />\n        <di:waypoint x=\"996\" y=\"505\" />\n        <di:waypoint x=\"656\" y=\"505\" />\n        <di:waypoint x=\"656\" y=\"341\" />\n        <di:waypoint x=\"717\" y=\"341\" />\n        <bpmndi:BPMNLabel>\n          <dc:Bounds x=\"570\" y=\"484\" width=\"90\" height=\"13\" />\n        </bpmndi:BPMNLabel>\n      </bpmndi:BPMNEdge>\n      <bpmndi:BPMNEdge id=\"SequenceFlow_0o6gf8v_di\" bpmnElement=\"SequenceFlow_0o6gf8v\">\n        <di:waypoint x=\"790\" y=\"269\" />\n        <di:waypoint x=\"790\" y=\"206\" />\n        <di:waypoint x=\"867\" y=\"206\" />\n        <bpmndi:BPMNLabel>\n          <dc:Bounds x=\"549\" y=\"231\" width=\"90\" height=\"13\" />\n        </bpmndi:BPMNLabel>\n      </bpmndi:BPMNEdge>\n      <bpmndi:BPMNEdge id=\"SequenceFlow_1h4oxvl_di\" bpmnElement=\"SequenceFlow_1h4oxvl\">\n        <di:waypoint x=\"817\" y=\"327\" />\n        <di:waypoint x=\"1055\" y=\"327\" />\n        <bpmndi:BPMNLabel>\n          <dc:Bounds x=\"680\" y=\"306\" width=\"90\" height=\"13\" />\n        </bpmndi:BPMNLabel>\n      </bpmndi:BPMNEdge>\n      <bpmndi:BPMNShape id=\"BoundaryEvent_138xipm_di\" bpmnElement=\"BoundaryEvent_0mcjys5\">\n        <dc:Bounds x=\"772\" y=\"269\" width=\"36\" height=\"36\" />\n        <bpmndi:BPMNLabel>\n          <dc:Bounds x=\"811\" y=\"254\" width=\"58\" height=\"14\" />\n        </bpmndi:BPMNLabel>\n      </bpmndi:BPMNShape>\n      <bpmndi:BPMNShape id=\"ServiceTask_0tixwo5_di\" bpmnElement=\"ServiceTask_0tixwo5\">\n        <dc:Bounds x=\"276\" y=\"91\" width=\"100\" height=\"80\" />\n      </bpmndi:BPMNShape>\n      <bpmndi:BPMNEdge id=\"SequenceFlow_1gd6p37_di\" bpmnElement=\"SequenceFlow_1gd6p37\">\n        <di:waypoint x=\"376\" y=\"131\" />\n        <di:waypoint x=\"421\" y=\"131\" />\n      </bpmndi:BPMNEdge>\n    </bpmndi:BPMNPlane>\n  </bpmndi:BPMNDiagram>\n</bpmn2:definitions>",[m
   "flowNodeData": [[m
     {[m
       "name": "document needed",[m
[1mdiff --git a/c4/src/carbon.d.ts b/c4/src/carbon.d.ts[m
[1mindex 90d69e1388..ff82d6e781 100644[m
[1m--- a/c4/src/carbon.d.ts[m
[1m+++ b/c4/src/carbon.d.ts[m
[36m@@ -21,7 +21,7 @@[m [mdeclare module "@carbon/react" {[m
 [m
 	interface MenuProps {[m
 		id: string[m
[31m-		className: string[m
[32m+[m		[32mclassName?: string[m
 		label: ReactNode[m
 		size: "xs" | "sm" | "md" | "lg"[m
 		open: boolean[m
[36m@@ -29,6 +29,7 @@[m [mdeclare module "@carbon/react" {[m
 		onOpen: () => void[m
 		x: number[][m
 		y: number[][m
[32m+[m		[32mtarget?: Element | null[m
 	}[m
 [m
 	function Menu(props: ForwardRefProps<HTMLElement, MenuProps>): JSX.Element[m
[1mdiff --git a/c4/yarn.lock b/c4/yarn.lock[m
[1mindex 083f8987d5..d71ec0e27f 100644[m
[1m--- a/c4/yarn.lock[m
[1m+++ b/c4/yarn.lock[m
[36m@@ -5,10 +5,10 @@[m [m__metadata:[m
   version: 6[m
   cacheKey: 8[m
 [m
[31m-"@adobe/css-tools@npm:^4.0.1":[m
[31m-  version: 4.2.0[m
[31m-  resolution: "@adobe/css-tools@npm:4.2.0"[m
[31m-  checksum: dc5cc92ba3d562e7ffddb79d6d222c7e00b65f255fd2725b3d71490ff268844be322f917415d8c4ab39eca646343b632058db8bd5b1d646193fcc94d1d3e420b[m
[32m+[m[32m"@adobe/css-tools@npm:^4.3.0":[m
[32m+[m[32m  version: 4.3.1[m
[32m+[m[32m  resolution: "@adobe/css-tools@npm:4.3.1"[m
[32m+[m[32m  checksum: ad43456379ff391132aff687ece190cb23ea69395e23c9b96690eeabe2468da89a4aaf266e4f8b6eaab53db3d1064107ce0f63c3a974e864f4a04affc768da3f[m
   languageName: node[m
   linkType: hard[m
 [m
[36m@@ -52,7 +52,14 @@[m [m__metadata:[m
   languageName: node[m
   linkType: hard[m
 [m
[31m-"@babel/compat-data@npm:^7.22.5, @babel/compat-data@npm:^7.22.6, @babel/compat-data@npm:^7.22.9":[m
[32m+[m[32m"@babel/compat-data@npm:^7.22.20":[m
[32m+[m[32m  version: 7.22.20[m
[32m+[m[32m  resolution: "@babel/compat-data@npm:7.22.20"[m
[32m+[m[32m  checksum: efedd1d18878c10fde95e4d82b1236a9aba41395ef798cbb651f58dbf5632dbff475736c507b8d13d4c8f44809d41c0eb2ef0d694283af9ba5dd8339b6dab451[m
[32m+[m[32m  languageName: node[m
[32m+[m[32m  linkType: hard[m
[32m+[m
[32m+[m[32m"@babel/compat-data@npm:^7.22.6, @babel/compat-data@npm:^7.22.9":[m
   version: 7.22.9[m
   resolution: "@babel/compat-data@npm:7.22.9"[m
   checksum: bed77d9044ce948b4327b30dd0de0779fa9f3a7ed1f2d31638714ed00229fa71fc4d1617ae0eb1fad419338d3658d0e9a5a083297451e09e73e078d0347ff808[m
[36m@@ -125,6 +132,19 @@[m [m__metadata:[m
   languageName: node[m
   linkType: hard[m
 [m
[32m+[m[32m"@babel/helper-compilation-targets@npm:^7.22.15":[m
[32m+[m[32m  version: 7.22.15[m
[32m+[m[32m  resolution: "@babel/helper-compilation-targets@npm:7.22.15"[m
[32m+[m[32m  dependencies:[m
[32m+[m[32m    "@babel/compat-data": ^7.22.9[m
[32m+[m[32m    "@babel/helper-validator-option": ^7.22.15[m
[32m+[m[32m    browserslist: ^4.21.9[m
[32m+[m[32m    lru-cache: ^5.1.1[m
[32m+[m[32m    semver: ^6.3.1[m
[32m+[m[32m  checksum: ce85196769e091ae54dd39e4a80c2a9df1793da8588e335c383d536d54f06baf648d0a08fc873044f226398c4ded15c4ae9120ee18e7dfd7c639a68e3cdc9980[m
[32m+[m[32m  languageName: node[m
[32m+[m[32m  linkType: hard[m
[32m+[m
 "@babel/helper-create-class-features-plugin@npm:^7.18.6, @babel/helper-create-class-features-plugin@npm:^7.22.5":[m
   version: 7.22.10[m
   resolution: "@babel/helper-create-class-features-plugin@npm:7.22.10"[m
[36m@@ -163,6 +183,25 @@[m [m__metadata:[m
   languageName: node[m
   linkType: hard[m
 [m
[32m+[m[32m"@babel/helper-create-class-features-plugin@npm:^7.22.15":[m
[32m+[m[32m  version: 7.22.15[m
[32m+[m[32m  resolution: "@babel/helper-create-class-features-plugin@npm:7.22.15"[m
[32m+[m[32m  dependencies:[m
[32m+[m[32m    "@babel/helper-annotate-as-pure": ^7.22.5[m
[32m+[m[32m    "@babel/helper-environment-visitor": ^7.22.5[m
[32m+[m[32m    "@babel/helper-function-name": ^7.22.5[m
[32m+[m[32m    "@babel/helper-member-expression-to-functions": ^7.22.15[m
[32m+[m[32m    "@babel/helper-optimise-call-expression": ^7.22.5[m
[32m+[m[32m    "@babel/helper-replace-supers": ^7.22.9[m
[32m+[m[32m    "@babel/helper-skip-transparent-expression-wrappers": ^7.22.5[m
[32m+[m[32m    "@babel/helper-split-export-declaration": ^7.22.6[m
[32m+[m[32m    semver: ^6.3.1[m
[32m+[m[32m  peerDependencies:[m
[32m+[m[32m    "@babel/core": ^7.0.0[m
[32m+[m[32m  checksum: 52c500d8d164abb3a360b1b7c4b8fff77bc4a5920d3a2b41ae6e1d30617b0dc0b972c1f5db35b1752007e04a748908b4a99bc872b73549ae837e87dcdde005a3[m
[32m+[m[32m  languageName: node[m
[32m+[m[32m  linkType: hard[m
[32m+[m
 "@babel/helper-create-regexp-features-plugin@npm:^7.18.6, @babel/helper-create-regexp-features-plugin@npm:^7.22.5":[m
   version: 7.22.9[m
   resolution: "@babel/helper-create-regexp-features-plugin@npm:7.22.9"[m
[36m@@ -191,6 +230,13 @@[m [m__metadata:[m
   languageName: node[m
   linkType: hard[m
 [m
[32m+[m[32m"@babel/helper-environment-visitor@npm:^7.22.20":[m
[32m+[m[32m  version: 7.22.20[m
[32m+[m[32m  resolution: "@babel/helper-environment-visitor@npm:7.22.20"[m
[32m+[m[32m  checksum: d80ee98ff66f41e233f36ca1921774c37e88a803b2f7dca3db7c057a5fea0473804db9fb6729e5dbfd07f4bed722d60f7852035c2c739382e84c335661590b69[m
[32m+[m[32m  languageName: node[m
[32m+[m[32m  linkType: hard[m
[32m+[m
 "@babel/helper-environment-visitor@npm:^7.22.5":[m
   version: 7.22.5[m
   resolution: "@babel/helper-environment-visitor@npm:7.22.5"[m
[36m@@ -217,6 +263,15 @@[m [m__metadata:[m
   languageName: node[m
   linkType: hard[m
 [m
[32m+[m[32m"@babel/helper-member-expression-to-functions@npm:^7.22.15":[m
[32m+[m[32m  version: 7.22.15[m
[32m+[m[32m  resolution: "@babel/helper-member-expression-to-functions@npm:7.22.15"[m
[32m+[m[32m  dependencies:[m
[32m+[m[32m    "@babel/types": ^7.22.15[m
[32m+[m[32m  checksum: c7c5d01c402dd8902c2ec3093f203ed0fc3bc5f669328a084d2e663c4c06dd0415480ee8220c6f96ba9b2dc49545c0078f221fc3900ab1e65de69a12fe7b361f[m
[32m+[m[32m  languageName: node[m
[32m+[m[32m  linkType: hard[m
[32m+[m
 "@babel/helper-member-expression-to-functions@npm:^7.22.5":[m
   version: 7.22.5[m
   resolution: "@babel/helper-member-expression-to-functions@npm:7.22.5"[m
[36m@@ -226,6 +281,15 @@[m [m__metadata:[m
   languageName: node[m
   linkType: hard[m
 [m
[32m+[m[32m"@babel/helper-module-imports@npm:^7.22.15":[m
[32m+[m[32m  version: 7.22.15[m
[32m+[m[32m  resolution: "@babel/helper-module-imports@npm:7.22.15"[m
[32m+[m[32m  dependencies:[m
[32m+[m[32m    "@babel/types": ^7.22.15[m
[32m+[m[32m  checksum: ecd7e457df0a46f889228f943ef9b4a47d485d82e030676767e6a2fdcbdaa63594d8124d4b55fd160b41c201025aec01fc27580352b1c87a37c9c6f33d116702[m
[32m+[m[32m  languageName: node[m
[32m+[m[32m  linkType: hard[m
[32m+[m
 "@babel/helper-module-imports@npm:^7.22.5":[m
   version: 7.22.5[m
   resolution: "@babel/helper-module-imports@npm:7.22.5"[m
[36m@@ -235,6 +299,21 @@[m [m__metadata:[m
   languageName: node[m
   linkType: hard[m
 [m
[32m+[m[32m"@babel/helper-module-transforms@npm:^7.22.15":[m
[32m+[m[32m  version: 7.22.20[m
[32m+[m[32m  resolution: "@babel/helper-module-transforms@npm:7.22.20"[m
[32m+[m[32m  dependencies:[m
[32m+[m[32m    "@babel/helper-environment-visitor": ^7.22.20[m
[32m+[m[32m    "@babel/helper-module-imports": ^7.22.15[m
[32m+[m[32m    "@babel/helper-simple-access": ^7.22.5[m
[32m+[m[32m    "@babel/helper-split-export-declaration": ^7.22.6[m
[32m+[m[32m    "@babel/helper-validator-identifier": ^7.22.20[m
[32m+[m[32m  peerDependencies:[m
[32m+[m[32m    "@babel/core": ^7.0.0[m
[32m+[m[32m  checksum: 8fce25362df8711bd4620f41c5c18769edfeafe7f8f1dae9691966ef368e57f9da68dfa1707cd63c834c89dc4eaa82c26f12ea33e88fd262ac62844b11dcc389[m
[32m+[m[32m  languageName: node[m
[32m+[m[32m  linkType: hard[m
[32m+[m
 "@babel/helper-module-transforms@npm:^7.22.5, @babel/helper-module-transforms@npm:^7.22.9":[m
   version: 7.22.9[m
   resolution: "@babel/helper-module-transforms@npm:7.22.9"[m
[36m@@ -326,6 +405,13 @@[m [m__metadata:[m
   languageName: node[m
   linkType: hard[m
 [m
[32m+[m[32m"@babel/helper-validator-identifier@npm:^7.22.19, @babel/helper-validator-identifier@npm:^7.22.20":[m
[32m+[m[32m  version: 7.22.20[m
[32m+[m[32m  resolution: "@babel/helper-validator-identifier@npm:7.22.20"[m
[32m+[m[32m  checksum: 136412784d9428266bcdd4d91c32bcf9ff0e8d25534a9d94b044f77fe76bc50f941a90319b05aafd1ec04f7d127cd57a179a3716009ff7f3412ef835ada95bdc[m
[32m+[m[32m  languageName: node[m
[32m+[m[32m  linkType: hard[m
[32m+[m
 "@babel/helper-validator-identifier@npm:^7.22.5":[m
   version: 7.22.5[m
   resolution: "@babel/helper-validator-identifier@npm:7.22.5"[m
[36m@@ -333,6 +419,13 @@[m [m__metadata:[m
   languageName: node[m
   linkType: hard[m
 [m
[32m+[m[32m"@babel/helper-validator-option@npm:^7.22.15":[m
[32m+[m[32m  version: 7.22.15[m
[32m+[m[32m  resolution: "@babel/helper-validator-option@npm:7.22.15"[m
[32m+[m[32m  checksum: 68da52b1e10002a543161494c4bc0f4d0398c8fdf361d5f7f4272e95c45d5b32d974896d44f6a0ea7378c9204988879d73613ca683e13bd1304e46d25ff67a8d[m
[32m+[m[32m  languageName: node[m
[32m+[m[32m  linkType: hard[m
[32m+[m
 "@babel/helper-validator-option@npm:^7.22.5":[m
   version: 7.22.5[m
   resolution: "@babel/helper-validator-option@npm:7.22.5"[m
[36m@@ -382,27 +475,27 @@[m [m__metadata:[m
   languageName: node[m
   linkType: hard[m
 [m
[31m-"@babel/plugin-bugfix-safari-id-destructuring-collision-in-function-expression@npm:^7.22.5":[m
[31m-  version: 7.22.5[m
[31m-  resolution: "@babel/plugin-bugfix-safari-id-destructuring-collision-in-function-expression@npm:7.22.5"[m
[32m+[m[32m"@babel/plugin-bugfix-safari-id-destructuring-collision-in-function-expression@npm:^7.22.15":[m
[32m+[m[32m  version: 7.22.15[m
[32m+[m[32m  resolution: "@babel/plugin-bugfix-safari-id-destructuring-collision-in-function-expression@npm:7.22.15"[m
   dependencies:[m
     "@babel/helper-plugin-utils": ^7.22.5[m
   peerDependencies:[m
     "@babel/core": ^7.0.0[m
[31m-  checksum: 1e353a060fb2cd8f1256d28cd768f16fb02513f905b9b6d656fb0242c96c341a196fa188b27c2701506a6e27515359fbcc1a5ca7fa8b9b530cf88fbd137baefc[m
[32m+[m[32m  checksum: 8910ca21a7ec7c06f7b247d4b86c97c5aa15ef321518f44f6f490c5912fdf82c605aaa02b90892e375d82ccbedeadfdeadd922c1b836c9dd4c596871bf654753[m
   languageName: node[m
   linkType: hard[m
 [m
[31m-"@babel/plugin-bugfix-v8-spread-parameters-in-optional-chaining@npm:^7.22.5":[m
[31m-  version: 7.22.5[m
[31m-  resolution: "@babel/plugin-bugfix-v8-spread-parameters-in-optional-chaining@npm:7.22.5"[m
[32m+[m[32m"@babel/plugin-bugfix-v8-spread-parameters-in-optional-chaining@npm:^7.22.15":[m
[32m+[m[32m  version: 7.22.15[m
[32m+[m[32m  resolution: "@babel/plugin-bugfix-v8-spread-parameters-in-optional-chaining@npm:7.22.15"[m
   dependencies:[m
     "@babel/helper-plugin-utils": ^7.22.5[m
     "@babel/helper-skip-transparent-expression-wrappers": ^7.22.5[m
[31m-    "@babel/plugin-transform-optional-chaining": ^7.22.5[m
[32m+[m[32m    "@babel/plugin-transform-optional-chaining": ^7.22.15[m
   peerDependencies:[m
     "@babel/core": ^7.13.0[m
[31m-  checksum: 16e7a5f3bf2f2ac0ca032a70bf0ebd7e886d84dbb712b55c0643c04c495f0f221fbcbca14b5f8f8027fa6c87a3dafae0934022ad2b409384af6c5c356495b7bd[m
[32m+[m[32m  checksum: fbefedc0da014c37f1a50a8094ce7dbbf2181ae93243f23d6ecba2499b5b20196c2124d6a4dfe3e9e0125798e80593103e456352a4beb4e5c6f7c75efb80fdac[m
   languageName: node[m
   linkType: hard[m
 [m
[36m@@ -695,9 +788,9 @@[m [m__metadata:[m
   languageName: node[m
   linkType: hard[m
 [m
[31m-"@babel/plugin-transform-async-generator-functions@npm:^7.22.10":[m
[31m-  version: 7.22.10[m
[31m-  resolution: "@babel/plugin-transform-async-generator-functions@npm:7.22.10"[m
[32m+[m[32m"@babel/plugin-transform-async-generator-functions@npm:^7.22.15":[m
[32m+[m[32m  version: 7.22.15[m
[32m+[m[32m  resolution: "@babel/plugin-transform-async-generator-functions@npm:7.22.15"[m
   dependencies:[m
     "@babel/helper-environment-visitor": ^7.22.5[m
     "@babel/helper-plugin-utils": ^7.22.5[m
[36m@@ -705,7 +798,7 @@[m [m__metadata:[m
     "@babel/plugin-syntax-async-generators": ^7.8.4[m
   peerDependencies:[m
     "@babel/core": ^7.0.0-0[m
[31m-  checksum: 87d77b66fda05b42450aa285fa031aa3963c52aab00190f95f6c3ddefbed683035c1f314347c888f8406fba5d436b888ff75b5e36b8ab23afd4ca4c3f086f88c[m
[32m+[m[32m  checksum: fad98786b446ce63bde0d14a221e2617eef5a7bbca62b49d96f16ab5e1694521234cfba6145b830fbf9af16d60a8a3dbf148e8694830bd91796fe333b0599e73[m
   languageName: node[m
   linkType: hard[m
 [m
[36m@@ -733,14 +826,14 @@[m [m__metadata:[m
   languageName: node[m
   linkType: hard[m
 [m
[31m-"@babel/plugin-transform-block-scoping@npm:^7.22.10":[m
[31m-  version: 7.22.10[m
[31m-  resolution: "@babel/plugin-transform-block-scoping@npm:7.22.10"[m
[32m+[m[32m"@babel/plugin-transform-block-scoping@npm:^7.22.15":[m
[32m+[m[32m  version: 7.22.15[m
[32m+[m[32m  resolution: "@babel/plugin-transform-block-scoping@npm:7.22.15"[m
   dependencies:[m
     "@babel/helper-plugin-utils": ^7.22.5[m
   peerDependencies:[m
     "@babel/core": ^7.0.0-0[m
[31m-  checksum: b1d06f358dedcb748a57e5feea4b9285c60593fb2912b921f22898c57c552c78fe18128678c8f84dd4ea1d4e5aebede8783830b24cd63f22c30261156d78bc77[m
[32m+[m[32m  checksum: c7091dc000b854ce0c471588ca0704ef1ce78cff954584a9f21c1668fd0669e7c8d5396fb72fe49a2216d9b96a400d435f424f27e41a097ef6c855f9c57df195[m
   languageName: node[m
   linkType: hard[m
 [m
[36m@@ -756,35 +849,35 @@[m [m__metadata:[m
   languageName: node[m
   linkType: hard[m
 [m
[31m-"@babel/plugin-transform-class-static-block@npm:^7.22.5":[m
[31m-  version: 7.22.5[m
[31m-  resolution: "@babel/plugin-transform-class-static-block@npm:7.22.5"[m
[32m+[m[32m"@babel/plugin-transform-class-static-block@npm:^7.22.11":[m
[32m+[m[32m  version: 7.22.11[m
[32m+[m[32m  resolution: "@babel/plugin-transform-class-static-block@npm:7.22.11"[m
   dependencies:[m
[31m-    "@babel/helper-create-class-features-plugin": ^7.22.5[m
[32m+[m[32m    "@babel/helper-create-class-features-plugin": ^7.22.11[m
     "@babel/helper-plugin-utils": ^7.22.5[m
     "@babel/plugin-syntax-class-static-block": ^7.14.5[m
   peerDependencies:[m
     "@babel/core": ^7.12.0[m
[31m-  checksum: bc48b92dbaf625a14f2bf62382384eef01e0515802426841636ae9146e27395d068c7a8a45e9e15699491b0a01d990f38f179cbc9dc89274a393f85648772f12[m
[32m+[m[32m  checksum: 69f040506fad66f1c6918d288d0e0edbc5c8a07c8b4462c1184ad2f9f08995d68b057126c213871c0853ae0c72afc60ec87492049dfacb20902e32346a448bcb[m
   languageName: node[m
   linkType: hard[m
 [m
[31m-"@babel/plugin-transform-classes@npm:^7.22.6":[m
[31m-  version: 7.22.6[m
[31m-  resolution: "@babel/plugin-transform-classes@npm:7.22.6"[m
[32m+[m[32m"@babel/plugin-transform-classes@npm:^7.22.15":[m
[32m+[m[32m  version: 7.22.15[m
[32m+[m[32m  resolution: "@babel/plugin-transform-classes@npm:7.22.15"[m
   dependencies:[m
     "@babel/helper-annotate-as-pure": ^7.22.5[m
[31m-    "@babel/helper-compilation-targets": ^7.22.6[m
[32m+[m[32m    "@babel/helper-compilation-targets": ^7.22.15[m
     "@babel/helper-environment-visitor": ^7.22.5[m
     "@babel/helper-function-name": ^7.22.5[m
     "@babel/helper-optimise-call-expression": ^7.22.5[m
     "@babel/helper-plugin-utils": ^7.22.5[m
[31m-    "@babel/helper-replace-supers": ^7.22.5[m
[32m+[m[32m    "@babel/helper-replace-supers": ^7.22.9[m
     "@babel/helper-split-export-declaration": ^7.22.6[m
     globals: ^11.1.0[m
   peerDependencies:[m
     "@babel/core": ^7.0.0-0[m
[31m-  checksum: 8380e855c01033dbc7460d9acfbc1fc37c880350fa798c2de8c594ef818ade0e4c96173ec72f05f2a4549d8d37135e18cb62548352d51557b45a0fb4388d2f3f[m
[32m+[m[32m  checksum: d3f4d0c107dd8a3557ea3575cc777fab27efa92958b41e4a9822f7499725c1f554beae58855de16ddec0a7b694e45f59a26cea8fbde4275563f72f09c6e039a0[m
   languageName: node[m
   linkType: hard[m
 [m
[36m@@ -800,14 +893,14 @@[m [m__metadata:[m
   languageName: node[m
   linkType: hard[m
 [m
[31m-"@babel/plugin-transform-destructuring@npm:^7.22.10":[m
[31m-  version: 7.22.10[m
[31m-  resolution: "@babel/plugin-transform-destructuring@npm:7.22.10"[m
[32m+[m[32m"@babel/plugin-transform-destructuring@npm:^7.22.15":[m
[32m+[m[32m  version: 7.22.15[m
[32m+[m[32m  resolution: "@babel/plugin-transform-destructuring@npm:7.22.15"[m
   dependencies:[m
     "@babel/helper-plugin-utils": ^7.22.5[m
   peerDependencies:[m
     "@babel/core": ^7.0.0-0[m
[31m-  checksum: 011707801bd0029fd4f0523d24d06fdc0cbe8c9da280d75728f76713d639c4dc976e1b56a1ba7bff25468f86867efb71c9b4cac81140adbdd0abf2324b19a8bb[m
[32m+[m[32m  checksum: 4bccb4765e5287f1d36119d930afb9941ea8f4f001bddb8febff716bac0e09dc58576624f3ec59470630513044dd342075fe11af16d8c1b234cb7406cffca9f0[m
   languageName: node[m
   linkType: hard[m
 [m
[36m@@ -834,15 +927,15 @@[m [m__metadata:[m
   languageName: node[m
   linkType: hard[m
 [m
[31m-"@babel/plugin-transform-dynamic-import@npm:^7.22.5":[m
[31m-  version: 7.22.5[m
[31m-  resolution: "@babel/plugin-transform-dynamic-import@npm:7.22.5"[m
[32m+[m[32m"@babel/plugin-transform-dynamic-import@npm:^7.22.11":[m
[32m+[m[32m  version: 7.22.11[m
[32m+[m[32m  resolution: "@babel/plugin-transform-dynamic-import@npm:7.22.11"[m
   dependencies:[m
     "@babel/helper-plugin-utils": ^7.22.5[m
     "@babel/plugin-syntax-dynamic-import": ^7.8.3[m
   peerDependencies:[m
     "@babel/core": ^7.0.0-0[m
[31m-  checksum: 186a6d59f36eb3c5824739fc9c22ed0f4ca68e001662aa3a302634346a8b785cb9579b23b0c158f4570604d697d19598ca09b58c60a7fa2894da1163c4eb1907[m
[32m+[m[32m  checksum: 78fc9c532210bf9e8f231747f542318568ac360ee6c27e80853962c984283c73da3f8f8aebe83c2096090a435b356b092ed85de617a156cbe0729d847632be45[m
   languageName: node[m
   linkType: hard[m
 [m
[36m@@ -858,15 +951,15 @@[m [m__metadata:[m
   languageName: node[m
   linkType: hard[m
 [m
[31m-"@babel/plugin-transform-export-namespace-from@npm:^7.22.5":[m
[31m-  version: 7.22.5[m
[31m-  resolution: "@babel/plugin-transform-export-namespace-from@npm:7.22.5"[m
[32m+[m[32m"@babel/plugin-transform-export-namespace-from@npm:^7.22.11":[m
[32m+[m[32m  version: 7.22.11[m
[32m+[m[32m  resolution: "@babel/plugin-transform-export-namespace-from@npm:7.22.11"[m
   dependencies:[m
     "@babel/helper-plugin-utils": ^7.22.5[m
     "@babel/plugin-syntax-export-namespace-from": ^7.8.3[m
   peerDependencies:[m
     "@babel/core": ^7.0.0-0[m
[31m-  checksum: 3d197b788758044983c96b9c49bed4b456055f35a388521a405968db0f6e2ffb6fd59110e3931f4dcc5e126ae9e5e00e154a0afb47a7ea359d8d0dea79f480d7[m
[32m+[m[32m  checksum: 73af5883a321ed56a4bfd43c8a7de0164faebe619287706896fc6ee2f7a4e69042adaa1338c0b8b4bdb9f7e5fdceb016fb1d40694cb43ca3b8827429e8aac4bf[m
   languageName: node[m
   linkType: hard[m
 [m
[36m@@ -882,14 +975,14 @@[m [m__metadata:[m
   languageName: node[m
   linkType: hard[m
 [m
[31m-"@babel/plugin-transform-for-of@npm:^7.22.5":[m
[31m-  version: 7.22.5[m
[31m-  resolution: "@babel/plugin-transform-for-of@npm:7.22.5"[m
[32m+[m[32m"@babel/plugin-transform-for-of@npm:^7.22.15":[m
[32m+[m[32m  version: 7.22.15[m
[32m+[m[32m  resolution: "@babel/plugin-transform-for-of@npm:7.22.15"[m
   dependencies:[m
     "@babel/helper-plugin-utils": ^7.22.5[m
   peerDependencies:[m
     "@babel/core": ^7.0.0-0[m
[31m-  checksum: d7b8d4db010bce7273674caa95c4e6abd909362866ce297e86a2ecaa9ae636e05d525415811db9b3c942155df7f3651d19b91dd6c41f142f7308a97c7cb06023[m
[32m+[m[32m  checksum: f395ae7bce31e14961460f56cf751b5d6e37dd27d7df5b1f4e49fec1c11b6f9cf71991c7ffbe6549878591e87df0d66af798cf26edfa4bfa6b4c3dba1fb2f73a[m
   languageName: node[m
   linkType: hard[m
 [m
[36m@@ -906,15 +999,15 @@[m [m__metadata:[m
   languageName: node[m
   linkType: hard[m
 [m
[31m-"@babel/plugin-transform-json-strings@npm:^7.22.5":[m
[31m-  version: 7.22.5[m
[31m-  resolution: "@babel/plugin-transform-json-strings@npm:7.22.5"[m
[32m+[m[32m"@babel/plugin-transform-json-strings@npm:^7.22.11":[m
[32m+[m[32m  version: 7.22.11[m
[32m+[m[32m  resolution: "@babel/plugin-transform-json-strings@npm:7.22.11"[m
   dependencies:[m
     "@babel/helper-plugin-utils": ^7.22.5[m
     "@babel/plugin-syntax-json-strings": ^7.8.3[m
   peerDependencies:[m
     "@babel/core": ^7.0.0-0[m
[31m-  checksum: 4e00b902487a670b6c8948f33f9108133fd745cf9d1478aca515fb460b9b2f12e137988ebc1663630fb82070a870aed8b0c1aa4d007a841c18004619798f255c[m
[32m+[m[32m  checksum: 50665e5979e66358c50e90a26db53c55917f78175127ac2fa05c7888d156d418ffb930ec0a109353db0a7c5f57c756ce01bfc9825d24cbfd2b3ec453f2ed8cba[m
   languageName: node[m
   linkType: hard[m
 [m
[36m@@ -929,15 +1022,15 @@[m [m__metadata:[m
   languageName: node[m
   linkType: hard[m
 [m
[31m-"@babel/plugin-transform-logical-assignment-operators@npm:^7.22.5":[m
[31m-  version: 7.22.5[m
[31m-  resolution: "@babel/plugin-transform-logical-assignment-operators@npm:7.22.5"[m
[32m+[m[32m"@babel/plugin-transform-logical-assignment-operators@npm:^7.22.11":[m
[32m+[m[32m  version: 7.22.11[m
[32m+[m[32m  resolution: "@babel/plugin-transform-logical-assignment-operators@npm:7.22.11"[m
   dependencies:[m
     "@babel/helper-plugin-utils": ^7.22.5[m
     "@babel/plugin-syntax-logical-assignment-operators": ^7.10.4[m
   peerDependencies:[m
     "@babel/core": ^7.0.0-0[m
[31m-  checksum: 18748e953c08f64885f18c224eac58df10a13eac4d845d16b5d9b6276907da7ca2530dfebe6ed41cdc5f8a75d9db3e36d8eb54ddce7cd0364af1cab09b435302[m
[32m+[m[32m  checksum: c664e9798e85afa7f92f07b867682dee7392046181d82f5d21bae6f2ca26dfe9c8375cdc52b7483c3fc09a983c1989f60eff9fbc4f373b0c0a74090553d05739[m
   languageName: node[m
   linkType: hard[m
 [m
[36m@@ -964,7 +1057,7 @@[m [m__metadata:[m
   languageName: node[m
   linkType: hard[m
 [m
[31m-"@babel/plugin-transform-modules-commonjs@npm:^7.13.8, @babel/plugin-transform-modules-commonjs@npm:^7.22.5":[m
[32m+[m[32m"@babel/plugin-transform-modules-commonjs@npm:^7.13.8":[m
   version: 7.22.5[m
   resolution: "@babel/plugin-transform-modules-commonjs@npm:7.22.5"[m
   dependencies:[m
[36m@@ -977,30 +1070,30 @@[m [m__metadata:[m
   languageName: node[m
   linkType: hard[m
 [m
[31m-"@babel/plugin-transform-modules-commonjs@npm:^7.22.11":[m
[31m-  version: 7.22.11[m
[31m-  resolution: "@babel/plugin-transform-modules-commonjs@npm:7.22.11"[m
[32m+[m[32m"@babel/plugin-transform-modules-commonjs@npm:^7.22.15":[m
[32m+[m[32m  version: 7.22.15[m
[32m+[m[32m  resolution: "@babel/plugin-transform-modules-commonjs@npm:7.22.15"[m
   dependencies:[m
[31m-    "@babel/helper-module-transforms": ^7.22.9[m
[32m+[m[32m    "@babel/helper-module-transforms": ^7.22.15[m
     "@babel/helper-plugin-utils": ^7.22.5[m
     "@babel/helper-simple-access": ^7.22.5[m
   peerDependencies:[m
     "@babel/core": ^7.0.0-0[m
[31m-  checksum: c15ad7f1234a930cab214224bb85f6b3a3f301fa1d4d15bef193e5c11c614ce369551e5cbb708fde8d3f7e1cb84b05e9798a3647a11b56c3d67580e362a712d4[m
[32m+[m[32m  checksum: f8fc85fefa6be8626a378ca38fb84c7359043e7c692c854e9ee250a05121553b7f4a58e127099efe12662ec6bebbfd304ce638a0b4563d7cbd5982f3d877321c[m
   languageName: node[m
   linkType: hard[m
 [m
[31m-"@babel/plugin-transform-modules-systemjs@npm:^7.22.5":[m
[31m-  version: 7.22.5[m
[31m-  resolution: "@babel/plugin-transform-modules-systemjs@npm:7.22.5"[m
[32m+[m[32m"@babel/plugin-transform-modules-systemjs@npm:^7.22.11":[m
[32m+[m[32m  version: 7.22.11[m
[32m+[m[32m  resolution: "@babel/plugin-transform-modules-systemjs@npm:7.22.11"[m
   dependencies:[m
     "@babel/helper-hoist-variables": ^7.22.5[m
[31m-    "@babel/helper-module-transforms": ^7.22.5[m
[32m+[m[32m    "@babel/helper-module-transforms": ^7.22.9[m
     "@babel/helper-plugin-utils": ^7.22.5[m
     "@babel/helper-validator-identifier": ^7.22.5[m
   peerDependencies:[m
     "@babel/core": ^7.0.0-0[m
[31m-  checksum: 04f4178589543396b3c24330a67a59c5e69af5e96119c9adda730c0f20122deaff54671ebbc72ad2df6495a5db8a758bd96942de95fba7ad427de9c80b1b38c8[m
[32m+[m[32m  checksum: d0991e4bdc3352b6a9f4d12b6662e3645d892cd5c3c005ba5f14e65f1e218c6a8f7f4497e64a51d82a046e507aaa7db3143b800b0270dca1824cbd214ff3363d[m
   languageName: node[m
   linkType: hard[m
 [m
[36m@@ -1039,42 +1132,42 @@[m [m__metadata:[m
   languageName: node[m
   linkType: hard[m
 [m
[31m-"@babel/plugin-transform-nullish-coalescing-operator@npm:^7.22.5":[m
[31m-  version: 7.22.5[m
[31m-  resolution: "@babel/plugin-transform-nullish-coalescing-operator@npm:7.22.5"[m
[32m+[m[32m"@babel/plugin-transform-nullish-coalescing-operator@npm:^7.22.11":[m
[32m+[m[32m  version: 7.22.11[m
[32m+[m[32m  resolution: "@babel/plugin-transform-nullish-coalescing-operator@npm:7.22.11"[m
   dependencies:[m
     "@babel/helper-plugin-utils": ^7.22.5[m
     "@babel/plugin-syntax-nullish-coalescing-operator": ^7.8.3[m
   peerDependencies:[m
     "@babel/core": ^7.0.0-0[m
[31m-  checksum: e6a059169d257fc61322d0708edae423072449b7c33de396261e68dee582aec5396789a1c22bce84e5bd88a169623c2e750b513fc222930979e6accd52a44bf2[m
[32m+[m[32m  checksum: 167babecc8b8fe70796a7b7d34af667ebbf43da166c21689502e5e8cc93180b7a85979c77c9f64b7cce431b36718bd0a6df9e5e0ffea4ae22afb22cfef886372[m
   languageName: node[m
   linkType: hard[m
 [m
[31m-"@babel/plugin-transform-numeric-separator@npm:^7.22.5":[m
[31m-  version: 7.22.5[m
[31m-  resolution: "@babel/plugin-transform-numeric-separator@npm:7.22.5"[m
[32m+[m[32m"@babel/plugin-transform-numeric-separator@npm:^7.22.11":[m
[32m+[m[32m  version: 7.22.11[m
[32m+[m[32m  resolution: "@babel/plugin-transform-numeric-separator@npm:7.22.11"[m
   dependencies:[m
     "@babel/helper-plugin-utils": ^7.22.5[m
     "@babel/plugin-syntax-numeric-separator": ^7.10.4[m
   peerDependencies:[m
     "@babel/core": ^7.0.0-0[m
[31m-  checksum: 9e7837d4eae04f211ebaa034fe5003d2927b6bf6d5b9dc09f2b1183c01482cdde5a75b8bd5c7ff195c2abc7b923339eb0b2a9d27cb78359d38248a3b2c2367c4[m
[32m+[m[32m  checksum: af064d06a4a041767ec396a5f258103f64785df290e038bba9f0ef454e6c914f2ac45d862bbdad8fac2c7ad47fa4e95356f29053c60c100a0160b02a995fe2a3[m
   languageName: node[m
   linkType: hard[m
 [m
[31m-"@babel/plugin-transform-object-rest-spread@npm:^7.22.5":[m
[31m-  version: 7.22.5[m
[31m-  resolution: "@babel/plugin-transform-object-rest-spread@npm:7.22.5"[m
[32m+[m[32m"@babel/plugin-transform-object-rest-spread@npm:^7.22.15":[m
[32m+[m[32m  version: 7.22.15[m
[32m+[m[32m  resolution: "@babel/plugin-transform-object-rest-spread@npm:7.22.15"[m
   dependencies:[m
[31m-    "@babel/compat-data": ^7.22.5[m
[31m-    "@babel/helper-compilation-targets": ^7.22.5[m
[32m+[m[32m    "@babel/compat-data": ^7.22.9[m
[32m+[m[32m    "@babel/helper-compilation-targets": ^7.22.15[m
     "@babel/helper-plugin-utils": ^7.22.5[m
     "@babel/plugin-syntax-object-rest-spread": ^7.8.3[m
[31m-    "@babel/plugin-transform-parameters": ^7.22.5[m
[32m+[m[32m    "@babel/plugin-transform-parameters": ^7.22.15[m
   peerDependencies:[m
     "@babel/core": ^7.0.0-0[m
[31m-  checksum: 3b5e091f0dc67108f2e41ed5a97e15bbe4381a19d9a7eea80b71c7de1d8169fd28784e1e41a3d2ad12709ab212e58fc481282a5bb65d591fae7b443048de3330[m
[32m+[m[32m  checksum: 62197a6f12289c1c1bd57f3bed9f0f765ca32390bfe91e0b5561dd94dd9770f4480c4162dec98da094bc0ba99d2c2ebba68de47c019454041b0b7a68ba2ec66d[m
   languageName: node[m
   linkType: hard[m
 [m
[36m@@ -1090,39 +1183,39 @@[m [m__metadata:[m
   languageName: node[m
   linkType: hard[m
 [m
[31m-"@babel/plugin-transform-optional-catch-binding@npm:^7.22.5":[m
[31m-  version: 7.22.5[m
[31m-  resolution: "@babel/plugin-transform-optional-catch-binding@npm:7.22.5"[m
[32m+[m[32m"@babel/plugin-transform-optional-catch-binding@npm:^7.22.11":[m
[32m+[m[32m  version: 7.22.11[m
[32m+[m[32m  resolution: "@babel/plugin-transform-optional-catch-binding@npm:7.22.11"[m
   dependencies:[m
     "@babel/helper-plugin-utils": ^7.22.5[m
     "@babel/plugin-syntax-optional-catch-binding": ^7.8.3[m
   peerDependencies:[m
     "@babel/core": ^7.0.0-0[m
[31m-  checksum: b0e8b4233ff06b5c9d285257f49c5bd441f883189b24282e6200f9ebdf5db29aeeebbffae57fbbcd5df9f4387b3e66e5d322aaae5652a78e89685ddbae46bbd1[m
[32m+[m[32m  checksum: f17abd90e1de67c84d63afea29c8021c74abb2794d3a6eeafb0bbe7372d3db32aefca386e392116ec63884537a4a2815d090d26264d259bacc08f6e3ed05294c[m
   languageName: node[m
   linkType: hard[m
 [m
[31m-"@babel/plugin-transform-optional-chaining@npm:^7.22.10, @babel/plugin-transform-optional-chaining@npm:^7.22.5":[m
[31m-  version: 7.22.10[m
[31m-  resolution: "@babel/plugin-transform-optional-chaining@npm:7.22.10"[m
[32m+[m[32m"@babel/plugin-transform-optional-chaining@npm:^7.22.15":[m
[32m+[m[32m  version: 7.22.15[m
[32m+[m[32m  resolution: "@babel/plugin-transform-optional-chaining@npm:7.22.15"[m
   dependencies:[m
     "@babel/helper-plugin-utils": ^7.22.5[m
     "@babel/helper-skip-transparent-expression-wrappers": ^7.22.5[m
     "@babel/plugin-syntax-optional-chaining": ^7.8.3[m
   peerDependencies:[m
     "@babel/core": ^7.0.0-0[m
[31m-  checksum: 522d6214bb9f6ede8a2fc56a873e791aabd62f0b3be78fb8e62ca801a9033bcadabfb77aec6739f0e67f0f15f7c739c08bafafd66d3676edf1941fe6429cebcd[m
[32m+[m[32m  checksum: 6b97abe0e50ca2dd8684fcef2c8d12607637e707aa9d513b7035f5e812efbde9305736b438d422103a7844e04124cad5efa4ff0e6226a57afa1210a1c7485c8e[m
   languageName: node[m
   linkType: hard[m
 [m
[31m-"@babel/plugin-transform-parameters@npm:^7.22.5":[m
[31m-  version: 7.22.5[m
[31m-  resolution: "@babel/plugin-transform-parameters@npm:7.22.5"[m
[32m+[m[32m"@babel/plugin-transform-parameters@npm:^7.22.15":[m
[32m+[m[32m  version: 7.22.15[m
[32m+[m[32m  resolution: "@babel/plugin-transform-parameters@npm:7.22.15"[m
   dependencies:[m
     "@babel/helper-plugin-utils": ^7.22.5[m
   peerDependencies:[m
     "@babel/core": ^7.0.0-0[m
[31m-  checksum: b44f89cf97daf23903776ba27c2ab13b439d80d8c8a95be5c476ab65023b1e0c0e94c28d3745f3b60a58edc4e590fa0cd4287a0293e51401ca7d29a2ddb13b8e[m
[32m+[m[32m  checksum: 541188bb7d1876cad87687b5c7daf90f63d8208ae83df24acb1e2b05020ad1c78786b2723ca4054a83fcb74fb6509f30c4cacc5b538ee684224261ad5fb047c1[m
   languageName: node[m
   linkType: hard[m
 [m
[36m@@ -1138,17 +1231,17 @@[m [m__metadata:[m
   languageName: node[m
   linkType: hard[m
 [m
[31m-"@babel/plugin-transform-private-property-in-object@npm:^7.22.5":[m
[31m-  version: 7.22.5[m
[31m-  resolution: "@babel/plugin-transform-private-property-in-object@npm:7.22.5"[m
[32m+[m[32m"@babel/plugin-transform-private-property-in-object@npm:^7.22.11":[m
[32m+[m[32m  version: 7.22.11[m
[32m+[m[32m  resolution: "@babel/plugin-transform-private-property-in-object@npm:7.22.11"[m
   dependencies:[m
     "@babel/helper-annotate-as-pure": ^7.22.5[m
[31m-    "@babel/helper-create-class-features-plugin": ^7.22.5[m
[32m+[m[32m    "@babel/helper-create-class-features-plugin": ^7.22.11[m
     "@babel/helper-plugin-utils": ^7.22.5[m
     "@babel/plugin-syntax-private-property-in-object": ^7.14.5[m
   peerDependencies:[m
     "@babel/core": ^7.0.0-0[m
[31m-  checksum: 9ac019fb2772f3af6278a7f4b8b14b0663accb3fd123d87142ceb2fbc57fd1afa07c945d1329029b026b9ee122096ef71a3f34f257a9e04cf4245b87298c38b4[m
[32m+[m[32m  checksum: 4d029d84901e53c46dead7a46e2990a7bc62470f4e4ca58a0d063394f86652fd58fe4eea1eb941da3669cd536b559b9d058b342b59300026346b7a2a51badac8[m
   languageName: node[m
   linkType: hard[m
 [m
[36m@@ -1185,6 +1278,21 @@[m [m__metadata:[m
   languageName: node[m
   linkType: hard[m
 [m
[32m+[m[32m"@babel/plugin-transform-react-jsx@npm:^7.22.15":[m
[32m+[m[32m  version: 7.22.15[m
[32m+[m[32m  resolution: "@babel/plugin-transform-react-jsx@npm:7.22.15"[m
[32m+[m[32m  dependencies:[m
[32m+[m[32m    "@babel/helper-annotate-as-pure": ^7.22.5[m
[32m+[m[32m    "@babel/helper-module-imports": ^7.22.15[m
[32m+[m[32m    "@babel/helper-plugin-utils": ^7.22.5[m
[32m+[m[32m    "@babel/plugin-syntax-jsx": ^7.22.5[m
[32m+[m[32m    "@babel/types": ^7.22.15[m
[32m+[m[32m  peerDependencies:[m
[32m+[m[32m    "@babel/core": ^7.0.0-0[m
[32m+[m[32m  checksum: 3899054e89550c3a0ef041af7c47ee266e2e934f498ee80fefeda778a6aa177b48aa8b4d2a8bf5848de977fec564571699ab952d9fa089c4c19b45ddb121df09[m
[32m+[m[32m  languageName: node[m
[32m+[m[32m  linkType: hard[m
[32m+[m
 "@babel/plugin-transform-react-jsx@npm:^7.22.5":[m
   version: 7.22.5[m
   resolution: "@babel/plugin-transform-react-jsx@npm:7.22.5"[m
[36m@@ -1291,17 +1399,17 @@[m [m__metadata:[m
   languageName: node[m
   linkType: hard[m
 [m
[31m-"@babel/plugin-transform-typescript@npm:^7.22.11":[m
[31m-  version: 7.22.11[m
[31m-  resolution: "@babel/plugin-transform-typescript@npm:7.22.11"[m
[32m+[m[32m"@babel/plugin-transform-typescript@npm:^7.22.15":[m
[32m+[m[32m  version: 7.22.15[m
[32m+[m[32m  resolution: "@babel/plugin-transform-typescript@npm:7.22.15"[m
   dependencies:[m
     "@babel/helper-annotate-as-pure": ^7.22.5[m
[31m-    "@babel/helper-create-class-features-plugin": ^7.22.11[m
[32m+[m[32m    "@babel/helper-create-class-features-plugin": ^7.22.15[m
     "@babel/helper-plugin-utils": ^7.22.5[m
     "@babel/plugin-syntax-typescript": ^7.22.5[m
   peerDependencies:[m
     "@babel/core": ^7.0.0-0[m
[31m-  checksum: a0dc3c2427b55602944705c9a91b4c074524badd5ea87edb603ddeabe7fae531bcbe68475106d7a00079b67bb422dbf2e9f50e15c25ac24d7e9fe77f37ebcfb4[m
[32m+[m[32m  checksum: c5d96cdbf0e1512707aa1c1e3ac6b370a25fd9c545d26008ce44eb13a47bd7fd67a1eb799c98b5ccc82e33a345fda55c0055e1fe3ed97646ed405dd13020b226[m
   languageName: node[m
   linkType: hard[m
 [m
[36m@@ -1353,15 +1461,15 @@[m [m__metadata:[m
   linkType: hard[m
 [m
 "@babel/preset-env@npm:^7.22.5, @babel/preset-env@npm:^7.22.9":[m
[31m-  version: 7.22.10[m
[31m-  resolution: "@babel/preset-env@npm:7.22.10"[m
[32m+[m[32m  version: 7.22.20[m
[32m+[m[32m  resolution: "@babel/preset-env@npm:7.22.20"[m
   dependencies:[m
[31m-    "@babel/compat-data": ^7.22.9[m
[31m-    "@babel/helper-compilation-targets": ^7.22.10[m
[32m+[m[32m    "@babel/compat-data": ^7.22.20[m
[32m+[m[32m    "@babel/helper-compilation-targets": ^7.22.15[m
     "@babel/helper-plugin-utils": ^7.22.5[m
[31m-    "@babel/helper-validator-option": ^7.22.5[m
[31m-    "@babel/plugin-bugfix-safari-id-destructuring-collision-in-function-expression": ^7.22.5[m
[31m-    "@babel/plugin-bugfix-v8-spread-parameters-in-optional-chaining": ^7.22.5[m
[32m+[m[32m    "@babel/helper-validator-option": ^7.22.15[m
[32m+[m[32m    "@babel/plugin-bugfix-safari-id-destructuring-collision-in-function-expression": ^7.22.15[m
[32m+[m[32m    "@babel/plugin-bugfix-v8-spread-parameters-in-optional-chaining": ^7.22.15[m
     "@babel/plugin-proposal-private-property-in-object": 7.21.0-placeholder-for-preset-env.2[m
     "@babel/plugin-syntax-async-generators": ^7.8.4[m
     "@babel/plugin-syntax-class-properties": ^7.12.13[m
[36m@@ -1382,41 +1490,41 @@[m [m__metadata:[m
     "@babel/plugin-syntax-top-level-await": ^7.14.5[m
     "@babel/plugin-syntax-unicode-sets-regex": ^7.18.6[m
     "@babel/plugin-transform-arrow-functions": ^7.22.5[m
[31m-    "@babel/plugin-transform-async-generator-functions": ^7.22.10[m
[32m+[m[32m    "@babel/plugin-transform-async-generator-functions": ^7.22.15[m
     "@babel/plugin-transform-async-to-generator": ^7.22.5[m
     "@babel/plugin-transform-block-scoped-functions": ^7.22.5[m
[31m-    "@babel/plugin-transform-block-scoping": ^7.22.10[m
[32m+[m[32m    "@babel/plugin-transform-block-scoping": ^7.22.15[m
     "@babel/plugin-transform-class-properties": ^7.22.5[m
[31m-    "@babel/plugin-transform-class-static-block": ^7.22.5[m
[31m-    "@babel/plugin-transform-classes": ^7.22.6[m
[32m+[m[32m    "@babel/plugin-transform-class-static-block": ^7.22.11[m
[32m+[m[32m    "@babel/plugin-transform-classes": ^7.22.15[m
     "@babel/plugin-transform-computed-properties": ^7.22.5[m
[31m-    "@babel/plugin-transform-destructuring": ^7.22.10[m
[32m+[m[32m    "@babel/plugin-transform-destructuring": ^7.22.15[m
     "@babel/plugin-transform-dotall-regex": ^7.22.5[m
     "@babel/plugin-transform-duplicate-keys": ^7.22.5[m
[31m-    "@babel/plugin-transform-dynamic-import": ^7.22.5[m
[32m+[m[32m    "@babel/plugin-transform-dynamic-import": ^7.22.11[m
     "@babel/plugin-transform-exponentiation-operator": ^7.22.5[m
[31m-    "@babel/plugin-transform-export-namespace-from": ^7.22.5[m
[31m-    "@babel/plugin-transform-for-of": ^7.22.5[m
[32m+[m[32m    "@babel/plugin-transform-export-namespace-from": ^7.22.11[m
[32m+[m[32m    "@babel/plugin-transform-for-of": ^7.22.15[m
     "@babel/plugin-transform-function-name": ^7.22.5[m
[31m-    "@babel/plugin-transform-json-strings": ^7.22.5[m
[32m+[m[32m    "@babel/plugin-transform-json-strings": ^7.22.11[m
     "@babel/plugin-transform-literals": ^7.22.5[m
[31m-    "@babel/plugin-transform-logical-assignment-operators": ^7.22.5[m
[32m+[m[32m    "@babel/plugin-transform-logical-assignment-operators": ^7.22.11[m
     "@babel/plugin-transform-member-expression-literals": ^7.22.5[m
     "@babel/plugin-transform-modules-amd": ^7.22.5[m
[31m-    "@babel/plugin-transform-modules-commonjs": ^7.22.5[m
[31m-    "@babel/plugin-transform-modules-systemjs": ^7.22.5[m
[32m+[m[32m    "@babel/plugin-transform-modules-commonjs": ^7.22.15[m
[32m+[m[32m    "@babel/plugin-transform-modules-systemjs": ^7.22.11[m
     "@babel/plugin-transform-modules-umd": ^7.22.5[m
     "@babel/plugin-transform-named-capturing-groups-regex": ^7.22.5[m
     "@babel/plugin-transform-new-target": ^7.22.5[m
[31m-    "@babel/plugin-transform-nullish-coalescing-operator": ^7.22.5[m
[31m-    "@babel/plugin-transform-numeric-separator": ^7.22.5[m
[31m-    "@babel/plugin-transform-object-rest-spread": ^7.22.5[m
[32m+[m[32m    "@babel/plugin-transform-nullish-coalescing-operator": ^7.22.11[m
[32m+[m[32m    "@babel/plugin-transform-numeric-separator": ^7.22.11[m
[32m+[m[32m    "@babel/plugin-transform-object-rest-spread": ^7.22.15[m
     "@babel/plugin-transform-object-super": ^7.22.5[m
[31m-    "@babel/plugin-transform-optional-catch-binding": ^7.22.5[m
[31m-    "@babel/plugin-transform-optional-chaining": ^7.22.10[m
[31m-    "@babel/plugin-transform-parameters": ^7.22.5[m
[32m+[m[32m    "@babel/plugin-transform-optional-catch-binding": ^7.22.11[m
[32m+[m[32m    "@babel/plugin-transform-optional-chaining": ^7.22.15[m
[32m+[m[32m    "@babel/plugin-transform-parameters": ^7.22.15[m
     "@babel/plugin-transform-private-methods": ^7.22.5[m
[31m-    "@babel/plugin-transform-private-property-in-object": ^7.22.5[m
[32m+[m[32m    "@babel/plugin-transform-private-property-in-object": ^7.22.11[m
     "@babel/plugin-transform-property-literals": ^7.22.5[m
     "@babel/plugin-transform-regenerator": ^7.22.10[m
     "@babel/plugin-transform-reserved-words": ^7.22.5[m
[36m@@ -1430,7 +1538,7 @@[m [m__metadata:[m
     "@babel/plugin-transform-unicode-regex": ^7.22.5[m
     "@babel/plugin-transform-unicode-sets-regex": ^7.22.5[m
     "@babel/preset-modules": 0.1.6-no-external-plugins[m
[31m-    "@babel/types": ^7.22.10[m
[32m+[m[32m    "@babel/types": ^7.22.19[m
     babel-plugin-polyfill-corejs2: ^0.4.5[m
     babel-plugin-polyfill-corejs3: ^0.8.3[m
     babel-plugin-polyfill-regenerator: ^0.5.2[m
[36m@@ -1438,7 +1546,7 @@[m [m__metadata:[m
     semver: ^6.3.1[m
   peerDependencies:[m
     "@babel/core": ^7.0.0-0[m
[31m-  checksum: 4145a660a7b05e21e6d8b6cdf348c6931238abb15282a258bdb5e04cd3cca9356dc120ecfe0d1b977819ade4aac50163127c86db2300227ff60392d24daa0b7c[m
[32m+[m[32m  checksum: 99357a5cb30f53bacdc0d1cd6dff0f052ea6c2d1ba874d969bba69897ef716e87283e84a59dc52fb49aa31fd1b6f55ed756c64c04f5678380700239f6030b881[m
   languageName: node[m
   linkType: hard[m
 [m
[36m@@ -1469,33 +1577,33 @@[m [m__metadata:[m
   linkType: hard[m
 [m
 "@babel/preset-react@npm:^7.22.5":[m
[31m-  version: 7.22.5[m
[31m-  resolution: "@babel/preset-react@npm:7.22.5"[m
[32m+[m[32m  version: 7.22.15[m
[32m+[m[32m  resolution: "@babel/preset-react@npm:7.22.15"[m
   dependencies:[m
     "@babel/helper-plugin-utils": ^7.22.5[m
[31m-    "@babel/helper-validator-option": ^7.22.5[m
[32m+[m[32m    "@babel/helper-validator-option": ^7.22.15[m
     "@babel/plugin-transform-react-display-name": ^7.22.5[m
[31m-    "@babel/plugin-transform-react-jsx": ^7.22.5[m
[32m+[m[32m    "@babel/plugin-transform-react-jsx": ^7.22.15[m
     "@babel/plugin-transform-react-jsx-development": ^7.22.5[m
     "@babel/plugin-transform-react-pure-annotations": ^7.22.5[m
   peerDependencies:[m
     "@babel/core": ^7.0.0-0[m
[31m-  checksum: b977c7ee83e93f62d77e61929ca3d97e5291e026e2f025a1b8b7ac9186486ed56c7d5bc36f0becabe0c24e8c42a4e4f2243a3cf841384cfafc3204c5d3e6c619[m
[32m+[m[32m  checksum: c3ef99dfa2e9f57d2e08603e883aa20f47630a826c8e413888a93ae6e0084b5016871e463829be125329d40a1ba0a89f7c43d77b6dab52083c225cb43e63d10e[m
   languageName: node[m
   linkType: hard[m
 [m
 "@babel/preset-typescript@npm:^7.13.0, @babel/preset-typescript@npm:^7.22.5":[m
[31m-  version: 7.22.11[m
[31m-  resolution: "@babel/preset-typescript@npm:7.22.11"[m
[32m+[m[32m  version: 7.22.15[m
[32m+[m[32m  resolution: "@babel/preset-typescript@npm:7.22.15"[m
   dependencies:[m
     "@babel/helper-plugin-utils": ^7.22.5[m
[31m-    "@babel/helper-validator-option": ^7.22.5[m
[32m+[m[32m    "@babel/helper-validator-option": ^7.22.15[m
     "@babel/plugin-syntax-jsx": ^7.22.5[m
[31m-    "@babel/plugin-transform-modules-commonjs": ^7.22.11[m
[31m-    "@babel/plugin-transform-typescript": ^7.22.11[m
[32m+[m[32m    "@babel/plugin-transform-modules-commonjs": ^7.22.15[m
[32m+[m[32m    "@babel/plugin-transform-typescript": ^7.22.15[m
   peerDependencies:[m
     "@babel/core": ^7.0.0-0[m
[31m-  checksum: 8ae7162c31db896f5eeecd6f67ab2e58555fdc06fe84e95fe4a3f60b64cd6f782d2d7dfbde0c0eac04b55dac18222752d91dd8786245cccedd7e42f080e07233[m
[32m+[m[32m  checksum: 02ac4d5c812a52357c8f517f81584725f06f385d54ccfda89dd082e0ed89a94bd9f4d9b05fa1cbdcf426e3489c1921f04c93c5acc5deea83407a64c22ad2feb4[m
   languageName: node[m
   linkType: hard[m
 [m
[36m@@ -1590,6 +1698,17 @@[m [m__metadata:[m
   languageName: node[m
   linkType: hard[m
 [m
[32m+[m[32m"@babel/types@npm:^7.22.15, @babel/types@npm:^7.22.19":[m
[32m+[m[32m  version: 7.22.19[m
[32m+[m[32m  resolution: "@babel/types@npm:7.22.19"[m
[32m+[m[32m  dependencies:[m
[32m+[m[32m    "@babel/helper-string-parser": ^7.22.5[m
[32m+[m[32m    "@babel/helper-validator-identifier": ^7.22.19[m
[32m+[m[32m    to-fast-properties: ^2.0.0[m
[32m+[m[32m  checksum: 2d69740e69b55ba36ece0c17d5afb7b7213b34297157df39ef9ba24965aff677c56f014413052ecc5b2fbbf26910c63e5bb24a969df84d7a17153750cf75915e[m
[32m+[m[32m  languageName: node[m
[32m+[m[32m  linkType: hard[m
[32m+[m
 "@base2/pretty-print-object@npm:1.0.1":[m
   version: 1.0.1[m
   resolution: "@base2/pretty-print-object@npm:1.0.1"[m
[36m@@ -3275,8 +3394,8 @@[m [m__metadata:[m
   linkType: hard[m
 [m
 "@storybook/addon-styling@npm:^1.3.6":[m
[31m-  version: 1.3.6[m
[31m-  resolution: "@storybook/addon-styling@npm:1.3.6"[m
[32m+[m[32m  version: 1.3.7[m
[32m+[m[32m  resolution: "@storybook/addon-styling@npm:1.3.7"[m
   dependencies:[m
     "@babel/template": ^7.20.7[m
     "@babel/types": ^7.21.5[m
[36m@@ -3315,7 +3434,7 @@[m [m__metadata:[m
       optional: true[m
   bin:[m
     addon-styling-setup: postinstall.js[m
[31m-  checksum: 1335b6b666f1c2bb294b784894cf19cb0888ebae31bf7b941a78c5808e0350df32dc50da406a7dd8dd854f44481b3bf408b0fc646a6d4b6fe234492977dddc8e[m
[32m+[m[32m  checksum: 5bac1a4109d15a6371260270518b2eada77ab153ddd0b75bb3c4ae31ee8ea61b6acacbf258add5166ae8b8450654fffc6be105c08c2b0ebdc2540abf6dba15a1[m
   languageName: node[m
   linkType: hard[m
 [m
[36m@@ -3933,14 +4052,14 @@[m [m__metadata:[m
   linkType: hard[m
 [m
 "@storybook/jest@npm:^0.2.1":[m
[31m-  version: 0.2.1[m
[31m-  resolution: "@storybook/jest@npm:0.2.1"[m
[32m+[m[32m  version: 0.2.2[m
[32m+[m[32m  resolution: "@storybook/jest@npm:0.2.2"[m
   dependencies:[m
     "@storybook/expect": storybook-jest[m
[31m-    "@testing-library/jest-dom": ^5.16.2[m
[32m+[m[32m    "@testing-library/jest-dom": ^6.1.2[m
     "@types/jest": 28.1.3[m
     jest-mock: ^27.3.0[m
[31m-  checksum: a242f9ba71e185b30cd86d8012ee09bac55ed6318e1e2adb338fa248561427819b32affe2e57d427d0d24066ed7f04dbc6e848890526db20cb200a01d8b13afd[m
[32m+[m[32m  checksum: bff58ef0b5bed1f8a0a753c7d8861667f6ca8852671e06fa294af254511f6796057475c5788aecd5f9790366c8c46b504040121afb2e0ea714fa5ffa79bea220[m
   languageName: node[m
   linkType: hard[m
 [m
[36m@@ -4262,13 +4381,13 @@[m [m__metadata:[m
   linkType: hard[m
 [m
 "@storybook/testing-library@npm:^0.2.0":[m
[31m-  version: 0.2.0[m
[31m-  resolution: "@storybook/testing-library@npm:0.2.0"[m
[32m+[m[32m  version: 0.2.1[m
[32m+[m[32m  resolution: "@storybook/testing-library@npm:0.2.1"[m
   dependencies:[m
     "@testing-library/dom": ^9.0.0[m
[31m-    "@testing-library/user-event": ^14.0.0[m
[32m+[m[32m    "@testing-library/user-event": ~14.4.0[m
     ts-dedent: ^2.2.0[m
[31m-  checksum: 1c1c16aea6f961de344f5d43bdfd2847bc5f44df1037c2e1383312bb6b842e2c17a805670fc9cfe1a8425f9e48e240fe5d025ab3d4802a198cfe9eb6ed8e7636[m
[32m+[m[32m  checksum: 2688361b634921219e4dc8e4acbc6622cfba6c224bd9bf17bf9bfb3655c906129cc82edd69354b9b1889b6f43c9c5e74bd51adb4407b68033d78279b93aee457[m
   languageName: node[m
   linkType: hard[m
 [m
[36m@@ -4456,24 +4575,37 @@[m [m__metadata:[m
   languageName: node[m
   linkType: hard[m
 [m
[31m-"@testing-library/jest-dom@npm:^5.16.2":[m
[31m-  version: 5.16.5[m
[31m-  resolution: "@testing-library/jest-dom@npm:5.16.5"[m
[32m+[m[32m"@testing-library/jest-dom@npm:^6.1.2":[m
[32m+[m[32m  version: 6.1.3[m
[32m+[m[32m  resolution: "@testing-library/jest-dom@npm:6.1.3"[m
   dependencies:[m
[31m-    "@adobe/css-tools": ^4.0.1[m
[32m+[m[32m    "@adobe/css-tools": ^4.3.0[m
     "@babel/runtime": ^7.9.2[m
[31m-    "@types/testing-library__jest-dom": ^5.9.1[m
     aria-query: ^5.0.0[m
     chalk: ^3.0.0[m
     css.escape: ^1.5.1[m
     dom-accessibility-api: ^0.5.6[m
     lodash: ^4.17.15[m
     redent: ^3.0.0[m
[31m-  checksum: 94911f901a8031f3e489d04ac057cb5373621230f5d92bed80e514e24b069fb58a3166d1dd86963e55f078a1bd999da595e2ab96ed95f452d477e272937d792a[m
[32m+[m[32m  peerDependencies:[m
[32m+[m[32m    "@jest/globals": ">= 28"[m
[32m+[m[32m    "@types/jest": ">= 28"[m
[32m+[m[32m    jest: ">= 28"[m
[32m+[m[32m    vitest: ">= 0.32"[m
[32m+[m[32m  peerDependenciesMeta:[m
[32m+[m[32m    "@jest/globals":[m
[32m+[m[32m      optional: true[m
[32m+[m[32m    "@types/jest":[m
[32m+[m[32m      optional: true[m
[32m+[m[32m    jest:[m
[32m+[m[32m      optional: true[m
[32m+[m[32m    vitest:[m
[32m+[m[32m      optional: true[m
[32m+[m[32m  checksum: 5bd14ba31fd3d64cff8ca55cccd335bedadf1db1119643954ca8cd30af835defe6f3a21e7d7617d20205b07abba1b2e668be1b9d6743504800f17fdc4344db75[m
   languageName: node[m
   linkType: hard[m
 [m
[31m-"@testing-library/user-event@npm:^14.0.0":[m
[32m+[m[32m"@testing-library/user-event@npm:~14.4.0":[m
   version: 14.4.3[m
   resolution: "@testing-library/user-event@npm:14.4.3"[m
   peerDependencies:[m
[36m@@ -4730,16 +4862,6 @@[m [m__metadata:[m
   languageName: node[m
   linkType: hard[m
 [m
[31m-"@types/jest@npm:*, @types/jest@npm:>=26.0.0":[m
[31m-  version: 29.5.2[m
[31m-  resolution: "@types/jest@npm:29.5.2"[m
[31m-  dependencies:[m
[31m-    expect: ^29.0.0[m
[31m-    pretty-format: ^29.0.0[m
[31m-  checksum: 7d205599ea3cccc262bad5cc173d3242d6bf8138c99458509230e4ecef07a52d6ddcde5a1dbd49ace655c0af51d2dbadef3748697292ea4d86da19d9e03e19c0[m
[31m-  languageName: node[m
[31m-  linkType: hard[m
[31m-[m
 "@types/jest@npm:28.1.3":[m
   version: 28.1.3[m
   resolution: "@types/jest@npm:28.1.3"[m
[36m@@ -4750,6 +4872,16 @@[m [m__metadata:[m
   languageName: node[m
   linkType: hard[m
 [m
[32m+[m[32m"@types/jest@npm:>=26.0.0":[m
[32m+[m[32m  version: 29.5.2[m
[32m+[m[32m  resolution: "@types/jest@npm:29.5.2"[m
[32m+[m[32m  dependencies:[m
[32m+[m[32m    expect: ^29.0.0[m
[32m+[m[32m    pretty-format: ^29.0.0[m
[32m+[m[32m  checksum: 7d205599ea3cccc262bad5cc173d3242d6bf8138c99458509230e4ecef07a52d6ddcde5a1dbd49ace655c0af51d2dbadef3748697292ea4d86da19d9e03e19c0[m
[32m+[m[32m  languageName: node[m
[32m+[m[32m  linkType: hard[m
[32m+[m
 "@types/json-schema@npm:*, @types/json-schema@npm:^7.0.8, @types/json-schema@npm:^7.0.9":[m
   version: 7.0.12[m
   resolution: "@types/json-schema@npm:7.0.12"[m
[36m@@ -4925,15 +5057,6 @@[m [m__metadata:[m
   languageName: node[m
   linkType: hard[m
 [m
[31m-"@types/testing-library__jest-dom@npm:^5.9.1":[m
[31m-  version: 5.14.6[m
[31m-  resolution: "@types/testing-library__jest-dom@npm:5.14.6"[m
[31m-  dependencies:[m
[31m-    "@types/jest": "*"[m
[31m-  checksum: 92f81cefeacba3b5c06d4b3fbea0341fe2bcaa6e425c026ae262de39f1148c2588cf3003112aa4ac0880c3972ffb77641a863f3be71518d1d8080402c944e326[m
[31m-  languageName: node[m
[31m-  linkType: hard[m
[31m-[m
 "@types/unist@npm:^2.0.0":[m
   version: 2.0.7[m
   resolution: "@types/unist@npm:2.0.7"[m
[1mdiff --git a/client/docker-compose.yml b/client/docker-compose.yml[m
[1mindex d4a16f31ab..27bfb311da 100644[m
[1m--- a/client/docker-compose.yml[m
[1m+++ b/client/docker-compose.yml[m
[36m@@ -51,7 +51,7 @@[m [mservices:[m
     depends_on:[m
       - postgres[m
   postgres:[m
[31m-    image: postgres:11.16@sha256:5d2aa4a7b5f9bdadeddcf87cf7f90a176737a02a30d917de4ab2e6a329bd2d45[m
[32m+[m[32m    image: postgres:16.0@sha256:f1aaf6f8be5552bef66c5580efbd2942c37d7277cd0416ef4939fa34bf0baf31[m
     profiles: ['platform'][m
     container_name: postgres[m
     command: ["postgres", "-c", "max_connections=200", "-c", "effective_cache_size=4GB", "-c", "shared_buffers=2GB", "-c", "synchronous_commit=off", "-c", "log_statement=none", "-c", "checkpoint_timeout=600", "-c", "max_wal_size=30GB"][m
[1mdiff --git a/client/e2e/cloud-tests/smokeTest.js b/client/e2e/cloud-tests/smokeTest.js[m
[1mindex 5e3f057d9f..f41818d648 100644[m
[1m--- a/client/e2e/cloud-tests/smokeTest.js[m
[1m+++ b/client/e2e/cloud-tests/smokeTest.js[m
[36m@@ -10,8 +10,9 @@[m [mimport * as u from '../utils';[m
 [m
 import * as e from './smokeTest.elements.js';[m
 import * as Common from '../tests/Common.elements.js';[m
[32m+[m[32mimport * as Collection from '../tests/Collection.elements.js';[m
 [m
[31m-fixture('Smoke test').page(config.endpoint);[m
[32m+[m[32mfixture('Smoke test').page(config.collectionsEndpoint);[m
 [m
 test('create a report from a template', async (t) => {[m
   if (!process.argv.includes('ci')) {[m
[36m@@ -26,8 +27,9 @@[m [mtest('create a report from a template', async (t) => {[m
     .click(e.submitButton);[m
 [m
   await t.click(e.whatsNewCloseBtn);[m
[31m-  await t.click(Common.createNewButton);[m
[31m-  await t.click(Common.menuOption('Report'));[m
[32m+[m[32m  await t.click(Collection.navItem);[m
[32m+[m[32m  await t.click(Common.createNewMenu);[m
[32m+[m[32m  await t.click(Common.option('Report'));[m
   await t.click(e.emptyTemplate);[m
   await t.click(Common.modalConfirmButton);[m
   await u.save(t);[m
[1mdiff --git a/client/e2e/config.js b/client/e2e/config.js[m
[1mindex a1cc7228cf..1c10b2e6f7 100644[m
[1m--- a/client/e2e/config.js[m
[1m+++ b/client/e2e/config.js[m
[36m@@ -9,6 +9,7 @@[m [mconst users = require('../demo-data/users.json');[m
 [m
 export default {[m
   endpoint: 'http://localhost:3000',[m
[32m+[m[32m  collectionsEndpoint: 'http://localhost:3000/#/collections',[m
   elasticSearchEndpoint: 'http://localhost:9200',[m
   users: {[m
     Chrome: [[m
[1mdiff --git a/client/e2e/tests/Alerts.elements.js b/client/e2e/tests/Alerts.elements.js[m
[1mindex 075646ef5c..058ccc0490 100644[m
[1m--- a/client/e2e/tests/Alerts.elements.js[m
[1m+++ b/client/e2e/tests/Alerts.elements.js[m
[36m@@ -8,11 +8,11 @@[m
 import {Selector} from 'testcafe';[m
 [m
 export const list = Selector('.AlertList .content');[m
[31m-export const newAlertButton = Selector('.AlertList .header button.createAlert');[m
[32m+[m[32mexport const newAlertButton = Selector('.AlertList .header .Button.primary');[m
 export const inputWithLabel = (label) =>[m
[31m-  Selector('.AlertModal label').withText(label).parent().find('input');[m
[32m+[m[32m  Selector('.AlertModal .label').withText(label).nextSibling();[m
 export const copyNameInput = Selector('.Modal.is-visible input');[m
 export const editButton = Selector('[title="Edit Alert"]');[m
 export const cancelButton = Selector('.Modal.is-visible .cds--modal-footer .cds--btn:nth-child(1)');[m
 export const deleteButton = Selector('[title="Delete Alert"]');[m
[31m-export const webhookDropdown = Selector('#webhooks');[m
[32m+[m[32mexport const webhookDropdown = Selector('.typeaheadInput').nth(1);[m
[1mdiff --git a/client/e2e/tests/Alerts.js b/client/e2e/tests/Alerts.js[m
[1mindex 6b47adbe24..35ef325cb0 100644[m
[1m--- a/client/e2e/tests/Alerts.js[m
[1m+++ b/client/e2e/tests/Alerts.js[m
[36m@@ -13,10 +13,16 @@[m [mimport * as Alert from './Alerts.elements.js';[m
 import * as Collection from './Collection.elements.js';[m
 import * as Common from './Common.elements.js';[m
 [m
[31m-fixture('Alerts').page(config.endpoint).beforeEach(u.login).afterEach(cleanEntities);[m
[32m+[m[32mfixture('Alerts')[m
[32m+[m[32m  .page(config.endpoint)[m
[32m+[m[32m  .beforeEach(async (t) => {[m
[32m+[m[32m    await u.login(t);[m
[32m+[m[32m    await t.navigateTo(config.collectionsEndpoint);[m
[32m+[m[32m  })[m
[32m+[m[32m  .afterEach(cleanEntities);[m
 [m
 test('create, edit, copy and remove an alert', async (t) => {[m
[31m-  await t.click(Common.createNewButton).click(Common.menuOption('Collection'));[m
[32m+[m[32m  await t.click(Common.createNewMenu).click(Common.option('Collection'));[m
   await t.typeText(Common.modalNameInput, 'Test Collection', {replace: true});[m
   await t.click(Common.modalConfirmButton);[m
   await t.click(Common.modalConfirmButton);[m
[36m@@ -42,10 +48,10 @@[m [mtest('create, edit, copy and remove an alert', async (t) => {[m
   });[m
 [m
   await t.click(Alert.webhookDropdown);[m
[31m-  await t.click(Common.carbonOption('testWebhook'));[m
[32m+[m[32m  await t.click(Common.typeaheadOption('testWebhook'));[m
 [m
[31m-  await t.click(Common.comboBox);[m
[31m-  await t.click(Common.carbonOption('Number Report'));[m
[32m+[m[32m  await t.click(Common.typeahead);[m
[32m+[m[32m  await t.click(Common.typeaheadOption('Number Report'));[m
 [m
   await t.takeElementScreenshot([m
     Common.modalContainer,[m
[36m@@ -64,10 +70,9 @@[m [mtest('create, edit, copy and remove an alert', async (t) => {[m
     .maximizeWindow();[m
 [m
   // EDIT[m
[31m-  const listItem = Common.listItem.filterVisible();[m
[31m-  await t.hover(listItem);[m
[31m-  await t.click(Common.contextMenu(listItem));[m
[31m-  await t.click(Common.edit(listItem));[m
[32m+[m[32m  await t.hover(Common.listItem);[m
[32m+[m[32m  await t.click(Common.contextMenu(Common.listItem));[m
[32m+[m[32m  await t.click(Common.edit(Common.listItem));[m
 [m
   await t.typeText(Alert.inputWithLabel('Alert Name'), 'Edited Alert', {replace: true});[m
 [m
[36m@@ -75,9 +80,9 @@[m [mtest('create, edit, copy and remove an alert', async (t) => {[m
 [m
   await t.expect(Alert.list.textContent).notContains('Edited Alert');[m
 [m
[31m-  await t.hover(listItem);[m
[31m-  await t.click(Common.contextMenu(listItem));[m
[31m-  await t.click(Common.edit(listItem));[m
[32m+[m[32m  await t.hover(Common.listItem);[m
[32m+[m[32m  await t.click(Common.contextMenu(Common.listItem));[m
[32m+[m[32m  await t.click(Common.edit(Common.listItem));[m
   await t.typeText(Alert.inputWithLabel('Alert Name'), 'Saved Alert', {replace: true});[m
 [m
   await t.click(Common.modalConfirmButton);[m
[36m@@ -85,17 +90,17 @@[m [mtest('create, edit, copy and remove an alert', async (t) => {[m
   await t.expect(Alert.list.textContent).contains('Saved Alert');[m
 [m
   // COPY[m
[31m-  await t.hover(listItem);[m
[31m-  await t.click(Common.contextMenu(listItem));[m
[31m-  await t.click(Common.copy(listItem));[m
[32m+[m[32m  await t.hover(Common.listItem);[m
[32m+[m[32m  await t.click(Common.contextMenu(Common.listItem));[m
[32m+[m[32m  await t.click(Common.copy(Common.listItem));[m
   await t.typeText(Alert.copyNameInput, 'Copied Alert', {replace: true});[m
   await t.click(Common.modalConfirmButton);[m
   await t.expect(Alert.list.textContent).contains('Copied Alert');[m
 [m
   // DELETE[m
[31m-  await t.hover(listItem);[m
[31m-  await t.click(Common.contextMenu(listItem));[m
[31m-  await t.click(Common.del(listItem));[m
[32m+[m[32m  await t.hover(Common.listItem);[m
[32m+[m[32m  await t.click(Common.contextMenu(Common.listItem));[m
[32m+[m[32m  await t.click(Common.del(Common.listItem));[m
 [m
   await t.click(Common.modalConfirmButton);[m
 [m
[1mdiff --git a/client/e2e/tests/Collection.elements.js b/client/e2e/tests/Collection.elements.js[m
[1mindex cd4da16213..0e31c6903c 100644[m
[1m--- a/client/e2e/tests/Collection.elements.js[m
[1m+++ b/client/e2e/tests/Collection.elements.js[m
[36m@@ -7,25 +7,28 @@[m
 [m
 import {Selector} from 'testcafe';[m
 [m
[31m-import {overflowMenuOption} from './Common.elements';[m
[31m-[m
[32m+[m[32mexport const navItem = Selector('.NavItem a').withText('Collections');[m
 export const collectionTitle = Selector('.Collection .header .text');[m
 export const collectionBreadcrumb = Selector('.cds--header__menu-bar .breadcrumb');[m
[31m-export const collectionContextMenu = Selector([m
[31m-  '.Collection > .header .cds--overflow-menu__wrapper button'[m
[32m+[m[32mexport const collectionContextMenu = Selector('.Collection > .header .Dropdown button');[m
[32m+[m[32mexport const editCollectionNameButton = Selector([m
[32m+[m[32m  '.Collection .header .Dropdown .DropdownOption'[m
[32m+[m[32m).withText('Edit');[m
[32m+[m[32mexport const copyCollectionButton = Selector([m
[32m+[m[32m  '.Collection .header .Dropdown .DropdownOption'[m
[32m+[m[32m).withText('Copy');[m
[32m+[m[32mexport const deleteCollectionButton = Selector([m
[32m+[m[32m  '.Collection .header .Dropdown .DropdownOption'[m
[32m+[m[32m).withText('Delete');[m
[32m+[m[32mexport const entityTab = Selector('.Collection .header .navigation a').withText([m
[32m+[m[32m  'Dashboards & Reports'[m
 );[m
[31m-export const editCollectionNameButton = overflowMenuOption('Edit');[m
[31m-export const copyCollectionButton = overflowMenuOption('Copy');[m
[31m-export const deleteCollectionButton = overflowMenuOption('Delete');[m
 export const remove = (element) => element.find('.DropdownOption').withText('Remove');[m
[31m-const tabButton = Selector('.Collection .content .cds--tabs__nav-item');[m
[31m-export const entityTab = tabButton.withText('Dashboards & Reports');[m
[31m-export const entitiesTab = tabButton.withText('Dashboards');[m
[31m-export const userTab = tabButton.withText('Users');[m
[31m-export const alertTab = tabButton.withText('Alerts');[m
[31m-export const sourcesTab = tabButton.withText('Data Sources');[m
[31m-export const activeTab = Selector('.Collection .content .cds--tab-content:not([hidden]');[m
[31m-export const addButton = activeTab.find('.cds--btn--primary');[m
[32m+[m[32mexport const entitiesTab = Selector('.Collection .header .navigation a').withText('Dashboards');[m
[32m+[m[32mexport const userTab = Selector('.Collection .header .navigation a').withText('Users');[m
[32m+[m[32mexport const alertTab = Selector('.Collection .header .navigation a').withText('Alerts');[m
[32m+[m[32mexport const sourcesTab = Selector('.Collection .header .navigation a').withText('Data Sources');[m
[32m+[m[32mexport const addButton = Selector('.Collection .content .header .Button.primary');[m
 export const typeaheadInput = Selector('.Typeahead input');[m
 export const checkbox = (text) => Selector('.Checklist tr').withText(text);[m
 export const managerName = Selector('.ListItem').withText('Manager').find('.name .entity');[m
[36m@@ -35,11 +38,8 @@[m [mexport const processItem = Selector('.ListItem').withText('Process');[m
 export const decisionItem = Selector('.ListItem').withText('Decision');[m
 export const roleOption = (text) =>[m
   Selector('.Modal.is-visible .LabeledInput .label.after').withText(text);[m
[31m-export const carbonRoleOption = (text) =>[m
[31m-  Selector('.Modal.is-visible .cds--radio-button-wrapper').withText(text);[m
 export const userList = Selector('.UserList');[m
 export const addUserModal = Selector('.AddUserModal');[m
[31m-export const addSourceModal = Selector('.SourcesModal');[m
 export const logoutButton = Selector('header button').withText('Logout');[m
 export const usernameDropdown = Selector('header button').withAttribute('aria-label', 'Open User');[m
 export const searchField = Selector('.cds--search-input');[m
[1mdiff --git a/client/e2e/tests/Collection.js b/client/e2e/tests/Collection.js[m
[1mindex d59d0a4a07..5484e003fa 100644[m
[1m--- a/client/e2e/tests/Collection.js[m
[1m+++ b/client/e2e/tests/Collection.js[m
[36m@@ -12,10 +12,16 @@[m [mimport {login, save, getUser, createNewDashboard, addEditEntityDescription} from[m
 import * as Common from './Common.elements.js';[m
 import * as e from './Collection.elements.js';[m
 [m
[31m-fixture('Collection').page(config.endpoint).beforeEach(login).afterEach(cleanEntities);[m
[32m+[m[32mfixture('Collection')[m
[32m+[m[32m  .page(config.endpoint)[m
[32m+[m[32m  .beforeEach(async (t) => {[m
[32m+[m[32m    await login(t);[m
[32m+[m[32m    await t.navigateTo(config.collectionsEndpoint);[m
[32m+[m[32m  })[m
[32m+[m[32m  .afterEach(cleanEntities);[m
 [m
 async function createCollection(t, name = 'Test Collection') {[m
[31m-  await t.click(Common.createNewButton).click(Common.menuOption('Collection'));[m
[32m+[m[32m  await t.click(Common.createNewMenu).click(Common.option('Collection'));[m
   await t.typeText(Common.modalNameInput, name, {replace: true});[m
 [m
   await t.click(Common.modalConfirmButton);[m
[36m@@ -31,14 +37,12 @@[m [mtest('create a collection and entities inside it', async (t) => {[m
 [m
   await t.click(e.entitiesTab);[m
 [m
[31m-  await t.click(Common.createNewButton);[m
[32m+[m[32m  await t.click(Common.createNewMenu);[m
 [m
[31m-  const createNewMenu = Common.menu('Create New').textContent;[m
[31m-[m
[31m-  await t.expect(createNewMenu).notContains('Collection');[m
[31m-  await t.expect(createNewMenu).contains('Dashboard');[m
[31m-  await t.expect(createNewMenu).contains('Report');[m
[31m-  await t.click(Common.createNewButton);[m
[32m+[m[32m  await t.expect(Common.createNewMenu.textContent).notContains('Collection');[m
[32m+[m[32m  await t.expect(Common.createNewMenu.textContent).contains('Dashboard');[m
[32m+[m[32m  await t.expect(Common.createNewMenu.textContent).contains('Report');[m
[32m+[m[32m  await t.click(Common.createNewMenu);[m
 [m
   await createNewDashboard(t);[m
   const description = 'This is a description of the dashboard.';[m
[36m@@ -112,8 +116,8 @@[m [mtest('user permissions', async (t) => {[m
   await t.click(Common.carbonOption('mary'));[m
   await t.typeText(Common.usersTypeahead, 'peter', {replace: true});[m
   await t.click(Common.carbonOption('peter')).pressKey('tab');[m
[31m-  await t.click(e.carbonRoleOption('Editor'));[m
[31m-  await t.takeElementScreenshot(e.addUserModal, 'img/addUser.png');[m
[32m+[m[32m  await t.click(e.roleOption('Editor'));[m
[32m+[m[32m  await t.takeElementScreenshot(Common.modalContainer, 'img/addUser.png');[m
   await t.click(Common.modalConfirmButton);[m
 [m
   await t[m
[36m@@ -134,7 +138,7 @@[m [mtest('user permissions', async (t) => {[m
   await t.click(e.addButton);[m
   await t.typeText(Common.usersTypeahead, username, {replace: true});[m
   await t.click(Common.carbonOption(username));[m
[31m-  await t.click(e.carbonRoleOption('Manager'));[m
[32m+[m[32m  await t.click(e.roleOption('Manager'));[m
   await t.click(Common.modalConfirmButton);[m
 [m
   await t.hover(e.userItem(managerName));[m
[36m@@ -143,7 +147,7 @@[m [mtest('user permissions', async (t) => {[m
   await t.click(Common.contextMenu(e.userItem(managerName)));[m
   await t.click(Common.edit(e.userItem(managerName)));[m
 [m
[31m-  await t.click(e.carbonRoleOption('Viewer'));[m
[32m+[m[32m  await t.click(e.roleOption('Viewer'));[m
   await t.click(Common.modalConfirmButton);[m
 [m
   await t.expect(e.addButton.exists).notOk();[m
[36m@@ -158,14 +162,15 @@[m [mtest('user permissions', async (t) => {[m
   await t.click(e.logoutButton);[m
 [m
   await login(t, 'user2');[m
[32m+[m[32m  await t.click(e.navItem);[m
 [m
   await t.click(Common.collectionItem);[m
   await t.click(e.userTab);[m
[31m-  await t.click(Common.selectAllCheckbox.filterVisible());[m
[31m-  await t.click(Common.bulkMenu.filterVisible());[m
[31m-  await t.click(e.remove(Common.bulkMenu.filterVisible()));[m
[32m+[m[32m  await t.click(Common.selectAllCheckbox);[m
[32m+[m[32m  await t.click(Common.bulkMenu);[m
[32m+[m[32m  await t.click(e.remove(Common.bulkMenu));[m
   await t.click(Common.modalConfirmButton);[m
[31m-  await t.expect(Common.listItem.filterVisible().count).eql(1);[m
[32m+[m[32m  await t.expect(Common.listItem.count).eql(1);[m
 [m
   // delete collection[m
   await t.click(e.collectionContextMenu);[m
[36m@@ -182,7 +187,6 @@[m [mtest('add, edit and delete sources', async (t) => {[m
 [m
   // add source by definition[m
   await t.click(e.addButton);[m
[31m-  await t.takeElementScreenshot(e.addSourceModal, 'img/sourceByDefinition.png');[m
   const definitionName = 'Hiring Demo 5 Tenants';[m
   await t.typeText(e.searchField, definitionName, {replace: true});[m
   await t.click(e.selectAllCheckbox);[m
[36m@@ -195,11 +199,11 @@[m [mtest('add, edit and delete sources', async (t) => {[m
   // add source by tenant[m
   await t.click(e.addButton);[m
   const tenantName = 'engineering';[m
[31m-  await t.typeText(Common.comboBox, tenantName, {replace: true});[m
[31m-  await t.click(Common.carbonOption(tenantName));[m
[32m+[m[32m  await t.typeText(e.typeaheadInput, tenantName, {replace: true});[m
[32m+[m[32m  await t.click(Common.typeaheadOption(tenantName));[m
   await t.click(e.itemCheckbox(3));[m
   await t.click(e.itemCheckbox(4));[m
[31m-  await t.takeElementScreenshot(e.addSourceModal, 'img/sourceByTenant.png');[m
[32m+[m[32m  await t.takeElementScreenshot(Common.modalContainer, 'img/sourceByTenant.png');[m
   await t.click(Common.modalConfirmButton);[m
   await t.expect(e.processItem.visible).ok();[m
   await t.expect(e.decisionItem.visible).ok();[m
[36m@@ -225,8 +229,8 @@[m [mtest('add, edit and delete sources', async (t) => {[m
   // bulk deleting sources[m
   await t.click(Common.listItemCheckbox(e.processItem.nth(0)));[m
   await t.click(Common.listItemCheckbox(e.processItem.nth(1)));[m
[31m-  await t.click(Common.bulkMenu.filterVisible());[m
[31m-  await t.click(e.remove(Common.bulkMenu.filterVisible()));[m
[32m+[m[32m  await t.click(Common.bulkMenu);[m
[32m+[m[32m  await t.click(e.remove(Common.bulkMenu));[m
   await t.click(Common.modalConfirmButton);[m
[31m-  await t.expect(Common.listItem.filterVisible().exists).notOk();[m
[32m+[m[32m  await t.expect(Common.listItem.exists).notOk();[m
 });[m
[1mdiff --git a/client/e2e/tests/CombinedReport.js b/client/e2e/tests/CombinedReport.js[m
[1mindex aa70f18e82..a18ba111fa 100644[m
[1m--- a/client/e2e/tests/CombinedReport.js[m
[1m+++ b/client/e2e/tests/CombinedReport.js[m
[36m@@ -13,7 +13,13 @@[m [mimport * as Report from './ProcessReport.elements.js';[m
 import * as Combined from './CombinedReport.elements.js';[m
 import * as Common from './Common.elements.js';[m
 [m
[31m-fixture('Combined Report').page(config.endpoint).beforeEach(u.login).afterEach(cleanEntities);[m
[32m+[m[32mfixture('Combined Report')[m
[32m+[m[32m  .page(config.endpoint)[m
[32m+[m[32m  .beforeEach(async (t) => {[m
[32m+[m[32m    await u.login(t);[m
[32m+[m[32m    await t.navigateTo(config.collectionsEndpoint);[m
[32m+[m[32m  })[m
[32m+[m[32m  .afterEach(cleanEntities);[m
 [m
 async function createReport([m
   t,[m
[36m@@ -55,8 +61,9 @@[m [mtest('combine two single number reports', async (t) => {[m
 [m
   await t.resizeWindow(1400, 700);[m
 [m
[31m-  await t.click(Common.createNewButton);[m
[31m-  await t.hover(Common.newReportOption);[m
[32m+[m[32m  await t.click(Common.createNewMenu);[m
[32m+[m[32m  await t.click(Common.option('Report'));[m
[32m+[m
   await t.hover(Common.submenuOption('Combined Process Report'));[m
 [m
   await t.takeElementScreenshot(Common.entityList, 'img/combined-report-create.png', {[m
[1mdiff --git a/client/e2e/tests/Common.elements.js b/client/e2e/tests/Common.elements.js[m
[1mindex 7e512ff5ed..34fb8947aa 100644[m
[1m--- a/client/e2e/tests/Common.elements.js[m
[1m+++ b/client/e2e/tests/Common.elements.js[m
[36m@@ -7,8 +7,7 @@[m
 [m
 import {Selector} from 'testcafe';[m
 [m
[31m-export const createNewButton = Selector('.CreateNewButton');[m
[31m-export const menu = (text) => Selector('ul').withAttribute('aria-label', text);[m
[32m+[m[32mexport const createNewMenu = Selector('.CreateNewButton');[m
 export const editButton = Selector('.edit-button');[m
 export const confirmButton = Selector('button.confirm');[m
 export const modalConfirmButton = Selector('.Modal.is-visible')[m
[36m@@ -23,10 +22,9 @@[m [mexport const descriptionModalInput = descriptionModal.find('textarea');[m
 export const modalNameInput = Selector('.Modal.is-visible input[type="text"]');[m
 export const option = (text) => Selector('.DropdownOption').withText(text);[m
 export const carbonOption = (text) => Selector('.cds--list-box__menu-item').withText(text);[m
[31m-export const menuOption = (text) => Selector('.cds--menu-item').withText(text);[m
[31m-export const submenuOption = (text) => Selector('.cds--menu-item > .cds--menu > *').withText(text);[m
 export const selectedOption = (text) =>[m
   Selector('.cds--list-box__menu-item--active').withText(text);[m
[32m+[m[32mexport const submenuOption = (text) => Selector('.Submenu .DropdownOption').withText(text);[m
 export const entityList = Selector('.EntityList');[m
 export const edit = (element) => element.find('.DropdownOption').withText('Edit');[m
 export const copy = (element) => element.find('.DropdownOption').withText('Copy');[m
[36m@@ -49,26 +47,23 @@[m [mexport const processItem = listItem.filter([m
 );[m
 export const reportLabel = reportItem.find('.name .type');[m
 export const listItemCheckbox = (item) => item.find('input[type="checkbox"]');[m
[31m-export const newReportOption = Selector('.cds--menu--shown .cds--menu-item[aria-haspopup=true]');[m
[32m+[m[32mexport const newReportOption = createNewMenu.find('.Submenu');[m
 export const templateModalProcessField = Selector('.Modal .DefinitionSelection input');[m
 export const firstOption = Selector('.TemplateModal .cds--list-box__menu-item');[m
 export const modalContainer = Selector('div:not([aria-hidden="true"]) > .cds--modal-container');[m
 export const controlPanel = Selector('.ReportControlPanel');[m
[31m-export const nameEditField = Selector('.EntityNameForm .name-input input');[m
[32m+[m[32mexport const nameEditField = Selector('.EntityNameForm .name-input');[m
 export const typeahead = Selector('.Typeahead');[m
 export const typeaheadOption = (text) => typeahead.find('.DropdownOption').withText(text);[m
 export const notification = Selector('.Notification');[m
 export const notificationCloseButton = notification.find('.close');[m
[31m-export const shareButton = Selector('.share-button .buttonWrapper button');[m
[31m-export const shareSwitch = Selector('.ShareEntity .cds--toggle__switch');[m
[32m+[m[32mexport const shareButton = Selector('.share-button .Button');[m
[32m+[m[32mexport const shareSwitch = Selector('.ShareEntity .Switch');[m
 export const shareHeader = Selector('.Sharing .header');[m
 export const shareTitle = shareHeader.find('.name-container');[m
 export const shareLink = shareHeader.find('.title-button');[m
[31m-export const shareUrl = Selector('.ShareEntity input[type="text"]');[m
[32m+[m[32mexport const shareUrl = Selector('.ShareEntity .linkText');[m
 export const shareOptimizeIcon = Selector('.Sharing.compact .iconLink');[m
 export const addButton = Selector('.AddButton');[m
 export const deleteButton = Selector('.delete-button');[m
 export const usersTypeahead = Selector('.MultiUserInput input');[m
[31m-export const comboBox = Selector('.cds--combo-box input');[m
[31m-export const overflowMenuOptions = Selector('.cds--overflow-menu-options');[m
[31m-export const overflowMenuOption = (text) => overflowMenuOptions.find('button').withText(text);[m
[1mdiff --git a/client/e2e/tests/Dashboard.elements.js b/client/e2e/tests/Dashboard.elements.js[m
[1mindex b60bb05ed3..5c9f01b1b5 100644[m
[1m--- a/client/e2e/tests/Dashboard.elements.js[m
[1m+++ b/client/e2e/tests/Dashboard.elements.js[m
[36m@@ -32,10 +32,10 @@[m [mexport const fullscreenButton = Selector('.fullscreen-button');[m
 export const header = Selector('.cds--header');[m
 export const themeButton = Selector('.theme-toggle');[m
 export const fullscreenContent = Selector('.fullscreen');[m
[31m-export const shareFilterCheckbox = Selector('.ShareEntity input[type="checkbox"]');[m
[31m-export const autoRefreshButton = Selector('.tools .AutoRefreshSelect button');[m
[31m-export const createTileModal = Selector('.CreateTileModal');[m
[31m-export const createTileModalReportOptions = createTileModal.find('#addReportSelector');[m
[32m+[m[32mexport const shareFilterCheckbox = Selector('.ShareEntity .includeFilters input');[m
[32m+[m[32mexport const autoRefreshButton = Selector('.tools .Dropdown').withText('Auto Refresh');[m
[32m+[m[32mexport const reportModalOptionsButton = Selector('.CreateTileModal').find('.optionsButton');[m
[32m+[m[32mexport const reportModalDropdownOption = Selector('.CreateTileModal').find('.DropdownOption');[m
 export const addFilterButton = Selector('.Button').withText('Add a filter');[m
 export const instanceStateFilter = Selector('.InstanceStateFilter .Popover .Button');[m
 export const selectionFilter = Selector('.SelectionFilter .Popover .Button');[m
[36m@@ -47,7 +47,7 @@[m [mexport const templateOption = (text) =>[m
 export const reportTile = Selector('.OptimizeReportTile');[m
 export const customValueAddButton = Selector('.customValueAddButton');[m
 export const typeaheadInput = Selector('.Typeahead .Input');[m
[31m-export const alertsDropdown = Selector('.AlertsDropdown button');[m
[32m+[m[32mexport const alertsDropdown = Selector('.AlertsDropdown .Button');[m
 export const alertDeleteButton = Selector('.AlertModal .deleteButton');[m
 export const collectionLink = Selector('.NavItem a').withText('New Collection');[m
 export const dashboardsLink = Selector('.NavItem a').withText('Dashboards');[m
[1mdiff --git a/client/e2e/tests/Dashboard.js b/client/e2e/tests/Dashboard.js[m
[1mindex e8cafd4bef..b1cc0ba7cb 100644[m
[1m--- a/client/e2e/tests/Dashboard.js[m
[1m+++ b/client/e2e/tests/Dashboard.js[m
[36m@@ -17,20 +17,26 @@[m [mimport * as Alert from './Alerts.elements.js';[m
 import * as Report from './ProcessReport.elements.js';[m
 import * as Collection from './Collection.elements.js';[m
 [m
[31m-fixture('Dashboard').page(config.endpoint).beforeEach(u.login).afterEach(cleanEntities);[m
[32m+[m[32mfixture('Dashboard')[m
[32m+[m[32m  .page(config.endpoint)[m
[32m+[m[32m  .beforeEach(async (t) => {[m
[32m+[m[32m    await u.login(t);[m
[32m+[m[32m    await t.navigateTo(config.collectionsEndpoint);[m
[32m+[m[32m  })[m
[32m+[m[32m  .afterEach(cleanEntities);[m
 [m
 test('create a dashboard and reports from a template', async (t) => {[m
[31m-  await t.click(Common.createNewButton).click(Common.menuOption('Collection'));[m
[32m+[m[32m  await t.click(Common.createNewMenu).click(Common.option('Collection'));[m
   await t.click(Common.modalConfirmButton);[m
   await t.click(Common.modalConfirmButton);[m
 [m
   await t.resizeWindow(1300, 750);[m
[31m-  await t.click(Common.createNewButton);[m
[31m-  await t.click(Common.menuOption('Dashboard'));[m
[32m+[m[32m  await t.click(Common.createNewMenu);[m
[32m+[m[32m  await t.click(Common.option('Dashboard'));[m
 [m
   await t.click(Common.templateModalProcessField);[m
   await t.click(Common.carbonOption('Invoice Receipt with alternative correlation variable'));[m
[31m-  await t.click(e.templateOption('Process performance overview'));[m
[32m+[m[32m  await t.click(e.templateOption('Improve Productivity'));[m
 [m
   await t.takeScreenshot('img/dashboardTemplate.png', {fullPage: true});[m
   await t.resizeWindow(1200, 600);[m
[36m@@ -68,13 +74,15 @@[m [mtest('create a dashboard and reports from a template', async (t) => {[m
   await clearAllAnnotations();[m
 [m
   await t.click(e.autoRefreshButton);[m
[31m-  await t.click(Common.menuOption('1 minute'));[m
[32m+[m[32m  await t.click(Common.option('1 minute'));[m
 [m
   await u.save(t);[m
 [m
[31m-  await t.expect(e.dashboardName.textContent).eql('Process performance overview');[m
[31m-  await t.expect(e.reportTile.nth(0).textContent).contains('Throughput (30-day rolling)');[m
[31m-  await t.expect(e.reportTile.nth(2).textContent).contains('99th Percentile Duration');[m
[32m+[m[32m  await t.expect(e.dashboardName.textContent).eql('Improve Productivity');[m
[32m+[m[32m  await t[m
[32m+[m[32m    .expect(e.reportTile.nth(0).textContent)[m
[32m+[m[32m    .contains('Max number of processes in progress per day');[m
[32m+[m[32m  await t.expect(e.reportTile.nth(2).textContent).contains('Finished in the last 2 weeks');[m
 [m
   await t.click(e.autoRefreshButton);[m
 [m
[36m@@ -138,10 +146,10 @@[m [mtest('cancel changes', async (t) => {[m
 [m
 test('sharing', async (t) => {[m
   await t.resizeWindow(1300, 750);[m
[31m-  await t.click(Common.createNewButton);[m
[31m-  await t.click(Common.menuOption('Dashboard'));[m
[32m+[m[32m  await t.click(Common.createNewMenu);[m
[32m+[m[32m  await t.click(Common.option('Dashboard'));[m
 [m
[31m-  await t.click(e.templateOption('Process performance overview'));[m
[32m+[m[32m  await t.click(e.templateOption('Improve Productivity'));[m
 [m
   await t.click(Common.templateModalProcessField);[m
   await t.click(Common.carbonOption('Invoice Receipt with alternative correlation variable'));[m
[36m@@ -161,7 +169,9 @@[m [mtest('sharing', async (t) => {[m
   await t.navigateTo(shareUrl);[m
 [m
   await t.expect(e.reportTile.nth(0).visible).ok();[m
[31m-  await t.expect(e.reportTile.nth(0).textContent).contains('Throughput (30-day rolling)');[m
[32m+[m[32m  await t[m
[32m+[m[32m    .expect(e.reportTile.nth(0).textContent)[m
[32m+[m[32m    .contains('Max number of processes in progress per day');[m
 });[m
 [m
 test('sharing header parameters', async (t) => {[m
[36m@@ -246,13 +256,13 @@[m [mtest('external datasources', async (t) => {[m
 [m
   await t.click(Common.addButton);[m
 [m
[31m-  await t.takeElementScreenshot(e.createTileModal, 'img/dashboard-addAReportModal.png');[m
[32m+[m[32m  await t.takeElementScreenshot(Common.modalContainer, 'img/dashboard-addAReportModal.png');[m
 [m
   await t.click(e.externalSourceLink);[m
   await t.typeText(e.externalSourceInput, 'http://example.com/');[m
 [m
   await t.takeElementScreenshot([m
[31m-    e.createTileModal,[m
[32m+[m[32m    Common.modalContainer,[m
     'img/dashboard-addAReportModal-externalReport.png'[m
   );[m
 [m
[36m@@ -290,7 +300,10 @@[m [mtest('text report', async (t) => {[m
   await t.typeText(e.textReportAltInput, 'This is a camunda logo');[m
   await t.click(e.textReportInsertAddButton);[m
 [m
[31m-  await t.takeElementScreenshot(e.createTileModal, 'img/dashboard-addAReportModal-textReport.png');[m
[32m+[m[32m  await t.takeElementScreenshot([m
[32m+[m[32m    Common.modalContainer,[m
[32m+[m[32m    'img/dashboard-addAReportModal-textReport.png'[m
[32m+[m[32m  );[m
 [m
   await t.click(e.addTileButton);[m
   await t.click('.DashboardRenderer');[m
[36m@@ -393,7 +406,7 @@[m [mtest('filters', async (t) => {[m
 });[m
 [m
 test('version selection', async (t) => {[m
[31m-  await t.click(Common.createNewButton).click(Common.menuOption('Collection'));[m
[32m+[m[32m  await t.click(Common.createNewMenu).click(Common.option('Collection'));[m
   await t.click(Common.modalConfirmButton);[m
   await t.click(Common.modalConfirmButton);[m
 [m
[36m@@ -410,24 +423,24 @@[m [mtest('version selection', async (t) => {[m
 [m
   // Creating[m
   await t.click(e.alertsDropdown);[m
[31m-  await t.click(Common.overflowMenuOption('Create New Alert'));[m
[32m+[m[32m  await t.click(Common.option('New Alert'));[m
   await t.typeText(Alert.inputWithLabel('Alert Name'), 'Test alert', {replace: true});[m
[31m-  await t.click(Common.comboBox);[m
[31m-  await t.click(Common.carbonOption('Number Report'));[m
[32m+[m[32m  await t.click(Common.typeahead);[m
[32m+[m[32m  await t.click(Common.typeaheadOption('Number Report'));[m
   await t.typeText(Alert.inputWithLabel('Send Email to'), 'test@email.com ');[m
   await t.click(Common.modalConfirmButton);[m
   await t.click(Common.notificationCloseButton);[m
 [m
   // editing[m
   await t.click(e.alertsDropdown);[m
[31m-  await t.click(Common.overflowMenuOption('Test alert'));[m
[32m+[m[32m  await t.click(Common.option('Test alert'));[m
   await t.typeText(Alert.inputWithLabel('Alert Name'), 'another alert name', {replace: true});[m
   await t.click(Common.modalConfirmButton);[m
   await t.click(Common.notificationCloseButton);[m
 [m
   // deleting[m
   await t.click(e.alertsDropdown);[m
[31m-  await t.click(Common.overflowMenuOption('another alert name'));[m
[32m+[m[32m  await t.click(Common.option('another alert name'));[m
   await t.click(e.alertDeleteButton);[m
   await t.click(Common.modalConfirmButton);[m
   await t.click(Common.notificationCloseButton);[m
[36m@@ -440,8 +453,8 @@[m [mtest('add a report from the dashboard', async (t) => {[m
 [m
   await t[m
     .click(Common.addButton)[m
[31m-    .click(e.createTileModalReportOptions)[m
[31m-    .click(Common.carbonOption('New Report from a template'))[m
[32m+[m[32m    .click(e.reportModalOptionsButton)[m
[32m+[m[32m    .click(e.reportModalDropdownOption.withText('New Report from a template'))[m
     .click(e.addTileButton);[m
 [m
   await t[m
[36m@@ -453,8 +466,8 @@[m [mtest('add a report from the dashboard', async (t) => {[m
 [m
   await t[m
     .click(Common.addButton)[m
[31m-    .click(e.createTileModalReportOptions)[m
[31m-    .click(Common.carbonOption('New Report from a template'))[m
[32m+[m[32m    .click(e.reportModalOptionsButton)[m
[32m+[m[32m    .click(e.reportModalDropdownOption.withText('New Report from a template'))[m
     .click(e.addTileButton);[m
 [m
   await t.click(Common.templateModalProcessField);[m
[36m@@ -478,7 +491,7 @@[m [mtest('add, edit and remove dashboards description', async (t) => {[m
 [m
   // Add description[m
   await t.expect(Common.descriptionParagraph.exists).notOk();[m
[31m-  await t.expect(Common.addDescriptionButton.textContent).contains('Add description');[m
[32m+[m[32m  await t.expect(Common.addDescriptionButton.textContent).contains('Add Description');[m
   const description = 'This is a description of the dashboard.';[m
   await u.addEditEntityDescription(t, description, 'img/dashboad-descriptionModal.png');[m
 [m
[36m@@ -494,6 +507,8 @@[m [mtest('add, edit and remove dashboards description', async (t) => {[m
   // Edit description[m
   await t.click(Common.editButton);[m
 [m
[32m+[m[32m  await t.expect(Common.addDescriptionButton.textContent).contains('Edit');[m
[32m+[m
   const newDescription =[m
     'This is a new description of the dashboard. This time the description is very long and will not fit in one line. It will display ellipsis and More button.';[m
   await u.addEditEntityDescription(t, newDescription);[m
[36m@@ -523,7 +538,7 @@[m [mtest('add, edit and remove dashboards description', async (t) => {[m
   await t.click(Common.editButton);[m
   await u.addEditEntityDescription(t);[m
   await t.expect(Common.descriptionParagraph.exists).notOk();[m
[31m-  await t.expect(Common.addDescriptionButton.textContent).contains('Add description');[m
[32m+[m[32m  await t.expect(Common.addDescriptionButton.textContent).contains('Add Description');[m
 [m
   await u.save(t);[m
 [m
[36m@@ -545,7 +560,7 @@[m [mtest('copy instant preview dashboard', async (t) => {[m
 [m
   await t.click(Common.collectionItem);[m
   await t.expect(Common.dashboardItem.count).eql(1);[m
[31m-  await t.expect(Common.dashboardItem.textContent).contains('Instant Preview Dashboard');[m
[32m+[m[32m  await t.expect(Common.dashboardItem.textContent).contains('Process Dashboard');[m
 [m
   // Create another copy to check if only one collection is created[m
   await t.click(e.dashboardsLink);[m
[36m@@ -560,7 +575,7 @@[m [mtest('copy instant preview dashboard', async (t) => {[m
   await t.click(Common.collectionItem);[m
   await t.expect(Common.dashboardItem.count).eql(2);[m
   await t.expect(Common.dashboardItem.nth(0).textContent).contains('New Name');[m
[31m-  await t.expect(Common.dashboardItem.nth(1).textContent).contains('Instant Preview Dashboard');[m
[32m+[m[32m  await t.expect(Common.dashboardItem.nth(1).textContent).contains('Process Dashboard');[m
 [m
   // Create a new collection if the first one was renamed[m
   await t.click(Collection.collectionContextMenu);[m
[1mdiff --git a/client/e2e/tests/DecisionFilter.js b/client/e2e/tests/DecisionFilter.js[m
[1mindex 352bf30b93..3e651dc180 100644[m
[1m--- a/client/e2e/tests/DecisionFilter.js[m
[1m+++ b/client/e2e/tests/DecisionFilter.js[m
[36m@@ -16,7 +16,10 @@[m [mimport * as Common from './Common.elements.js';[m
 [m
 fixture('Decision Report Filter')[m
   .page(config.endpoint)[m
[31m-  .beforeEach(u.login)[m
[32m+[m[32m  .beforeEach(async (t) => {[m
[32m+[m[32m    await u.login(t);[m
[32m+[m[32m    await t.navigateTo(config.collectionsEndpoint);[m
[32m+[m[32m  })[m
   .afterEach(cleanEntities);[m
 [m
 test('should apply a filter to the report result', async (t) => {[m
[1mdiff --git a/client/e2e/tests/DecisionReport.js b/client/e2e/tests/DecisionReport.js[m
[1mindex fdb91931e8..7c6446d850 100644[m
[1m--- a/client/e2e/tests/DecisionReport.js[m
[1m+++ b/client/e2e/tests/DecisionReport.js[m
[36m@@ -13,13 +13,20 @@[m [mimport * as Common from './Common.elements.js';[m
 import * as Report from './DecisionReport.elements.js';[m
 import * as ProcessReport from './ProcessReport.elements.js';[m
 [m
[31m-fixture('Decision Report').page(config.endpoint).beforeEach(u.login).afterEach(cleanEntities);[m
[32m+[m[32mfixture('Decision Report')[m
[32m+[m[32m  .page(config.endpoint)[m
[32m+[m[32m  .beforeEach(async (t) => {[m
[32m+[m[32m    await u.login(t);[m
[32m+[m[32m    await t.navigateTo(config.collectionsEndpoint);[m
[32m+[m[32m  })[m
[32m+[m[32m  .afterEach(cleanEntities);[m
 [m
 test('create a dmn js table report', async (t) => {[m
   await t.resizeWindow(1400, 700);[m
 [m
[31m-  await t.click(Common.createNewButton);[m
[31m-  await t.hover(Common.newReportOption);[m
[32m+[m[32m  await t.click(Common.createNewMenu);[m
[32m+[m[32m  await t.click(Common.option('Report'));[m
[32m+[m
   await t.hover(Common.submenuOption('Decision Report'));[m
 [m
   await t.takeElementScreenshot(Common.entityList, 'decision-analysis/img/dmn_report_create.png', {[m
[1mdiff --git a/client/e2e/tests/Events.elements.js b/client/e2e/tests/Events.elements.js[m
[1mindex e8a52c63a0..52e1ac2ab4 100644[m
[1m--- a/client/e2e/tests/Events.elements.js[m
[1m+++ b/client/e2e/tests/Events.elements.js[m
[36m@@ -18,7 +18,7 @@[m [mexport const activityTask = Selector('.bpmn-icon-task');[m
 export const saveButton = Selector('.save-button');[m
 export const processName = Selector('.ProcessView .name');[m
 export const addSource = Selector('button.addProcess');[m
[31m-export const processTypeahead = Selector('.DefinitionSelection input[type=text]');[m
[32m+[m[32mexport const processTypeahead = Selector('.selectionPanel .Typeahead');[m
 export const variableTypeahead = Selector('.FormGroup .Typeahead');[m
 export const optionsButton = (typeahead) => typeahead.find('.optionsButton');[m
 export const typeaheadInput = (typeahead) => typeahead.find('input');[m
[1mdiff --git a/client/e2e/tests/Events.js b/client/e2e/tests/Events.js[m
[1mindex 38317841c8..bcde2d475e 100644[m
[1m--- a/client/e2e/tests/Events.js[m
[1m+++ b/client/e2e/tests/Events.js[m
[36m@@ -12,7 +12,13 @@[m [mimport * as u from '../utils';[m
 import * as e from './Events.elements.js';[m
 import * as Common from './Common.elements';[m
 [m
[31m-fixture('Events Processes').page(config.endpoint).beforeEach(u.login).after(cleanEventProcesses);[m
[32m+[m[32mfixture('Events Processes')[m
[32m+[m[32m  .page(config.endpoint)[m
[32m+[m[32m  .beforeEach(async (t) => {[m
[32m+[m[32m    await u.login(t);[m
[32m+[m[32m    await t.navigateTo(config.collectionsEndpoint);[m
[32m+[m[32m  })[m
[32m+[m[32m  .afterEach(cleanEventProcesses);[m
 [m
 test('create a process from scratch', async (t) => {[m
   await t.click(e.navItem);[m
[36m@@ -42,8 +48,11 @@[m [mtest('add sources, map and publish a process', async (t) => {[m
 [m
   await t.click(e.addSource);[m
 [m
[31m-  await t.typeText(e.processTypeahead, 'Invoice', {replace: true});[m
[31m-  await t.click(Common.carbonOption('Invoice Receipt with alternative correlation variable'));[m
[32m+[m[32m  await t.click(e.optionsButton(e.processTypeahead));[m
[32m+[m[32m  await t.typeText(e.typeaheadInput(e.processTypeahead), 'Invoice', {replace: true});[m
[32m+[m[32m  await t.click([m
[32m+[m[32m    e.typeaheadOption(e.processTypeahead, 'Invoice Receipt with alternative correlation variable')[m
[32m+[m[32m  );[m
   await t.expect(e.optionsButton(e.variableTypeahead).hasAttribute('disabled')).notOk();[m
   await t.click(e.optionsButton(e.variableTypeahead));[m
   await t.click(e.typeaheadOption(e.variableTypeahead, 'longVar'));[m
[36m@@ -136,9 +145,9 @@[m [mtest('auto generate a process', async (t) => {[m
   await t.click(Common.option('Autogenerate'));[m
   await t.click(e.addEventSourceBtn);[m
 [m
[31m-  await t.typeText(e.processTypeahead, 'Invoice', {replace: true});[m
[31m-  await t.click(Common.carbonOption('Invoice Receipt'));[m
[31m-[m
[32m+[m[32m  await t.click(e.optionsButton(e.processTypeahead));[m
[32m+[m[32m  await t.typeText(e.typeaheadInput(e.processTypeahead), 'Invoice', {replace: true});[m
[32m+[m[32m  await t.click(e.typeaheadOption(e.processTypeahead, 'Invoice Receipt'));[m
   await t.click(e.businessKey);[m
   await t.click(Common.modalConfirmButton);[m
 [m
[1mdiff --git a/client/e2e/tests/GermanOptimize.js b/client/e2e/tests/GermanOptimize.js[m
[1mindex 4da03e1861..3610b5a1a1 100644[m
[1m--- a/client/e2e/tests/GermanOptimize.js[m
[1m+++ b/client/e2e/tests/GermanOptimize.js[m
[36m@@ -12,7 +12,10 @@[m [mimport * as Common from './Common.elements.js';[m
 [m
 fixture('German Optimize')[m
   .page(config.endpoint)[m
[31m-  .beforeEach(login)[m
[32m+[m[32m  .beforeEach(async (t) => {[m
[32m+[m[32m    await login(t);[m
[32m+[m[32m    await t.navigateTo(config.collectionsEndpoint);[m
[32m+[m[32m  })[m
   .afterEach(cleanEntities)[m
   .clientScripts({[m
     content: `[m
[36m@@ -22,8 +25,7 @@[m [mfixture('German Optimize')[m
   });[m
 [m
 test('Create a report in the german version of optimize', async (t) => {[m
[31m-  await t.click(Common.createNewButton);[m
[31m-  await t.hover(Common.newReportOption);[m
[32m+[m[32m  await t.click(Common.createNewMenu).hover(Common.newReportOption);[m
   await t.click(Common.submenuOption('Prozessbericht'));[m
 [m
   await t.click(Common.templateModalProcessField);[m
[1mdiff --git a/client/e2e/tests/Homepage.elements.js b/client/e2e/tests/Homepage.elements.js[m
[1mindex f1b4bd1be5..628eac5b41 100644[m
[1m--- a/client/e2e/tests/Homepage.elements.js[m
[1m+++ b/client/e2e/tests/Homepage.elements.js[m
[36m@@ -7,7 +7,7 @@[m
 [m
 import {Selector} from 'testcafe';[m
 [m
[31m-export const createNewDashboardButton = Selector('button').withText('Create New Dashboard');[m
[32m+[m[32mexport const createNewDashboardButton = Selector('.Button').withText('Create New Dashboard');[m
 export const emptyStateComponent = Selector('.EmptyState');[m
 export const blankDashboardButton = Selector('.Button').withText('Blank Dashboard');[m
 export const homepageLink = Selector('.NavItem a').withText('Collections');[m
[36m@@ -17,8 +17,9 @@[m [mexport const breadcrumb = (text) => Selector('.cds--header__menu-bar a').withTex[m
 export const dashboardView = Selector('.DashboardView');[m
 export const searchButton = Selector('.SearchField .Button');[m
 export const searchField = Selector('.SearchField input');[m
[31m-export const moveCopySwitch = Selector('.CopyModal .cds--toggle');[m
[31m-export const copyTargetsInput = Selector('.CopyModal .cds--combo-box .cds--text-input');[m
[32m+[m[32mexport const moveCopySwitch = Selector('.moveSection .Switch');[m
[32m+[m[32mexport const copyTargetsInput = Selector('.CopyModal .Typeahead .Input');[m
[32m+[m[32mexport const copyTarget = (text) => Selector('.CopyModal .Typeahead .OptionsList').withText(text);[m
 export const copyModal = Selector('.CopyModal');[m
 export const bulkDelete = Selector('.bulkMenu .DropdownOption');[m
 export const definitionSelection = Selector('.DefinitionSelection');[m
[1mdiff --git a/client/e2e/tests/Homepage.js b/client/e2e/tests/Homepage.js[m
[1mindex c99e811188..7e67afd300 100644[m
[1m--- a/client/e2e/tests/Homepage.js[m
[1m+++ b/client/e2e/tests/Homepage.js[m
[36m@@ -19,7 +19,13 @@[m [mimport {[m
 import * as e from './Homepage.elements.js';[m
 import * as Common from './Common.elements.js';[m
 [m
[31m-fixture('Homepage').page(config.endpoint).beforeEach(login).afterEach(cleanEntities);[m
[32m+[m[32mfixture('Homepage')[m
[32m+[m[32m  .page(config.endpoint)[m
[32m+[m[32m  .beforeEach(async (t) => {[m
[32m+[m[32m    await login(t);[m
[32m+[m[32m    await t.navigateTo(config.collectionsEndpoint);[m
[32m+[m[32m  })[m
[32m+[m[32m  .afterEach(cleanEntities);[m
 [m
 test('navigate to report view and edit pages', async (t) => {[m
   await createNewReport(t);[m
[36m@@ -60,14 +66,13 @@[m [mtest('navigate to dashboard view and edit pages', async (t) => {[m
 });[m
 [m
 test('complex Homepage actions', async (t) => {[m
[31m-  await t.click(Common.createNewButton).hover(Common.newReportOption);[m
[31m-  const createNewMenu = Common.menu('Create New').textContent;[m
[32m+[m[32m  await t.click(Common.createNewMenu).hover(Common.newReportOption);[m
 [m
[31m-  await t.expect(createNewMenu).contains('Collection');[m
[31m-  await t.expect(createNewMenu).contains('Dashboard');[m
[31m-  await t.expect(createNewMenu).contains('Process Report');[m
[31m-  await t.expect(createNewMenu).contains('Combined Process Report');[m
[31m-  await t.expect(createNewMenu).contains('Decision Report');[m
[32m+[m[32m  await t.expect(Common.createNewMenu.textContent).contains('Collection');[m
[32m+[m[32m  await t.expect(Common.createNewMenu.textContent).contains('Dashboard');[m
[32m+[m[32m  await t.expect(Common.createNewMenu.textContent).contains('Process Report');[m
[32m+[m[32m  await t.expect(Common.createNewMenu.textContent).contains('Combined Process Report');[m
[32m+[m[32m  await t.expect(Common.createNewMenu.textContent).contains('Decision Report');[m
 [m
   await t.click(Common.submenuOption('Process Report'));[m
   await t.click(Common.templateModalProcessField);[m
[36m@@ -78,7 +83,7 @@[m [mtest('complex Homepage actions', async (t) => {[m
   await save(t);[m
   await t.click(e.homepageLink);[m
 [m
[31m-  await t.click(Common.createNewButton).hover(Common.newReportOption);[m
[32m+[m[32m  await t.click(Common.createNewMenu).hover(Common.newReportOption);[m
   await t.click(Common.submenuOption('Process Report'));[m
   await t.click(Common.templateModalProcessField);[m
   await t.click(Common.firstOption);[m
[36m@@ -115,7 +120,7 @@[m [mtest('complex Homepage actions', async (t) => {[m
 [m
   await t.click(e.homepageLink);[m
 [m
[31m-  await t.click(Common.createNewButton).click(Common.menuOption('Collection'));[m
[32m+[m[32m  await t.click(Common.createNewMenu).click(Common.option('Collection'));[m
   await t.typeText(Common.modalNameInput, 'Marketing', {replace: true});[m
   await t.click(Common.modalConfirmButton);[m
   await t.click(Common.modalConfirmButton);[m
[36m@@ -125,12 +130,12 @@[m [mtest('complex Homepage actions', async (t) => {[m
 [m
   await t.click(e.homepageLink);[m
 [m
[31m-  await t.click(Common.createNewButton).click(Common.menuOption('Collection'));[m
[32m+[m[32m  await t.click(Common.createNewMenu).click(Common.option('Collection'));[m
   await t.typeText(Common.modalNameInput, 'Sales', {replace: true});[m
   await t.click(Common.modalConfirmButton);[m
   await t.click(Common.modalConfirmButton);[m
 [m
[31m-  await t.click(Common.createNewButton).hover(Common.newReportOption);[m
[32m+[m[32m  await t.click(Common.createNewMenu).hover(Common.newReportOption);[m
   await t.click(Common.submenuOption('Process Report'));[m
   await t.click(Common.templateModalProcessField);[m
   await t.click(Common.firstOption);[m
[36m@@ -140,7 +145,7 @@[m [mtest('complex Homepage actions', async (t) => {[m
   await save(t);[m
   await t.click(e.breadcrumb('Sales'));[m
 [m
[31m-  await t.click(Common.createNewButton).hover(Common.newReportOption);[m
[32m+[m[32m  await t.click(Common.createNewMenu).hover(Common.newReportOption);[m
   await t.click(Common.submenuOption('Process Report'));[m
   await t.click(Common.templateModalProcessField);[m
   await t.click(Common.firstOption);[m
[36m@@ -201,9 +206,9 @@[m [mtest('complex Homepage actions', async (t) => {[m
 [m
   await t.click(e.moveCopySwitch);[m
   await t.click(e.copyTargetsInput);[m
[31m-  await t.click(Common.carbonOption('Sales'));[m
[32m+[m[32m  await t.click(e.copyTarget('Sales'));[m
 [m
[31m-  await t.takeElementScreenshot(e.copyModal, 'img/copy.png');[m
[32m+[m[32m  await t.takeElementScreenshot(Common.modalContainer, 'img/copy.png');[m
 [m
   await t.click(Common.confirmButton);[m
 [m
[36m@@ -219,8 +224,8 @@[m [mtest('complex Homepage actions', async (t) => {[m
 });[m
 [m
 test('multi definition selection', async (t) => {[m
[31m-  await t.click(Common.createNewButton);[m
[31m-  await t.hover(Common.newReportOption);[m
[32m+[m[32m  await t.click(Common.createNewMenu);[m
[32m+[m[32m  await t.click(Common.newReportOption);[m
   await t.click(Common.submenuOption('Process Report'));[m
 [m
   const firstDefinition = 'Invoice Receipt with alternative correlation variable';[m
[1mdiff --git a/client/e2e/tests/ProcessFilter.js b/client/e2e/tests/ProcessFilter.js[m
[1mindex 2126d3a70b..9841b558c4 100644[m
[1m--- a/client/e2e/tests/ProcessFilter.js[m
[1m+++ b/client/e2e/tests/ProcessFilter.js[m
[36m@@ -13,7 +13,13 @@[m [mimport * as Report from './ProcessReport.elements.js';[m
 import * as Filter from './Filter.elements.js';[m
 import * as Common from './Common.elements';[m
 [m
[31m-fixture('Process Report Filter').page(config.endpoint).beforeEach(u.login).afterEach(cleanEntities);[m
[32m+[m[32mfixture('Process Report Filter')[m
[32m+[m[32m  .page(config.endpoint)[m
[32m+[m[32m  .beforeEach(async (t) => {[m
[32m+[m[32m    await u.login(t);[m
[32m+[m[32m    await t.navigateTo(config.collectionsEndpoint);[m
[32m+[m[32m  })[m
[32m+[m[32m  .afterEach(cleanEntities);[m
 [m
 test('variable filter modal dependent on variable type', async (t) => {[m
   await u.createNewReport(t);[m
[1mdiff --git a/client/e2e/tests/ProcessReport.elements.js b/client/e2e/tests/ProcessReport.elements.js[m
[1mindex 0ab81460dd..665082b18a 100644[m
[1m--- a/client/e2e/tests/ProcessReport.elements.js[m
[1m+++ b/client/e2e/tests/ProcessReport.elements.js[m
[36m@@ -13,9 +13,8 @@[m [mexport const reportContainer = Selector('.Report');[m
 export const reportName = Selector('.ReportView .name');[m
 export const reportRenderer = Selector('.ReportRenderer');[m
 export const report = Selector('.ListItem.report');[m
[31m-export const definitionCopyButton = (definition) => definition.find('.actionBtn').nth(0);[m
[31m-export const definitionEditButton = (definition) =>[m
[31m-  definition.find('.Popover .buttonWrapper button');[m
[32m+[m[32mexport const definitionCopyButton = (definition) => definition.find('.Button').nth(0);[m
[32m+[m[32mexport const definitionEditButton = (definition) => definition.find('.Popover .Button');[m
 export const checkbox = (name) => Selector('.label').withText(name);[m
 export const groupbyDropdown = checkbox('Group By').nextSibling();[m
 export const groupbyDropdownButton = groupbyDropdown.find('button');[m
[36m@@ -37,7 +36,7 @@[m [mexport const goalSwitch = Selector('.configurationPopover fieldset')[m
 export const goalTargetInput = Selector('.configurationPopover fieldset')[m
   .withText('Set Target')[m
   .find('.LabeledInput')[m
[31m-  .nth(1)[m
[32m+[m[32m  .nth(0)[m
   .find('input');[m
 export const dropdownOption = (text) =>[m
   Selector('.Dropdown.is-open .DropdownOption').withText(text);[m
[36m@@ -86,7 +85,7 @@[m [mexport const controlPanelFilter = Selector('.ActionItem');[m
 export const filterRemoveButton = controlPanelFilter.find('.Button:last-child');[m
 export const definitionElement = (name) => Selector('.DefinitionList li').withText(name);[m
 export const definitionEditorPopover = Selector('.DefinitionList .Popover');[m
[31m-export const definitionEditor = definitionEditorPopover.find('.buttonWrapper button');[m
[32m+[m[32mexport const definitionEditor = definitionEditorPopover.find('.Button');[m
 export const definitionEditorDialog = definitionEditorPopover.find('.popoverContent');[m
 export const versionPopover = Selector('.VersionPopover');[m
 export const versionAll = Selector('input[type="radio"]').nth(0);[m
[36m@@ -97,7 +96,7 @@[m [mexport const versionCheckbox = (number) =>[m
 export const tenantPopover = Selector('.TenantPopover');[m
 export const aggregationTypeSelect = Selector('.AggregationType');[m
 export const aggregationOption = (text) => Selector('.AggregationType .Switch').withText(text);[m
[31m-export const detailsPopoverButton = Selector('.EntityName .Popover .buttonWrapper button');[m
[32m+[m[32mexport const detailsPopoverButton = Selector('.EntityName .Popover .buttonWrapper .Button');[m
 export const modalButton = (text) => Selector('.ReportDetails .modalButton').withText(text);[m
 export const rawDataTable = Selector('.RawDataModal .Table');[m
 export const modalDiagram = Selector('.DiagramModal .BPMNDiagram');[m
[36m@@ -122,9 +121,8 @@[m [mexport const lineButton = Selector('.measureContainer .Button').withText('Line')[m
 export const tableScrollableContainer = reportTable.find('table');[m
 export const objectViewBtn = reportTable.find('.ObjectViewBtn').nth(0);[m
 export const objectVariableModal = Selector('.ObjectVariableModal');[m
[31m-export const renameVariablesBtn = Selector('button').withText('Rename Variables');[m
[32m+[m[32mexport const renameVariablesBtn = Selector('.actionBar .Button').withText('Rename Variables');[m
 export const newNameInput = (name) =>[m
   Selector('.RenameVariablesModal tbody tr').withText(name).find('.Input');[m
 export const viewSelect = Selector('.View .activateButton');[m
 export const numberReportInfo = reportRenderer.find('.Number .label');[m
[31m-export const variableSubmenuOption = (text) => Selector('.Submenu .DropdownOption').withText(text);[m
[1mdiff --git a/client/e2e/tests/ProcessReport.js b/client/e2e/tests/ProcessReport.js[m
[1mindex 5fff04c6d4..4576d8157d 100644[m
[1m--- a/client/e2e/tests/ProcessReport.js[m
[1m+++ b/client/e2e/tests/ProcessReport.js[m
[36m@@ -13,12 +13,18 @@[m [mimport {addAnnotation, clearAllAnnotations} from '../browserMagic';[m
 import * as e from './ProcessReport.elements.js';[m
 import * as Common from './Common.elements.js';[m
 [m
[31m-fixture('Process Report').page(config.endpoint).beforeEach(u.login).afterEach(cleanEntities);[m
[32m+[m[32mfixture('Process Report')[m
[32m+[m[32m  .page(config.endpoint)[m
[32m+[m[32m  .beforeEach(async (t) => {[m
[32m+[m[32m    await u.login(t);[m
[32m+[m[32m    await t.navigateTo(config.collectionsEndpoint);[m
[32m+[m[32m  })[m
[32m+[m[32m  .afterEach(cleanEntities);[m
 [m
 test('create a report from a template', async (t) => {[m
   await t.resizeWindow(1300, 750);[m
[31m-  await t.click(Common.createNewButton);[m
[31m-  await t.hover(Common.newReportOption);[m
[32m+[m[32m  await t.click(Common.createNewMenu);[m
[32m+[m[32m  await t.click(Common.newReportOption);[m
   await t.click(Common.submenuOption('Process Report'));[m
 [m
   await t.click(Common.templateModalProcessField);[m
[36m@@ -492,7 +498,7 @@[m [mtest('bar chart and line chart configuration', async (t) => {[m
 [m
   await t.click(e.distributedBySelect);[m
   await t.click(e.dropdownOption('Variable'));[m
[31m-  await t.click(e.variableSubmenuOption('boolVar'));[m
[32m+[m[32m  await t.click(Common.submenuOption('boolVar'));[m
   await u.selectVisualization(t, 'Bar Chart');[m
 [m
   await t.click(e.configurationButton);[m
[36m@@ -626,7 +632,7 @@[m [mtest('progress bar and reset to default', async (t) => {[m
   await t.click(e.configurationButton);[m
 [m
   await t.click(e.goalSwitch);[m
[31m-  await t.typeText(e.goalTargetInput, '200', {replace: true});[m
[32m+[m[32m  await t.typeText(e.goalTargetInput, '400', {replace: true});[m
 [m
   await t.click(e.configurationButton);[m
 [m
[36m@@ -641,7 +647,7 @@[m [mtest('progress bar and reset to default', async (t) => {[m
     .maximizeWindow();[m
 [m
   await t.click(e.configurationButton);[m
[31m-  await t.typeText(e.goalTargetInput, '50', {replace: true});[m
[32m+[m[32m  await t.typeText(e.goalTargetInput, '300', {replace: true});[m
   await t.click(e.configurationButton);[m
 [m
   await t[m
[36m@@ -930,7 +936,7 @@[m [mtest('distribute by variable', async (t) => {[m
 [m
   await t.click(e.distributedBySelect);[m
   await t.click(e.dropdownOption('Variable'));[m
[31m-  await t.click(e.variableSubmenuOption('approved'));[m
[32m+[m[32m  await t.click(Common.submenuOption('approved'));[m
   await t[m
     .resizeWindow(1650, 900)[m
     .takeElementScreenshot([m
[36m@@ -941,7 +947,7 @@[m [mtest('distribute by variable', async (t) => {[m
 [m
   await t.click(e.distributedBySelect);[m
   await t.click(e.dropdownOption('Variable'));[m
[31m-  await t.click(e.variableSubmenuOption('invoiceCategory'));[m
[32m+[m[32m  await t.click(Common.submenuOption('invoiceCategory'));[m
   await u.selectVisualization(t, 'Table');[m
 [m
   await t.expect(e.reportRenderer.textContent).contains('Misc');[m
[36m@@ -959,10 +965,10 @@[m [mtest('distribute by start/end date', async (t) => {[m
   await u.selectVisualization(t, 'Bar Chart');[m
   await t.click(e.distributedBySelect);[m
   await t.click(e.dropdownOption('Start Date'));[m
[31m-  await t.click(e.variableSubmenuOption('Month'));[m
[32m+[m[32m  await t.click(Common.submenuOption('Month'));[m
   await t.click(e.distributedBySelect);[m
   await t.click(e.dropdownOption('End Date'));[m
[31m-  await t.click(e.variableSubmenuOption('Automatic'));[m
[32m+[m[32m  await t.click(Common.submenuOption('Automatic'));[m
   await u.selectGroupby(t, 'Variable', 'boolVar');[m
 [m
   await t.expect(e.reportChart.visible).ok();[m
[36m@@ -1082,7 +1088,7 @@[m [mtest('distributed multi-measure reports', async (t) => {[m
 [m
   await t.click(e.distributedBySelect);[m
   await t.click(e.dropdownOption('Variable'));[m
[31m-  await t.click(e.variableSubmenuOption('invoiceCategory'));[m
[32m+[m[32m  await t.click(Common.submenuOption('invoiceCategory'));[m
 [m
   await t.click(e.addMeasureButton);[m
   await t.click(e.dropdownOption('Count'));[m
[36m@@ -1271,7 +1277,7 @@[m [mtest('add, edit and remove reports description', async (t) => {[m
 [m
   // Add description[m
   await t.expect(Common.descriptionParagraph.exists).notOk();[m
[31m-  await t.expect(Common.addDescriptionButton.textContent).contains('Add description');[m
[32m+[m[32m  await t.expect(Common.addDescriptionButton.textContent).contains('Add Description');[m
   const description = 'This is a description of the report.';[m
   await u.addEditEntityDescription(t, description, 'img/report-descriptionModal.png');[m
 [m
[36m@@ -1288,10 +1294,10 @@[m [mtest('add, edit and remove reports description', async (t) => {[m
   await t.resizeWindow(1200, 600);[m
   await t.click(Common.editButton);[m
 [m
[32m+[m[32m  await t.expect(Common.addDescriptionButton.textContent).contains('Edit');[m
[32m+[m
   const newDescription =[m
[31m-    'This is a new description of the report. This time the description is very long and it will not fit in one line. It will display ellipsis and More button.'.repeat([m
[31m-      2[m
[31m-    );[m
[32m+[m[32m    'This is a new description of the report. This time the description is very long and it will not fit in one line. It will display ellipsis and More button.';[m
   await u.addEditEntityDescription(t, newDescription);[m
 [m
   await t.expect(Common.descriptionField.textContent).contains(newDescription);[m
[36m@@ -1323,7 +1329,7 @@[m [mtest('add, edit and remove reports description', async (t) => {[m
   await t.click(Common.editButton);[m
   await u.addEditEntityDescription(t);[m
   await t.expect(Common.descriptionParagraph.exists).notOk();[m
[31m-  await t.expect(Common.addDescriptionButton.textContent).contains('Add description');[m
[32m+[m[32m  await t.expect(Common.addDescriptionButton.textContent).contains('Add Description');[m
 [m
   await u.save(t);[m
 [m
[1mdiff --git a/client/e2e/utils.js b/client/e2e/utils.js[m
[1mindex 50915dc7be..1478f963d8 100644[m
[1m--- a/client/e2e/utils.js[m
[1m+++ b/client/e2e/utils.js[m
[36m@@ -30,7 +30,7 @@[m [mexport async function login(t, userHandle = 'user1') {[m
     .maximizeWindow()[m
     .typeText('input[name="username"]', user.username)[m
     .typeText('input[name="password"]', user.password)[m
[31m-    .click('button[type="submit"]');[m
[32m+[m[32m    .click('.primary');[m
 }[m
 [m
 export function getUser(t, userHandle) {[m
[36m@@ -45,30 +45,30 @@[m [mexport function getUser(t, userHandle) {[m
 }[m
 [m
 export async function createNewReport(t) {[m
[31m-  await t.click(Common.createNewButton);[m
[31m-  await t.hover(Common.newReportOption);[m
[31m-  await t.click(Common.submenuOption('Process Report'));[m
[32m+[m[32m  await t.click(Common.createNewMenu);[m
[32m+[m[32m  await t.click(Selector('.Submenu').withText('Report'));[m
[32m+[m[32m  await t.click(Selector('.Submenu .DropdownOption').withText('Process Report'));[m
   await t.click(Selector('.Button').withText('Blank report'));[m
   await t.click(Selector(Common.modalConfirmButton));[m
   await toggleReportAutoPreviewUpdate(t);[m
 }[m
 [m
 export async function createNewDecisionReport(t) {[m
[31m-  await t.click(Common.createNewButton);[m
[31m-  await t.hover(Common.newReportOption);[m
[32m+[m[32m  await t.click(Common.createNewMenu);[m
[32m+[m[32m  await t.click(Common.option('Report'));[m
   await t.click(Common.submenuOption('Decision Report'));[m
   await toggleReportAutoPreviewUpdate(t);[m
 }[m
 [m
 export async function createNewCombinedReport(t) {[m
[31m-  await t.click(Common.createNewButton);[m
[31m-  await t.hover(Common.newReportOption);[m
[32m+[m[32m  await t.click(Common.createNewMenu);[m
[32m+[m[32m  await t.click(Common.option('Report'));[m
   await t.click(Common.submenuOption('Combined Process Report'));[m
   await toggleReportAutoPreviewUpdate(t);[m
 }[m
 [m
 export async function selectVersion(t, selector, version) {[m
[31m-  await t.click(selector.find('.Popover .buttonWrapper button'));[m
[32m+[m[32m  await t.click(selector.find('.Popover .Button'));[m
   await t.click('.VersionPopover');[m
 [m
   if (typeof version === 'string') {[m
[36m@@ -80,7 +80,7 @@[m [mexport async function selectVersion(t, selector, version) {[m
     }[m
   }[m
 [m
[31m-  await t.click(selector.find('.Popover .buttonWrapper button'));[m
[32m+[m[32m  await t.click(selector.find('.Popover .Button'));[m
 }[m
 [m
 export async function selectReportDefinition(t, name, version) {[m
[36m@@ -97,8 +97,8 @@[m [mexport async function selectReportDefinition(t, name, version) {[m
 export async function selectDefinition(t, name, version = 'Specific version') {[m
   await t[m
     .click('.Popover.DefinitionSelection')[m
[31m-    .typeText('.popoverContent input[type="text"]', name, {replace: true})[m
[31m-    .click(Common.carbonOption(name));[m
[32m+[m[32m    .typeText('.Typeahead input', name, {replace: true})[m
[32m+[m[32m    .click(Common.typeaheadOption(name));[m
 [m
   await t.expect(Selector('.VersionPopover button').hasAttribute('disabled')).notOk();[m
 [m
[36m@@ -151,8 +151,8 @@[m [mexport async function gotoOverview(t) {[m
 }[m
 [m
 export async function createNewDashboard(t) {[m
[31m-  await t.click(Common.createNewButton);[m
[31m-  await t.click(Common.menuOption('Dashboard'));[m
[32m+[m[32m  await t.click(Common.createNewMenu);[m
[32m+[m[32m  await t.click(Common.option('Dashboard'));[m
   await t.click(Homepage.blankDashboardButton);[m
   await t.click(Common.modalConfirmButton);[m
 }[m
[36m@@ -160,8 +160,8 @@[m [mexport async function createNewDashboard(t) {[m
 export async function addReportToDashboard(t, name) {[m
   await t[m
     .click('.AddButton')[m
[31m-    .click('.CreateTileModal #addReportSelector')[m
[31m-    .click(Common.carbonOption(name))[m
[32m+[m[32m    .click('.CreateTileModal .optionsButton')[m
[32m+[m[32m    .click(Selector('.CreateTileModal .DropdownOption').withText(name))[m
     .click(Selector('.CreateTileModal button').withText('Add Tile'))[m
     .click('.DashboardRenderer');[m
 }[m
[1mdiff --git a/client/package.json b/client/package.json[m
[1mindex 00644a78fc..67f147b979 100644[m
[1m--- a/client/package.json[m
[1m+++ b/client/package.json[m
[36m@@ -7,7 +7,6 @@[m
     "@bpmn-io/dmn-migrate": "^0.4.3",[m
     "@bpmn-io/element-templates-icons-renderer": "^0.3.0",[m
     "@camunda/camunda-composite-components": "^0.2.4",[m
[31m-    "@camunda/camunda-optimize-composite-components": "^0.0.13-rc3",[m
     "@carbon/icons-react": "^11.25.0",[m
     "@carbon/react": "^1.38.0",[m
     "@lexical/react": "^0.12.0",[m
[36m@@ -84,8 +83,8 @@[m
     "@types/carbon__icons-react": "^11.26.1",[m
     "@types/enzyme": "^3.10.13",[m
     "@types/enzyme-adapter-react-16": "^1.0.6",[m
[31m-    "@types/jest": "29.5.4",[m
[31m-    "@types/node": "^20.6.1",[m
[32m+[m[32m    "@types/jest": "29.5.5",[m
[32m+[m[32m    "@types/node": "^20.6.2",[m
     "@types/react": "^18.0.11",[m
     "@types/react-date-range": "^1.4.4",[m
     "@types/react-dom": "^18.0.11",[m
[36m@@ -130,7 +129,7 @@[m
   "jest": {[m
     "resetMocks": false,[m
     "transformIgnorePatterns": [[m
[31m-      "/node_modules/(?!@camunda/camunda-.*?)"[m
[32m+[m[32m      "/node_modules/(?!@camunda/camunda-composite-components)"[m
     ],[m
     "moduleNameMapper": {[m
       "\\.(css|scss)$": "<rootDir>/src/__mocks__/styleMock.js"[m
[1mdiff --git a/client/pom.xml b/client/pom.xml[m
[1mindex a013b867cd..9933c6a10f 100644[m
[1m--- a/client/pom.xml[m
[1m+++ b/client/pom.xml[m
[36m@@ -5,7 +5,7 @@[m
   <parent>[m
     <groupId>org.camunda.optimize</groupId>[m
     <artifactId>parent</artifactId>[m
[31m-    <version>3.11.0-SNAPSHOT</version>[m
[32m+[m[32m    <version>3.12.0-SNAPSHOT</version>[m
   </parent>[m
 [m
   <artifactId>client</artifactId>[m
[1mdiff --git a/client/public/static/instant_preview_dashboards/prod_business_operations.png b/client/public/static/instant_preview_dashboards/prod_business_operations.png[m
[1mnew file mode 100644[m
[1mindex 0000000000..94ec6d1102[m
Binary files /dev/null and b/client/public/static/instant_preview_dashboards/prod_business_operations.png differ
[1mdiff --git a/client/public/static/instant_preview_dashboards/prod_business_reporting.png b/client/public/static/instant_preview_dashboards/prod_business_reporting.png[m
[1mnew file mode 100644[m
[1mindex 0000000000..58c29d7e64[m
Binary files /dev/null and b/client/public/static/instant_preview_dashboards/prod_business_reporting.png differ
[1mdiff --git a/client/public/static/instant_preview_dashboards/prod_process_improvement.png b/client/public/static/instant_preview_dashboards/prod_process_improvement.png[m
[1mnew file mode 100644[m
[1mindex 0000000000..43ac26398a[m
Binary files /dev/null and b/client/public/static/instant_preview_dashboards/prod_process_improvement.png differ
[1mdiff --git a/client/public/static/templates/Cost.png b/client/public/static/templates/Cost.png[m
[1mnew file mode 100644[m
[1mindex 0000000000..6c3cb8fc36[m
Binary files /dev/null and b/client/public/static/templates/Cost.png differ
[1mdiff --git a/client/public/static/templates/Cost_o.png b/client/public/static/templates/Cost_o.png[m
[1mnew file mode 100644[m
[1mindex 0000000000..15e5c2f27d[m
Binary files /dev/null and b/client/public/static/templates/Cost_o.png differ
[1mdiff --git a/client/public/static/templates/Duration.png b/client/public/static/templates/Duration.png[m
[1mnew file mode 100644[m
[1mindex 0000000000..c7532e3e95[m
Binary files /dev/null and b/client/public/static/templates/Duration.png differ
[1mdiff --git a/client/public/static/templates/Duration_o.png b/client/public/static/templates/Duration_o.png[m
[1mnew file mode 100644[m
[1mindex 0000000000..9e9cbb00e4[m
Binary files /dev/null and b/client/public/static/templates/Duration_o.png differ
[1mdiff --git a/client/public/static/templates/Duration_w.png b/client/public/static/templates/Duration_w.png[m
[1mnew file mode 100644[m
[1mindex 0000000000..2dc37225d2[m
Binary files /dev/null and b/client/public/static/templates/Duration_w.png differ
[1mdiff --git a/client/public/static/templates/Incident duration.png b/client/public/static/templates/Incident duration.png[m
[1mnew file mode 100644[m
[1mindex 0000000000..cb6541f82d[m
Binary files /dev/null and b/client/public/static/templates/Incident duration.png differ
[1mdiff --git a/client/public/static/templates/Productivity.png b/client/public/static/templates/Productivity.png[m
[1mnew file mode 100644[m
[1mindex 0000000000..3bf1d1333a[m
Binary files /dev/null and b/client/public/static/templates/Productivity.png differ
[1mdiff --git a/client/public/static/templates/Productivity_o.png b/client/public/static/templates/Productivity_o.png[m
[1mnew file mode 100644[m
[1mindex 0000000000..c9b62ae43c[m
Binary files /dev/null and b/client/public/static/templates/Productivity_o.png differ
[1mdiff --git a/client/public/static/templates/Productivity_w.png b/client/public/static/templates/Productivity_w.png[m
[1mnew file mode 100644[m
[1mindex 0000000000..1bcfae399f[m
Binary files /dev/null and b/client/public/static/templates/Productivity_w.png differ
[1mdiff --git a/client/public/static/templates/Quality.png b/client/public/static/templates/Quality.png[m
[1mnew file mode 100644[m
[1mindex 0000000000..8c0016eb3a[m
Binary files /dev/null and b/client/public/static/templates/Quality.png differ
[1mdiff --git a/client/public/static/templates/Quality_o.png b/client/public/static/templates/Quality_o.png[m
[1mnew file mode 100644[m
[1mindex 0000000000..6a2846c14d[m
Binary files /dev/null and b/client/public/static/templates/Quality_o.png differ
[1mdiff --git a/client/public/static/templates/Quality_w.png b/client/public/static/templates/Quality_w.png[m
[1mnew file mode 100644[m
[1mindex 0000000000..fcb6e3e6b4[m
Binary files /dev/null and b/client/public/static/templates/Quality_w.png differ
[1mdiff --git a/client/public/static/templates/Target.png b/client/public/static/templates/Target.png[m
[1mnew file mode 100644[m
[1mindex 0000000000..60014f68ab[m
Binary files /dev/null and b/client/public/static/templates/Target.png differ
[1mdiff --git a/client/public/static/templates/acc_cycle_time.png b/client/public/static/templates/acc_cycle_time.png[m
[1mnew file mode 100644[m
[1mindex 0000000000..1928d1002a[m
Binary files /dev/null and b/client/public/static/templates/acc_cycle_time.png differ
[1mdiff --git a/client/public/static/templates/acc_incident_duration.png b/client/public/static/templates/acc_incident_duration.png[m
[1mnew file mode 100644[m
[1mindex 0000000000..4953b0f3d5[m
Binary files /dev/null and b/client/public/static/templates/acc_incident_duration.png differ
[1mdiff --git a/client/public/static/templates/acc_task_duration.png b/client/public/static/templates/acc_task_duration.png[m
[1mnew file mode 100644[m
[1mindex 0000000000..4ccdaea2fb[m
Binary files /dev/null and b/client/public/static/templates/acc_task_duration.png differ
[1mdiff --git a/client/public/static/templates/customize.png b/client/public/static/templates/customize.png[m
[1mnew file mode 100644[m
[1mindex 0000000000..9c7a69e184[m
Binary files /dev/null and b/client/public/static/templates/customize.png differ
[1mdiff --git a/client/public/static/templates/eff_capability.png b/client/public/static/templates/eff_capability.png[m
[1mnew file mode 100644[m
[1mindex 0000000000..52d7d82947[m
Binary files /dev/null and b/client/public/static/templates/eff_capability.png differ
[1mdiff --git a/client/public/static/templates/eff_error_rate.png b/client/public/static/templates/eff_error_rate.png[m
[1mnew file mode 100644[m
[1mindex 0000000000..f78d5940a5[m
Binary files /dev/null and b/client/public/static/templates/eff_error_rate.png differ
[1mdiff --git a/client/public/static/templates/eff_outcome.png b/client/public/static/templates/eff_outcome.png[m
[1mnew file mode 100644[m
[1mindex 0000000000..9e068a5881[m
Binary files /dev/null and b/client/public/static/templates/eff_outcome.png differ
[1mdiff --git a/client/public/static/templates/pro_completion.png b/client/public/static/templates/pro_completion.png[m
[1mnew file mode 100644[m
[1mindex 0000000000..7ebf19fb3e[m
Binary files /dev/null and b/client/public/static/templates/pro_completion.png differ
[1mdiff --git a/client/public/static/templates/pro_input_rate.png b/client/public/static/templates/pro_input_rate.png[m
[1mnew file mode 100644[m
[1mindex 0000000000..ccf102ef12[m
Binary files /dev/null and b/client/public/static/templates/pro_input_rate.png differ
[1mdiff --git a/client/public/static/templates/pro_output.png b/client/public/static/templates/pro_output.png[m
[1mnew file mode 100644[m
[1mindex 0000000000..502de73a3d[m
Binary files /dev/null and b/client/public/static/templates/pro_output.png differ
[1mdiff --git a/client/public/static/templates/pro_throughput.png b/client/public/static/templates/pro_throughput.png[m
[1mnew file mode 100644[m
[1mindex 0000000000..3a127f1090[m
Binary files /dev/null and b/client/public/static/templates/pro_throughput.png differ
[1mdiff --git a/client/public/static/templates/pro_work_in_progress.png b/client/public/static/templates/pro_work_in_progress.png[m
[1mnew file mode 100644[m
[1mindex 0000000000..3d4ef6d2d5[m
Binary files /dev/null and b/client/public/static/templates/pro_work_in_progress.png differ
[1mdiff --git a/client/src/App.js b/client/src/App.js[m
[1mindex 0e8ec525d5..7e00a79984 100644[m
[1m--- a/client/src/App.js[m
[1m+++ b/client/src/App.js[m
[36m@@ -110,7 +110,7 @@[m [mclass App extends React.Component {[m
                 <UserProvider>[m
                   <DocsProvider>[m
                     <Switch>[m
[31m-                      <PrivateRoute exact path="/" component={Home} />[m
[32m+[m[32m                      <PrivateRoute exact path="/" component={Processes} />[m
                       <PrivateRoute path="/analysis" component={Analysis} />[m
                       <PrivateRoute exact path="/events/processes" component={Events} />[m
                       <PrivateRoute path="/events/ingested" component={Events} />[m
[36m@@ -119,7 +119,7 @@[m [mclass App extends React.Component {[m
                         path="/(report|dashboard/instant|dashboard|collection|events/processes|processes/report)/*"[m
                         render={this.renderEntity}[m
                       />[m
[31m-                      <PrivateRoute path="/processes" component={Processes} />[m
[32m+[m[32m                      <PrivateRoute exact path="/collections" component={Home} />[m
                       <Route path="/license" component={License} />[m
                       <Route path="/logout" component={Logout} />[m
                       <PrivateRoute path="*" component={ErrorPage} />[m
[1mdiff --git a/client/src/carbon.d.ts b/client/src/carbon.d.ts[m
[1mindex 1b62ad5e35..5f41249d4a 100644[m
[1m--- a/client/src/carbon.d.ts[m
[1m+++ b/client/src/carbon.d.ts[m
[36m@@ -29,7 +29,6 @@[m [mimport {[m
   ChangeEventHandler,[m
   AnchorHTMLAttributes,[m
   InputHTMLAttributes,[m
[31m-  UIEvent,[m
 } from 'react';[m
 [m
 declare module '@carbon/react' {[m
[36m@@ -640,66 +639,4 @@[m [mdeclare module '@carbon/react' {[m
   declare function FilterableMultiSelect<T>([m
     props: ForwardRefProps<HTMLElement, FilterableMultiSelectProps<T>>[m
   ): JSX.Element;[m
[31m-[m
[31m-  interface PasswordInputProps extends ReactInputAttr {[m
[31m-    defaultValue?: string | number;[m
[31m-    helperText?: ReactNode;[m
[31m-    hideLabel?: boolean;[m
[31m-    hidePasswordLabel?: string;[m
[31m-    id: string;[m
[31m-    inline?: boolean;[m
[31m-    invalid?: boolean;[m
[31m-    invalidText?: ReactNode;[m
[31m-    labelText: ReactNode;[m
[31m-    onTogglePasswordVisibility?: () => void;[m
[31m-    showPasswordLabel?: string;[m
[31m-    size?: 'sm' | 'md' | 'lg';[m
[31m-    tooltipAlignment?: 'start' | 'center' | 'end';[m
[31m-    tooltipPosition?: 'top' | 'right' | 'bottom' | 'left';[m
[31m-    value?: string | number;[m
[31m-    warn?: boolean;[m
[31m-    warnText?: ReactNode;[m
[31m-  }[m
[31m-[m
[31m-  declare function PasswordInput([m
[31m-    props: ForwardRefProps<HTMLInputElement, PasswordInputProps>[m
[31m-  ): JSX.Element;[m
[31m-[m
[31m-  declare function Stack(props: {gap: number; children: ReactNode}): JSX.Element;[m
[31m-[m
[31m-  interface MenuItemProps {[m
[31m-    children?: ReactNode;[m
[31m-    className?: string;[m
[31m-    disabled?: boolean;[m
[31m-    kind?: 'default' | 'danger';[m
[31m-    label: string;[m
[31m-    onClick?: () => void;[m
[31m-    renderIcon?: (() => ReactNode) | ReactNode;[m
[31m-    shortcut?: string;[m
[31m-  }[m
[31m-[m
[31m-  declare function MenuItem(props: ForwardRefProps<HTMLElement, MenuItemProps>): JSX.Element;[m
[31m-[m
[31m-  interface MenuButtonProps {[m
[31m-    children: ReactNode;[m
[31m-    className?: string;[m
[31m-    disabled?: boolean;[m
[31m-    kind?: 'primary' | 'tertiary' | 'ghost';[m
[31m-    label: string;[m
[31m-    size?: 'sm' | 'md' | 'lg';[m
[31m-  }[m
[31m-[m
[31m-  declare function MenuButton(props: ForwardRefProps<HTMLElement, MenuButtonProps>): JSX.Element;[m
[31m-[m
[31m-  function MenuItemSelectable([m
[31m-    props: ForwardRefProps<[m
[31m-      HTMLElement,[m
[31m-      {[m
[31m-        label: string;[m
[31m-        selected?: boolean;[m
[31m-        className?: string;[m
[31m-        onChange?: (evt: UIEvent<HTMLElement>) => void;[m
[31m-      } & Omit<MenuItemProps, 'renderIcon'>[m
[31m-    >[m
[31m-  ): JSX.Element;[m
 }[m
[1mdiff --git a/client/src/components/Analysis/BranchAnalysis/BranchControlPanel.scss b/client/src/components/Analysis/BranchAnalysis/BranchControlPanel.scss[m
[1mindex d05a7d804c..79e34607b2 100644[m
[1m--- a/client/src/components/Analysis/BranchAnalysis/BranchControlPanel.scss[m
[1m+++ b/client/src/components/Analysis/BranchAnalysis/BranchControlPanel.scss[m
[36m@@ -5,58 +5,65 @@[m
   padding: 12px;[m
   margin-bottom: 1em;[m
 [m
[31m-  .list .item {[m
[32m+[m[32m  .list {[m
[32m+[m[32m    list-style: none;[m
[32m+[m[32m    margin: 0;[m
[32m+[m[32m    padding: 0;[m
     display: inline;[m
[31m-    position: relative;[m
[31m-    padding-right: 20px;[m
 [m
[31m-    &.summary {[m
[31m-      line-height: 50px;[m
[32m+[m[32m    .item {[m
[32m+[m[32m      display: inline;[m
[32m+[m[32m      position: relative;[m
[32m+[m[32m      padding-right: 20px;[m
 [m
[31m-      .DefinitionSelection {[m
[32m+[m[32m      &.summary {[m
[32m+[m[32m        line-height: 50px;[m
[32m+[m
[32m+[m[32m        .DefinitionSelection {[m
[32m+[m[32m          display: inline-block;[m
[32m+[m[32m          margin: 0 0.5em;[m
[32m+[m[32m          line-height: normal;[m
[32m+[m[32m          width: 220px;[m
[32m+[m[32m        }[m
[32m+[m[32m      }[m
[32m+[m
[32m+[m[32m      .config {[m
[32m+[m[32m        cursor: default;[m
         display: inline-block;[m
         margin: 0 0.5em;[m
[31m-        line-height: normal;[m
[31m-        width: 220px;[m
[32m+[m[32m        line-height: 20px;[m
       }[m
     }[m
 [m
[31m-    .config {[m
[31m-      cursor: default;[m
[31m-      display: inline-block;[m
[31m-      margin: 0 0.5em;[m
[31m-      line-height: 20px;[m
[31m-    }[m
[31m-  }[m
[32m+[m[32m    .Filter {[m
[32m+[m[32m      .filterHeader {[m
[32m+[m[32m        position: relative;[m
[32m+[m[32m        display: inline-block;[m
[32m+[m[32m        margin-right: 20px;[m
 [m
[31m-  .Filter {[m
[31m-    .filterHeader {[m
[31m-      position: relative;[m
[31m-      display: inline-block;[m
[31m-      margin-right: 20px;[m
[32m+[m[32m        .dropdownLabel {[m
[32m+[m[32m          margin-right: 10px;[m
[32m+[m[32m          flex-grow: 1;[m
[32m+[m[32m        }[m
 [m
[31m-      .dropdownLabel {[m
[31m-        margin-right: 10px;[m
[31m-        flex-grow: 1;[m
[32m+[m[32m        .explanation {[m
[32m+[m[32m          display: none;[m
[32m+[m[32m        }[m
       }[m
 [m
[31m-      .explanation {[m
[32m+[m[32m      .emptyMessage,[m
[32m+[m[32m      .linkingTip {[m
         display: none;[m
       }[m
[31m-    }[m
 [m
[31m-    .emptyMessage,[m
[31m-    .linkingTip {[m
[31m-      display: none;[m
[31m-    }[m
[31m-[m
[31m-    .FilterList {[m
[31m-      display: inline;[m
[32m+[m[32m      .FilterList {[m
[32m+[m[32m        display: inline;[m
 [m
[31m-      > .listItem {[m
[31m-        display: inline-flex;[m
[31m-        width: auto;[m
[31m-        margin-right: 10px;[m
[32m+[m[32m        > .listItem {[m
[32m+[m[32m          display: inline-flex;[m
[32m+[m[32m          width: auto;[m
[32m+[m[32m          margin-right: 10px;[m
[32m+[m[32m        }[m
       }[m
     }[m
   }[m
[1mdiff --git a/client/src/components/Analysis/BranchAnalysis/Statistics.js b/client/src/components/Analysis/BranchAnalysis/Statistics.js[m
[1mindex b87f4bbe4f..7f44be542c 100644[m
[1m--- a/client/src/components/Analysis/BranchAnalysis/Statistics.js[m
[1m+++ b/client/src/components/Analysis/BranchAnalysis/Statistics.js[m
[36m@@ -62,7 +62,7 @@[m [mexport default class Statistics extends React.Component {[m
       return ([m
         <div className="Statistics" ref={this.rootRef}>[m
           <p>{t('analysis.gatewayInstances', {totalGateway})}</p>[m
[31m-          <ul className="branchDistribution">[m
[32m+[m[32m          <ul>[m
             {Object.keys(this.state.data.followingNodes).map((key) => {[m
               const count = this.state.data.followingNodes[key].activityCount;[m
               const reached = this.state.data.followingNodes[key].activitiesReached;[m
[1mdiff --git a/client/src/components/Analysis/BranchAnalysis/Statistics.scss b/client/src/components/Analysis/BranchAnalysis/Statistics.scss[m
[1mindex 819b7a09f8..428220c15f 100644[m
[1m--- a/client/src/components/Analysis/BranchAnalysis/Statistics.scss[m
[1m+++ b/client/src/components/Analysis/BranchAnalysis/Statistics.scss[m
[36m@@ -5,11 +5,6 @@[m
   border-left: 1px solid var(--silver-darken-80);[m
   position: relative;[m
 [m
[31m-  ul.branchDistribution {[m
[31m-    list-style: initial;[m
[31m-    padding-left: 40px;[m
[31m-  }[m
[31m-[m
   .diagram-container {[m
     width: 100%;[m
     height: 100px;[m
[1mdiff --git a/client/src/components/Analysis/BranchAnalysis/__snapshots__/Statistics.test.js.snap b/client/src/components/Analysis/BranchAnalysis/__snapshots__/Statistics.test.js.snap[m
[1mindex 150d7aaf69..745758c0d9 100644[m
[1m--- a/client/src/components/Analysis/BranchAnalysis/__snapshots__/Statistics.test.js.snap[m
[1m+++ b/client/src/components/Analysis/BranchAnalysis/__snapshots__/Statistics.test.js.snap[m
[36m@@ -17,9 +17,7 @@[m [mexports[`should create two Charts 1`] = `[m
       key="3"[m
     />[m
   </p>[m
[31m-  <ul[m
[31m-    className="branchDistribution"[m
[31m-  >[m
[32m+[m[32m  <ul>[m
     <li[m
       key="a"[m
     >[m
[36m@@ -149,9 +147,7 @@[m [mexports[`should show a summary after loading is complete 1`] = `[m
       key="3"[m
     />[m
   </p>[m
[31m-  <ul[m
[31m-    className="branchDistribution"[m
[31m-  >[m
[32m+[m[32m  <ul>[m
     <li[m
       key="testLabel"[m
     >[m
[1mdiff --git a/client/src/components/Analysis/OutlierAnalysis/OutlierControlPanel.scss b/client/src/components/Analysis/OutlierAnalysis/OutlierControlPanel.scss[m
[1mindex ed7a891469..c7ecc20673 100644[m
[1m--- a/client/src/components/Analysis/OutlierAnalysis/OutlierControlPanel.scss[m
[1m+++ b/client/src/components/Analysis/OutlierAnalysis/OutlierControlPanel.scss[m
[36m@@ -5,17 +5,24 @@[m
   padding: 12px;[m
   margin-bottom: 1em;[m
 [m
[31m-  .list .item {[m
[32m+[m[32m  .list {[m
[32m+[m[32m    list-style: none;[m
[32m+[m[32m    margin: 0;[m
[32m+[m[32m    padding: 0;[m
     display: inline;[m
[31m-    position: relative;[m
[31m-    padding-right: 20px;[m
[31m-    line-height: 50px;[m
 [m
[31m-    .DefinitionSelection {[m
[31m-      display: inline-block;[m
[31m-      margin: 0 0.5em;[m
[31m-      line-height: normal;[m
[31m-      width: 220px;[m
[32m+[m[32m    .item {[m
[32m+[m[32m      display: inline;[m
[32m+[m[32m      position: relative;[m
[32m+[m[32m      padding-right: 20px;[m
[32m+[m[32m      line-height: 50px;[m
[32m+[m
[32m+[m[32m      .DefinitionSelection {[m
[32m+[m[32m        display: inline-block;[m
[32m+[m[32m        margin: 0 0.5em;[m
[32m+[m[32m        line-height: normal;[m
[32m+[m[32m        width: 220px;[m
[32m+[m[32m      }[m
     }[m
   }[m
 }[m
[1mdiff --git a/client/src/components/Analysis/OutlierAnalysis/__snapshots__/VariablesTable.test.tsx.snap b/client/src/components/Analysis/OutlierAnalysis/__snapshots__/VariablesTable.test.tsx.snap[m
[1mindex 76674426ef..7957f0fc25 100644[m
[1m--- a/client/src/components/Analysis/OutlierAnalysis/__snapshots__/VariablesTable.test.tsx.snap[m
[1m+++ b/client/src/components/Analysis/OutlierAnalysis/__snapshots__/VariablesTable.test.tsx.snap[m
[36m@@ -27,7 +27,7 @@[m [mexports[`should render a table with correct data 1`] = `[m
             50[m
              [m
             instances[m
[31m-            <Unknown[m
[32m+[m[32m            <ComponentErrorHandler[m
               fileName="department_Outliers.csv"[m
               totalCount={0}[m
             >[m
[36m@@ -35,7 +35,7 @@[m [mexports[`should render a table with correct data 1`] = `[m
                 type="save"[m
               />[m
               Instance IDs[m
[31m-            </Unknown>[m
[32m+[m[32m            </ComponentErrorHandler>[m
           </div>,[m
           "1",[m
           "10",[m
[1mdiff --git a/client/src/components/Analysis/__snapshots__/Analysis.test.js.snap b/client/src/components/Analysis/__snapshots__/Analysis.test.js.snap[m
[1mindex d0e97c8853..3e81beb1af 100644[m
[1m--- a/client/src/components/Analysis/__snapshots__/Analysis.test.js.snap[m
[1m+++ b/client/src/components/Analysis/__snapshots__/Analysis.test.js.snap[m
[36m@@ -5,7 +5,7 @@[m [mexports[`should render sub navigation 1`] = `[m
   className="Analysis"[m
 >[m
   <SubNav>[m
[31m-    <SubNavItem[m
[32m+[m[32m    <withRouter(NavItem)[m
       active={[m
         Array [[m
           "/analysis",[m
[36m@@ -15,7 +15,7 @@[m [mexports[`should render sub navigation 1`] = `[m
       linksTo="/analysis/outlierAnalysis"[m
       name="Outlier Analysis"[m
     />[m
[31m-    <SubNavItem[m
[32m+[m[32m    <withRouter(NavItem)[m
       active={[m
         Array [[m
           "/analysis/branchAnalysis",[m
[1mdiff --git a/client/src/components/Dashboards/AddButton/CreateTileModal.test.tsx b/client/src/components/Dashboards/AddButton/CreateTileModal.test.tsx[m
[1mindex 6644cc8427..d7374481ce 100644[m
[1m--- a/client/src/components/Dashboards/AddButton/CreateTileModal.test.tsx[m
[1m+++ b/client/src/components/Dashboards/AddButton/CreateTileModal.test.tsx[m
[36m@@ -7,18 +7,12 @@[m
 [m
 import {runAllEffects} from '__mocks__/react';[m
 import {shallow} from 'enzyme';[m
[31m-import {useLocation} from 'react-router-dom';[m
[31m-import {ComboBox} from '@carbon/react';[m
[32m+[m[32mimport {RouteComponentProps} from 'react-router';[m
 [m
[31m-import {Tabs} from 'components';[m
[32m+[m[32mimport {Tabs, Typeahead} from 'components';[m
 import {loadReports} from 'services';[m
 [m
[31m-import CreateTileModal from './CreateTileModal';[m
[31m-[m
[31m-jest.mock('react-router-dom', () => ({[m
[31m-  ...jest.requireActual('react-router-dom'),[m
[31m-  useLocation: jest.fn().mockReturnValue({pathname: '/dashboard/1'}),[m
[31m-}));[m
[32m+[m[32mimport {CreateTileModal} from './CreateTileModal';[m
 [m
 jest.mock('services', () => {[m
   const rest = jest.requireActual('services');[m
[36m@@ -29,6 +23,7 @@[m [mjest.mock('services', () => {[m
 });[m
 [m
 const props = {[m
[32m+[m[32m  ...({location: {pathname: '/dashboard/1'}} as RouteComponentProps),[m
   close: jest.fn(),[m
   confirm: jest.fn(),[m
 };[m
[36m@@ -42,18 +37,18 @@[m [mit('should load the available reports', () => {[m
 });[m
 [m
 it('should load only reports in the same collection', () => {[m
[31m-  (useLocation as jest.Mock).mockReturnValueOnce({[m
[31m-    pathname: '/collection/123/dashboard/1',[m
[31m-  });[m
[31m-  shallow(<CreateTileModal {...props} />);[m
[32m+[m[32m  const locationProps = {[m
[32m+[m[32m    location: {pathname: '/collection/123/dashboard/1'},[m
[32m+[m[32m  } as RouteComponentProps;[m
[32m+[m[32m  shallow(<CreateTileModal {...props} {...locationProps} />);[m
 [m
   runAllEffects();[m
 [m
   expect(loadReports).toHaveBeenCalledWith('123');[m
 });[m
 [m
[31m-it('should render a Combobox element with the available reports as options', async () => {[m
[31m-  const reports = [[m
[32m+[m[32mit('should render a Typeahead element with the available reports as options', async () => {[m
[32m+[m[32m  (loadReports as jest.Mock).mockReturnValueOnce([[m
     {[m
       id: 'a',[m
       name: 'Report A',[m
[36m@@ -62,17 +57,13 @@[m [mit('should render a Combobox element with the available reports as options', asy[m
       id: 'b',[m
       name: 'Report B',[m
     },[m
[31m-  ];[m
[31m-  (loadReports as jest.Mock).mockReturnValueOnce(reports);[m
[32m+[m[32m  ]);[m
   const node = shallow(<CreateTileModal {...props} />);[m
 [m
   runAllEffects();[m
   await flushPromises();[m
 [m
[31m-  expect(node.find(ComboBox).prop('items')).toEqual([[m
[31m-    {id: 'newReport', name: '+ New Report from a template'},[m
[31m-    ...reports,[m
[31m-  ]);[m
[32m+[m[32m  expect(node.find('Typeahead')).toMatchSnapshot();[m
 });[m
 [m
 it('should call the callback when adding a report', async () => {[m
[36m@@ -92,7 +83,7 @@[m [mit('should call the callback when adding a report', async () => {[m
   runAllEffects();[m
   await flushPromises();[m
 [m
[31m-  node.find(ComboBox).prop('onChange')({selectedItem: {id: 'a'}});[m
[32m+[m[32m  node.find(Typeahead).prop('onChange')('a');[m
 [m
   node.find('Button').at(1).simulate('click');[m
 [m
[36m@@ -102,10 +93,10 @@[m [mit('should call the callback when adding a report', async () => {[m
   });[m
 });[m
 [m
[31m-it('should show a loading skeleton while loading available reports', () => {[m
[32m+[m[32mit('should show a loading message while loading available reports', () => {[m
   const node = shallow(<CreateTileModal {...props} />);[m
 [m
[31m-  expect(node.find('TextInputSkeleton')).toExist();[m
[32m+[m[32m  expect(node.find('LoadingIndicator')).toExist();[m
 });[m
 [m
 it('should contain an External Website field', () => {[m
[1mdiff --git a/client/src/components/Dashboards/AddButton/CreateTileModal.tsx b/client/src/components/Dashboards/AddButton/CreateTileModal.tsx[m
[1mindex db9a0fb1d9..0d0f89980c 100644[m
[1m--- a/client/src/components/Dashboards/AddButton/CreateTileModal.tsx[m
[1m+++ b/client/src/components/Dashboards/AddButton/CreateTileModal.tsx[m
[36m@@ -6,37 +6,46 @@[m
  */[m
 [m
 import {useEffect, useState} from 'react';[m
[31m-import {useLocation} from 'react-router-dom';[m
[31m-import {Button, ComboBox, Form, TextInput, TextInputSkeleton} from '@carbon/react';[m
[32m+[m[32mimport {RouteComponentProps, withRouter} from 'react-router-dom';[m
[32m+[m[32mimport {Button} from '@carbon/react';[m
 import {SerializedEditorState} from 'lexical';[m
 [m
[31m-import {Modal, Tabs, TextEditor} from 'components';[m
[32m+[m[32mimport {[m
[32m+[m[32m  Modal,[m
[32m+[m[32m  Input,[m
[32m+[m[32m  Typeahead,[m
[32m+[m[32m  LoadingIndicator,[m
[32m+[m[32m  Labeled,[m
[32m+[m[32m  Form,[m
[32m+[m[32m  Tabs,[m
[32m+[m[32m  Icon,[m
[32m+[m[32m  TextEditor,[m
[32m+[m[32m} from 'components';[m
 import {getCollection, isTextTileValid, loadReports} from 'services';[m
 import {t} from 'translation';[m
 import {DashboardTile, GenericReport} from 'types';[m
 [m
[31m-interface CreateTileModalProps {[m
[32m+[m[32minterface CreateTileModalProps extends RouteComponentProps {[m
   close: () => void;[m
   confirm: (tileConfig: Partial<DashboardTile>) => void;[m
 }[m
 [m
 type TabOpen = 'optimize_report' | 'external_url' | 'text';[m
 [m
[31m-export default function CreateTileModal({close, confirm}: CreateTileModalProps) {[m
[32m+[m[32mexport function CreateTileModal({close, confirm, location}: CreateTileModalProps) {[m
   const [availableReports, setAvailableReports] = useState<GenericReport[] | null>(null);[m
   const [selectedReportId, setSelectedReportId] = useState<string>('');[m
   const [externalUrl, setExternalUrl] = useState<string>('');[m
   const [tabOpen, setTabOpen] = useState<TabOpen>('optimize_report');[m
   const [text, setText] = useState<SerializedEditorState>();[m
[31m-  const {pathname} = useLocation();[m
 [m
   useEffect(() => {[m
     (async () => {[m
[31m-      const collection = getCollection(pathname);[m
[32m+[m[32m      const collection = getCollection(location.pathname);[m
       const availableReports = await loadReports(collection);[m
       setAvailableReports(availableReports);[m
     })();[m
[31m-  }, [pathname]);[m
[32m+[m[32m  }, [location.pathname]);[m
 [m
   const addTile = () => {[m
     confirm(getTileConfig(tabOpen, externalUrl, text, selectedReportId));[m
[36m@@ -73,14 +82,9 @@[m [mexport default function CreateTileModal({close, confirm}: CreateTileModalProps)[m
     return isInvalidMap[tabOpen];[m
   };[m
 [m
[31m-  type ReportListItem = {id: string; name: string};[m
[31m-  const reportsListItems: ReportListItem[] = [[m
[31m-    {id: 'newReport', name: `+ ${t('dashboard.addButton.newReport')}`},[m
[31m-    ...(availableReports || []),[m
[31m-  ];[m
   const isInvalid = isCurrentTabInvalid(tabOpen, externalUrl, selectedReportId);[m
   const loading = availableReports === null;[m
[31m-  const selectedReport = (!loading && reportsListItems.find(({id}) => selectedReportId === id)) || {[m
[32m+[m[32m  const selectedReport = (!loading && availableReports.find(({id}) => selectedReportId === id)) || {[m
     id: undefined,[m
   };[m
 [m
[36m@@ -91,35 +95,53 @@[m [mexport default function CreateTileModal({close, confirm}: CreateTileModalProps)[m
         <Form>[m
           <Tabs<TabOpen> value={tabOpen} onChange={setTabOpen}>[m
             <Tabs.Tab value="optimize_report" title={t('dashboard.addButton.optimizeReport')}>[m
[31m-              {loading ? ([m
[31m-                <TextInputSkeleton />[m
[31m-              ) : ([m
[31m-                <ComboBox[m
[31m-                  id="addReportSelector"[m
[31m-                  titleText={t('dashboard.addButton.addReportLabel')}[m
[31m-                  selectedItem={selectedReport}[m
[31m-                  items={reportsListItems}[m
[31m-                  placeholder={t('dashboard.addButton.selectReportPlaceholder').toString()}[m
[31m-                  onChange={({selectedItem}) => setSelectedReportId(selectedItem?.id || '')}[m
[31m-                  itemToString={(item) => (item as ReportListItem).name}[m
[31m-                />[m
[31m-              )}[m
[32m+[m[32m              <Form.Group>[m
[32m+[m[32m                {!loading && ([m
[32m+[m[32m                  <Labeled label={t('dashboard.addButton.addReportLabel')}>[m
[32m+[m[32m                    <Typeahead[m
[32m+[m[32m                      initialValue={selectedReport.id}[m
[32m+[m[32m                      placeholder={t('dashboard.addButton.selectReportPlaceholder')}[m
[32m+[m[32m                      onChange={setSelectedReportId}[m
[32m+[m[32m                      noValuesMessage={t('dashboard.addButton.noReports')}[m
[32m+[m[32m                    >[m
[32m+[m[32m                      <Typeahead.Option[m
[32m+[m[32m                        key="newReport"[m
[32m+[m[32m                        value="newReport"[m
[32m+[m[32m                        label={`+ ${t('dashboard.addButton.newReport')}`}[m
[32m+[m[32m                      >[m
[32m+[m[32m                        <Icon type="plus" />[m
[32m+[m[32m                        <b>{t('dashboard.addButton.newReport')}</b>[m
[32m+[m[32m                      </Typeahead.Option>[m
[32m+[m[32m                      {availableReports.map(({id, name}) => ([m
[32m+[m[32m                        <Typeahead.Option key={id} value={id}>[m
[32m+[m[32m                          {name}[m
[32m+[m[32m                        </Typeahead.Option>[m
[32m+[m[32m                      ))}[m
[32m+[m[32m                    </Typeahead>[m
[32m+[m[32m                  </Labeled>[m
[32m+[m[32m                )}[m
[32m+[m[32m                {loading && <LoadingIndicator />}[m
[32m+[m[32m              </Form.Group>[m
             </Tabs.Tab>[m
             <Tabs.Tab value="external_url" title={t('dashboard.addButton.externalWebsite')}>[m
[31m-              <TextInput[m
[31m-                id="externalInput"[m
[31m-                name="externalInput"[m
[31m-                labelText={t('dashboard.addButton.externalWebsite')}[m
[31m-                className="externalInput"[m
[31m-                placeholder="https://www.example.com/widget/embed.html"[m
[31m-                value={externalUrl}[m
[31m-                onChange={({target: {value}}) => setExternalUrl(value)}[m
[31m-              />[m
[32m+[m[32m              <Form.Group>[m
[32m+[m[32m                <Labeled label={t('dashboard.addButton.externalWebsite')}>[m
[32m+[m[32m                  <Input[m
[32m+[m[32m                    name="externalInput"[m
[32m+[m[32m                    className="externalInput"[m
[32m+[m[32m                    placeholder="https://www.example.com/widget/embed.html"[m
[32m+[m[32m                    value={externalUrl}[m
[32m+[m[32m                    onChange={({target: {value}}) => setExternalUrl(value)}[m
[32m+[m[32m                  />[m
[32m+[m[32m                </Labeled>[m
[32m+[m[32m              </Form.Group>[m
             </Tabs.Tab>[m
             <Tabs.Tab value="text" title={t('dashboard.addButton.text')}>[m
[31m-              <span className="cds--label">{t('dashboard.addButton.text')}</span>[m
[31m-              <TextEditor initialValue={text} onChange={setText} />[m
[31m-              <TextEditor.CharCount editorState={text} />[m
[32m+[m[32m              <Form.Group className="Labeled">[m
[32m+[m[32m                <span className="label before">{t('dashboard.addButton.text')}</span>[m
[32m+[m[32m                <TextEditor initialValue={text} onChange={setText} />[m
[32m+[m[32m                <TextEditor.CharCount editorState={text} />[m
[32m+[m[32m              </Form.Group>[m
             </Tabs.Tab>[m
           </Tabs>[m
         </Form>[m
[36m@@ -135,3 +157,5 @@[m [mexport default function CreateTileModal({close, confirm}: CreateTileModalProps)[m
     </Modal>[m
   );[m
 }[m
[32m+[m
[32m+[m[32mexport default withRouter(CreateTileModal);[m
[1mdiff --git a/client/src/components/Dashboards/AddButton/__snapshots__/CreateTileModal.test.tsx.snap b/client/src/components/Dashboards/AddButton/__snapshots__/CreateTileModal.test.tsx.snap[m
[1mnew file mode 100644[m
[1mindex 0000000000..7e88e792fb[m
[1m--- /dev/null[m
[1m+++ b/client/src/components/Dashboards/AddButton/__snapshots__/CreateTileModal.test.tsx.snap[m
[36m@@ -0,0 +1,37 @@[m
[32m+[m[32m// Jest Snapshot v1, https://goo.gl/fbAQLP[m
[32m+[m
[32m+[m[32mexports[`should render a Typeahead element with the available reports as options 1`] = `[m
[32m+[m[32m<Typeahead[m
[32m+[m[32m  noValuesMessage="No reports have been created"[m
[32m+[m[32m  onChange={[Function]}[m
[32m+[m[32m  onClose={[Function]}[m
[32m+[m[32m  onOpen={[Function]}[m
[32m+[m[32m  onSearch={[Function]}[m
[32m+[m[32m  placeholder="Select a Report"[m
[32m+[m[32m>[m
[32m+[m[32m  <ForwardRef(DropdownOption)[m
[32m+[m[32m    key="newReport"[m
[32m+[m[32m    label="+ New Report from a template"[m
[32m+[m[32m    value="newReport"[m
[32m+[m[32m  >[m
[32m+[m[32m    <Icon[m
[32m+[m[32m      type="plus"[m
[32m+[m[32m    />[m
[32m+[m[32m    <b>[m
[32m+[m[32m      New Report from a template[m
[32m+[m[32m    </b>[m
[32m+[m[32m  </ForwardRef(DropdownOption)>[m
[32m+[m[32m  <ForwardRef(DropdownOption)[m
[32m+[m[32m    key="a"[m
[32m+[m[32m    value="a"[m
[32m+[m[32m  >[m
[32m+[m[32m    Report A[m
[32m+[m[32m  </ForwardRef(DropdownOption)>[m
[32m+[m[32m  <ForwardRef(DropdownOption)[m
[32m+[m[32m    key="b"[m
[32m+[m[32m    value="b"[m
[32m+[m[32m  >[m
[32m+[m[32m    Report B[m
[32m+[m[32m  </ForwardRef(DropdownOption)>[m
[32m+[m[32m</Typeahead>[m
[32m+[m[32m`;[m
[1mdiff --git a/client/src/components/Dashboards/AutoRefresh/AutoRefreshIcon.js b/client/src/components/Dashboards/AutoRefresh/AutoRefreshIcon.js[m
[1mindex 232336f051..44455a1990 100644[m
[1m--- a/client/src/components/Dashboards/AutoRefresh/AutoRefreshIcon.js[m
[1m+++ b/client/src/components/Dashboards/AutoRefresh/AutoRefreshIcon.js[m
[36m@@ -5,8 +5,9 @@[m
  * except in compliance with the proprietary license.[m
  */[m
 [m
[31m-import {Component} from 'react';[m
[31m-import {UpdateNow} from '@carbon/icons-react';[m
[32m+[m[32mimport React from 'react';[m
[32m+[m
[32m+[m[32mimport {Icon} from 'components';[m
 [m
 import './AutoRefreshIcon.scss';[m
 [m
[36m@@ -14,7 +15,7 @@[m [mconst imageSize = 16;[m
 const center = imageSize / 2;[m
 const radius = center - 1;[m
 [m
[31m-export default class AutoRefreshIcon extends Component {[m
[32m+[m[32mexport default class AutoRefreshIcon extends React.Component {[m
   constructor(props) {[m
     super(props);[m
 [m
[36m@@ -56,24 +57,23 @@[m [mexport default class AutoRefreshIcon extends Component {[m
     }[m
   }[m
 [m
[31m-  render() {[m
[31m-    return !this.props.interval ? ([m
[31m-      <UpdateNow />[m
[32m+[m[32m  render = () =>[m
[32m+[m[32m    !this.props.interval ? ([m
[32m+[m[32m      <Icon type="autorefresh" />[m
     ) : ([m
[31m-      <svg[m
[31m-        xmlns="http://www.w3.org/2000/svg"[m
[31m-        viewBox={`0 0 ${imageSize} ${imageSize}`}[m
[31m-        width={imageSize}[m
[31m-        height={imageSize}[m
[31m-        className="AutoRefreshIcon"[m
[31m-      >[m
[31m-        <circle cx={center} cy={center} r={radius} strokeWidth="0" fillOpacity="0.2" />[m
[31m-        <path[m
[31m-          strokeWidth="2"[m
[31m-          ref={(path) => (this.path = path)}[m
[31m-          className="AutoRefreshIcon__outline"[m
[31m-        />[m
[31m-      </svg>[m
[32m+[m[32m      <Icon>[m
[32m+[m[32m        <svg[m
[32m+[m[32m          xmlns="http://www.w3.org/2000/svg"[m
[32m+[m[32m          viewBox={`0 0 ${imageSize} ${imageSize}`}[m
[32m+[m[32m          className="AutoRefreshIcon"[m
[32m+[m[32m        >[m
[32m+[m[32m          <circle cx={center} cy={center} r={radius} strokeWidth="0" fillOpacity="0.2" />[m
[32m+[m[32m          <path[m
[32m+[m[32m            strokeWidth="2"[m
[32m+[m[32m            ref={(path) => (this.path = path)}[m
[32m+[m[32m            className="AutoRefreshIcon__outline"[m
[32m+[m[32m          />[m
[32m+[m[32m        </svg>[m
[32m+[m[32m      </Icon>[m
     );[m
[31m-  }[m
 }[m
[1mdiff --git a/client/src/components/Dashboards/AutoRefresh/AutoRefreshIcon.test.js b/client/src/components/Dashboards/AutoRefresh/AutoRefreshIcon.test.js[m
[1mindex 814e933072..6813909a29 100644[m
[1m--- a/client/src/components/Dashboards/AutoRefresh/AutoRefreshIcon.test.js[m
[1m+++ b/client/src/components/Dashboards/AutoRefresh/AutoRefreshIcon.test.js[m
[36m@@ -20,10 +20,10 @@[m [mjest.mock('components', () => {[m
   };[m
 });[m
 [m
[31m-it('should show normal refresh icon when no interval is set', () => {[m
[32m+[m[32mit('should show normal autorefreshicon when no interval is set', () => {[m
   const node = mount(<AutoRefreshIcon />);[m
 [m
[31m-  expect(node.find('ForwardRef(UpdateNow)')).toExist();[m
[32m+[m[32m  expect(node).toIncludeText('Type: autorefresh');[m
 });[m
 [m
 it('should show a custom svg when interval is set', () => {[m
[1mdiff --git a/client/src/components/Dashboards/AutoRefresh/AutoRefreshSelect.js b/client/src/components/Dashboards/AutoRefresh/AutoRefreshSelect.js[m
[1mindex e25e7f957a..af02be53ab 100644[m
[1m--- a/client/src/components/Dashboards/AutoRefresh/AutoRefreshSelect.js[m
[1m+++ b/client/src/components/Dashboards/AutoRefresh/AutoRefreshSelect.js[m
[36m@@ -5,16 +5,14 @@[m
  * except in compliance with the proprietary license.[m
  */[m
 [m
[31m-import {useState, useEffect} from 'react';[m
[31m-import {MenuItemSelectable} from '@carbon/react';[m
[31m-import {UpdateNow} from '@carbon/icons-react';[m
[32m+[m[32mimport React, {useState, useEffect} from 'react';[m
 [m
[32m+[m[32mimport {Select, Icon} from 'components';[m
 import {t} from 'translation';[m
[31m-import {MenuButton} from 'components';[m
 [m
 import AutoRefreshIcon from './AutoRefreshIcon';[m
 [m
[31m-export default function AutoRefreshSelect({refreshRateMs, onRefresh, onChange, size}) {[m
[32m+[m[32mexport default function AutoRefreshSelect({refreshRateMs, onRefresh, onChange}) {[m
   const [autoRefreshHandle, setAutoRefreshHandle] = useState(() =>[m
     refreshRateMs && onRefresh ? setInterval(onRefresh, refreshRateMs) : null[m
   );[m
[36m@@ -33,37 +31,25 @@[m [mexport default function AutoRefreshSelect({refreshRateMs, onRefresh, onChange, s[m
     };[m
   }, [autoRefreshHandle]);[m
 [m
[31m-  const menuItems = [[m
[31m-    {value: 'off', label: t('common.off')},[m
[31m-    {value: '1', label: `1 ${t('common.unit.minute.label')}`},[m
[31m-    {value: '5', label: `5 ${t('common.unit.minute.label-plural')}`},[m
[31m-    {value: '10', label: `10 ${t('common.unit.minute.label-plural')}`},[m
[31m-    {value: '15', label: `15 ${t('common.unit.minute.label-plural')}`},[m
[31m-    {value: '30', label: `30 ${t('common.unit.minute.label-plural')}`},[m
[31m-    {value: '60', label: `60 ${t('common.unit.minute.label-plural')}`},[m
[31m-  ];[m
[31m-[m
   return ([m
[31m-    <MenuButton[m
[31m-      kind="ghost"[m
[31m-      label={onRefresh ? <AutoRefreshIcon interval={refreshRateMs} /> : <UpdateNow />}[m
[31m-      menuLabel={t('dashboard.autoRefresh')}[m
[31m-      size={size}[m
[31m-      iconDescription={t('dashboard.autoRefresh')}[m
[31m-      hasIconOnly[m
[32m+[m[32m    <Select[m
[32m+[m[32m      main[m
[32m+[m[32m      label={[m
[32m+[m[32m        <>[m
[32m+[m[32m          {onRefresh ? <AutoRefreshIcon interval={refreshRateMs} /> : <Icon type="autorefresh" />}[m
[32m+[m[32m          {t('dashboard.autoRefresh')}[m
[32m+[m[32m        </>[m
[32m+[m[32m      }[m
[32m+[m[32m      onChange={(value) => setAutorefresh(value === 'off' ? null : value * 60 * 1000)}[m
[32m+[m[32m      value={!refreshRateMs ? 'off' : (refreshRateMs / (60 * 1000)).toString()}[m
     >[m
[31m-      {menuItems.map(({value, label}) => {[m
[31m-        const currentValue = !refreshRateMs ? 'off' : (refreshRateMs / (60 * 1000)).toString();[m
[31m-        return ([m
[31m-          <MenuItemSelectable[m
[31m-            key={value}[m
[31m-            value={value}[m
[31m-            label={label}[m
[31m-            selected={value === currentValue}[m
[31m-            onChange={() => setAutorefresh(value === 'off' ? null : value * 60 * 1000)}[m
[31m-          />[m
[31m-        );[m
[31m-      })}[m
[31m-    </MenuButton>[m
[32m+[m[32m      <Select.Option value="off">{t('common.off')}</Select.Option>[m
[32m+[m[32m      <Select.Option value="1">1 {t('common.unit.minute.label')}</Select.Option>[m
[32m+[m[32m      <Select.Option value="5">5 {t('common.unit.minute.label-plural')}</Select.Option>[m
[32m+[m[32m      <Select.Option value="10">10 {t('common.unit.minute.label-plural')}</Select.Option>[m
[32m+[m[32m      <Select.Option value="15">15 {t('common.unit.minute.label-plural')}</Select.Option>[m
[32m+[m[32m      <Select.Option value="30">30 {t('common.unit.minute.label-plural')}</Select.Option>[m
[32m+[m[32m      <Select.Option value="60">60 {t('common.unit.minute.label-plural')}</Select.Option>[m
[32m+[m[32m    </Select>[m
   );[m
 }[m
[1mdiff --git a/client/src/components/Dashboards/AutoRefresh/AutoRefreshSelect.test.js b/client/src/components/Dashboards/AutoRefresh/AutoRefreshSelect.test.js[m
[1mindex 5c3ad88ba3..f3363ab2ec 100644[m
[1m--- a/client/src/components/Dashboards/AutoRefresh/AutoRefreshSelect.test.js[m
[1m+++ b/client/src/components/Dashboards/AutoRefresh/AutoRefreshSelect.test.js[m
[36m@@ -9,6 +9,7 @@[m [mimport React from 'react';[m
 import {shallow} from 'enzyme';[m
 [m
 import AutoRefreshSelect from './AutoRefreshSelect';[m
[32m+[m[32mimport {Select} from 'components';[m
 [m
 jest.useFakeTimers();[m
 jest.spyOn(global, 'setInterval');[m
[36m@@ -37,7 +38,19 @@[m [mit('should select a new refresh interval', () => {[m
   const node = shallow(<AutoRefreshSelect onChange={spy} onRefresh={refreshFunc} />);[m
   const newIternvalMins = 5;[m
 [m
[31m-  node.find({value: '5'}).simulate('change');[m
[32m+[m[32m  node.find(Select).simulate('change', newIternvalMins);[m
[32m+[m
[32m+[m[32m  expect(setInterval).toHaveBeenCalledWith(refreshFunc, newIternvalMins * 60 * 1000);[m
[32m+[m[32m  expect(spy).toHaveBeenCalledWith(newIternvalMins * 60 * 1000);[m
[32m+[m[32m});[m
[32m+[m
[32m+[m[32mit('should select a new refresh interval', () => {[m
[32m+[m[32m  const refreshFunc = jest.fn();[m
[32m+[m[32m  const spy = jest.fn();[m
[32m+[m[32m  const node = shallow(<AutoRefreshSelect onChange={spy} onRefresh={refreshFunc} />);[m
[32m+[m[32m  const newIternvalMins = 5;[m
[32m+[m
[32m+[m[32m  node.find(Select).simulate('change', newIternvalMins);[m
 [m
   expect(setInterval).toHaveBeenCalledWith(refreshFunc, newIternvalMins * 60 * 1000);[m
   expect(spy).toHaveBeenCalledWith(newIternvalMins * 60 * 1000);[m
[36m@@ -47,7 +60,7 @@[m [mit('should turn off refresh interval', () => {[m
   const spy = jest.fn();[m
   const node = shallow(<AutoRefreshSelect onChange={spy} onRefresh={jest.fn()} />);[m
 [m
[31m-  node.find({value: 'off'}).simulate('change');[m
[32m+[m[32m  node.find(Select).simulate('change', 'off');[m
 [m
   expect(clearInterval).toHaveBeenCalled();[m
   expect(setInterval).not.toHaveBeenCalled();[m
[1mdiff --git a/client/src/components/Dashboards/Dashboard.js b/client/src/components/Dashboards/Dashboard.js[m
[1mindex a39e4b96b4..5ac9a2b3b3 100644[m
[1m--- a/client/src/components/Dashboards/Dashboard.js[m
[1m+++ b/client/src/components/Dashboards/Dashboard.js[m
[36m@@ -5,25 +5,27 @@[m
  * except in compliance with the proprietary license.[m
  */[m
 [m
[31m-import {Component} from 'react';[m
[32m+[m[32mimport React from 'react';[m
 import {Redirect} from 'react-router-dom';[m
[31m-import {Loading} from '@carbon/react';[m
 [m
 import {format, BACKEND_DATE_FORMAT} from 'dates';[m
 import {withErrorHandling, withUser} from 'HOC';[m
 import {loadEntity, updateEntity, createEntity, getCollection} from 'services';[m
 import {isSharingEnabled, newReport} from 'config';[m
[31m-import {ErrorPage, PageTitle} from 'components';[m
[32m+[m
[32m+[m[32mimport {ErrorPage, LoadingIndicator, PageTitle} from 'components';[m
[32m+[m
 import {showError} from 'notifications';[m
 import {t} from 'translation';[m
 [m
 import {isAuthorizedToShareDashboard} from './service';[m
[32m+[m
 import DashboardView from './DashboardView';[m
 import DashboardEdit from './DashboardEdit';[m
 [m
 import './Dashboard.scss';[m
 [m
[31m-export class Dashboard extends Component {[m
[32m+[m[32mexport class Dashboard extends React.Component {[m
   constructor(props) {[m
     super(props);[m
 [m
[36m@@ -83,6 +85,7 @@[m [mexport class Dashboard extends Component {[m
     this.setState({[m
       loaded: true,[m
       name: initialData?.name ?? t('dashboard.new'),[m
[32m+[m[32m      description: initialData?.description ?? null,[m
       ...modifierData,[m
       currentUserRole: 'editor',[m
       tiles:[m
[36m@@ -94,6 +97,7 @@[m [mexport class Dashboard extends Component {[m
                 ...newReport.new,[m
                 ...modifierData,[m
                 name: config.report.name,[m
[32m+[m[32m                description: config.report?.description || null,[m
                 data: {[m
                   ...newReport.new.data,[m
                   ...config.report.data,[m
[36m@@ -110,7 +114,7 @@[m [mexport class Dashboard extends Component {[m
             return config;[m
           }[m
         }) ?? [],[m
[31m-      availableFilters: [],[m
[32m+[m[32m      availableFilters: initialData?.availableFilters || [],[m
       isAuthorizedToShare: true,[m
       refreshRateSeconds: null,[m
     });[m
[36m@@ -257,10 +261,10 @@[m [mexport class Dashboard extends Component {[m
               tile.id ||[m
               (tile.report &&[m
                 new Promise((resolve, reject) => {[m
[31m-                  const {name, data, reportType, combined} = tile.report;[m
[32m+[m[32m                  const {name, description, data, reportType, combined} = tile.report;[m
                   const endpoint = `report/${reportType}/${combined ? 'combined' : 'single'}`;[m
                   this.props.mightFail([m
[31m-                    createEntity(endpoint, {collectionId, name, data}),[m
[32m+[m[32m                    createEntity(endpoint, {collectionId, name, description, data}),[m
                     resolve,[m
                     reject[m
                   );[m
[36m@@ -352,7 +356,7 @@[m [mexport class Dashboard extends Component {[m
     }[m
 [m
     if (!loaded) {[m
[31m-      return <Loading className="DashboardLoading" withOverlay={false} />;[m
[32m+[m[32m      return <LoadingIndicator />;[m
     }[m
 [m
     if (redirect) {[m
[1mdiff --git a/client/src/components/Dashboards/Dashboard.scss b/client/src/components/Dashboards/Dashboard.scss[m
[1mindex 367fa9081e..bd605719bf 100644[m
[1m--- a/client/src/components/Dashboards/Dashboard.scss[m
[1m+++ b/client/src/components/Dashboards/Dashboard.scss[m
[36m@@ -35,17 +35,18 @@[m
 [m
       .tools {[m
         flex-wrap: nowrap;[m
[31m-        align-items: center;[m
[32m+[m[32m        align-items: baseline;[m
         display: flex;[m
         flex-shrink: 0;[m
[32m+[m
[32m+[m[32m        .tool-button {[m
[32m+[m[32m          margin-right: 6px;[m
[32m+[m[32m        }[m
[32m+[m
[32m+[m[32m        .tool-button:last-child {[m
[32m+[m[32m          margin-right: 0;[m
[32m+[m[32m        }[m
       }[m
     }[m
   }[m
 }[m
[31m-[m
[31m-.DashboardLoading {[m
[31m-  position: absolute;[m
[31m-  top: 50%;[m
[31m-  left: 50%;[m
[31m-  transform: translate(-50%, 50%);[m
[31m-}[m
[1mdiff --git a/client/src/components/Dashboards/Dashboard.test.js b/client/src/components/Dashboards/Dashboard.test.js[m
[1mindex cf06c6c714..a520e2d379 100644[m
[1m--- a/client/src/components/Dashboards/Dashboard.test.js[m
[1m+++ b/client/src/components/Dashboards/Dashboard.test.js[m
[36m@@ -123,7 +123,7 @@[m [mit('should show a notification error if dashboard fails to load on refresh', ()[m
 it('should display a loading indicator', () => {[m
   const node = shallow(<Dashboard {...props} />);[m
 [m
[31m-  expect(node.find('Loading')).toExist();[m
[32m+[m[32m  expect(node.find('LoadingIndicator')).toExist();[m
 });[m
 [m
 it('should initially load data', async () => {[m
[1mdiff --git a/client/src/components/Dashboards/DashboardEdit.js b/client/src/components/Dashboards/DashboardEdit.js[m
[1mindex 654d5eb272..3fb4b4fecf 100644[m
[1m--- a/client/src/components/Dashboards/DashboardEdit.js[m
[1m+++ b/client/src/components/Dashboards/DashboardEdit.js[m
[36m@@ -248,7 +248,7 @@[m [mexport class DashboardEdit extends React.Component {[m
     });[m
   };[m
 [m
[31m-  editOptimizeReportTile = (tile) => {[m
[32m+[m[32m  editTile = (tile) => {[m
     const {history, location} = this.props;[m
     if (isDirty()) {[m
       showPrompt([m
[36m@@ -303,7 +303,6 @@[m [mexport class DashboardEdit extends React.Component {[m
               setAvailableFilters={(availableFilters) => this.setState({availableFilters})}[m
             />[m
             <AutoRefreshSelect[m
[31m-              size="md"[m
               refreshRateMs={refreshRateSeconds * 1000}[m
               onChange={(refreshRateMs) =>[m
                 this.setState({refreshRateSeconds: refreshRateMs / 1000 || null})[m
[36m@@ -331,7 +330,7 @@[m [mexport class DashboardEdit extends React.Component {[m
             addons={[[m
               <DragOverlay key="DragOverlay" />,[m
               <DeleteButton key="DeleteButton" deleteTile={this.deleteTile} />,[m
[31m-              <EditButton key="EditButton" onClick={this.editOptimizeReportTile} />,[m
[32m+[m[32m              <EditButton key="EditButton" onClick={this.editTile} />,[m
             ]}[m
             onLayoutChange={this.updateLayout}[m
             onTileUpdate={this.updateTile}[m
[1mdiff --git a/client/src/components/Dashboards/DashboardEdit.test.js b/client/src/components/Dashboards/DashboardEdit.test.js[m
[1mindex c5589f3c50..85bd1fb402 100644[m
[1m--- a/client/src/components/Dashboards/DashboardEdit.test.js[m
[1m+++ b/client/src/components/Dashboards/DashboardEdit.test.js[m
[36m@@ -233,7 +233,7 @@[m [mit('should delete tile', () => {[m
 [m
   const deleteButton = shallow(node.find('DashboardRenderer').prop('addons')[1]);[m
   deleteButton.setProps({tile: textTile});[m
[31m-  deleteButton.find('Button').simulate('click', textTile);[m
[32m+[m[32m  deleteButton.simulate('click', textTile);[m
 [m
   expect(node.state('tiles')).toEqual([]);[m
   expect(track).toHaveBeenCalledWith('deleteTextTile', {entityId: ''});[m
[1mdiff --git a/client/src/components/Dashboards/DashboardView.js b/client/src/components/Dashboards/DashboardView.js[m
[1mindex 3616f0ffa6..8bee4f4ab6 100644[m
[1m--- a/client/src/components/Dashboards/DashboardView.js[m
[1m+++ b/client/src/components/Dashboards/DashboardView.js[m
[36m@@ -5,17 +5,17 @@[m
  * except in compliance with the proprietary license.[m
  */[m
 [m
[31m-import {useState, useEffect, useRef} from 'react';[m
[32m+[m[32mimport React, {useState, useEffect, useRef} from 'react';[m
 import classnames from 'classnames';[m
 import {FullScreen, useFullScreenHandle} from 'react-full-screen';[m
 import {Link, useHistory} from 'react-router-dom';[m
[31m-import {Button} from '@carbon/react';[m
[31m-import {Copy, Edit, Filter, Maximize, Minimize, Share, TrashCan} from '@carbon/icons-react';[m
 [m
 import {[m
[32m+[m[32m  Button,[m
   ShareEntity,[m
   DashboardRenderer,[m
   LastModifiedInfo,[m
[32m+[m[32m  Icon,[m
   Popover,[m
   Deleter,[m
   EntityName,[m
[36m@@ -53,7 +53,7 @@[m [mexport function DashboardView(props) {[m
     isInstantDashboard,[m
     sharingEnabled,[m
     tiles,[m
[31m-    availableFilters,[m
[32m+[m[32m    availableFilters = [],[m
     theme,[m
     toggleTheme,[m
     lastModified,[m
[36m@@ -64,7 +64,6 @@[m [mexport function DashboardView(props) {[m
     refreshRateSeconds,[m
     disableNameLink,[m
     customizeReportLink,[m
[31m-    simplifiedDateFilter,[m
   } = props;[m
   const [autoRefreshInterval, setAutoRefreshInterval] = useState(refreshRateSeconds * 1000);[m
   const [deleting, setDeleting] = useState(null);[m
[36m@@ -177,51 +176,43 @@[m [mexport function DashboardView(props) {[m
             </div>[m
             <div className="tools">[m
               {!fullScreenHandle.active && ([m
[31m-                <>[m
[32m+[m[32m                <React.Fragment>[m
                   {isInstantDashboard && ([m
                     <Button[m
[31m-                      kind="primary"[m
[31m-                      className="create-copy"[m
[31m-                      hasIconOnly[m
[31m-                      renderIcon={Copy}[m
[31m-                      iconDescription={t('dashboard.copyInstantDashboard')}[m
                       onClick={() => setIsTemplateModalOpen(true)}[m
[31m-                    />[m
[32m+[m[32m                      main[m
[32m+[m[32m                      primary[m
[32m+[m[32m                      className="tool-button create-copy"[m
[32m+[m[32m                    >[m
[32m+[m[32m                      {t('dashboard.copyInstantDashboard')}[m
[32m+[m[32m                    </Button>[m
                   )}[m
                   {currentUserRole === 'editor' && ([m
                     <>[m
[32m+[m[32m                      <Link className="tool-button edit-button" to="edit">[m
[32m+[m[32m                        <Button main tabIndex="-1">[m
[32m+[m[32m                          <Icon type="edit" />[m
[32m+[m[32m                          {t('common.edit')}[m
[32m+[m[32m                        </Button>[m
[32m+[m[32m                      </Link>[m
                       <Button[m
[31m-                        className="edit-button"[m
[31m-                        as={Link}[m
[31m-                        to="edit"[m
[31m-                        hasIconOnly[m
[31m-                        renderIcon={Edit}[m
[31m-                        iconDescription={t('common.edit')}[m
[31m-                      />[m
[31m-                      <Button[m
[31m-                        kind="ghost"[m
[31m-                        hasIconOnly[m
[31m-                        renderIcon={TrashCan}[m
[31m-                        iconDescription={t('common.delete')}[m
[32m+[m[32m                        main[m
                         onClick={() => setDeleting({...props, entityType: 'dashboard'})}[m
[31m-                        className="delete-button"[m
[31m-                      />[m
[32m+[m[32m                        className="tool-button delete-button"[m
[32m+[m[32m                      >[m
[32m+[m[32m                        <Icon type="delete" />[m
[32m+[m[32m                        {t('common.delete')}[m
[32m+[m[32m                      </Button>[m
                     </>[m
                   )}[m
                   {!isInstantDashboard && ([m
                     <Popover[m
[31m-                      isTabTip[m
[31m-                      className="share-button"[m
[31m-                      align="bottom-right"[m
[32m+[m[32m                      main[m
[32m+[m[32m                      className="tool-button share-button"[m
[32m+[m[32m                      icon="share"[m
[32m+[m[32m                      title={t('common.sharing.buttonTitle')}[m
[32m+[m[32m                      disabled={!sharingEnabled || !isAuthorizedToShare}[m
                       tooltip={getShareTooltip()}[m
[31m-                      trigger={[m
[31m-                        <Popover.Button[m
[31m-                          hasIconOnly[m
[31m-                          iconDescription={t('common.sharing.buttonTitle')}[m
[31m-                          renderIcon={Share}[m
[31m-                          disabled={!sharingEnabled || !isAuthorizedToShare}[m
[31m-                        />[m
[31m-                      }[m
                     >[m
                       <ShareEntity[m
                         type="dashboard"[m
[36m@@ -234,18 +225,18 @@[m [mexport function DashboardView(props) {[m
                       />[m
                     </Popover>[m
                   )}[m
[31m-                </>[m
[32m+[m[32m                </React.Fragment>[m
               )}[m
               {fullScreenHandle.active && ([m
[31m-                <Button kind="ghost" onClick={toggleTheme} className="theme-toggle">[m
[32m+[m[32m                <Button main onClick={toggleTheme} className="tool-button theme-toggle">[m
                   {t('dashboard.toggleTheme')}[m
                 </Button>[m
               )}[m
               {availableFilters?.length > 0 && ([m
                 <Button[m
[31m-                  kind="ghost"[m
[31m-                  className="filter-button"[m
[31m-                  isSelected={filtersShown}[m
[32m+[m[32m                  main[m
[32m+[m[32m                  className="tool-button filter-button"[m
[32m+[m[32m                  active={filtersShown}[m
                   onClick={() => {[m
                     if (filtersShown) {[m
                       setFiltersShown(false);[m
[36m@@ -255,29 +246,26 @@[m [mexport function DashboardView(props) {[m
                       setFilter(getDefaultFilter(availableFilters));[m
                     }[m
                   }}[m
[31m-                  hasIconOnly[m
[31m-                  iconDescription={t('dashboard.filter.viewButtonText').toString()}[m
[31m-                  renderIcon={Filter}[m
[31m-                />[m
[32m+[m[32m                >[m
[32m+[m[32m                  <Icon type="filter" /> {t('dashboard.filter.viewButtonText')}[m
[32m+[m[32m                </Button>[m
               )}[m
               {!fullScreenHandle.active &&[m
                 (optimizeProfile === 'cloud' || optimizeProfile === 'platform') && ([m
                   <AlertsDropdown dashboardTiles={tiles} />[m
                 )}[m
               <Button[m
[31m-                kind="ghost"[m
[31m-                hasIconOnly[m
[31m-                renderIcon={fullScreenHandle.active ? Minimize : Maximize}[m
[31m-                iconDescription={[m
[31m-                  fullScreenHandle.active[m
[31m-                    ? t('dashboard.leaveFullscreen')[m
[31m-                    : t('dashboard.enterFullscreen')[m
[31m-                }[m
[32m+[m[32m                main[m
                 onClick={() =>[m
                   fullScreenHandle.active ? fullScreenHandle.exit() : fullScreenHandle.enter()[m
                 }[m
[31m-                className="fullscreen-button"[m
[31m-              />[m
[32m+[m[32m                className="tool-button fullscreen-button"[m
[32m+[m[32m              >[m
[32m+[m[32m                <Icon type={fullScreenHandle.active ? 'exit-fullscreen' : 'fullscreen'} />{' '}[m
[32m+[m[32m                {fullScreenHandle.active[m
[32m+[m[32m                  ? t('dashboard.leaveFullscreen')[m
[32m+[m[32m                  : t('dashboard.enterFullscreen')}[m
[32m+[m[32m              </Button>[m
               <AutoRefreshSelect[m
                 refreshRateMs={autoRefreshInterval}[m
                 onChange={setAutoRefreshInterval}[m
[36m@@ -292,7 +280,6 @@[m [mexport function DashboardView(props) {[m
             availableFilters={availableFilters}[m
             filter={filter}[m
             setFilter={setFilter}[m
[31m-            simplifiedDateFilter={simplifiedDateFilter}[m
           />[m
         )}[m
         <Deleter[m
[1mdiff --git a/client/src/components/Dashboards/DashboardView.scss b/client/src/components/Dashboards/DashboardView.scss[m
[1mindex 317a8bf798..ba9131c044 100644[m
[1m--- a/client/src/components/Dashboards/DashboardView.scss[m
[1m+++ b/client/src/components/Dashboards/DashboardView.scss[m
[36m@@ -29,6 +29,11 @@[m
     }[m
   }[m
 [m
[32m+[m[32m  .share-button .popoverContent {[m
[32m+[m[32m    padding: 30px;[m
[32m+[m[32m    padding-bottom: 10px;[m
[32m+[m[32m  }[m
[32m+[m
   &.fullscreen {[m
     padding: 20px;[m
 [m
[1mdiff --git a/client/src/components/Dashboards/DashboardView.test.js b/client/src/components/Dashboards/DashboardView.test.js[m
[1mindex cfb8b9fef4..1fe7687852 100644[m
[1m--- a/client/src/components/Dashboards/DashboardView.test.js[m
[1m+++ b/client/src/components/Dashboards/DashboardView.test.js[m
[36m@@ -187,9 +187,10 @@[m [mit('should disable the share button if not authorized', async () => {[m
 [m
   await runAllEffects();[m
 [m
[31m-  const shareButton = shallow(node.find('.share-button').prop('trigger'));[m
[32m+[m[32m  const shareButton = node.find('.share-button');[m
   expect(shareButton).toBeDisabled();[m
[31m-  expect(node.find('Popover').prop('tooltip')).toBe([m
[32m+[m[32m  expect(shareButton.props()).toHaveProperty([m
[32m+[m[32m    'tooltip',[m
     'Sharing forbidden. Missing authorization for contained report.'[m
   );[m
 });[m
[36m@@ -216,12 +217,12 @@[m [mit('should show a filters toggle button if filters are available', () => {[m
 it('should toggle filters section', () => {[m
   const node = shallow(<DashboardView availableFilters={[{type: 'state'}]} />);[m
 [m
[31m-  expect(node.find('.filter-button')).toHaveProp('isSelected');[m
[32m+[m[32m  expect(node.find('.filter-button')).toHaveProp('active');[m
   expect(node.find('FiltersView')).toExist();[m
 [m
   node.find('.filter-button').simulate('click');[m
 [m
[31m-  expect(node.find('.filter-button').prop('isSelected')).toBe(false);[m
[32m+[m[32m  expect(node.find('.filter-button').prop('active')).toBe(false);[m
   expect(node.find('FiltersView')).not.toExist();[m
 });[m
 [m
[36m@@ -360,3 +361,9 @@[m [mit('should not delete collection in case of error if collection existed', async[m
 [m
   expect(deleteEntity).not.toHaveBeenCalled();[m
 });[m
[32m+[m
[32m+[m[32mit('should default available filters to an empty array', () => {[m
[32m+[m[32m  const node = shallow(<DashboardView />);[m
[32m+[m
[32m+[m[32m  expect(node.find('DashboardRenderer').prop('filter')).toEqual([]);[m
[32m+[m[32m});[m
[1mdiff --git a/client/src/components/Dashboards/DeleteButton/DeleteButton.js b/client/src/components/Dashboards/DeleteButton/DeleteButton.js[m
[1mindex 4f04287ce6..5bbee70894 100644[m
[1m--- a/client/src/components/Dashboards/DeleteButton/DeleteButton.js[m
[1m+++ b/client/src/components/Dashboards/DeleteButton/DeleteButton.js[m
[36m@@ -6,26 +6,18 @@[m
  */[m
 [m
 import React from 'react';[m
[31m-import {Button} from '@carbon/react';[m
[31m-import {Close} from '@carbon/icons-react';[m
 [m
[31m-import {t} from 'translation';[m
[32m+[m[32mimport {Button, Icon} from 'components';[m
 [m
 import './DeleteButton.scss';[m
 [m
[31m-export default function DeleteButton({tile, deleteTile}) {[m
[32m+[m[32mexport default function DeleteButton(props) {[m
   return ([m
[31m-    <div className="deleteButton">[m
[31m-      <Button[m
[31m-        size="sm"[m
[31m-        kind="ghost"[m
[31m-        hasIconOnly[m
[31m-        iconDescription={t('common.delete')}[m
[31m-        renderIcon={Close}[m
[31m-        tooltipPosition="bottom"[m
[31m-        className="DeleteButton"[m
[31m-        onClick={(event) => deleteTile({event, tile})}[m
[31m-      />[m
[31m-    </div>[m
[32m+[m[32m    <Button[m
[32m+[m[32m      className="DeleteButton"[m
[32m+[m[32m      onClick={(event) => props.deleteTile({event, tile: props.tile})}[m
[32m+[m[32m    >[m
[32m+[m[32m      <Icon type="close-small" />[m
[32m+[m[32m    </Button>[m
   );[m
 }[m
[1mdiff --git a/client/src/components/Dashboards/DeleteButton/DeleteButton.scss b/client/src/components/Dashboards/DeleteButton/DeleteButton.scss[m
[1mindex cc6e7c4115..c320e930ac 100644[m
[1m--- a/client/src/components/Dashboards/DeleteButton/DeleteButton.scss[m
[1m+++ b/client/src/components/Dashboards/DeleteButton/DeleteButton.scss[m
[36m@@ -1,5 +1,19 @@[m
[31m-.deleteButton {[m
[32m+[m[32m.DeleteButton {[m
   position: absolute;[m
   top: 0;[m
   right: 0;[m
[32m+[m[32m  border: none;[m
[32m+[m[32m  background-color: transparent;[m
[32m+[m[32m  padding: 8px;[m
[32m+[m
[32m+[m[32m  &:hover,[m
[32m+[m[32m  &:active {[m
[32m+[m[32m    background-color: transparent;[m
[32m+[m[32m    border: none;[m
[32m+[m[32m    box-shadow: none;[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  .Icon {[m
[32m+[m[32m    margin: 0;[m
[32m+[m[32m  }[m
 }[m
[1mdiff --git a/client/src/components/Dashboards/EditButton.js b/client/src/components/Dashboards/EditButton.js[m
[1mindex 080cade80f..a90364b019 100644[m
[1m--- a/client/src/components/Dashboards/EditButton.js[m
[1m+++ b/client/src/components/Dashboards/EditButton.js[m
[36m@@ -6,25 +6,15 @@[m
  */[m
 [m
 import React from 'react';[m
[31m-import {Button} from '@carbon/react';[m
[31m-import {Edit} from '@carbon/icons-react';[m
 [m
[31m-import {t} from 'translation';[m
[32m+[m[32mimport {Button, Icon} from 'components';[m
[32m+[m
 import './EditButton.scss';[m
 [m
 export default function EditButton({tile, onClick}) {[m
   return ([m
[31m-    <div className="editButton">[m
[31m-      <Button[m
[31m-        size="sm"[m
[31m-        kind="ghost"[m
[31m-        hasIconOnly[m
[31m-        iconDescription={t('common.edit')}[m
[31m-        renderIcon={Edit}[m
[31m-        tooltipPosition="bottom"[m
[31m-        className="EditButton"[m
[31m-        onClick={() => onClick(tile)}[m
[31m-      />[m
[31m-    </div>[m
[32m+[m[32m    <Button className="EditButton" onClick={() => onClick(tile)}>[m
[32m+[m[32m      <Icon type="edit-small" />[m
[32m+[m[32m    </Button>[m
   );[m
 }[m
[1mdiff --git a/client/src/components/Dashboards/EditButton.scss b/client/src/components/Dashboards/EditButton.scss[m
[1mindex f2e64a5b4b..7fa407b871 100644[m
[1m--- a/client/src/components/Dashboards/EditButton.scss[m
[1m+++ b/client/src/components/Dashboards/EditButton.scss[m
[36m@@ -1,5 +1,19 @@[m
[31m-.editButton {[m
[32m+[m[32m.EditButton {[m
   position: absolute;[m
   top: 0;[m
   right: 29px;[m
[32m+[m[32m  border: none;[m
[32m+[m[32m  background-color: transparent;[m
[32m+[m[32m  padding: 8px;[m
[32m+[m
[32m+[m[32m  &:hover,[m
[32m+[m[32m  &:active {[m
[32m+[m[32m    background-color: transparent;[m
[32m+[m[32m    border: none;[m
[32m+[m[32m    box-shadow: none;[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  .Icon {[m
[32m+[m[32m    margin: 0;[m
[32m+[m[32m  }[m
 }[m
[1mdiff --git a/client/src/components/Dashboards/filters/DateFilter.js b/client/src/components/Dashboards/filters/DateFilter.js[m
[1mindex 872ba79b10..63fe9b3113 100644[m
[1m--- a/client/src/components/Dashboards/filters/DateFilter.js[m
[1m+++ b/client/src/components/Dashboards/filters/DateFilter.js[m
[36m@@ -8,11 +8,9 @@[m
 import React, {useState, useEffect} from 'react';[m
 import classnames from 'classnames';[m
 import {parseISO, startOfDay, endOfDay} from 'date-fns';[m
[31m-import {Button, MenuItem, MenuItemSelectable, MenuItemDivider} from '@carbon/react';[m
[31m-import {Filter} from '@carbon/icons-react';[m
 [m
 import {format, BACKEND_DATE_FORMAT} from 'dates';[m
[31m-import {Popover, DatePicker, MenuButton} from 'components';[m
[32m+[m[32mimport {Dropdown, Icon, Popover, DatePicker, Button} from 'components';[m
 import {t} from 'translation';[m
 [m
 import RollingFilter from './RollingFilter';[m
[36m@@ -22,11 +20,10 @@[m [mimport './DateFilter.scss';[m
 export default function DateFilter({[m
   filter,[m
   setFilter,[m
[31m-  icon: Icon = Filter,[m
[32m+[m[32m  icon = 'filter',[m
   children,[m
   emptyText = t('common.select'),[m
   title,[m
[31m-  simplified,[m
 }) {[m
   const isFixed = filter?.type === 'fixed' || filter?.type === 'rolling';[m
 [m
[36m@@ -112,7 +109,7 @@[m [mexport default function DateFilter({[m
       <>[m
         {t('common.filter.dateModal.unit.' + fixedType)}{' '}[m
         {fixedType !== 'before' && startDate && format(startDate, 'yyyy-MM-dd')}[m
[31m-        {fixedType === 'between' && <span className="to">{t('common.filter.dateModal.to')}</span>}[m
[32m+[m[32m        {fixedType === 'between' && <span className="to"> {t('common.filter.dateModal.to')} </span>}[m
         {fixedType !== 'after' && endDate && format(endDate, 'yyyy-MM-dd')}[m
       </>[m
     );[m
[36m@@ -157,10 +154,11 @@[m [mexport default function DateFilter({[m
       {showFixedPopover && filter?.type !== 'relative' ? ([m
         <Popover[m
           isTabTip[m
[31m-          trigger={[m
[31m-            <Popover.Button size="sm" kind="tertiary" renderIcon={Icon}>[m
[32m+[m[32m          title={[m
[32m+[m[32m            <>[m
[32m+[m[32m              <Icon type={icon} className={classnames('indicator', {active: filter})} />{' '}[m
               {getFixedDateFilterName(filter)}[m
[31m-            </Popover.Button>[m
[32m+[m[32m            </>[m
           }[m
           autoOpen={autoOpen}[m
         >[m
[36m@@ -186,8 +184,6 @@[m [mexport default function DateFilter({[m
           )}[m
           <hr />[m
           <Button[m
[31m-            size="sm"[m
[31m-            kind="ghost"[m
             className="reset-button"[m
             onClick={() => {[m
               setFilter();[m
[36m@@ -198,80 +194,68 @@[m [mexport default function DateFilter({[m
           </Button>[m
         </Popover>[m
       ) : ([m
[31m-        <MenuButton[m
[31m-          size="sm"[m
[31m-          kind="tertiary"[m
[32m+[m[32m        <Dropdown[m
           label={[m
             <>[m
[31m-              <Icon />[m
[32m+[m[32m              <Icon type={icon} className={classnames('indicator', {active: filter})} />[m
               {getFilterName(filter)}[m
             </>[m
           }[m
[31m-          className="filterMenu"[m
         >[m
[31m-          <MenuItem[m
[31m-            label={t('common.filter.dateModal.unit.between')}[m
[31m-            onClick={() => openDatePicker('between')}[m
[31m-          />[m
[31m-          {!simplified && ([m
[31m-            <>[m
[31m-              <MenuItem[m
[31m-                label={t('common.filter.dateModal.unit.after')}[m
[31m-                onClick={() => openDatePicker('after')}[m
[31m-              />[m
[31m-              <MenuItem[m
[31m-                label={t('common.filter.dateModal.unit.before')}[m
[31m-                onClick={() => openDatePicker('before')}[m
[31m-              />[m
[31m-              <MenuItemSelectable[m
[31m-                label={t('common.filter.dateModal.unit.today')}[m
[31m-                selected={isFilter('days')}[m
[31m-                onChange={() => setRelativeFilter('days')}[m
[31m-              />[m
[31m-              <MenuItemSelectable[m
[31m-                label={t('common.filter.dateModal.unit.yesterday')}[m
[31m-                selected={isFilter('days', true)}[m
[31m-                onChange={() => setRelativeFilter('days', true)}[m
[31m-              />[m
[31m-              <MenuItemSelectable[m
[31m-                label={t('dashboard.filter.date.last')}[m
[31m-                selected={filter?.start.value === 1 && !isFilter('days', true)}[m
[32m+[m[32m          <Dropdown.Option onClick={() => openDatePicker('between')}>[m
[32m+[m[32m            {t('common.filter.dateModal.unit.between')}[m
[32m+[m[32m          </Dropdown.Option>[m
[32m+[m[32m          <Dropdown.Option onClick={() => openDatePicker('after')}>[m
[32m+[m[32m            {t('common.filter.dateModal.unit.after')}[m
[32m+[m[32m          </Dropdown.Option>[m
[32m+[m[32m          <Dropdown.Option onClick={() => openDatePicker('before')}>[m
[32m+[m[32m            {t('common.filter.dateModal.unit.before')}[m
[32m+[m[32m          </Dropdown.Option>[m
[32m+[m[32m          <Dropdown.Option checked={isFilter('days')} onClick={() => setRelativeFilter('days')}>[m
[32m+[m[32m            {t('common.filter.dateModal.unit.today')}[m
[32m+[m[32m          </Dropdown.Option>[m
[32m+[m[32m          <Dropdown.Option[m
[32m+[m[32m            checked={isFilter('days', true)}[m
[32m+[m[32m            onClick={() => setRelativeFilter('days', true)}[m
[32m+[m[32m          >[m
[32m+[m[32m            {t('common.filter.dateModal.unit.yesterday')}[m
[32m+[m[32m          </Dropdown.Option>[m
[32m+[m[32m          <Dropdown.Submenu[m
[32m+[m[32m            label={t('dashboard.filter.date.last')}[m
[32m+[m[32m            checked={filter?.start.value === 1 && !isFilter('days', true)}[m
[32m+[m[32m          >[m
[32m+[m[32m            {['weeks', 'months', 'years', 'quarters'].map((unit) => ([m
[32m+[m[32m              <Dropdown.Option[m
[32m+[m[32m                key={unit}[m
[32m+[m[32m                checked={isFilter(unit, true)}[m
[32m+[m[32m                onClick={() => setRelativeFilter(unit, true)}[m
               >[m
[31m-                {['weeks', 'months', 'years', 'quarters'].map((unit) => ([m
[31m-                  <MenuItemSelectable[m
[31m-                    key={unit}[m
[31m-                    label={t('dashboard.filter.date.units.' + unit)}[m
[31m-                    selected={isFilter(unit, true)}[m
[31m-                    onChange={() => setRelativeFilter(unit, true)}[m
[31m-                  />[m
[31m-                ))}[m
[31m-              </MenuItemSelectable>[m
[31m-              <MenuItemSelectable[m
[31m-                label={t('dashboard.filter.date.this')}[m
[31m-                selected={filter?.start.value === 0 && !isFilter('days')}[m
[32m+[m[32m                {t('dashboard.filter.date.units.' + unit)}[m
[32m+[m[32m              </Dropdown.Option>[m
[32m+[m[32m            ))}[m
[32m+[m[32m          </Dropdown.Submenu>[m
[32m+[m[32m          <Dropdown.Submenu[m
[32m+[m[32m            label={t('dashboard.filter.date.this')}[m
[32m+[m[32m            checked={filter?.start.value === 0 && !isFilter('days')}[m
[32m+[m[32m          >[m
[32m+[m[32m            {['weeks', 'months', 'years', 'quarters'].map((unit) => ([m
[32m+[m[32m              <Dropdown.Option[m
[32m+[m[32m                key={unit}[m
[32m+[m[32m                checked={isFilter(unit)}[m
[32m+[m[32m                onClick={() => setRelativeFilter(unit)}[m
               >[m
[31m-                {['weeks', 'months', 'years', 'quarters'].map((unit) => ([m
[31m-                  <MenuItemSelectable[m
[31m-                    key={unit}[m
[31m-                    label={t('dashboard.filter.date.units.' + unit)}[m
[31m-                    selected={isFilter(unit)}[m
[31m-                    onChange={() => setRelativeFilter(unit)}[m
[31m-                  />[m
[31m-                ))}[m
[31m-              </MenuItemSelectable>[m
[31m-            </>[m
[31m-          )}[m
[31m-          <MenuItem[m
[31m-            label={t('common.filter.dateModal.unit.custom')}[m
[31m-            onClick={() => openRollingFilter()}[m
[31m-          />[m
[31m-          {!simplified && ([m
[31m-            <>[m
[31m-              <MenuItemDivider />[m
[31m-              <MenuItem disabled={!filter} label={t('common.off')} onClick={() => setFilter()} />[m
[31m-            </>[m
[31m-          )}[m
[31m-        </MenuButton>[m
[32m+[m[32m                {t('dashboard.filter.date.units.' + unit)}[m
[32m+[m[32m              </Dropdown.Option>[m
[32m+[m[32m            ))}[m
[32m+[m[32m          </Dropdown.Submenu>[m
[32m+[m[32m          <Dropdown.Option onClick={() => openRollingFilter()}>[m
[32m+[m[32m            {t('common.filter.dateModal.unit.custom')}[m
[32m+[m[32m          </Dropdown.Option>[m
[32m+[m[32m          <hr />[m
[32m+[m[32m          <Dropdown.Option disabled={!filter} onClick={() => setFilter()}>[m
[32m+[m[32m            {t('common.off')}[m
[32m+[m[32m          </Dropdown.Option>[m
[32m+[m[32m        </Dropdown>[m
       )}[m
     </div>[m
   );[m
[1mdiff --git a/client/src/components/Dashboards/filters/DateFilter.scss b/client/src/components/Dashboards/filters/DateFilter.scss[m
[1mindex c30aef2187..d91ba48c9b 100644[m
[1m--- a/client/src/components/Dashboards/filters/DateFilter.scss[m
[1m+++ b/client/src/components/Dashboards/filters/DateFilter.scss[m
[36m@@ -4,27 +4,32 @@[m
     width: max-content;[m
   }[m
 [m
[31m-  .filterMenu {[m
[32m+[m[32m  .Dropdown {[m
     width: 100%;[m
   }[m
 [m
   .to {[m
[31m-    margin-inline: 2px;[m
[32m+[m[32m    color: var(--silver-darken-80);[m
   }[m
 [m
   .Popover .popoverContent {[m
[32m+[m[32m    padding: 0;[m
     width: auto;[m
     max-width: unset;[m
   }[m
 [m
   .DateFields {[m
[32m+[m[32m    padding: 10px 20px 0;[m
[32m+[m[32m    margin: 0;[m
[32m+[m
     .PickerDateInput {[m
       &::after {[m
         display: none;[m
       }[m
 [m
[31m-      .cds--form-requirement {[m
[31m-        top: 40px;[m
[32m+[m[32m      .PickerDateInputWarning {[m
[32m+[m[32m        top: 35px;[m
[32m+[m[32m        font-size: 10px;[m
       }[m
     }[m
     .dateRangeContainer {[m
[1mdiff --git a/client/src/components/Dashboards/filters/DateFilter.test.js b/client/src/components/Dashboards/filters/DateFilter.test.js[m
[1mindex bde665e958..0016773cbc 100644[m
[1m--- a/client/src/components/Dashboards/filters/DateFilter.test.js[m
[1m+++ b/client/src/components/Dashboards/filters/DateFilter.test.js[m
[36m@@ -7,9 +7,8 @@[m
 [m
 import React, {runAllEffects} from 'react';[m
 import {shallow} from 'enzyme';[m
[31m-import {MenuItem, MenuItemSelectable} from '@carbon/react';[m
 [m
[31m-import {DatePicker} from 'components';[m
[32m+[m[32mimport {Dropdown, DatePicker} from 'components';[m
 [m
 import DateFilter from './DateFilter';[m
 import RollingFilter from './RollingFilter';[m
[36m@@ -35,9 +34,9 @@[m [mbeforeEach(() => {[m
 it('should contain a dropdown to set startDateFilter', () => {[m
   const node = shallow(<DateFilter {...props} />);[m
 [m
[31m-  expect(node.find('MenuButton')).toExist();[m
[32m+[m[32m  expect(node.find(Dropdown)).toExist();[m
 [m
[31m-  node.find(MenuItemSelectable).at(0).simulate('change');[m
[32m+[m[32m  node.find(Dropdown.Option).at(3).simulate('click');[m
 [m
   expect(props.setFilter).toHaveBeenCalledWith(todayFilter);[m
 });[m
[36m@@ -45,7 +44,7 @@[m [mit('should contain a dropdown to set startDateFilter', () => {[m
 it('should show a datepicker when switching to fixed state', () => {[m
   const node = shallow(<DateFilter {...props} />);[m
 [m
[31m-  node.find(MenuItem).at(0).simulate('click');[m
[32m+[m[32m  node.find(Dropdown.Option).at(0).simulate('click');[m
 [m
   expect(node.find(DatePicker)).toExist();[m
 });[m
[36m@@ -63,7 +62,7 @@[m [mit('should invoke setFilter when updating the rolling filter', () => {[m
 [m
   node.setProps({filter});[m
 [m
[31m-  const options = node.find(MenuItem);[m
[32m+[m[32m  const options = node.find(Dropdown.Option);[m
   options.at(options.length - 2).simulate('click');[m
   expect(spy).toHaveBeenCalledWith(filter);[m
 [m
[36m@@ -74,26 +73,26 @@[m [mit('should invoke setFilter when updating the rolling filter', () => {[m
 it('should show the dropdown again after an external reset', () => {[m
   const node = shallow(<DateFilter {...props} />);[m
 [m
[31m-  node.find(MenuItem).at(0).simulate('click');[m
[32m+[m[32m  node.find(Dropdown.Option).at(0).simulate('click');[m
   node.setProps({resetTrigger: true});[m
 [m
   runAllEffects();[m
 [m
   expect(node.find(DatePicker)).not.toExist();[m
[31m-  expect(node.find('MenuButton')).toExist();[m
[32m+[m[32m  expect(node.find(Dropdown)).toExist();[m
 });[m
 [m
 it('should show the filter state', () => {[m
   const node = shallow(<DateFilter {...props} filter={todayFilter} />);[m
 [m
[31m-  expect(node.find('MenuButton').prop('label')).toMatchSnapshot();[m
[31m-  expect(node.find(MenuItemSelectable).at(0)).toHaveProp('selected', true);[m
[32m+[m[32m  expect(node.find(Dropdown).prop('label')).toMatchSnapshot();[m
[32m+[m[32m  expect(node.find(Dropdown.Option).at(3)).toHaveProp('checked', true);[m
 });[m
 [m
 it('should reset the filter state', () => {[m
   const node = shallow(<DateFilter {...props} filter={todayFilter} />);[m
 [m
[31m-  node.find(MenuItem).last().simulate('click');[m
[32m+[m[32m  node.find(Dropdown.Option).last().simulate('click');[m
 [m
   expect(props.setFilter).toHaveBeenCalledWith();[m
 });[m
[36m@@ -101,13 +100,13 @@[m [mit('should reset the filter state', () => {[m
 it('should disable the reset button if no filter is set', () => {[m
   const node = shallow(<DateFilter {...props} />);[m
 [m
[31m-  expect(node.find(MenuItem).last()).toHaveProp('disabled', true);[m
[32m+[m[32m  expect(node.find(Dropdown.Option).last()).toHaveProp('disabled', true);[m
 });[m
 [m
 it('should allow providing a custom icon and empty text', () => {[m
   const node = shallow(<DateFilter {...props} icon="customIcon" emptyText="customText" />);[m
 [m
[31m-  expect(node.find('MenuButton').prop('label')).toMatchSnapshot();[m
[32m+[m[32m  expect(node.find(Dropdown).prop('label')).toMatchSnapshot();[m
 });[m
 [m
 it('should render children', () => {[m
[36m@@ -119,11 +118,3 @@[m [mit('should render children', () => {[m
 [m
   expect(node.find('.childContent')).toExist();[m
 });[m
[31m-[m
[31m-it('Remove relative filters if simplified prop is specified', () => {[m
[31m-  const node = shallow(<DateFilter {...props} simplified />);[m
[31m-[m
[31m-  expect(node.find(MenuItem).length).toBe(2);[m
[31m-  expect(node.find(MenuItem).at(0).prop('label')).toBe('Between');[m
[31m-  expect(node.find(MenuItem).at(1).prop('label')).toBe('Rolling');[m
[31m-});[m
[1mdiff --git a/client/src/components/Dashboards/filters/FiltersEdit.js b/client/src/components/Dashboards/filters/FiltersEdit.js[m
[1mindex 98bc07e8c0..f52ecb13a6 100644[m
[1m--- a/client/src/components/Dashboards/filters/FiltersEdit.js[m
[1m+++ b/client/src/components/Dashboards/filters/FiltersEdit.js[m
[36m@@ -8,7 +8,6 @@[m
 import React, {useState} from 'react';[m
 import update from 'immutability-helper';[m
 import equals from 'fast-deep-equal';[m
[31m-import {Calendar} from '@carbon/icons-react';[m
 [m
 import {Button, Icon, LabeledInput} from 'components';[m
 import {VariableFilter, AssigneeFilter} from 'filter';[m
[36m@@ -62,7 +61,7 @@[m [mexport default function FiltersEdit({[m
               <DateFilter[m
                 key={type}[m
                 emptyText={t('common.off')}[m
[31m-                icon={Calendar}[m
[32m+[m[32m                icon="calender"[m
                 title={t('dashboard.filter.types.' + type)}[m
                 filter={dateFilter?.data}[m
                 setFilter={(newFilter) => {[m
[1mdiff --git a/client/src/components/Dashboards/filters/FiltersView.js b/client/src/components/Dashboards/filters/FiltersView.js[m
[1mindex 372940b9a5..e13065a8bd 100644[m
[1m--- a/client/src/components/Dashboards/filters/FiltersView.js[m
[1m+++ b/client/src/components/Dashboards/filters/FiltersView.js[m
[36m@@ -7,7 +7,6 @@[m
 [m
 import React, {useState, useEffect} from 'react';[m
 import equals from 'fast-deep-equal';[m
[31m-import {Calendar} from '@carbon/icons-react';[m
 [m
 import {Button} from 'components';[m
 import {t} from 'translation';[m
[36m@@ -21,13 +20,7 @@[m [mimport AssigneeFilter from './AssigneeFilter';[m
 [m
 import './FiltersView.scss';[m
 [m
[31m-export default function FiltersView({[m
[31m-  availableFilters,[m
[31m-  filter = [],[m
[31m-  setFilter,[m
[31m-  reports = [],[m
[31m-  simplifiedDateFilter,[m
[31m-}) {[m
[32m+[m[32mexport default function FiltersView({availableFilters, filter = [], setFilter, reports = []}) {[m
   // used by the individual filter components to reset internal state[m
   const [resetTrigger, setResetTrigger] = useState(false);[m
   useEffect(() => {[m
[36m@@ -51,7 +44,7 @@[m [mexport default function FiltersView({[m
                 key={type}[m
                 emptyText={t('common.off')}[m
                 title={t('dashboard.filter.types.' + type)}[m
[31m-                icon={Calendar}[m
[32m+[m[32m                icon="calender"[m
                 filter={dateFilter?.data}[m
                 setFilter={(newFilter) => {[m
                   const rest = filter.filter((filter) => !equals(filter, dateFilter));[m
[36m@@ -61,7 +54,6 @@[m [mexport default function FiltersView({[m
                     setFilter(rest);[m
                   }[m
                 }}[m
[31m-                simplified={simplifiedDateFilter}[m
               />[m
             );[m
           case 'variable':[m
[1mdiff --git a/client/src/components/Dashboards/filters/FiltersView.scss b/client/src/components/Dashboards/filters/FiltersView.scss[m
[1mindex 2903f8ff1f..f659c1c75c 100644[m
[1m--- a/client/src/components/Dashboards/filters/FiltersView.scss[m
[1m+++ b/client/src/components/Dashboards/filters/FiltersView.scss[m
[36m@@ -32,6 +32,11 @@[m
       }[m
     }[m
   }[m
[32m+[m
[32m+[m[32m  .reset-button {[m
[32m+[m[32m    border: none;[m
[32m+[m[32m    background: none;[m
[32m+[m[32m  }[m
 }[m
 [m
 .FiltersView {[m
[36m@@ -81,6 +86,13 @@[m
     padding-left: 12px;[m
   }[m
 [m
[32m+[m[32m  .reset-button {[m
[32m+[m[32m    margin: 0 10px 5px;[m
[32m+[m[32m    font-size: 14px;[m
[32m+[m[32m    border: none;[m
[32m+[m[32m    background: none;[m
[32m+[m[32m  }[m
[32m+[m
   .indicator {[m
     vertical-align: middle;[m
     color: var(--silver-darken-80);[m
[36m@@ -91,7 +103,24 @@[m
 [m
   hr {[m
     border: none;[m
[31m-    border-bottom: 1px solid var(--cds-border-subtle);[m
[31m-    margin: 8px 0;[m
[32m+[m[32m    border-bottom: 1px solid var(--silver-darken-87);[m
[32m+[m[32m    margin: 5px 0;[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  .Popover {[m
[32m+[m[32m    .popoverContent {[m
[32m+[m[32m      padding: 0;[m
[32m+[m[32m    }[m
[32m+[m
[32m+[m[32m    .Form {[m
[32m+[m[32m      > fieldset {[m
[32m+[m[32m        padding: 5px 20px 0 20px;[m
[32m+[m
[32m+[m[32m        .Switch {[m
[32m+[m[32m          margin-top: 6px;[m
[32m+[m[32m          padding-bottom: 6px;[m
[32m+[m[32m        }[m
[32m+[m[32m      }[m
[32m+[m[32m    }[m
   }[m
 }[m
[1mdiff --git a/client/src/components/Dashboards/filters/RollingFilter.js b/client/src/components/Dashboards/filters/RollingFilter.js[m
[1mindex d5f3bacb0a..4c5c6ae646 100644[m
[1m--- a/client/src/components/Dashboards/filters/RollingFilter.js[m
[1m+++ b/client/src/components/Dashboards/filters/RollingFilter.js[m
[36m@@ -5,11 +5,10 @@[m
  * except in compliance with the proprietary license.[m
  */[m
 [m
[31m-import {useEffect, useMemo, useState} from 'react';[m
[31m-import {NumberInput, Stack, MenuItem, MenuButton} from '@carbon/react';[m
[32m+[m[32mimport React, {useEffect, useMemo, useState} from 'react';[m
 [m
 import {numberParser} from 'services';[m
[31m-import {CarbonSelect} from 'components';[m
[32m+[m[32mimport {Input, Select, Message} from 'components';[m
 import {t} from 'translation';[m
 [m
 import './RollingFilter.scss';[m
[36m@@ -34,38 +33,35 @@[m [mexport default function RollingFilter({filter, onChange}) {[m
   }, [updateValue]);[m
 [m
   return ([m
[31m-    <Stack gap={4} className="RollingFilter">[m
[31m-      <NumberInput[m
[31m-        label={t('common.filter.dateModal.last')}[m
[31m-        id="numberOfLast"[m
[31m-        size="sm"[m
[32m+[m[32m    <div className="RollingFilter">[m
[32m+[m[32m      {t('common.filter.dateModal.last')}[m
[32m+[m[32m      <Input[m
         className="number"[m
         value={value}[m
[31m-        onChange={(evt, {value}) => {[m
[32m+[m[32m        onChange={({target: {value}}) => {[m
           setValue(value);[m
           updateValue(value);[m
         }}[m
[31m-        maxLength={8}[m
[31m-        invalid={!numberParser.isPositiveInt(value)}[m
[31m-        invalidText={t('common.errors.positiveInt')}[m
[32m+[m[32m        maxLength="8"[m
[32m+[m[32m        isInvalid={!numberParser.isPositiveInt(filter?.start?.value)}[m
       />[m
[31m-      <CarbonSelect[m
[32m+[m[32m      <Select[m
         value={filter?.start?.unit}[m
         onChange={(unit) => {[m
           onChange({unit});[m
         }}[m
[31m-        helperText={t('common.filter.dateModal.rollingInfo')}[m
       >[m
[31m-        <CarbonSelect.Option value="minutes" label={t('common.unit.minute.label-plural')} />[m
[31m-        <CarbonSelect.Option value="hours" label={t('common.unit.hour.label-plural')} />[m
[31m-        <CarbonSelect.Option value="days" label={t('common.unit.day.label-plural')} />[m
[31m-        <CarbonSelect.Option value="weeks" label={t('common.unit.week.label-plural')} />[m
[31m-        <CarbonSelect.Option value="months" label={t('common.unit.month.label-plural')} />[m
[31m-        <CarbonSelect.Option value="years" label={t('common.unit.year.label-plural')} />[m
[31m-      </CarbonSelect>[m
[31m-      <MenuButton>[m
[31m-        <MenuItem />[m
[31m-      </MenuButton>[m
[31m-    </Stack>[m
[32m+[m[32m        <Select.Option value="minutes">{t('common.unit.minute.label-plural')}</Select.Option>[m
[32m+[m[32m        <Select.Option value="hours">{t('common.unit.hour.label-plural')}</Select.Option>[m
[32m+[m[32m        <Select.Option value="days">{t('common.unit.day.label-plural')}</Select.Option>[m
[32m+[m[32m        <Select.Option value="weeks">{t('common.unit.week.label-plural')}</Select.Option>[m
[32m+[m[32m        <Select.Option value="months">{t('common.unit.month.label-plural')}</Select.Option>[m
[32m+[m[32m        <Select.Option value="years">{t('common.unit.year.label-plural')}</Select.Option>[m
[32m+[m[32m      </Select>[m
[32m+[m[32m      <Message className="rollingInfo">{t('common.filter.dateModal.rollingInfo')}</Message>[m
[32m+[m[32m      {!numberParser.isPositiveInt(value) && ([m
[32m+[m[32m        <Message error>{t('common.errors.positiveInt')}</Message>[m
[32m+[m[32m      )}[m
[32m+[m[32m    </div>[m
   );[m
 }[m
[1mdiff --git a/client/src/components/Dashboards/filters/RollingFilter.scss b/client/src/components/Dashboards/filters/RollingFilter.scss[m
[1mindex 2dc4f1e71e..dc5ad52603 100644[m
[1m--- a/client/src/components/Dashboards/filters/RollingFilter.scss[m
[1m+++ b/client/src/components/Dashboards/filters/RollingFilter.scss[m
[36m@@ -1,8 +1,20 @@[m
 .RollingFilter {[m
[32m+[m[32m  display: flex;[m
[32m+[m[32m  flex-wrap: wrap;[m
[32m+[m[32m  align-items: center;[m
[32m+[m[32m  padding: 20px;[m
   min-width: 360px;[m
 [m
[31m-  .number,[m
[31m-  .CarbonSelect {[m
[31m-    width: 100%;[m
[32m+[m[32m  .Input.number {[m
[32m+[m[32m    min-width: 30%;[m
[32m+[m[32m    margin: 0 10px;[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  .Select {[m
[32m+[m[32m    flex: 1;[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  .Message {[m
[32m+[m[32m    margin-top: 10px;[m
   }[m
 }[m
[1mdiff --git a/client/src/components/Dashboards/filters/RollingFilter.test.js b/client/src/components/Dashboards/filters/RollingFilter.test.js[m
[1mindex e7bfd76cd4..a2eb5882d9 100644[m
[1m--- a/client/src/components/Dashboards/filters/RollingFilter.test.js[m
[1m+++ b/client/src/components/Dashboards/filters/RollingFilter.test.js[m
[36m@@ -7,8 +7,8 @@[m
 [m
 import React from 'react';[m
 import {shallow} from 'enzyme';[m
[31m-import {NumberInput} from '@carbon/react';[m
 [m
[32m+[m[32mimport {Input, Select} from 'components';[m
 import {numberParser} from 'services';[m
 [m
 import RollingFilter from './RollingFilter';[m
[36m@@ -29,20 +29,20 @@[m [mconst props = {[m
 it('should load initial values correctly', () => {[m
   const node = shallow(<RollingFilter {...props} />);[m
 [m
[31m-  expect(node.find(NumberInput).prop('value')).toBe(2);[m
[31m-  expect(node.find('CarbonSelect').prop('value')).toBe('days');[m
[32m+[m[32m  expect(node.find(Input).prop('value')).toBe(2);[m
[32m+[m[32m  expect(node.find(Select).prop('value')).toBe('days');[m
 });[m
 [m
 it('should invoke onChange when update the value input or the unit selection', () => {[m
   const spy = jest.fn();[m
   const node = shallow(<RollingFilter {...props} onChange={spy} />);[m
 [m
[31m-  node.find(NumberInput).simulate('change', undefined, {value: '3'});[m
[32m+[m[32m  node.find(Input).simulate('change', {target: {value: '3'}});[m
   expect(spy).toHaveBeenCalledWith({value: 3});[m
 [m
   spy.mockClear();[m
 [m
[31m-  node.find('CarbonSelect').simulate('change', 'months');[m
[32m+[m[32m  node.find(Select).simulate('change', 'months');[m
   expect(spy).toHaveBeenCalledWith({unit: 'months'});[m
 });[m
 [m
[36m@@ -51,9 +51,9 @@[m [mit('should prevent the user from typing non integer values into the input except[m
   const spy = jest.fn();[m
   const node = shallow(<RollingFilter {...props} onChange={spy} />);[m
 [m
[31m-  node.find(NumberInput).simulate('change', undefined, {value: 'a'});[m
[32m+[m[32m  node.find(Input).simulate('change', {target: {value: 'a'}});[m
   expect(spy).not.toHaveBeenCalled();[m
 [m
[31m-  node.find(NumberInput).simulate('change', undefined, {value: ''});[m
[32m+[m[32m  node.find(Input).simulate('change', {target: {value: ''}});[m
   expect(spy).toHaveBeenCalled();[m
 });[m
[1mdiff --git a/client/src/components/Dashboards/filters/__snapshots__/DateFilter.test.js.snap b/client/src/components/Dashboards/filters/__snapshots__/DateFilter.test.js.snap[m
[1mindex c912fbfb44..e2ce00bccc 100644[m
[1m--- a/client/src/components/Dashboards/filters/__snapshots__/DateFilter.test.js.snap[m
[1m+++ b/client/src/components/Dashboards/filters/__snapshots__/DateFilter.test.js.snap[m
[36m@@ -2,14 +2,20 @@[m
 [m
 exports[`should allow providing a custom icon and empty text 1`] = `[m
 <React.Fragment>[m
[31m-  <customIcon />[m
[32m+[m[32m  <Icon[m
[32m+[m[32m    className="indicator"[m
[32m+[m[32m    type="customIcon"[m
[32m+[m[32m  />[m
   customText[m
 </React.Fragment>[m
 `;[m
 [m
 exports[`should show the filter state 1`] = `[m
 <React.Fragment>[m
[31m-  <ForwardRef(Filter) />[m
[32m+[m[32m  <Icon[m
[32m+[m[32m    className="indicator active"[m
[32m+[m[32m    type="filter"[m
[32m+[m[32m  />[m
   Today[m
 </React.Fragment>[m
 `;[m
[1mdiff --git a/client/src/components/Events/__snapshots__/ProcessEdit.test.js.snap b/client/src/components/Events/__snapshots__/ProcessEdit.test.js.snap[m
[1mindex b1b4e5cfa0..b5b4737b64 100644[m
[1m--- a/client/src/components/Events/__snapshots__/ProcessEdit.test.js.snap[m
[1m+++ b/client/src/components/Events/__snapshots__/ProcessEdit.test.js.snap[m
[36m@@ -12,7 +12,7 @@[m [mexports[`should match snapshot 1`] = `[m
   <div[m
     className="header"[m
   >[m
[31m-    <EntityNameForm[m
[32m+[m[32m    <EntityNameFormErrorHandler[m
       entity="Process"[m
       isNew={false}[m
       name="Process Name"[m
[1mdiff --git a/client/src/components/Footer/ConnectionStatus.tsx b/client/src/components/Footer/ConnectionStatus.js[m
[1msimilarity index 82%[m
[1mrename from client/src/components/Footer/ConnectionStatus.tsx[m
[1mrename to client/src/components/Footer/ConnectionStatus.js[m
[1mindex 1504f107cf..fc8a77605f 100644[m
[1m--- a/client/src/components/Footer/ConnectionStatus.tsx[m
[1m+++ b/client/src/components/Footer/ConnectionStatus.js[m
[36m@@ -5,21 +5,15 @@[m
  * except in compliance with the proprietary license.[m
  */[m
 [m
[31m-import {useEffect, useState} from 'react';[m
[32m+[m[32mimport React, {useEffect, useState} from 'react';[m
[32m+[m
 import {Tooltip} from 'components';[m
 import {t} from 'translation';[m
 [m
 import './ConnectionStatus.scss';[m
 [m
[31m-interface EngineStatus {[m
[31m-  [key: string]: {[m
[31m-    isConnected: boolean;[m
[31m-    isImporting: boolean;[m
[31m-  };[m
[31m-}[m
[31m-[m
 export default function ConnectionStatus() {[m
[31m-  const [engineStatus, setEngineStatus] = useState<EngineStatus>({});[m
[32m+[m[32m  const [engineStatus, setEngineStatus] = useState({});[m
   const [connectedToElasticsearch, setConnectedToElasticsearch] = useState(false);[m
   const [loaded, setLoaded] = useState(false);[m
   const [error, setError] = useState(false);[m
[36m@@ -48,9 +42,9 @@[m [mexport default function ConnectionStatus() {[m
     return () => {[m
       connection.close();[m
     };[m
[31m-  }, []);[m
[32m+[m[32m  }, [setConnectedToElasticsearch, setEngineStatus, setError, setLoaded]);[m
 [m
[31m-  function renderListElement(key: string, connectionStatus: boolean, isImporting: boolean) {[m
[32m+[m[32m  function renderListElement(key, connectionStatus, isImporting) {[m
     let className = 'statusItem';[m
     let title;[m
 [m
[36m@@ -85,8 +79,8 @@[m [mexport default function ConnectionStatus() {[m
         loaded && ([m
           <ul className="status">[m
             <>[m
[31m-              {Object.entries(engineStatus).map(([key, {isConnected, isImporting}]) =>[m
[31m-                renderListElement(key, isConnected, isImporting)[m
[32m+[m[32m              {Object.keys(engineStatus).map((key) =>[m
[32m+[m[32m                renderListElement(key, engineStatus[key].isConnected, engineStatus[key].isImporting)[m
               )}[m
               {renderListElement('Elasticsearch', connectedToElasticsearch, false)}[m
             </>[m
[1mdiff --git a/client/src/components/Footer/ConnectionStatus.scss b/client/src/components/Footer/ConnectionStatus.scss[m
[1mindex 6ab3c5623f..7fe32fc04f 100644[m
[1m--- a/client/src/components/Footer/ConnectionStatus.scss[m
[1m+++ b/client/src/components/Footer/ConnectionStatus.scss[m
[36m@@ -3,31 +3,37 @@[m
     font-size: 0.7em;[m
   }[m
 [m
[31m-  .status .statusItem {[m
[31m-    display: inline-block;[m
[31m-    margin-right: 10px;[m
[31m-    white-space: nowrap;[m
[32m+[m[32m  .status {[m
[32m+[m[32m    list-style: none;[m
[32m+[m[32m    padding: 0;[m
[32m+[m[32m    margin: 0;[m
 [m
[31m-    &:before {[m
[31m-      content: '';[m
[32m+[m[32m    .statusItem {[m
       display: inline-block;[m
[31m-      width: 0.65em;[m
[31m-      height: 0.65em;[m
[31m-      border-radius: 100%;[m
[31m-      margin-right: 4px;[m
[31m-      background-color: var(--red-darken-38);[m
[31m-    }[m
[32m+[m[32m      margin-right: 10px;[m
[32m+[m[32m      white-space: nowrap;[m
 [m
[31m-    &.is-connected:before {[m
[31m-      background-color: var(--green-base-44);[m
[31m-    }[m
[32m+[m[32m      &:before {[m
[32m+[m[32m        content: '';[m
[32m+[m[32m        display: inline-block;[m
[32m+[m[32m        width: 0.65em;[m
[32m+[m[32m        height: 0.65em;[m
[32m+[m[32m        border-radius: 100%;[m
[32m+[m[32m        margin-right: 4px;[m
[32m+[m[32m        background-color: var(--red-darken-38);[m
[32m+[m[32m      }[m
[32m+[m
[32m+[m[32m      &.is-connected:before {[m
[32m+[m[32m        background-color: var(--green-base-44);[m
[32m+[m[32m      }[m
 [m
[31m-    &.is-in-progress:before {[m
[31m-      width: 0.8em;[m
[31m-      height: 0.8em;[m
[31m-      background-size: cover;[m
[31m-      background-color: var(--white);[m
[31m-      background-image: url(./loading.svg);[m
[32m+[m[32m      &.is-in-progress:before {[m
[32m+[m[32m        width: 0.8em;[m
[32m+[m[32m        height: 0.8em;[m
[32m+[m[32m        background-size: cover;[m
[32m+[m[32m        background-color: var(--white);[m
[32m+[m[32m        background-image: url(./loading.svg);[m
[32m+[m[32m      }[m
     }[m
   }[m
 }[m
[1mdiff --git a/client/src/components/Footer/ConnectionStatus.test.tsx b/client/src/components/Footer/ConnectionStatus.test.js[m
[1msimilarity index 97%[m
[1mrename from client/src/components/Footer/ConnectionStatus.test.tsx[m
[1mrename to client/src/components/Footer/ConnectionStatus.test.js[m
[1mindex faee850a26..5a9f9175c3 100644[m
[1m--- a/client/src/components/Footer/ConnectionStatus.test.tsx[m
[1m+++ b/client/src/components/Footer/ConnectionStatus.test.js[m
[36m@@ -5,13 +5,13 @@[m
  * except in compliance with the proprietary license.[m
  */[m
 [m
[31m-import {runLastEffect} from '__mocks__/react';[m
[32m+[m[32mimport React, {runLastEffect} from 'react';[m
 import {shallow} from 'enzyme';[m
 import {Server} from 'mock-socket';[m
 [m
 import ConnectionStatus from './ConnectionStatus';[m
 [m
[31m-let server: Server;[m
[32m+[m[32mlet server;[m
 beforeEach(() => {[m
   server = new Server('ws://localhost/ws/status');[m
 });[m
[1mdiff --git a/client/src/components/Footer/Footer.js b/client/src/components/Footer/Footer.js[m
[1mnew file mode 100644[m
[1mindex 0000000000..40aec07f0e[m
[1m--- /dev/null[m
[1m+++ b/client/src/components/Footer/Footer.js[m
[36m@@ -0,0 +1,52 @@[m
[32m+[m[32m/*[m
[32m+[m[32m * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH[m
[32m+[m[32m * under one or more contributor license agreements. Licensed under a proprietary license.[m
[32m+[m[32m * See the License.txt file for more information. You may not use this file[m
[32m+[m[32m * except in compliance with the proprietary license.[m
[32m+[m[32m */[m
[32m+[m
[32m+[m[32mimport React from 'react';[m
[32m+[m
[32m+[m[32mimport {getOptimizeVersion, getOptimizeProfile} from 'config';[m
[32m+[m[32mimport {t} from 'translation';[m
[32m+[m[32mimport {Tooltip} from 'components';[m
[32m+[m
[32m+[m[32mimport ConnectionStatus from './ConnectionStatus';[m
[32m+[m
[32m+[m[32mimport './Footer.scss';[m
[32m+[m
[32m+[m[32mexport default class Footer extends React.Component {[m
[32m+[m[32m  state = {[m
[32m+[m[32m    optimizeVersion: null,[m
[32m+[m[32m    optimizeProfile: null,[m
[32m+[m[32m  };[m
[32m+[m
[32m+[m[32m  async componentDidMount() {[m
[32m+[m[32m    this.setState({[m
[32m+[m[32m      optimizeVersion: await getOptimizeVersion(),[m
[32m+[m[32m      optimizeProfile: await getOptimizeProfile(),[m
[32m+[m[32m    });[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  render() {[m
[32m+[m[32m    const {optimizeProfile, optimizeVersion} = this.state;[m
[32m+[m
[32m+[m[32m    const timezoneInfo =[m
[32m+[m[32m      t('footer.timezone') + ' ' + Intl.DateTimeFormat().resolvedOptions().timeZone;[m
[32m+[m
[32m+[m[32m    return ([m
[32m+[m[32m      <footer className="Footer">[m
[32m+[m[32m        <div className="content">[m
[32m+[m[32m          {optimizeProfile === 'platform' && <ConnectionStatus />}[m
[32m+[m[32m          <Tooltip content={timezoneInfo} overflowOnly>[m
[32m+[m[32m            <div className="timezone">{timezoneInfo}</div>[m
[32m+[m[32m          </Tooltip>[m
[32m+[m[32m          <div className="colophon">[m
[32m+[m[32m            © Camunda Services GmbH {new Date().getFullYear()}, {t('footer.rightsReserved')} |{' '}[m
[32m+[m[32m            {optimizeVersion}[m
[32m+[m[32m          </div>[m
[32m+[m[32m        </div>[m
[32m+[m[32m      </footer>[m
[32m+[m[32m    );[m
[32m+[m[32m  }[m
[32m+[m[32m}[m
[1mdiff --git a/client/src/components/Footer/Footer.test.tsx b/client/src/components/Footer/Footer.test.js[m
[1msimilarity index 83%[m
[1mrename from client/src/components/Footer/Footer.test.tsx[m
[1mrename to client/src/components/Footer/Footer.test.js[m
[1mindex b08ed3c415..c4c29f887c 100644[m
[1m--- a/client/src/components/Footer/Footer.test.tsx[m
[1m+++ b/client/src/components/Footer/Footer.test.js[m
[36m@@ -5,7 +5,7 @@[m
  * except in compliance with the proprietary license.[m
  */[m
 [m
[31m-import {runLastEffect} from '__mocks__/react';[m
[32m+[m[32mimport React from 'react';[m
 import {shallow} from 'enzyme';[m
 [m
 import Footer from './Footer';[m
[36m@@ -22,21 +22,23 @@[m [mjest.mock('config', () => {[m
 [m
 it('includes the version number retrieved from back-end', async () => {[m
   const version = 'alpha';[m
[31m-  (getOptimizeVersion as jest.Mock).mockReturnValue(version);[m
[32m+[m[32m  getOptimizeVersion.mockReturnValue(version);[m
 [m
   const node = shallow(<Footer />);[m
 [m
[31m-  runLastEffect();[m
   await flushPromises();[m
 [m
   expect(node.find('.colophon')).toIncludeText(version);[m
 });[m
 [m
 it('should not show status in cloud environment', async () => {[m
[31m-  (getOptimizeProfile as jest.Mock).mockReturnValueOnce('cloud');[m
[32m+[m[32m  getOptimizeProfile.mockReturnValueOnce('cloud');[m
   const node = shallow(<Footer />);[m
 [m
[31m-  runLastEffect();[m
[32m+[m[32m  node.setState({[m
[32m+[m[32m    loaded: true,[m
[32m+[m[32m  });[m
[32m+[m
   await flushPromises();[m
 [m
   expect(node.find(ConnectionStatus)).not.toExist();[m
[1mdiff --git a/client/src/components/Footer/Footer.tsx b/client/src/components/Footer/Footer.tsx[m
[1mdeleted file mode 100644[m
[1mindex d17908be9a..0000000000[m
[1m--- a/client/src/components/Footer/Footer.tsx[m
[1m+++ /dev/null[m
[36m@@ -1,50 +0,0 @@[m
[31m-/*[m
[31m- * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH[m
[31m- * under one or more contributor license agreements. Licensed under a proprietary license.[m
[31m- * See the License.txt file for more information. You may not use this file[m
[31m- * except in compliance with the proprietary license.[m
[31m- */[m
[31m-[m
[31m-import {useState, useEffect} from 'react';[m
[31m-[m
[31m-import {getOptimizeVersion, getOptimizeProfile} from 'config';[m
[31m-import {t} from 'translation';[m
[31m-import {Tooltip} from 'components';[m
[31m-[m
[31m-import ConnectionStatus from './ConnectionStatus';[m
[31m-[m
[31m-import './Footer.scss';[m
[31m-[m
[31m-export default function Footer() {[m
[31m-  const [optimizeVersion, setOptimizeVersion] = useState<string | null>(null);[m
[31m-  const [optimizeProfile, setOptimizeProfile] = useState<string | null>(null);[m
[31m-[m
[31m-  useEffect(() => {[m
[31m-    async function fetchData() {[m
[31m-      const version = await getOptimizeVersion();[m
[31m-      const profile = await getOptimizeProfile();[m
[31m-      setOptimizeVersion(version);[m
[31m-      setOptimizeProfile(profile);[m
[31m-    }[m
[31m-[m
[31m-    fetchData();[m
[31m-  }, []);[m
[31m-[m
[31m-  const timezoneInfo =[m
[31m-    t('footer.timezone') + ' ' + Intl.DateTimeFormat().resolvedOptions().timeZone;[m
[31m-[m
[31m-  return ([m
[31m-    <footer className="Footer">[m
[31m-      <div className="content">[m
[31m-        {optimizeProfile === 'platform' && <ConnectionStatus />}[m
[31m-        <Tooltip content={timezoneInfo} overflowOnly>[m
[31m-          <div className="timezone">{timezoneInfo}</div>[m
[31m-        </Tooltip>[m
[31m-        <div className="colophon">[m
[31m-          © Camunda Services GmbH {new Date().getFullYear()}, {t('footer.rightsReserved')} |{' '}[m
[31m-          {optimizeVersion}[m
[31m-        </div>[m
[31m-      </div>[m
[31m-    </footer>[m
[31m-  );[m
[31m-}[m
[1mdiff --git a/client/src/components/Footer/index.tsx b/client/src/components/Footer/index.js[m
[1msimilarity index 100%[m
[1mrename from client/src/components/Footer/index.tsx[m
[1mrename to client/src/components/Footer/index.js[m
[1mdiff --git a/client/src/components/Header/Header.js b/client/src/components/Header/Header.js[m
[1mindex cdfbc3fa5a..355c7078ce 100644[m
[1m--- a/client/src/components/Header/Header.js[m
[1m+++ b/client/src/components/Header/Header.js[m
[36m@@ -98,13 +98,19 @@[m [mexport function Header({user, mightFail, docsLink, noActions}) {[m
   }[m
 [m
   return ([m
[31m-    <>[m
[32m+[m[32m    <NavbarWrapper[m
[32m+[m[32m      isCloud={isCloud}[m
[32m+[m[32m      notificationsUrl={notificationsUrl}[m
[32m+[m[32m      userToken={userToken}[m
[32m+[m[32m      getNewUserToken={getUserToken}[m
[32m+[m[32m      activeOrganizationId={organizationId}[m
[32m+[m[32m    >[m
       <C3Navigation {...props} />[m
       <WhatsNewModal open={whatsNewOpen} onClose={() => setWhatsNewOpen(false)} />[m
       {telemetrySettingsOpen && ([m
         <TelemetrySettings onClose={() => setTelemetrySettingsOpen(false)} />[m
       )}[m
[31m-    </>[m
[32m+[m[32m    </NavbarWrapper>[m
   );[m
 }[m
 [m
[36m@@ -158,8 +164,8 @@[m [mfunction createNavBarProps(showEventBased, enterpriseMode) {[m
       routeProps: {[m
         as: NavItem,[m
         name: t('navigation.dashboards'),[m
[31m-        linksTo: '/processes',[m
[31m-        active: ['/processes/', '/processes/*'],[m
[32m+[m[32m        linksTo: '/',[m
[32m+[m[32m        active: ['/', '/processes/', '/processes/*'],[m
         breadcrumbsEntities: [{entity: 'report'}],[m
       },[m
     },[m
[36m@@ -169,8 +175,8 @@[m [mfunction createNavBarProps(showEventBased, enterpriseMode) {[m
       routeProps: {[m
         as: NavItem,[m
         name: t('navigation.collections'),[m
[31m-        linksTo: '/',[m
[31m-        active: ['/', '/report/*', '/dashboard/*', '/collection/*'],[m
[32m+[m[32m        linksTo: '/collections',[m
[32m+[m[32m        active: ['/collections/', '/report/*', '/dashboard/*', '/collection/*'],[m
         breadcrumbsEntities: [{entity: 'collection'}, {entity: 'dashboard'}, {entity: 'report'}],[m
       },[m
     },[m
[36m@@ -285,21 +291,19 @@[m [mfunction createInfoSideBarProps(setWhatsNewOpen, docsLink, enterpriseMode) {[m
   };[m
 }[m
 [m
[31m-function getNavigationConfiguration([m
[31m-  isCloud,[m
[31m-  activeOrganizationId,[m
[31m-  userToken,[m
[31m-  getNewUserToken,[m
[31m-  notificationsUrl[m
[31m-) {[m
[31m-  return isCloud && userToken && notificationsUrl[m
[31m-    ? {[m
[31m-        endpoints: {notifications: notificationsUrl},[m
[31m-        userToken,[m
[31m-        getNewUserToken,[m
[31m-        activeOrganizationId,[m
[31m-      }[m
[31m-    : {};[m
[31m-}[m
[31m-[m
 export default withUser(withDocs(withErrorHandling(Header)));[m
[32m+[m
[32m+[m[32mfunction NavbarWrapper({isCloud, userToken, notificationsUrl, organizationId, children}) {[m
[32m+[m[32m  return isCloud && userToken && notificationsUrl ? ([m
[32m+[m[32m    <C3UserConfigurationProvider[m
[32m+[m[32m      endpoints={{notifications: notificationsUrl}}[m
[32m+[m[32m      userToken={userToken}[m
[32m+[m[32m      getNewUserToken={getUserToken}[m
[32m+[m[32m      activeOrganizationId={organizationId}[m
[32m+[m[32m    >[m
[32m+[m[32m      {children}[m
[32m+[m[32m    </C3UserConfigurationProvider>[m
[32m+[m[32m  ) : ([m
[32m+[m[32m    <>{children}</>[m
[32m+[m[32m  );[m
[32m+[m[32m}[m
[1mdiff --git a/client/src/components/Header/Header.test.js b/client/src/components/Header/Header.test.js[m
[1mindex 27fb0f12c0..d447a3a31d 100644[m
[1m--- a/client/src/components/Header/Header.test.js[m
[1m+++ b/client/src/components/Header/Header.test.js[m
[36m@@ -178,8 +178,9 @@[m [mit('should display the notifications component in cloud mode', async () => {[m
   await runLastEffect();[m
   await node.update();[m
 [m
[31m-  expect(node.find('C3UserConfigurationProvider').props()).toEqual({[m
[31m-    endpoints: {notifications: 'notificationsUrl'},[m
[32m+[m[32m  expect(node.find('NavbarWrapper').props()).toEqual({[m
[32m+[m[32m    isCloud: true,[m
[32m+[m[32m    notificationsUrl: 'notificationsUrl',[m
     activeOrganizationId: 'orgId',[m
     userToken: 'userToken',[m
     getNewUserToken: expect.any(Function),[m
[1mdiff --git a/client/src/components/Home/AlertList.js b/client/src/components/Home/AlertList.js[m
[1mindex 774933008a..dc87cec9ce 100644[m
[1m--- a/client/src/components/Home/AlertList.js[m
[1m+++ b/client/src/components/Home/AlertList.js[m
[36m@@ -5,11 +5,10 @@[m
  * except in compliance with the proprietary license.[m
  */[m
 [m
[31m-import {Component} from 'react';[m
[31m-import {Button} from '@carbon/react';[m
[32m+[m[32mimport React from 'react';[m
 [m
 import {t} from 'translation';[m
[31m-import {EntityList, Deleter, BulkDeleter, AlertModal} from 'components';[m
[32m+[m[32mimport {Button, EntityList, Deleter, BulkDeleter, AlertModal} from 'components';[m
 import {showError} from 'notifications';[m
 import {[m
   loadAlerts,[m
[36m@@ -32,7 +31,7 @@[m [mimport './AlertList.scss';[m
 const {duration, frequency} = formatters;[m
 [m
 export default withErrorHandling([m
[31m-  class AlertList extends Component {[m
[32m+[m[32m  class AlertList extends React.Component {[m
     state = {[m
       deleting: null,[m
       editing: null,[m
[36m@@ -132,12 +131,7 @@[m [mexport default withErrorHandling([m
             name={t('alert.label-plural')}[m
             action={(bulkActive) =>[m
               !readOnly && ([m
[31m-                <Button[m
[31m-                  className="createAlert"[m
[31m-                  size="md"[m
[31m-                  kind={bulkActive ? 'tertiary' : 'primary'}[m
[31m-                  onClick={this.openAddAlertModal}[m
[31m-                >[m
[32m+[m[32m                <Button main primary={!bulkActive} onClick={this.openAddAlertModal}>[m
                   {t('alert.createNew')}[m
                 </Button>[m
               )[m
[1mdiff --git a/client/src/components/Home/Collection.js b/client/src/components/Home/Collection.js[m
[1mindex 291a0af408..51cd6202ec 100644[m
[1m--- a/client/src/components/Home/Collection.js[m
[1m+++ b/client/src/components/Home/Collection.js[m
[36m@@ -5,24 +5,25 @@[m
  * except in compliance with the proprietary license.[m
  */[m
 [m
[31m-import {Component, createRef} from 'react';[m
[31m-import {Redirect} from 'react-router-dom';[m
[32m+[m[32mimport React from 'react';[m
[32m+[m[32mimport {Link, Redirect} from 'react-router-dom';[m
[32m+[m[32mimport classnames from 'classnames';[m
 import {parseISO} from 'date-fns';[m
[31m-import {OverflowMenu, OverflowMenuItem, Stack, Tag} from '@carbon/react';[m
[31m-import {Folder} from '@carbon/icons-react';[m
 [m
 import {format} from 'dates';[m
 import {t} from 'translation';[m
 import {withErrorHandling} from 'HOC';[m
 import {[m
[32m+[m[32m  Icon,[m
[32m+[m[32m  Dropdown,[m
   EntityList,[m
   Deleter,[m
   BulkDeleter,[m
   Tooltip,[m
   ReportTemplateModal,[m
   DashboardTemplateModal,[m
[32m+[m[32m  Badge,[m
   PageTitle,[m
[31m-  Tabs,[m
 } from 'components';[m
 import {formatters, loadEntity, updateEntity, checkDeleteConflict} from 'services';[m
 import {showError, addNotification} from 'notifications';[m
[36m@@ -42,7 +43,7 @@[m [mimport {formatLink, formatType, formatSubEntities, formatRole} from './formatter[m
 [m
 import './Collection.scss';[m
 [m
[31m-export class Collection extends Component {[m
[32m+[m[32mexport class Collection extends React.Component {[m
   state = {[m
     collection: null,[m
     editingCollection: false,[m
[36m@@ -57,7 +58,7 @@[m [mexport class Collection extends Component {[m
     optimizeProfile: null,[m
   };[m
 [m
[31m-  fileInput = createRef();[m
[32m+[m[32m  fileInput = React.createRef();[m
 [m
   async componentDidMount() {[m
     this.loadCollection();[m
[36m@@ -134,7 +135,10 @@[m [mexport class Collection extends Component {[m
 [m
     const {match} = this.props;[m
 [m
[31m-    const currentTab = match.params.viewMode || 'home';[m
[32m+[m[32m    const homeTab = match.params.viewMode === undefined;[m
[32m+[m[32m    const userTab = match.params.viewMode === 'users';[m
[32m+[m[32m    const alertTab = match.params.viewMode === 'alerts';[m
[32m+[m[32m    const sourcesTab = match.params.viewMode === 'sources';[m
 [m
     if (redirect) {[m
       return <Redirect to={redirect} />;[m
[36m@@ -146,207 +150,187 @@[m [mexport class Collection extends Component {[m
     return ([m
       <div className="Collection">[m
         <PageTitle pageName={t('common.collection.label')} resourceName={collection?.name} />[m
[31m-        <Stack gap={6} className="header" orientation="horizontal">[m
[31m-          <Folder size="24" />[m
[32m+[m[32m        <div className="header">[m
[32m+[m[32m          <Icon size="24" type="collection" />[m
           {collection && ([m
             <>[m
               <Tooltip content={collection.name} position="bottom" overflowOnly>[m
                 <span className="text">{collection.name}</span>[m
               </Tooltip>[m
               {collection.currentUserRole === 'manager' && ([m
[31m-                <OverflowMenu>[m
[31m-                  <OverflowMenuItem[m
[31m-                    itemText={t('common.edit')}[m
[31m-                    onClick={this.startEditingCollection}[m
[31m-                  />[m
[31m-                  <OverflowMenuItem[m
[31m-                    itemText={t('common.copy')}[m
[31m-                    onClick={() => this.setState({copying: collectionEntity})}[m
[31m-                  />[m
[31m-                  <OverflowMenuItem[m
[31m-                    isDelete[m
[31m-                    itemText={t('common.delete')}[m
[31m-                    onClick={() => this.setState({deleting: collectionEntity})}[m
[31m-                  />[m
[31m-                </OverflowMenu>[m
[32m+[m[32m                <Dropdown icon label={<Icon type="context-menu" size="24px" />}>[m
[32m+[m[32m                  <Dropdown.Option onClick={this.startEditingCollection}>[m
[32m+[m[32m                    <Icon type="edit" />[m
[32m+[m[32m                    {t('common.edit')}[m
[32m+[m[32m                  </Dropdown.Option>[m
[32m+[m[32m                  <Dropdown.Option onClick={() => this.setState({copying: collectionEntity})}>[m
[32m+[m[32m                    <Icon type="copy-document" />[m
[32m+[m[32m                    {t('common.copy')}[m
[32m+[m[32m                  </Dropdown.Option>[m
[32m+[m[32m                  <Dropdown.Option onClick={() => this.setState({deleting: collectionEntity})}>[m
[32m+[m[32m                    <Icon type="delete" />[m
[32m+[m[32m                    {t('common.delete')}[m
[32m+[m[32m                  </Dropdown.Option>[m
[32m+[m[32m                </Dropdown>[m
               )}[m
[31m-              <Tag className="role" type="blue">[m
[31m-                {formatRole(collection.currentUserRole)}[m
[31m-              </Tag>[m
[32m+[m[32m              <Badge className="role">{formatRole(collection.currentUserRole)}</Badge>[m
             </>[m
           )}[m
[31m-        </Stack>[m
[32m+[m[32m          <ul className="navigation">[m
[32m+[m[32m            <li className={classnames({active: homeTab})}>[m
[32m+[m[32m              <Link to=".">{t('home.collectionTitleWithAmpersand')}</Link>[m
[32m+[m[32m            </li>[m
[32m+[m[32m            {(optimizeProfile === 'cloud' || optimizeProfile === 'platform') && ([m
[32m+[m[32m              <>[m
[32m+[m[32m                <li className={classnames({active: alertTab})}>[m
[32m+[m[32m                  <Link to="alerts">{t('alert.label-plural')}</Link>[m
[32m+[m[32m                </li>[m
[32m+[m[32m                <li className={classnames({active: userTab})}>[m
[32m+[m[32m                  <Link to="users">{t('common.user.label-plural')}</Link>[m
[32m+[m[32m                </li>[m
[32m+[m[32m              </>[m
[32m+[m[32m            )}[m
[32m+[m[32m            <li className={classnames({active: sourcesTab})}>[m
[32m+[m[32m              <Link to="sources">{t('home.sources.title')}</Link>[m
[32m+[m[32m            </li>[m
[32m+[m[32m          </ul>[m
[32m+[m[32m        </div>[m
         <div className="content">[m
[31m-          <Tabs value={currentTab}>[m
[31m-            <Tabs.Tab[m
[31m-              key="home"[m
[31m-              value="home"[m
[31m-              title={t('home.collectionTitleWithAmpersand')}[m
[31m-              onClick={() => this.props.history.push('.')}[m
[31m-            >[m
[31m-              <EntityList[m
[31m-                name={t('home.collectionTitle')}[m
[31m-                action={(bulkActive) =>[m
[31m-                  hasEditRights && ([m
[31m-                    <CreateNewButton[m
[31m-                      kind={bulkActive ? 'tertiary' : 'primary'}[m
[31m-                      collection={collection.id}[m
[31m-                      createProcessReport={() => this.setState({creatingProcessReport: true})}[m
[31m-                      createDashboard={() => this.setState({creatingDashboard: true})}[m
[31m-                      importEntity={() => this.fileInput.current.click()}[m
[31m-                    />[m
[31m-                  )[m
[31m-                }[m
[31m-                bulkActions={[m
[31m-                  hasEditRights && [[m
[31m-                    <BulkDeleter[m
[31m-                      type="delete"[m
[31m-                      deleteEntities={async (selected) =>[m
[31m-                        await removeEntities(selected, collection)[m
[31m-                      }[m
[31m-                      checkConflicts={async (selected) =>[m
[31m-                        await checkConflicts(selected, collection)[m
[31m-                      }[m
[31m-                      conflictMessage={t('common.deleter.affectedMessage.bulk.report')}[m
[31m-                    />,[m
[31m-                  ][m
[31m-                }[m
[31m-                empty={[m
[31m-                  <>[m
[31m-                    {t('home.empty')}[m
[31m-                    {!hasEditRights && ([m
[31m-                      <>[m
[31m-                        <br />[m
[31m-                        {t('home.contactManager')}[m
[31m-                      </>[m
[31m-                    )}[m
[31m-                  </>[m
[31m-                }[m
[31m-                isLoading={isLoading}[m
[31m-                sorting={sorting}[m
[31m-                onChange={this.loadEntities}[m
[31m-                columns={[[m
[31m-                  {name: 'Type', key: 'entityType', defaultOrder: 'asc', hidden: true},[m
[31m-                  {name: t('common.name'), key: 'name', defaultOrder: 'asc'},[m
[31m-                  {name: t('common.description'), key: 'description', defaultOrder: 'asc'},[m
[31m-                  t('home.contents'),[m
[31m-                  {name: 'Modified by', key: 'lastModifier', defaultOrder: 'asc'},[m
[31m-                  {name: t('common.entity.modified'), key: 'lastModified', defaultOrder: 'desc'},[m
[31m-                ]}[m
[31m-                data={[m
[31m-                  entities &&[m
[31m-                  entities.map((entity) => {[m
[31m-                    const {[m
[31m-                      id,[m
[31m-                      entityType,[m
[31m-                      currentUserRole,[m
[31m-                      lastModified,[m
[31m-                      lastModifier,[m
[31m-                      name,[m
[31m-                      description,[m
[31m-                      data,[m
[31m-                      reportType,[m
[31m-                      combined,[m
[31m-                    } = entity;[m
[32m+[m[32m          {homeTab && ([m
[32m+[m[32m            <EntityList[m
[32m+[m[32m              name={t('home.collectionTitle')}[m
[32m+[m[32m              action={(bulkActive) =>[m
[32m+[m[32m                hasEditRights && ([m
[32m+[m[32m                  <CreateNewButton[m
[32m+[m[32m                    primary={!bulkActive}[m
[32m+[m[32m                    collection={collection.id}[m
[32m+[m[32m                    createProcessReport={() => this.setState({creatingProcessReport: true})}[m
[32m+[m[32m                    createDashboard={() => this.setState({creatingDashboard: true})}[m
[32m+[m[32m                    importEntity={() => this.fileInput.current.click()}[m
[32m+[m[32m                  />[m
[32m+[m[32m                )[m
[32m+[m[32m              }[m
[32m+[m[32m              bulkActions={[m
[32m+[m[32m                hasEditRights && [[m
[32m+[m[32m                  <BulkDeleter[m
[32m+[m[32m                    type="delete"[m
[32m+[m[32m                    deleteEntities={async (selected) => await removeEntities(selected, collection)}[m
[32m+[m[32m                    checkConflicts={async (selected) => await checkConflicts(selected, collection)}[m
[32m+[m[32m                    conflictMessage={t('common.deleter.affectedMessage.bulk.report')}[m
[32m+[m[32m                  />,[m
[32m+[m[32m                ][m
[32m+[m[32m              }[m
[32m+[m[32m              empty={[m
[32m+[m[32m                <>[m
[32m+[m[32m                  {t('home.empty')}[m
[32m+[m[32m                  {!hasEditRights && ([m
[32m+[m[32m                    <>[m
[32m+[m[32m                      <br />[m
[32m+[m[32m                      {t('home.contactManager')}[m
[32m+[m[32m                    </>[m
[32m+[m[32m                  )}[m
[32m+[m[32m                </>[m
[32m+[m[32m              }[m
[32m+[m[32m              isLoading={isLoading}[m
[32m+[m[32m              sorting={sorting}[m
[32m+[m[32m              onChange={this.loadEntities}[m
[32m+[m[32m              columns={[[m
[32m+[m[32m                {name: 'Type', key: 'entityType', defaultOrder: 'asc', hidden: true},[m
[32m+[m[32m                {name: t('common.name'), key: 'name', defaultOrder: 'asc'},[m
[32m+[m[32m                {name: t('common.description'), key: 'description', defaultOrder: 'asc'},[m
[32m+[m[32m                t('home.contents'),[m
[32m+[m[32m                {name: 'Modified by', key: 'lastModifier', defaultOrder: 'asc'},[m
[32m+[m[32m                {name: t('common.entity.modified'), key: 'lastModified', defaultOrder: 'desc'},[m
[32m+[m[32m              ]}[m
[32m+[m[32m              data={[m
[32m+[m[32m                entities &&[m
[32m+[m[32m                entities.map((entity) => {[m
[32m+[m[32m                  const {[m
[32m+[m[32m                    id,[m
[32m+[m[32m                    entityType,[m
[32m+[m[32m                    currentUserRole,[m
[32m+[m[32m                    lastModified,[m
[32m+[m[32m                    lastModifier,[m
[32m+[m[32m                    name,[m
[32m+[m[32m                    description,[m
[32m+[m[32m                    data,[m
[32m+[m[32m                    reportType,[m
[32m+[m[32m                    combined,[m
[32m+[m[32m                  } = entity;[m
 [m
[31m-                    const actions = [[m
[31m-                      {[m
[31m-                        icon: 'copy-document',[m
[31m-                        text: t('common.copy'),[m
[31m-                        action: () => this.setState({copying: entity}),[m
[31m-                      },[m
[31m-                    ];[m
[32m+[m[32m                  const actions = [[m
[32m+[m[32m                    {[m
[32m+[m[32m                      icon: 'copy-document',[m
[32m+[m[32m                      text: t('common.copy'),[m
[32m+[m[32m                      action: () => this.setState({copying: entity}),[m
[32m+[m[32m                    },[m
[32m+[m[32m                  ];[m
 [m
[31m-                    if (currentUserRole === 'editor') {[m
[31m-                      actions.unshift({[m
[31m-                        icon: 'edit',[m
[31m-                        text: t('common.edit'),[m
[31m-                        action: () =>[m
[31m-                          this.setState({redirect: formatLink(id, entityType) + 'edit'}),[m
[31m-                      });[m
[32m+[m[32m                  if (currentUserRole === 'editor') {[m
[32m+[m[32m                    actions.unshift({[m
[32m+[m[32m                      icon: 'edit',[m
[32m+[m[32m                      text: t('common.edit'),[m
[32m+[m[32m                      action: () => this.setState({redirect: formatLink(id, entityType) + 'edit'}),[m
[32m+[m[32m                    });[m
 [m
[31m-                      actions.push([m
[31m-                        {[m
[31m-                          icon: 'delete',[m
[31m-                          text: t('common.delete'),[m
[31m-                          action: () => this.setState({deleting: entity}),[m
[32m+[m[32m                    actions.push([m
[32m+[m[32m                      {[m
[32m+[m[32m                        icon: 'delete',[m
[32m+[m[32m                        text: t('common.delete'),[m
[32m+[m[32m                        action: () => this.setState({deleting: entity}),[m
[32m+[m[32m                      },[m
[32m+[m[32m                      {[m
[32m+[m[32m                        icon: 'save',[m
[32m+[m[32m                        text: t('common.export'),[m
[32m+[m[32m                        action: () => {[m
[32m+[m[32m                          window.location.href = `api/export/${entityType}/json/${[m
[32m+[m[32m                            entity.id[m
[32m+[m[32m                          }/${encodeURIComponent(formatters.formatFileName(entity.name))}.json`;[m
                         },[m
[31m-                        {[m
[31m-                          icon: 'save',[m
[31m-                          text: t('common.export'),[m
[31m-                          action: () => {[m
[31m-                            window.location.href = `api/export/${entityType}/json/${[m
[31m-                              entity.id[m
[31m-                            }/${encodeURIComponent(formatters.formatFileName(entity.name))}.json`;[m
[31m-                          },[m
[31m-                        }[m
[31m-                      );[m
[31m-                    }[m
[32m+[m[32m                      }[m
[32m+[m[32m                    );[m
[32m+[m[32m                  }[m
 [m
[31m-                    return {[m
[31m-                      id,[m
[31m-                      entityType,[m
[31m-                      className: entityType,[m
[31m-                      link: formatLink(id, entityType),[m
[31m-                      icon: entityType,[m
[31m-                      type: formatType(entityType, reportType, combined),[m
[31m-                      name,[m
[31m-                      meta: [[m
[31m-                        description,[m
[31m-                        formatSubEntities(data.subEntityCounts),[m
[31m-                        lastModifier,[m
[31m-                        format(parseISO(lastModified), 'PP'),[m
[31m-                      ],[m
[31m-                      actions,[m
[31m-                    };[m
[31m-                  })[m
[31m-                }[m
[31m-              />[m
[31m-            </Tabs.Tab>[m
[31m-            {(optimizeProfile === 'cloud' || optimizeProfile === 'platform') && collection && ([m
[31m-              <>[m
[31m-                <Tabs.Tab[m
[31m-                  key="alerts"[m
[31m-                  value="alerts"[m
[31m-                  title={t('alert.label-plural')}[m
[31m-                  onClick={() => this.props.history.push('alerts')}[m
[31m-                >[m
[31m-                  <AlertList[m
[31m-                    readOnly={collection.currentUserRole === 'viewer'}[m
[31m-                    collection={collection.id}[m
[31m-                  />[m
[31m-                </Tabs.Tab>[m
[31m-                <Tabs.Tab[m
[31m-                  key="users"[m
[31m-                  value="users"[m
[31m-                  title={t('common.user.label-plural')}[m
[31m-                  onClick={() => this.props.history.push('users')}[m
[31m-                >[m
[31m-                  <UserList[m
[31m-                    readOnly={collection.currentUserRole !== 'manager'}[m
[31m-                    onChange={this.loadCollection}[m
[31m-                    collection={collection.id}[m
[31m-                  />[m
[31m-                </Tabs.Tab>[m
[31m-              </>[m
[31m-            )}[m
[31m-            {collection && ([m
[31m-              <Tabs.Tab[m
[31m-                key="sources"[m
[31m-                value="sources"[m
[31m-                title={t('home.sources.title')}[m
[31m-                onClick={() => this.props.history.push('sources')}[m
[31m-              >[m
[31m-                {collection && ([m
[31m-                  <SourcesList[m
[31m-                    onChange={this.loadEntities}[m
[31m-                    readOnly={collection.currentUserRole !== 'manager'}[m
[31m-                    collection={collection.id}[m
[31m-                  />[m
[31m-                )}[m
[31m-              </Tabs.Tab>[m
[31m-            )}[m
[31m-          </Tabs>[m
[32m+[m[32m                  return {[m
[32m+[m[32m                    id,[m
[32m+[m[32m                    entityType,[m
[32m+[m[32m                    className: entityType,[m
[32m+[m[32m                    link: formatLink(id, entityType),[m
[32m+[m[32m                    icon: entityType,[m
[32m+[m[32m                    type: formatType(entityType, reportType, combined),[m
[32m+[m[32m                    name,[m
[32m+[m[32m                    meta: [[m
[32m+[m[32m                      description,[m
[32m+[m[32m                      formatSubEntities(data.subEntityCounts),[m
[32m+[m[32m                      lastModifier,[m
[32m+[m[32m                      format(parseISO(lastModified), 'PP'),[m
[32m+[m[32m                    ],[m
[32m+[m[32m                    actions,[m
[32m+[m[32m                  };[m
[32m+[m[32m                })[m
[32m+[m[32m              }[m
[32m+[m[32m            />[m
[32m+[m[32m          )}[m
[32m+[m[32m          {alertTab && collection && ([m
[32m+[m[32m            <AlertList[m
[32m+[m[32m              readOnly={collection.currentUserRole === 'viewer'}[m
[32m+[m[32m              collection={collection.id}[m
[32m+[m[32m            />[m
[32m+[m[32m          )}[m
[32m+[m[32m          {userTab && collection && ([m
[32m+[m[32m            <UserList[m
[32m+[m[32m              readOnly={collection.currentUserRole !== 'manager'}[m
[32m+[m[32m              onChange={this.loadCollection}[m
[32m+[m[32m              collection={collection.id}[m
[32m+[m[32m            />[m
[32m+[m[32m          )}[m
[32m+[m[32m          {sourcesTab && collection && ([m
[32m+[m[32m            <SourcesList[m
[32m+[m[32m              onChange={this.loadEntities}[m
[32m+[m[32m              readOnly={collection.currentUserRole !== 'manager'}[m
[32m+[m[32m              collection={collection.id}[m
[32m+[m[32m            />[m
[32m+[m[32m          )}[m
         </div>[m
         {editingCollection && ([m
           <CollectionModal[m
[1mdiff --git a/client/src/components/Home/Collection.scss b/client/src/components/Home/Collection.scss[m
[1mindex 5bbdbdfd20..06a2049f73 100644[m
[1m--- a/client/src/components/Home/Collection.scss[m
[1m+++ b/client/src/components/Home/Collection.scss[m
[36m@@ -4,38 +4,122 @@[m
   flex-direction: column;[m
 [m
   > .header {[m
[31m-    padding: 30px 65px;[m
[31m-    align-items: center;[m
[31m-    margin-right: auto;[m
[32m+[m[32m    height: 135px;[m
[32m+[m[32m    border-bottom: 1px solid var(--silver-darken-87);[m
[32m+[m[32m    position: relative;[m
[32m+[m[32m    padding: 30px 63px;[m
[32m+[m
[32m+[m[32m    > .Icon {[m
[32m+[m[32m      vertical-align: top;[m
[32m+[m[32m      width: 24px;[m
[32m+[m[32m      height: 24px;[m
[32m+[m[32m      font-size: 24px;[m
[32m+[m[32m      position: relative;[m
[32m+[m[32m      margin-top: 8px;[m
[32m+[m[32m      margin-right: 10px;[m
[32m+[m[32m      color: var(--grey-darken-23);[m
[32m+[m
[32m+[m[32m      svg {[m
[32m+[m[32m        position: absolute;[m
[32m+[m[32m        top: 50%;[m
[32m+[m[32m        transform: translateY(-50%);[m
[32m+[m[32m        width: 100%;[m
[32m+[m[32m        height: 100%;[m
[32m+[m[32m      }[m
[32m+[m[32m    }[m
 [m
     .text {[m
       font-size: 17px;[m
       line-height: 22px;[m
       color: var(--grey-darken-33);[m
 [m
[32m+[m[32m      margin-top: 9px;[m
       white-space: nowrap;[m
       overflow: hidden;[m
       text-overflow: ellipsis;[m
[32m+[m[32m      display: inline-block;[m
[32m+[m[32m      max-width: calc(100% - 200px);[m
[32m+[m[32m      vertical-align: text-top;[m
     }[m
[31m-  }[m
 [m
[31m-  > .content {[m
[31m-    display: flex;[m
[31m-    flex-direction: column;[m
[31m-    overflow: auto;[m
[31m-    flex: 1;[m
[32m+[m[32m    .role {[m
[32m+[m[32m      display: inline-block;[m
[32m+[m[32m      margin-top: 9px;[m
[32m+[m[32m      vertical-align: text-top;[m
[32m+[m[32m    }[m
[32m+[m
[32m+[m[32m    .Dropdown {[m
[32m+[m[32m      margin-top: 4px;[m
[32m+[m[32m      margin-left: 4px;[m
[32m+[m[32m      width: 32px;[m
[32m+[m[32m      height: 32px;[m
[32m+[m[32m      vertical-align: top;[m
[32m+[m
[32m+[m[32m      .menu {[m
[32m+[m[32m        top: 29px;[m
[32m+[m[32m        margin: 0;[m
[32m+[m[32m      }[m
[32m+[m
[32m+[m[32m      .DropdownOption {[m
[32m+[m[32m        padding-left: 10px;[m
[32m+[m
[32m+[m[32m        .Icon {[m
[32m+[m[32m          width: 14px;[m
[32m+[m[32m          height: 14px;[m
[32m+[m[32m          margin-right: 8px;[m
[32m+[m[32m        }[m
[32m+[m[32m      }[m
[32m+[m[32m    }[m
[32m+[m
[32m+[m[32m    .downIcon {[m
[32m+[m[32m      display: none;[m
[32m+[m[32m    }[m
 [m
[31m-    .cds--tabs {[m
[31m-      padding-left: calc(65px - var(--cds-layout-density-padding-inline-local));[m
[32m+[m[32m    .Icon {[m
[32m+[m[32m      width: 24px;[m
[32m+[m[32m      height: 24px;[m
     }[m
 [m
[31m-    .cds--tab-content {[m
[31m-      flex: 1;[m
[31m-      overflow: auto;[m
[32m+[m[32m    .navigation {[m
[32m+[m[32m      display: inline-block;[m
[32m+[m[32m      position: absolute;[m
[32m+[m[32m      bottom: 3px;[m
[32m+[m[32m      left: 56px;[m
[32m+[m[32m      margin: 0;[m
       padding: 0;[m
[32m+[m[32m      list-style-type: none;[m
[32m+[m[32m      font-size: 15px;[m
[32m+[m
[32m+[m[32m      li {[m
[32m+[m[32m        display: inline-block;[m
[32m+[m[32m        margin-right: 20px;[m
[32m+[m[32m        color: var(--grey-darken-36);[m
[32m+[m
[32m+[m[32m        a {[m
[32m+[m[32m          padding: 4px 8px;[m
[32m+[m[32m          display: inline-block;[m
[32m+[m[32m          color: inherit;[m
[32m+[m[32m          text-decoration: inherit;[m
[32m+[m[32m        }[m
[32m+[m
[32m+[m[32m        &:hover {[m
[32m+[m[32m          box-shadow: 0 3px 0 var(--silver-darken-80);[m
[32m+[m[32m        }[m
[32m+[m
[32m+[m[32m        &.active {[m
[32m+[m[32m          font-weight: 500;[m
[32m+[m[32m          color: var(--grey-darken-23);[m
[32m+[m[32m          box-shadow: 0 3px 0 var(--grey-darken-23);[m
[32m+[m[32m        }[m
[32m+[m[32m      }[m
     }[m
   }[m
 [m
[32m+[m[32m  > .content {[m
[32m+[m[32m    overflow: auto;[m
[32m+[m[32m    flex: 1;[m
[32m+[m[32m  }[m
[32m+[m
   > input.hidden {[m
     display: none;[m
   }[m
[1mdiff --git a/client/src/components/Home/Collection.test.js b/client/src/components/Home/Collection.test.js[m
[1mindex c873af5fa2..0d6d11a11c 100644[m
[1m--- a/client/src/components/Home/Collection.test.js[m
[1m+++ b/client/src/components/Home/Collection.test.js[m
[36m@@ -8,7 +8,7 @@[m
 import React, {runAllEffects} from 'react';[m
 import {shallow} from 'enzyme';[m
 [m
[31m-import {EntityList, Deleter, ReportTemplateModal} from 'components';[m
[32m+[m[32mimport {Dropdown, EntityList, Deleter, ReportTemplateModal, Badge} from 'components';[m
 import {refreshBreadcrumbs} from 'components/navigation';[m
 import {loadEntity, updateEntity} from 'services';[m
 import {getOptimizeProfile} from 'config';[m
[36m@@ -118,7 +118,7 @@[m [mit('should pass Entity to Deleter', () => {[m
 it('should show an edit modal when clicking the edit button', () => {[m
   const node = shallow(<Collection {...props} />);[m
 [m
[31m-  node.find('ForwardRef(OverflowMenuItem)').at(0).simulate('click');[m
[32m+[m[32m  node.find(Dropdown.Option).at(0).simulate('click');[m
 [m
   expect(node.find(CollectionModal)).toExist();[m
 });[m
[36m@@ -161,14 +161,14 @@[m [mit('should render content depending on the selected tab', async () => {[m
     <Collection {...props} match={{params: {id: 'aCollectionId', viewMode: 'users'}}} />[m
   );[m
 [m
[31m-  expect(node.find('Tabs').prop('value')).toBe('users');[m
[32m+[m[32m  expect(node.find('.navigation .active').text()).toBe('Users');[m
   expect(node.find(UserList).prop('collection')).toBe('aCollectionId');[m
 });[m
 [m
 it('should show the copy modal when clicking the copy button', () => {[m
   const node = shallow(<Collection {...props} />);[m
 [m
[31m-  node.find('ForwardRef(OverflowMenuItem)').at(1).simulate('click');[m
[32m+[m[32m  node.find(Dropdown.Option).at(1).simulate('click');[m
 [m
   expect(node.find(Copier)).toExist();[m
 });[m
[36m@@ -273,7 +273,7 @@[m [mit('should display badge with user role Manager', () => {[m
 [m
   const node = shallow(<Collection {...props} />);[m
 [m
[31m-  expect(node.find('Tag').children().text()).toBe('Manager');[m
[32m+[m[32m  expect(node.find(Badge).children().text()).toBe('Manager');[m
 });[m
 [m
 it('should show entity name and description', () => {[m
[1mdiff --git a/client/src/components/Home/CreateNewButton.js b/client/src/components/Home/CreateNewButton.js[m
[1mnew file mode 100644[m
[1mindex 0000000000..9e2466c252[m
[1m--- /dev/null[m
[1m+++ b/client/src/components/Home/CreateNewButton.js[m
[36m@@ -0,0 +1,64 @@[m
[32m+[m[32m/*[m
[32m+[m[32m * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH[m
[32m+[m[32m * under one or more contributor license agreements. Licensed under a proprietary license.[m
[32m+[m[32m * See the License.txt file for more information. You may not use this file[m
[32m+[m[32m * except in compliance with the proprietary license.[m
[32m+[m[32m */[m
[32m+[m
[32m+[m[32mimport React, {useEffect, useState} from 'react';[m
[32m+[m
[32m+[m[32mimport {Dropdown} from 'components';[m
[32m+[m[32mimport {t} from 'translation';[m
[32m+[m[32mimport {getOptimizeProfile} from 'config';[m
[32m+[m
[32m+[m[32mexport default function CreateNewButton({[m
[32m+[m[32m  createCollection,[m
[32m+[m[32m  createProcessReport,[m
[32m+[m[32m  createDashboard,[m
[32m+[m[32m  collection,[m
[32m+[m[32m  importEntity,[m
[32m+[m[32m  user,[m
[32m+[m[32m  primary,[m
[32m+[m[32m}) {[m
[32m+[m[32m  const [optimizeProfile, setOptimizeProfile] = useState();[m
[32m+[m
[32m+[m[32m  useEffect(() => {[m
[32m+[m[32m    (async () => {[m
[32m+[m[32m      setOptimizeProfile(await getOptimizeProfile());[m
[32m+[m[32m    })();[m
[32m+[m[32m  }, []);[m
[32m+[m
[32m+[m[32m  return ([m
[32m+[m[32m    <Dropdown[m
[32m+[m[32m      main[m
[32m+[m[32m      primary={primary}[m
[32m+[m[32m      label={t('home.createBtn.default')}[m
[32m+[m[32m      className="CreateNewButton"[m
[32m+[m[32m    >[m
[32m+[m[32m      {!collection && ([m
[32m+[m[32m        <Dropdown.Option onClick={createCollection}>[m
[32m+[m[32m          {t('home.createBtn.collection')}[m
[32m+[m[32m        </Dropdown.Option>[m
[32m+[m[32m      )}[m
[32m+[m[32m      <Dropdown.Option onClick={createDashboard}>{t('home.createBtn.dashboard')}</Dropdown.Option>[m
[32m+[m[32m      {optimizeProfile === 'platform' ? ([m
[32m+[m[32m        <Dropdown.Submenu label={t('home.createBtn.report.default')} openToLeft>[m
[32m+[m[32m          <Dropdown.Option onClick={createProcessReport}>[m
[32m+[m[32m            {t('home.createBtn.report.process')}[m
[32m+[m[32m          </Dropdown.Option>[m
[32m+[m[32m          <Dropdown.Option link="report/new-combined/edit">[m
[32m+[m[32m            {t('home.createBtn.report.combined')}[m
[32m+[m[32m          </Dropdown.Option>[m
[32m+[m[32m          <Dropdown.Option link="report/new-decision/edit">[m
[32m+[m[32m            {t('home.createBtn.report.decision')}[m
[32m+[m[32m          </Dropdown.Option>[m
[32m+[m[32m        </Dropdown.Submenu>[m
[32m+[m[32m      ) : ([m
[32m+[m[32m        <Dropdown.Option onClick={createProcessReport}>[m
[32m+[m[32m          {t('home.createBtn.report.default')}[m
[32m+[m[32m        </Dropdown.Option>[m
[32m+[m[32m      )}[m
[32m+[m[32m      <Dropdown.Option onClick={importEntity}>{t('common.importReportDashboard')}</Dropdown.Option>[m
[32m+[m[32m    </Dropdown>[m
[32m+[m[32m  );[m
[32m+[m[32m}[m
[1mdiff --git a/client/src/components/Home/CreateNewButton.test.tsx b/client/src/components/Home/CreateNewButton.test.js[m
[1msimilarity index 53%[m
[1mrename from client/src/components/Home/CreateNewButton.test.tsx[m
[1mrename to client/src/components/Home/CreateNewButton.test.js[m
[1mindex 55ab9c435a..dc3af954c9 100644[m
[1m--- a/client/src/components/Home/CreateNewButton.test.tsx[m
[1m+++ b/client/src/components/Home/CreateNewButton.test.js[m
[36m@@ -5,10 +5,10 @@[m
  * except in compliance with the proprietary license.[m
  */[m
 [m
[31m-import {runLastEffect} from '__mocks__/react';[m
[32m+[m[32mimport React, {runLastEffect} from 'react';[m
 import {shallow} from 'enzyme';[m
[31m-import {MenuItem} from '@carbon/react';[m
 [m
[32m+[m[32mimport {Dropdown} from 'components';[m
 import {getOptimizeProfile} from 'config';[m
 [m
 import CreateNewButton from './CreateNewButton';[m
[36m@@ -17,27 +17,18 @@[m [mjest.mock('config', () => ({[m
   getOptimizeProfile: jest.fn().mockReturnValue('platform'),[m
 }));[m
 [m
[31m-const props = {[m
[31m-  createCollection: jest.fn(),[m
[31m-  createProcessReport: jest.fn(),[m
[31m-  createDashboard: jest.fn(),[m
[31m-  importEntity: jest.fn(),[m
[31m-};[m
[31m-[m
 it('should not show the collection option if it is in a collection', async () => {[m
[31m-  const node = shallow(<CreateNewButton {...props} />);[m
[32m+[m[32m  const node = shallow(<CreateNewButton collection="123" createCollection="test" />);[m
 [m
   await runLastEffect();[m
 [m
[31m-  expect(node.find({label: 'Collection'})).toExist();[m
[31m-  node.setProps({collection: '123'});[m
[31m-  expect(node.find({label: 'Collection'})).not.toExist();[m
[32m+[m[32m  expect(node.find({onClick: 'test'})).not.toExist();[m
 });[m
 [m
 it('should not show decision and combined report options in cloud environment', async () => {[m
[31m-  (getOptimizeProfile as jest.Mock).mockReturnValueOnce('cloud');[m
[32m+[m[32m  getOptimizeProfile.mockReturnValueOnce('cloud');[m
 [m
[31m-  const node = shallow(<CreateNewButton {...props} />);[m
[32m+[m[32m  const node = shallow(<CreateNewButton />);[m
 [m
   await runLastEffect();[m
 [m
[36m@@ -47,29 +38,43 @@[m [mit('should not show decision and combined report options in cloud environment',[m
 [m
 it('should call the createCollection prop', () => {[m
   const spy = jest.fn();[m
[31m-  const node = shallow(<CreateNewButton {...props} createCollection={spy} />);[m
[32m+[m[32m  const node = shallow(<CreateNewButton createCollection={spy} />);[m
 [m
[31m-  node.find(MenuItem).at(0).simulate('click');[m
[32m+[m[32m  node.find(Dropdown.Option).at(0).simulate('click');[m
 [m
   expect(spy).toHaveBeenCalled();[m
 });[m
 [m
 it('should call the createProcessReport prop', async () => {[m
   const spy = jest.fn();[m
[31m-  const node = shallow(<CreateNewButton {...props} createProcessReport={spy} />);[m
[32m+[m[32m  const node = shallow(<CreateNewButton createProcessReport={spy} />);[m
 [m
   await runLastEffect();[m
 [m
[31m-  node.find({label: 'Report'}).childAt(0).simulate('click');[m
[32m+[m[32m  node.find(Dropdown.Submenu).find(Dropdown.Option).first().simulate('click');[m
 [m
   expect(spy).toHaveBeenCalled();[m
 });[m
 [m
 it('should call the createDashboard prop', () => {[m
   const spy = jest.fn();[m
[31m-  const node = shallow(<CreateNewButton {...props} createDashboard={spy} />);[m
[32m+[m[32m  const node = shallow(<CreateNewButton createDashboard={spy} />);[m
[32m+[m
[32m+[m[32m  node.find(Dropdown.Option).at(1).simulate('click');[m
[32m+[m
[32m+[m[32m  expect(spy).toHaveBeenCalled();[m
[32m+[m[32m});[m
[32m+[m
[32m+[m[32mit('should include an Import option if the user has entity_editor authorization', () => {[m
[32m+[m[32m  const spy = jest.fn();[m
[32m+[m[32m  const node = shallow([m
[32m+[m[32m    <CreateNewButton importEntity={spy} user={{authorizations: ['entity_editor']}} />[m
[32m+[m[32m  );[m
[32m+[m
[32m+[m[32m  const importOption = node.find(Dropdown.Option).last();[m
 [m
[31m-  node.find(MenuItem).at(1).simulate('click');[m
[32m+[m[32m  expect(importOption).toIncludeText('Import');[m
 [m
[32m+[m[32m  importOption.simulate('click');[m
   expect(spy).toHaveBeenCalled();[m
 });[m
[1mdiff --git a/client/src/components/Home/CreateNewButton.tsx b/client/src/components/Home/CreateNewButton.tsx[m
[1mdeleted file mode 100644[m
[1mindex 2760a8a62d..0000000000[m
[1m--- a/client/src/components/Home/CreateNewButton.tsx[m
[1m+++ /dev/null[m
[36m@@ -1,73 +0,0 @@[m
[31m-/*[m
[31m- * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH[m
[31m- * under one or more contributor license agreements. Licensed under a proprietary license.[m
[31m- * See the License.txt file for more information. You may not use this file[m
[31m- * except in compliance with the proprietary license.[m
[31m- */[m
[31m-[m
[31m-import {useEffect, useState, ComponentProps} from 'react';[m
[31m-import {Link} from 'react-router-dom';[m
[31m-import {MenuButton, MenuItem} from '@carbon/react';[m
[31m-[m
[31m-import {t} from 'translation';[m
[31m-import {getOptimizeProfile} from 'config';[m
[31m-[m
[31m-interface CreateNewButtonProps {[m
[31m-  createCollection: () => void;[m
[31m-  createProcessReport: () => void;[m
[31m-  createDashboard: () => void;[m
[31m-  collection?: string;[m
[31m-  importEntity: () => void;[m
[31m-  kind?: ComponentProps<typeof MenuButton>['kind'];[m
[31m-}[m
[31m-[m
[31m-export default function CreateNewButton({[m
[31m-  createCollection,[m
[31m-  createProcessReport,[m
[31m-  createDashboard,[m
[31m-  collection,[m
[31m-  importEntity,[m
[31m-  kind = 'tertiary',[m
[31m-}: CreateNewButtonProps): JSX.Element {[m
[31m-  const [optimizeProfile, setOptimizeProfile] = useState<'platform' | 'cloud' | 'ccsm'>();[m
[31m-[m
[31m-  useEffect(() => {[m
[31m-    (async () => {[m
[31m-      setOptimizeProfile(await getOptimizeProfile());[m
[31m-    })();[m
[31m-  }, []);[m
[31m-[m
[31m-  return ([m
[31m-    <MenuButton[m
[31m-      size="md"[m
[31m-      kind={kind}[m
[31m-      label={t('home.createBtn.default').toString()}[m
[31m-      className="CreateNewButton"[m
[31m-    >[m
[31m-      {!collection && ([m
[31m-        <MenuItem onClick={createCollection} label={t('home.createBtn.collection').toString()} />[m
[31m-      )}[m
[31m-      <MenuItem onClick={createDashboard} label={t('home.createBtn.dashboard').toString()} />[m
[31m-      {optimizeProfile === 'platform' ? ([m
[31m-        <MenuItem label={t('home.createBtn.report.default').toString()}>[m
[31m-          <MenuItem[m
[31m-            onClick={createProcessReport}[m
[31m-            label={t('home.createBtn.report.process').toString()}[m
[31m-          />[m
[31m-          <Link to="report/new-combined/edit">[m
[31m-            <MenuItem label={t('home.createBtn.report.combined').toString()} />[m
[31m-          </Link>[m
[31m-          <Link to="report/new-decision/edit">[m
[31m-            <MenuItem label={t('home.createBtn.report.decision').toString()} />[m
[31m-          </Link>[m
[31m-        </MenuItem>[m
[31m-      ) : ([m
[31m-        <MenuItem[m
[31m-          onClick={createProcessReport}[m
[31m-          label={t('home.createBtn.report.default').toString()}[m
[31m-        />[m
[31m-      )}[m
[31m-      <MenuItem onClick={importEntity} label={t('common.importReportDashboard').toString()} />[m
[31m-    </MenuButton>[m
[31m-  );[m
[31m-}[m
[1mdiff --git a/client/src/components/Home/Home.js b/client/src/components/Home/Home.js[m
[1mindex aaebce89af..0a984f2971 100644[m
[1m--- a/client/src/components/Home/Home.js[m
[1m+++ b/client/src/components/Home/Home.js[m
[36m@@ -8,7 +8,6 @@[m
 import React, {useCallback, useEffect, useRef, useState} from 'react';[m
 import {Redirect} from 'react-router-dom';[m
 import {parseISO} from 'date-fns';[m
[31m-import {Button} from '@carbon/react';[m
 [m
 import {format} from 'dates';[m
 import {withErrorHandling, withUser} from 'HOC';[m
[36m@@ -21,6 +20,7 @@[m [mimport {[m
   ReportTemplateModal,[m
   DashboardTemplateModal,[m
   EmptyState,[m
[32m+[m[32m  Button,[m
   LoadingIndicator,[m
 } from 'components';[m
 import {formatters, createEntity, updateEntity, checkDeleteConflict, loadEntities} from 'services';[m
[36m@@ -122,7 +122,7 @@[m [mexport function Home({mightFail, user}) {[m
             icon="dashboard-optimize-accent"[m
             actions={[m
               <>[m
[31m-                <Button size="md" onClick={() => setCreatingDashboard(true)}>[m
[32m+[m[32m                <Button main primary onClick={() => setCreatingDashboard(true)}>[m
                   {t('dashboard.createNew')}[m
                 </Button>[m
                 <CreateNewButton[m
[36m@@ -141,7 +141,7 @@[m [mexport function Home({mightFail, user}) {[m
             action={(bulkActive) =>[m
               isEditor && ([m
                 <CreateNewButton[m
[31m-                  kind={bulkActive ? 'tertiary' : 'primary'}[m
[32m+[m[32m                  primary={!bulkActive}[m
                   createCollection={startCreatingCollection}[m
                   createProcessReport={() => setCreatingProcessReport(true)}[m
                   createDashboard={() => setCreatingDashboard(true)}[m
[1mdiff --git a/client/src/components/Home/SourcesList.js b/client/src/components/Home/SourcesList.js[m
[1mindex b99b2b3b25..a9034c9456 100644[m
[1m--- a/client/src/components/Home/SourcesList.js[m
[1m+++ b/client/src/components/Home/SourcesList.js[m
[36m@@ -5,11 +5,11 @@[m
  * except in compliance with the proprietary license.[m
  */[m
 [m
[31m-import {Component} from 'react';[m
[32m+[m[32mimport React from 'react';[m
 import {Button} from '@carbon/react';[m
 [m
 import {t} from 'translation';[m
[31m-import {EntityList, Deleter, BulkDeleter, Modal} from 'components';[m
[32m+[m[32mimport {EntityList, Deleter, BulkDeleter, Modal, Button as LegacyButton} from 'components';[m
 import {showError} from 'notifications';[m
 import {withErrorHandling} from 'HOC';[m
 import {formatters, addSources} from 'services';[m
[36m@@ -31,7 +31,7 @@[m [mimport './SourcesList.scss';[m
 const {formatTenantName} = formatters;[m
 [m
 export default withErrorHandling([m
[31m-  class SourcesList extends Component {[m
[32m+[m[32m  class SourcesList extends React.Component {[m
     state = {[m
       sources: null,[m
       deleting: null,[m
[36m@@ -112,13 +112,13 @@[m [mexport default withErrorHandling([m
             name={t('home.sources.title')}[m
             action={(bulkActive) =>[m
               !readOnly && ([m
[31m-                <Button[m
[31m-                  kind={bulkActive ? 'tertiary' : 'primary'}[m
[32m+[m[32m                <LegacyButton[m
[32m+[m[32m                  main[m
[32m+[m[32m                  primary={!bulkActive}[m
                   onClick={() => this.setState({addingSource: true})}[m
[31m-                  size="md"[m
                 >[m
                   {t('common.add')}[m
[31m-                </Button>[m
[32m+[m[32m                </LegacyButton>[m
               )[m
             }[m
             bulkActions={[m
[36m@@ -210,7 +210,7 @@[m [mexport default withErrorHandling([m
               {conflict && conflict.length > 0 && ([m
                 <>[m
                   <p>{t('home.sources.saveConflict.header')}</p>[m
[31m-                  <ul className="conflictList">[m
[32m+[m[32m                  <ul>[m
                     {conflict.map(({id, name}) => ([m
                       <li key={id}>'{name || id}'</li>[m
                     ))}[m
[1mdiff --git a/client/src/components/Home/SourcesList.scss b/client/src/components/Home/SourcesList.scss[m
[1mindex 185729cafa..7497ec7ddf 100644[m
[1m--- a/client/src/components/Home/SourcesList.scss[m
[1m+++ b/client/src/components/Home/SourcesList.scss[m
[36m@@ -4,9 +4,4 @@[m
   .EntityList .meta {[m
     flex: 0 0 360px;[m
   }[m
[31m-[m
[31m-  .conflictList {[m
[31m-    list-style: initial;[m
[31m-    padding-left: 40px;[m
[31m-  }[m
 }[m
[1mdiff --git a/client/src/components/Home/UserList.js b/client/src/components/Home/UserList.js[m
[1mindex 97045504f5..73ceea95ec 100644[m
[1m--- a/client/src/components/Home/UserList.js[m
[1m+++ b/client/src/components/Home/UserList.js[m
[36m@@ -5,11 +5,10 @@[m
  * except in compliance with the proprietary license.[m
  */[m
 [m
[31m-import {Component} from 'react';[m
[31m-import {Button} from '@carbon/react';[m
[32m+[m[32mimport React from 'react';[m
 [m
 import {t} from 'translation';[m
[31m-import {EntityList, Deleter, BulkDeleter} from 'components';[m
[32m+[m[32mimport {Button, EntityList, Deleter, BulkDeleter} from 'components';[m
 import {showError} from 'notifications';[m
 import {withErrorHandling} from 'HOC';[m
 import {getOptimizeProfile} from 'config';[m
[36m@@ -22,7 +21,7 @@[m [mimport {formatRole} from './formatters';[m
 import './UserList.scss';[m
 [m
 export default withErrorHandling([m
[31m-  class UserList extends Component {[m
[32m+[m[32m  class UserList extends React.Component {[m
     state = {[m
       users: null,[m
       deleting: null,[m
[36m@@ -79,11 +78,7 @@[m [mexport default withErrorHandling([m
             name={title}[m
             action={(bulkActive) =>[m
               !readOnly && ([m
[31m-                <Button[m
[31m-                  kind={bulkActive ? 'tertiary' : 'primary'}[m
[31m-                  onClick={this.openAddUserModal}[m
[31m-                  size="md"[m
[31m-                >[m
[32m+[m[32m                <Button main primary={!bulkActive} onClick={this.openAddUserModal}>[m
                   {t('common.add')}[m
                 </Button>[m
               )[m
[1mdiff --git a/client/src/components/Home/UserList.scss b/client/src/components/Home/UserList.scss[m
[1mindex dc2ae608ac..839bce337e 100644[m
[1m--- a/client/src/components/Home/UserList.scss[m
[1m+++ b/client/src/components/Home/UserList.scss[m
[36m@@ -1,22 +1,22 @@[m
[31m-@use '@carbon/colors';[m
[31m-[m
 .UserList {[m
   height: 100%;[m
 }[m
 [m
 .AddUserModal,[m
 .EditUserModal {[m
[31m-  .cds--radio-button-group {[m
[31m-    .cds--radio-button-wrapper {[m
[31m-      .cds--radio-button__label-text {[m
[31m-        span {[m
[31m-          display: block;[m
[32m+[m[32m  .FormGroup {[m
[32m+[m[32m    .LabeledInput {[m
[32m+[m[32m      display: inline-block;[m
[32m+[m[32m      width: 90%;[m
[32m+[m
[32m+[m[32m      .checkLabel {[m
[32m+[m[32m        align-items: unset;[m
[32m+[m[32m      }[m
 [m
[31m-          &.subtitle {[m
[31m-            font-size: 0.75rem;[m
[31m-            color: colors.$gray-60;[m
[31m-          }[m
[31m-        }[m
[32m+[m[32m      label p {[m
[32m+[m[32m        font-size: 0.8em;[m
[32m+[m[32m        color: var(--grey-lighten-50);[m
[32m+[m[32m        margin-top: 0;[m
       }[m
     }[m
   }[m
[1mdiff --git a/client/src/components/Home/__snapshots__/AlertList.test.js.snap b/client/src/components/Home/__snapshots__/AlertList.test.js.snap[m
[1mindex 64b77d4a4c..5d9ebc5964 100644[m
[1m--- a/client/src/components/Home/__snapshots__/AlertList.test.js.snap[m
[1m+++ b/client/src/components/Home/__snapshots__/AlertList.test.js.snap[m
[36m@@ -1,12 +1,11 @@[m
 // Jest Snapshot v1, https://goo.gl/fbAQLP[m
 [m
 exports[`should show create Alert button 1`] = `[m
[31m-<Button[m
[31m-  className="createAlert"[m
[31m-  kind="primary"[m
[32m+[m[32m<ForwardRef(Button)[m
[32m+[m[32m  main={true}[m
   onClick={[Function]}[m
[31m-  size="md"[m
[32m+[m[32m  primary={true}[m
 >[m
   Create New Alert[m
[31m-</Button>[m
[32m+[m[32m</ForwardRef(Button)>[m
 `;[m
[1mdiff --git a/client/src/components/Home/modals/AddUserModal.test.tsx b/client/src/components/Home/modals/AddUserModal.test.tsx[m
[1mindex 2f919cdb82..30ce77e6a5 100644[m
[1m--- a/client/src/components/Home/modals/AddUserModal.test.tsx[m
[1m+++ b/client/src/components/Home/modals/AddUserModal.test.tsx[m
[36m@@ -22,16 +22,10 @@[m [mconst props = {[m
   onConfirm: jest.fn(),[m
 };[m
 [m
[31m-it('should render the modal properly', () => {[m
[32m+[m[32mit('should match snapshot', () => {[m
   const node = shallow(<AddUserModal {...props} />);[m
 [m
[31m-  const radioButtons = node.find('RadioButton');[m
[31m-[m
[31m-  expect(node.find('UserTypeahead').prop('titleText')).toEqual('Users and User Groups');[m
[31m-[m
[31m-  expect(radioButtons.at(0).dive().find('span').at(1).text()).toBe('Viewer');[m
[31m-  expect(radioButtons.at(1).dive().find('span').at(1).text()).toBe('Editor');[m
[31m-  expect(radioButtons.at(2).dive().find('span').at(1).text()).toBe('Manager');[m
[32m+[m[32m  expect(node).toMatchSnapshot();[m
 });[m
 [m
 it('should call the onConfirm prop', () => {[m
[36m@@ -41,7 +35,7 @@[m [mit('should call the onConfirm prop', () => {[m
     {id: 'USER:testUser', identity: {id: 'testUser', type: 'user', name: ''}},[m
   ]);[m
 [m
[31m-  node.find('RadioButton').at(1).simulate('click');[m
[32m+[m[32m  node.find({type: 'radio'}).at(1).simulate('change');[m
 [m
   node.find('.confirm').simulate('click');[m
 [m
[36m@@ -49,10 +43,3 @@[m [mit('should call the onConfirm prop', () => {[m
     {identity: {id: 'testUser', type: 'user', name: ''}, role: 'editor'},[m
   ]);[m
 });[m
[31m-[m
[31m-it('should call onClose when the cancel button is clicked', () => {[m
[31m-  const wrapper = shallow(<AddUserModal {...props} />);[m
[31m-  const cancelButton = wrapper.find('.cancel');[m
[31m-  cancelButton.simulate('click');[m
[31m-  expect(props.onClose).toHaveBeenCalled();[m
[31m-});[m
[1mdiff --git a/client/src/components/Home/modals/AddUserModal.tsx b/client/src/components/Home/modals/AddUserModal.tsx[m
[1mindex 19bd3d95fb..25329e4ef3 100644[m
[1m--- a/client/src/components/Home/modals/AddUserModal.tsx[m
[1m+++ b/client/src/components/Home/modals/AddUserModal.tsx[m
[36m@@ -6,9 +6,9 @@[m
  */[m
 [m
 import {useState} from 'react';[m
[31m-import {Button, Form, RadioButton, RadioButtonGroup, Stack} from '@carbon/react';[m
[32m+[m[32mimport {Button} from '@carbon/react';[m
 [m
[31m-import {Modal, UserTypeahead, User} from 'components';[m
[32m+[m[32mimport {LabeledInput, Modal, Form, UserTypeahead, User} from 'components';[m
 import {getOptimizeProfile} from 'config';[m
 import {t} from 'translation';[m
 [m
[36m@@ -58,56 +58,51 @@[m [mexport default function AddUserModal(props: AddUserModalProps) {[m
       </Modal.Header>[m
       <Modal.Content>[m
         <Form>[m
[31m-          <Stack gap={6}>[m
[32m+[m[32m          {optimizeProfile === 'platform' ? t('home.userGroupsTitle') : t('home.userTitle')}[m
[32m+[m[32m          <Form.Group>[m
             <UserTypeahead[m
[31m-              titleText={[m
[31m-                optimizeProfile === 'platform' ? t('home.userGroupsTitle') : t('home.userTitle')[m
[31m-              }[m
               users={users}[m
               collectionUsers={existingUsers}[m
               onChange={(users: User[]) => setUsers(users)}[m
               optionsOnly={optimizeProfile === 'cloud'}[m
             />[m
[31m-            <RadioButtonGroup[m
[31m-              name="userRole"[m
[31m-              legendText={t('home.roles.userRole')}[m
[31m-              orientation="vertical"[m
[31m-            >[m
[31m-              <RadioButton[m
[31m-                value="viewer"[m
[31m-                checked={activeRole === 'viewer'}[m
[31m-                onClick={() => setActiveRole('viewer')}[m
[31m-                labelText={[m
[31m-                  <>[m
[31m-                    <span>{t('home.roles.viewer')}</span>[m
[31m-                    <span className="subtitle">{t('home.roles.viewer-description')}</span>[m
[31m-                  </>[m
[31m-                }[m
[31m-              />[m
[31m-              <RadioButton[m
[31m-                value="editor"[m
[31m-                checked={activeRole === 'editor'}[m
[31m-                onClick={(a) => setActiveRole('editor')}[m
[31m-                labelText={[m
[31m-                  <>[m
[31m-                    <span>{t('home.roles.editor')}</span>[m
[31m-                    <span className="subtitle">{t('home.roles.editor-description')}</span>[m
[31m-                  </>[m
[31m-                }[m
[31m-              />[m
[31m-              <RadioButton[m
[31m-                value="manager"[m
[31m-                checked={activeRole === 'manager'}[m
[31m-                onClick={() => setActiveRole('manager')}[m
[31m-                labelText={[m
[31m-                  <>[m
[31m-                    <span>{t('home.roles.manager')}</span>[m
[31m-                    <span className="subtitle">{t('home.roles.manager-description')}</span>[m
[31m-                  </>[m
[31m-                }[m
[31m-              />[m
[31m-            </RadioButtonGroup>[m
[31m-          </Stack>[m
[32m+[m[32m          </Form.Group>[m
[32m+[m[32m          {t('home.roles.userRole')}[m
[32m+[m[32m          <Form.Group>[m
[32m+[m[32m            <LabeledInput[m
[32m+[m[32m              checked={activeRole === 'viewer'}[m
[32m+[m[32m              onChange={() => setActiveRole('viewer')}[m
[32m+[m[32m              label={[m
[32m+[m[32m                <>[m
[32m+[m[32m                  <h2>{t('home.roles.viewer')}</h2>[m
[32m+[m[32m                  <p>{t('home.roles.viewer-description')}</p>[m
[32m+[m[32m                </>[m
[32m+[m[32m              }[m
[32m+[m[32m              type="radio"[m
[32m+[m[32m            />[m
[32m+[m[32m            <LabeledInput[m
[32m+[m[32m              checked={activeRole === 'editor'}[m
[32m+[m[32m              onChange={() => setActiveRole('editor')}[m
[32m+[m[32m              label={[m
[32m+[m[32m                <>[m
[32m+[m[32m                  <h2>{t('home.roles.editor')}</h2>[m
[32m+[m[32m                  <p>{t('home.roles.editor-description')}</p>[m
[32m+[m[32m                </>[m
[32m+[m[32m              }[m
[32m+[m[32m              type="radio"[m
[32m+[m[32m            />[m
[32m+[m[32m            <LabeledInput[m
[32m+[m[32m              checked={activeRole === 'manager'}[m
[32m+[m[32m              onChange={() => setActiveRole('manager')}[m
[32m+[m[32m              label={[m
[32m+[m[32m                <>[m
[32m+[m[32m                  <h2>{t('home.roles.manager')}</h2>[m
[32m+[m[32m                  <p>{t('home.roles.manager-description')}</p>[m
[32m+[m[32m                </>[m
[32m+[m[32m              }[m
[32m+[m[32m              type="radio"[m
[32m+[m[32m            />[m
[32m+[m[32m          </Form.Group>[m
         </Form>[m
       </Modal.Content>[m
       <Modal.Footer>[m
[1mdiff --git a/client/src/components/Home/modals/CollectionModal.tsx b/client/src/components/Home/modals/CollectionModal.js[m
[1msimilarity index 73%[m
[1mrename from client/src/components/Home/modals/CollectionModal.tsx[m
[1mrename to client/src/components/Home/modals/CollectionModal.js[m
[1mindex 8a2bfdfa25..f386da979e 100644[m
[1m--- a/client/src/components/Home/modals/CollectionModal.tsx[m
[1m+++ b/client/src/components/Home/modals/CollectionModal.js[m
[36m@@ -5,43 +5,33 @@[m
  * except in compliance with the proprietary license.[m
  */[m
 [m
[31m-import {ReactNode, useState} from 'react';[m
[32m+[m[32mimport {useState} from 'react';[m
 import {Redirect} from 'react-router-dom';[m
[31m-import {Button, Form, TextInput} from '@carbon/react';[m
[32m+[m[32mimport {Button} from '@carbon/react';[m
 [m
[31m-import {Modal} from 'components';[m
[32m+[m[32mimport {LabeledInput, Modal, Form} from 'components';[m
 import {t} from 'translation';[m
[32m+[m[32mimport {withErrorHandling} from 'HOC';[m
 import {showError} from 'notifications';[m
 import {addSources} from 'services';[m
[31m-import {useErrorHandling} from 'hooks';[m
[31m-import {Source} from 'types';[m
 [m
 import SourcesModal from './SourcesModal';[m
 [m
 import './CollectionModal.scss';[m
 [m
[31m-interface CollectionModalProps {[m
[31m-  onClose: () => void;[m
[31m-  title?: ReactNode;[m
[31m-  confirmText: string;[m
[31m-  initialName?: string;[m
[31m-  onConfirm: (name?: string) => Promise<void>;[m
[31m-  showSourcesModal?: boolean;[m
[31m-}[m
[31m-[m
 export function CollectionModal({[m
   onClose,[m
   title,[m
   confirmText,[m
   initialName,[m
[32m+[m[32m  mightFail,[m
   onConfirm,[m
   showSourcesModal,[m
[31m-}: CollectionModalProps) {[m
[32m+[m[32m}) {[m
   const [name, setName] = useState(initialName);[m
   const [loading, setLoading] = useState(false);[m
   const [redirect, setRedirect] = useState(null);[m
   const [displaySourcesModal, setDisplaySourcesModal] = useState(false);[m
[31m-  const {mightFail} = useErrorHandling();[m
 [m
   const confirm = () => {[m
     if (!name || loading) {[m
[36m@@ -55,7 +45,7 @@[m [mexport function CollectionModal({[m
     }[m
   };[m
 [m
[31m-  const performRequest = (sources?: Source[]) => {[m
[32m+[m[32m  const performRequest = (sources) => {[m
     mightFail([m
       onConfirm(name),[m
       (id) => {[m
[36m@@ -88,15 +78,18 @@[m [mexport function CollectionModal({[m
         <Modal.Content>[m
           <Form>[m
             {showSourcesModal && <div className="info">{t('common.collection.modal.info')}</div>}[m
[31m-            <TextInput[m
[31m-              id="collectionName"[m
[31m-              labelText={t('common.collection.modal.inputLabel')}[m
[31m-              value={name}[m
[31m-              onChange={({target: {value}}) => setName(value)}[m
[31m-              disabled={loading}[m
[31m-              autoComplete="off"[m
[31m-              data-modal-primary-focus[m
[31m-            />[m
[32m+[m[32m            <Form.Group>[m
[32m+[m[32m              <LabeledInput[m
[32m+[m[32m                type="text"[m
[32m+[m[32m                label={t('common.collection.modal.inputLabel')}[m
[32m+[m[32m                style={{width: '100%'}}[m
[32m+[m[32m                value={name}[m
[32m+[m[32m                onChange={({target: {value}}) => setName(value)}[m
[32m+[m[32m                disabled={loading}[m
[32m+[m[32m                autoComplete="off"[m
[32m+[m[32m                data-modal-primary-focus[m
[32m+[m[32m              />[m
[32m+[m[32m            </Form.Group>[m
           </Form>[m
         </Modal.Content>[m
         <Modal.Footer>[m
[36m@@ -120,4 +113,4 @@[m [mexport function CollectionModal({[m
   );[m
 }[m
 [m
[31m-export default CollectionModal;[m
[32m+[m[32mexport default withErrorHandling(CollectionModal);[m
[1mdiff --git a/client/src/components/Home/modals/CollectionModal.test.tsx b/client/src/components/Home/modals/CollectionModal.test.js[m
[1msimilarity index 84%[m
[1mrename from client/src/components/Home/modals/CollectionModal.test.tsx[m
[1mrename to client/src/components/Home/modals/CollectionModal.test.js[m
[1mindex 0890e2d9b0..5c0a02480e 100644[m
[1m--- a/client/src/components/Home/modals/CollectionModal.test.tsx[m
[1m+++ b/client/src/components/Home/modals/CollectionModal.test.js[m
[36m@@ -5,29 +5,24 @@[m
  * except in compliance with the proprietary license.[m
  */[m
 [m
[32m+[m[32mimport React from 'react';[m
 import {shallow} from 'enzyme';[m
 [m
[32m+[m[32mimport {LabeledInput} from 'components';[m
[32m+[m
 import {CollectionModal} from './CollectionModal';[m
 import SourcesModal from './SourcesModal';[m
 [m
[31m-jest.mock('hooks', () => ({[m
[31m-  ...jest.requireActual('hooks'),[m
[31m-  useErrorHandling: () => ({[m
[31m-    mightFail: jest.fn().mockImplementation((data, cb) => cb(data)),[m
[31m-  }),[m
[31m-}));[m
[31m-[m
 const props = {[m
   initialName: 'aCollectionName',[m
   onClose: jest.fn(),[m
[31m-  confirmText: 'confirm',[m
[31m-  onConfirm: jest.fn(),[m
[32m+[m[32m  mightFail: jest.fn().mockImplementation((data, cb) => cb(data)),[m
 };[m
 [m
 it('should provide name edit input', async () => {[m
   const node = await shallow(<CollectionModal {...props} />);[m
 [m
[31m-  expect(node.find('TextInput').prop('value')).toBe(props.initialName);[m
[32m+[m[32m  expect(node.find(LabeledInput).prop('value')).toBe(props.initialName);[m
 });[m
 [m
 it('have a cancel and save collection button', async () => {[m
[36m@@ -49,7 +44,7 @@[m [mit('should invoke onConfirm on save button click', async () => {[m
 it('should disable save button if report name is empty', async () => {[m
   const node = await shallow(<CollectionModal {...props} />);[m
 [m
[31m-  node.find('TextInput').simulate('change', {target: {value: ''}});[m
[32m+[m[32m  node.find(LabeledInput).simulate('change', {target: {value: ''}});[m
 [m
   expect(node.find('.confirm')).toBeDisabled();[m
 });[m
[1mdiff --git a/client/src/components/Home/modals/CopyModal.js b/client/src/components/Home/modals/CopyModal.js[m
[1mnew file mode 100644[m
[1mindex 0000000000..c2bf27859d[m
[1m--- /dev/null[m
[1m+++ b/client/src/components/Home/modals/CopyModal.js[m
[36m@@ -0,0 +1,98 @@[m
[32m+[m[32m/*[m
[32m+[m[32m * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH[m
[32m+[m[32m * under one or more contributor license agreements. Licensed under a proprietary license.[m
[32m+[m[32m * See the License.txt file for more information. You may not use this file[m
[32m+[m[32m * except in compliance with the proprietary license.[m
[32m+[m[32m */[m
[32m+[m
[32m+[m[32mimport React from 'react';[m
[32m+[m[32mimport {Button} from '@carbon/react';[m
[32m+[m
[32m+[m[32mimport {LabeledInput, Modal, Form, Message} from 'components';[m
[32m+[m[32mimport {t} from 'translation';[m
[32m+[m[32mimport MoveCopy from './MoveCopy';[m
[32m+[m
[32m+[m[32mimport './CopyModal.scss';[m
[32m+[m
[32m+[m[32mexport default class CopyModal extends React.Component {[m
[32m+[m[32m  constructor(props) {[m
[32m+[m[32m    super(props);[m
[32m+[m
[32m+[m[32m    this.state = {[m
[32m+[m[32m      name: props.entity.name + ` (${t('common.copyLabel')})`,[m
[32m+[m[32m      moving: false,[m
[32m+[m[32m      collection: null,[m
[32m+[m[32m      gotoNew: true,[m
[32m+[m[32m    };[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  onConfirm = () => {[m
[32m+[m[32m    const {name, moving, collection, gotoNew} = this.state;[m
[32m+[m[32m    if (name && (!moving || collection)) {[m
[32m+[m[32m      if (this.isCollection() && this.props.jumpToEntity) {[m
[32m+[m[32m        this.props.onConfirm(name, gotoNew);[m
[32m+[m[32m      } else {[m
[32m+[m[32m        this.props.onConfirm(name, moving && gotoNew, moving && collection.id);[m
[32m+[m[32m      }[m
[32m+[m[32m    }[m
[32m+[m[32m  };[m
[32m+[m
[32m+[m[32m  isCollection = () => this.props.entity.entityType === 'collection';[m
[32m+[m
[32m+[m[32m  render() {[m
[32m+[m[32m    const {onClose, entity, jumpToEntity} = this.props;[m
[32m+[m[32m    const {name, moving, collection, gotoNew} = this.state;[m
[32m+[m
[32m+[m[32m    return ([m
[32m+[m[32m      <Modal className="CopyModal" open onClose={onClose}>[m
[32m+[m[32m        <Modal.Header>{t('common.copyName', {name: entity.name})}</Modal.Header>[m
[32m+[m[32m        <Modal.Content>[m
[32m+[m[32m          <Form>[m
[32m+[m[32m            <Form.Group>[m
[32m+[m[32m              <LabeledInput[m
[32m+[m[32m                type="text"[m
[32m+[m[32m                label={t('home.copy.inputLabel')}[m
[32m+[m[32m                value={name}[m
[32m+[m[32m                autoComplete="off"[m
[32m+[m[32m                onChange={({target: {value}}) => this.setState({name: value})}[m
[32m+[m[32m              />[m
[32m+[m[32m            </Form.Group>[m
[32m+[m[32m            {this.isCollection() && <Message>{t('home.copy.copyCollectionInfo')}</Message>}[m
[32m+[m[32m            {!this.isCollection() && ([m
[32m+[m[32m              <MoveCopy[m
[32m+[m[32m                entity={entity}[m
[32m+[m[32m                parentCollection={this.props.collection}[m
[32m+[m[32m                moving={moving}[m
[32m+[m[32m                setMoving={(moving) => this.setState({moving})}[m
[32m+[m[32m                collection={collection}[m
[32m+[m[32m                setCollection={(collection) => this.setState({collection})}[m
[32m+[m[32m              />[m
[32m+[m[32m            )}[m
[32m+[m[32m            {jumpToEntity && (this.isCollection() || moving) && ([m
[32m+[m[32m              <Form.Group>[m
[32m+[m[32m                <LabeledInput[m
[32m+[m[32m                  label={t('home.copy.gotoNew')}[m
[32m+[m[32m                  type="checkbox"[m
[32m+[m[32m                  checked={gotoNew}[m
[32m+[m[32m                  onChange={({target: {checked}}) => this.setState({gotoNew: checked})}[m
[32m+[m[32m                />[m
[32m+[m[32m              </Form.Group>[m
[32m+[m[32m            )}[m
[32m+[m[32m          </Form>[m
[32m+[m[32m        </Modal.Content>[m
[32m+[m[32m        <Modal.Footer>[m
[32m+[m[32m          <Button kind="secondary" className="cancel" onClick={onClose}>[m
[32m+[m[32m            {t('common.cancel')}[m
[32m+[m[32m          </Button>[m
[32m+[m[32m          <Button[m
[32m+[m[32m            disabled={!name || (moving && !collection)}[m
[32m+[m[32m            className="confirm"[m
[32m+[m[32m            onClick={this.onConfirm}[m
[32m+[m[32m          >[m
[32m+[m[32m            {t('common.copy')}[m
[32m+[m[32m          </Button>[m
[32m+[m[32m        </Modal.Footer>[m
[32m+[m[32m      </Modal>[m
[32m+[m[32m    );[m
[32m+[m[32m  }[m
[32m+[m[32m}[m
[1mdiff --git a/client/src/components/Home/modals/CopyModal.scss b/client/src/components/Home/modals/CopyModal.scss[m
[1mnew file mode 100644[m
[1mindex 0000000000..da3db0a936[m
[1m--- /dev/null[m
[1m+++ b/client/src/components/Home/modals/CopyModal.scss[m
[36m@@ -0,0 +1,5 @@[m
[32m+[m[32m.CopyModal {[m
[32m+[m[32m  .moveSection {[m
[32m+[m[32m    border-top: 1px solid var(--silver-darken-80);[m
[32m+[m[32m  }[m
[32m+[m[32m}[m
[1mdiff --git a/client/src/components/Home/modals/CopyModal.test.tsx b/client/src/components/Home/modals/CopyModal.test.js[m
[1msimilarity index 85%[m
[1mrename from client/src/components/Home/modals/CopyModal.test.tsx[m
[1mrename to client/src/components/Home/modals/CopyModal.test.js[m
[1mindex 7aba33a41d..0b8d75cc12 100644[m
[1m--- a/client/src/components/Home/modals/CopyModal.test.tsx[m
[1m+++ b/client/src/components/Home/modals/CopyModal.test.js[m
[36m@@ -5,6 +5,7 @@[m
  * except in compliance with the proprietary license.[m
  */[m
 [m
[32m+[m[32mimport React from 'react';[m
 import {shallow} from 'enzyme';[m
 import CopyModal from './CopyModal';[m
 [m
[36m@@ -15,11 +16,10 @@[m [mconst props = {[m
   onClose: jest.fn(),[m
 };[m
 [m
[31m-it('should render properly', () => {[m
[32m+[m[32mit('should match snapshot', () => {[m
   const node = shallow(<CopyModal {...props} />);[m
 [m
[31m-  expect(node.find('TextInput').prop('labelText')).toBe('Name of Copy');[m
[31m-  expect(node.find('MoveCopy')).toExist();[m
[32m+[m[32m  expect(node).toMatchSnapshot();[m
 });[m
 [m
 it('should hide option to move the copy for collection entities', () => {[m
[36m@@ -27,7 +27,7 @@[m [mit('should hide option to move the copy for collection entities', () => {[m
     <CopyModal {...props} entity={{name: 'collection', entityType: 'collection'}} />[m
   );[m
 [m
[31m-  expect(node.find('MoveCopy')).not.toExist();[m
[32m+[m[32m  expect(node).toMatchSnapshot();[m
 });[m
 [m
 it('should call the onConfirm action', () => {[m
[36m@@ -37,14 +37,13 @@[m [mit('should call the onConfirm action', () => {[m
 [m
   node.find('.confirm').simulate('click');[m
 [m
[31m-  expect(node.find('Checkbox')).toExist();[m
   expect(props.onConfirm).toHaveBeenCalledWith('collection (copy)', true);[m
 });[m
 [m
 it('should hide the jump checkbox if jumpToEntity property is not added', () => {[m
   const node = shallow(<CopyModal {...props} />);[m
 [m
[31m-  expect(node.find('Checkbox')).not.toExist();[m
[32m+[m[32m  expect(node.find('LabeledInput[type="checkbox"]')).not.toExist();[m
 [m
   node.find('.confirm').simulate('click');[m
 [m
[1mdiff --git a/client/src/components/Home/modals/CopyModal.tsx b/client/src/components/Home/modals/CopyModal.tsx[m
[1mdeleted file mode 100644[m
[1mindex e6909809ee..0000000000[m
[1m--- a/client/src/components/Home/modals/CopyModal.tsx[m
[1m+++ /dev/null[m
[36m@@ -1,98 +0,0 @@[m
[31m-/*[m
[31m- * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH[m
[31m- * under one or more contributor license agreements. Licensed under a proprietary license.[m
[31m- * See the License.txt file for more information. You may not use this file[m
[31m- * except in compliance with the proprietary license.[m
[31m- */[m
[31m-[m
[31m-import {MouseEvent, useState} from 'react';[m
[31m-import {Button, TextInput, Form, Checkbox, Stack} from '@carbon/react';[m
[31m-[m
[31m-import {Modal} from 'components';[m
[31m-import {t} from 'translation';[m
[31m-import {GenericEntity} from 'types';[m
[31m-[m
[31m-import MoveCopy from './MoveCopy';[m
[31m-[m
[31m-interface CopyModaProps {[m
[31m-  onConfirm: (name: string, shouldMove: boolean, value?: string | boolean | null) => void;[m
[31m-  entity: Partial<GenericEntity<{subEntityCounts: {report: number}}>>;[m
[31m-  jumpToEntity?: boolean;[m
[31m-  onClose: (event: MouseEvent) => boolean | void;[m
[31m-  collection: string;[m
[31m-}[m
[31m-[m
[31m-export default function CopyModal({[m
[31m-  onConfirm,[m
[31m-  entity,[m
[31m-  jumpToEntity,[m
[31m-  onClose,[m
[31m-  collection: parentCollection,[m
[31m-}: CopyModaProps) {[m
[31m-  const [name, setName] = useState(`${entity.name} (${t('common.copyLabel')})`);[m
[31m-  const [moving, setMoving] = useState(false);[m
[31m-  const [collection, setCollection] = useState<Partial<GenericEntity> | null>(null);[m
[31m-  const [gotoNew, setGotoNew] = useState(true);[m
[31m-[m
[31m-  const handleConfirm = () => {[m
[31m-    if (name && (!moving || collection)) {[m
[31m-      if (isCollection() && jumpToEntity) {[m
[31m-        onConfirm(name, gotoNew);[m
[31m-      } else {[m
[31m-        onConfirm(name, moving && gotoNew, moving && collection?.id);[m
[31m-      }[m
[31m-    }[m
[31m-  };[m
[31m-[m
[31m-  const isCollection = () => entity.entityType === 'collection';[m
[31m-[m
[31m-  return ([m
[31m-    <Modal className="CopyModal" open onClose={onClose}>[m
[31m-      <Modal.Header>{t('common.copyName', {name: entity.name})}</Modal.Header>[m
[31m-      <Modal.Content>[m
[31m-        <Form>[m
[31m-          <Stack gap={6}>[m
[31m-            <TextInput[m
[31m-              id="entityCopyName"[m
[31m-              labelText={t('home.copy.inputLabel')}[m
[31m-              value={name}[m
[31m-              autoComplete="off"[m
[31m-              onChange={({target: {value}}) => setName(value)}[m
[31m-              helperText={isCollection() && t('home.copy.copyCollectionInfo')}[m
[31m-            />[m
[31m-            {!isCollection() && ([m
[31m-              <MoveCopy[m
[31m-                entity={entity}[m
[31m-                parentCollection={parentCollection}[m
[31m-                moving={moving}[m
[31m-                setMoving={(moving) => setMoving(moving)}[m
[31m-                collection={collection}[m
[31m-                setCollection={(collection) => setCollection(collection)}[m
[31m-              />[m
[31m-            )}[m
[31m-            {jumpToEntity && (isCollection() || moving) && ([m
[31m-              <Checkbox[m
[31m-                id="gotoNew"[m
[31m-                labelText={t('home.copy.gotoNew')}[m
[31m-                checked={gotoNew}[m
[31m-                onChange={({target: {checked}}) => setGotoNew(checked)}[m
[31m-              />[m
[31m-            )}[m
[31m-          </Stack>[m
[31m-        </Form>[m
[31m-      </Modal.Content>[m
[31m-      <Modal.Footer>[m
[31m-        <Button kind="secondary" className="cancel" onClick={onClose}>[m
[31m-          {t('common.cancel')}[m
[31m-        </Button>[m
[31m-        <Button[m
[31m-          disabled={!name || (moving && !collection)}[m
[31m-          className="confirm"[m
[31m-          onClick={handleConfirm}[m
[31m-        >[m
[31m-          {t('common.copy')}[m
[31m-        </Button>[m
[31m-      </Modal.Footer>[m
[31m-    </Modal>[m
[31m-  );[m
[31m-}[m
[1mdiff --git a/client/src/components/Home/modals/EditUserModal.test.tsx b/client/src/components/Home/modals/EditUserModal.test.tsx[m
[1mindex a91855c0ef..0611b97182 100644[m
[1m--- a/client/src/components/Home/modals/EditUserModal.test.tsx[m
[1m+++ b/client/src/components/Home/modals/EditUserModal.test.tsx[m
[36m@@ -6,6 +6,7 @@[m
  */[m
 [m
 import {shallow} from 'enzyme';[m
[32m+[m[32mimport {Button} from '@carbon/react';[m
 [m
 import {Modal} from 'components';[m
 [m
[36m@@ -25,16 +26,6 @@[m [mbeforeEach(() => {[m
   jest.clearAllMocks();[m
 });[m
 [m
[31m-it('should render the modal properly', () => {[m
[31m-  const node = shallow(<EditUserModal {...props} />);[m
[31m-[m
[31m-  const radioButtons = node.find('RadioButton');[m
[31m-[m
[31m-  expect(radioButtons.at(0).dive().find('span').at(1).text()).toBe('Viewer');[m
[31m-  expect(radioButtons.at(1).dive().find('span').at(1).text()).toBe('Editor');[m
[31m-  expect(radioButtons.at(2).dive().find('span').at(1).text()).toBe('Manager');[m
[31m-});[m
[31m-[m
 it('should display the user name or ID', () => {[m
   const wrapper = shallow(<EditUserModal {...props} />);[m
   const header = wrapper.find(Modal.Header);[m
[36m@@ -44,8 +35,8 @@[m [mit('should display the user name or ID', () => {[m
 it('should call the onConfirm prop', () => {[m
   const node = shallow(<EditUserModal {...props} />);[m
 [m
[31m-  const managerRadio = node.find('RadioButton').last();[m
[31m-  managerRadio.simulate('click');[m
[32m+[m[32m  const editorRadio = node.find({type: 'radio'}).last();[m
[32m+[m[32m  editorRadio.simulate('change');[m
   node.find('.confirm').simulate('click');[m
 [m
   expect(props.onConfirm).toHaveBeenCalledWith('manager');[m
[36m@@ -53,7 +44,7 @@[m [mit('should call the onConfirm prop', () => {[m
 [m
 it('should call onClose when the cancel button is clicked', () => {[m
   const wrapper = shallow(<EditUserModal {...props} />);[m
[31m-  const cancelButton = wrapper.find('.cancel');[m
[32m+[m[32m  const cancelButton = wrapper.find(Button).first();[m
   cancelButton.simulate('click');[m
   expect(props.onClose).toHaveBeenCalled();[m
 });[m
[1mdiff --git a/client/src/components/Home/modals/EditUserModal.tsx b/client/src/components/Home/modals/EditUserModal.tsx[m
[1mindex 3136990cb6..b6410babd6 100644[m
[1m--- a/client/src/components/Home/modals/EditUserModal.tsx[m
[1m+++ b/client/src/components/Home/modals/EditUserModal.tsx[m
[36m@@ -6,9 +6,9 @@[m
  */[m
 [m
 import {useState} from 'react';[m
[31m-import {Button, RadioButton, Form, RadioButtonGroup} from '@carbon/react';[m
[32m+[m[32mimport {Button} from '@carbon/react';[m
 [m
[31m-import {Modal} from 'components';[m
[32m+[m[32mimport {LabeledInput, Modal, Form} from 'components';[m
 import {t} from 'translation';[m
 [m
 interface EditUserModalProps {[m
[36m@@ -32,48 +32,42 @@[m [mexport default function EditUserModal({[m
       <Modal.Header>{t('common.editName', {name: name || id})}</Modal.Header>[m
       <Modal.Content>[m
         <Form>[m
[31m-          <RadioButtonGroup[m
[31m-            name="userRole"[m
[31m-            legendText={t('home.roles.userRole')}[m
[31m-            orientation="vertical"[m
[31m-          >[m
[31m-            <RadioButton[m
[31m-              value="viewer"[m
[32m+[m[32m          {t('home.roles.userRole')}[m
[32m+[m[32m          <Form.Group>[m
[32m+[m[32m            <LabeledInput[m
               checked={role === 'viewer'}[m
[31m-              onClick={() => setRole('viewer')}[m
[31m-              labelText={[m
[32m+[m[32m              onChange={() => setRole('viewer')}[m
[32m+[m[32m              label={[m
                 <>[m
[31m-                  <span>{t('home.roles.viewer')}</span>[m
[31m-                  <span className="subtitle">{t('home.roles.viewer-description')}</span>[m
[32m+[m[32m                  <h2>{t('home.roles.viewer')}</h2>[m
[32m+[m[32m                  <p>{t('home.roles.viewer-description')}</p>[m
                 </>[m
               }[m
               type="radio"[m
             />[m
[31m-            <RadioButton[m
[31m-              value="editor"[m
[32m+[m[32m            <LabeledInput[m
               checked={role === 'editor'}[m
[31m-              onClick={() => setRole('editor')}[m
[31m-              labelText={[m
[32m+[m[32m              onChange={() => setRole('editor')}[m
[32m+[m[32m              label={[m
                 <>[m
[31m-                  <span>{t('home.roles.editor')}</span>[m
[31m-                  <span className="subtitle">{t('home.roles.editor-description')}</span>[m
[32m+[m[32m                  <h2>{t('home.roles.editor')}</h2>[m
[32m+[m[32m                  <p>{t('home.roles.editor-description')}</p>[m
                 </>[m
               }[m
               type="radio"[m
             />[m
[31m-            <RadioButton[m
[31m-              value="manager"[m
[32m+[m[32m            <LabeledInput[m
               checked={role === 'manager'}[m
[31m-              onClick={() => setRole('manager')}[m
[31m-              labelText={[m
[32m+[m[32m              onChange={() => setRole('manager')}[m
[32m+[m[32m              label={[m
                 <>[m
[31m-                  <span>{t('home.roles.manager')}</span>[m
[31m-                  <span className="subtitle">{t('home.roles.manager-description')}</span>[m
[32m+[m[32m                  <h2>{t('home.roles.manager')}</h2>[m
[32m+[m[32m                  <p>{t('home.roles.manager-description')}</p>[m
                 </>[m
               }[m
               type="radio"[m
             />[m
[31m-          </RadioButtonGroup>[m
[32m+[m[32m          </Form.Group>[m
         </Form>[m
       </Modal.Content>[m
       <Modal.Footer>[m
[1mdiff --git a/client/src/components/Home/modals/MoveCopy.js b/client/src/components/Home/modals/MoveCopy.js[m
[1mnew file mode 100644[m
[1mindex 0000000000..71c4d018c0[m
[1m--- /dev/null[m
[1m+++ b/client/src/components/Home/modals/MoveCopy.js[m
[36m@@ -0,0 +1,95 @@[m
[32m+[m[32m/*[m
[32m+[m[32m * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH[m
[32m+[m[32m * under one or more contributor license agreements. Licensed under a proprietary license.[m
[32m+[m[32m * See the License.txt file for more information. You may not use this file[m
[32m+[m[32m * except in compliance with the proprietary license.[m
[32m+[m[32m */[m
[32m+[m
[32m+[m[32mimport React from 'react';[m
[32m+[m[32mimport {showError} from 'notifications';[m
[32m+[m
[32m+[m[32mimport {loadEntities} from 'services';[m
[32m+[m[32mimport {Form, Switch, Typeahead} from 'components';[m
[32m+[m[32mimport {withErrorHandling} from 'HOC';[m
[32m+[m[32mimport {t} from 'translation';[m
[32m+[m
[32m+[m[32mexport default withErrorHandling([m
[32m+[m[32m  class MoveCopy extends React.Component {[m
[32m+[m[32m    state = {[m
[32m+[m[32m      availableCollections: [],[m
[32m+[m[32m    };[m
[32m+[m
[32m+[m[32m    componentDidMount() {[m
[32m+[m[32m      this.props.mightFail([m
[32m+[m[32m        loadEntities(),[m
[32m+[m[32m        (entities) =>[m
[32m+[m[32m          this.setState({[m
[32m+[m[32m            availableCollections: [[m
[32m+[m[32m              {id: null, entityType: 'collection', name: t('navigation.collections')},[m
[32m+[m[32m              ...entities,[m
[32m+[m[32m            ].filter([m
[32m+[m[32m              ({entityType, id}) =>[m
[32m+[m[32m                entityType === 'collection' && id !== this.props.parentCollection[m
[32m+[m[32m            ),[m
[32m+[m[32m          }),[m
[32m+[m[32m        showError[m
[32m+[m[32m      );[m
[32m+[m[32m    }[m
[32m+[m
[32m+[m[32m    getMulticopyText = () => {[m
[32m+[m[32m      const {entityType, data} = this.props.entity;[m
[32m+[m[32m      const containedReports = data.subEntityCounts.report;[m
[32m+[m
[32m+[m[32m      if (containedReports) {[m
[32m+[m[32m        const params = {[m
[32m+[m[32m          entityType: entityType === 'dashboard' ? t('dashboard.label') : t('home.types.combined'),[m
[32m+[m[32m          number: containedReports,[m
[32m+[m[32m        };[m
[32m+[m[32m        if (containedReports > 1) {[m
[32m+[m[32m          return t('home.copy.subEntities', params);[m
[32m+[m[32m        }[m
[32m+[m[32m        return t('home.copy.subEntity', params);[m
[32m+[m[32m      }[m
[32m+[m[32m    };[m
[32m+[m
[32m+[m[32m    render() {[m
[32m+[m[32m      const {moving, collection} = this.props;[m
[32m+[m[32m      const {availableCollections} = this.state;[m
[32m+[m[32m      const multicopyText = this.getMulticopyText();[m
[32m+[m
[32m+[m[32m      return ([m
[32m+[m[32m        <>[m
[32m+[m[32m          <Form.Group className="moveSection">[m
[32m+[m[32m            <Switch[m
[32m+[m[32m              label={t('home.copy.moveLabel')}[m
[32m+[m[32m              checked={moving}[m
[32m+[m[32m              onChange={({target: {checked}}) => this.props.setMoving(checked)}[m
[32m+[m[32m            />[m
[32m+[m[32m          </Form.Group>[m
[32m+[m[32m          {moving && ([m
[32m+[m[32m            <>[m
[32m+[m[32m              <Form.Group noSpacing>[m
[32m+[m[32m                <Typeahead[m
[32m+[m[32m                  initialValue={collection ? collection.id : undefined}[m
[32m+[m[32m                  noValuesMessage={t('home.copy.noCollections')}[m
[32m+[m[32m                  placeholder={t('home.copy.pleaseSelect')}[m
[32m+[m[32m                  onChange={(id) => {[m
[32m+[m[32m                    const collection = availableCollections.find((col) => col.id === id);[m
[32m+[m[32m                    this.props.setCollection(collection);[m
[32m+[m[32m                  }}[m
[32m+[m[32m                >[m
[32m+[m[32m                  {availableCollections.map(({id, name}) => ([m
[32m+[m[32m                    <Typeahead.Option key={id} value={id}>[m
[32m+[m[32m                      {name}[m
[32m+[m[32m                    </Typeahead.Option>[m
[32m+[m[32m                  ))}[m
[32m+[m[32m                </Typeahead>[m
[32m+[m[32m              </Form.Group>[m
[32m+[m[32m              {multicopyText && <Form.Group>{multicopyText}</Form.Group>}[m
[32m+[m[32m            </>[m
[32m+[m[32m          )}[m
[32m+[m[32m        </>[m
[32m+[m[32m      );[m
[32m+[m[32m    }[m
[32m+[m[32m  }[m
[32m+[m[32m);[m
[1mdiff --git a/client/src/components/Home/modals/MoveCopy.test.tsx b/client/src/components/Home/modals/MoveCopy.test.js[m
[1msimilarity index 74%[m
[1mrename from client/src/components/Home/modals/MoveCopy.test.tsx[m
[1mrename to client/src/components/Home/modals/MoveCopy.test.js[m
[1mindex a98c6e68a6..e76f102e6d 100644[m
[1m--- a/client/src/components/Home/modals/MoveCopy.test.tsx[m
[1m+++ b/client/src/components/Home/modals/MoveCopy.test.js[m
[36m@@ -5,12 +5,16 @@[m
  * except in compliance with the proprietary license.[m
  */[m
 [m
[32m+[m[32mimport React from 'react';[m
 import {shallow} from 'enzyme';[m
[31m-import {runLastEffect} from '__mocks__/react';[m
[32m+[m
[32m+[m[32mimport {Switch} from 'components';[m
[32m+[m
[32m+[m[32mimport MoveCopyWithErrorHandling from './MoveCopy';[m
 [m
 import {loadEntities} from 'services';[m
 [m
[31m-import MoveCopy from './MoveCopy';[m
[32m+[m[32mconst MoveCopy = MoveCopyWithErrorHandling.WrappedComponent;[m
 [m
 jest.mock('services', () => ({[m
   ...jest.requireActual('services'),[m
[36m@@ -72,15 +76,8 @@[m [mjest.mock('services', () => ({[m
   ]),[m
 }));[m
 [m
[31m-jest.mock('hooks', () => ({[m
[31m-  useErrorHandling: jest.fn(() => ({[m
[31m-    mightFail: jest.fn((data, cb) => cb(data)),[m
[31m-    error: false,[m
[31m-    resetError: jest.fn(),[m
[31m-  })),[m
[31m-}));[m
[31m-[m
 const props = {[m
[32m+[m[32m  mightFail: jest.fn().mockImplementation((data, cb) => cb(data)),[m
   entity: {name: 'Test Dashboard', entityType: 'dashboard', data: {subEntityCounts: {report: 2}}},[m
   collection: null,[m
   moving: true,[m
[36m@@ -89,43 +86,30 @@[m [mconst props = {[m
   parentCollection: 'aCollectionId',[m
 };[m
 [m
[31m-it('should render properly', () => {[m
[32m+[m[32mit('should match snapshot', () => {[m
   const node = shallow(<MoveCopy {...props} />);[m
[31m-  runLastEffect();[m
 [m
[31m-  expect(node.find('Toggle').prop('labelA')).toBe('Move copy to …');[m
[31m-  expect(node.find('ComboBox').prop('items')).toEqual([[m
[31m-    {id: null, name: 'Collections', entityType: 'collection'},[m
[31m-    {[m
[31m-      id: 'anotherCollection',[m
[31m-      name: 'Another Collection',[m
[31m-      entityType: 'collection',[m
[31m-    },[m
[31m-  ]);[m
[32m+[m[32m  expect(node).toMatchSnapshot();[m
 });[m
 [m
 it('should load available collections', () => {[m
   shallow(<MoveCopy {...props} />);[m
[31m-  runLastEffect();[m
 [m
   expect(loadEntities).toHaveBeenCalled();[m
 });[m
 [m
[31m-it('should invoke setCopy on copy switch change', () => {[m
[32m+[m[32mit('should invoke setCopy on copy switch change', async () => {[m
   const node = shallow(<MoveCopy {...props} />);[m
 [m
[31m-  node.find('Toggle').prop<(checked: boolean) => void>('onToggle')?.(false);[m
[32m+[m[32m  node.find(Switch).simulate('change', {target: {checked: false}});[m
 [m
   expect(props.setMoving).toHaveBeenCalledWith(false);[m
 });[m
 [m
 it('should invoke setCollection on collection selection', () => {[m
   const node = shallow(<MoveCopy {...props} />);[m
[31m-  runLastEffect();[m
 [m
[31m-  node.find('ComboBox').prop<(args: {selectedItem: {id: string}}) => void>('onChange')?.({[m
[31m-    selectedItem: {id: 'anotherCollection'},[m
[31m-  });[m
[32m+[m[32m  node.find('Typeahead').props().onChange('anotherCollection');[m
 [m
   expect(props.setCollection).toHaveBeenCalledWith({[m
     id: 'anotherCollection',[m
[1mdiff --git a/client/src/components/Home/modals/MoveCopy.tsx b/client/src/components/Home/modals/MoveCopy.tsx[m
[1mdeleted file mode 100644[m
[1mindex d5a70d9173..0000000000[m
[1m--- a/client/src/components/Home/modals/MoveCopy.tsx[m
[1m+++ /dev/null[m
[36m@@ -1,105 +0,0 @@[m
[31m-/*[m
[31m- * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH[m
[31m- * under one or more contributor license agreements. Licensed under a proprietary license.[m
[31m- * See the License.txt file for more information. You may not use this file[m
[31m- * except in compliance with the proprietary license.[m
[31m- */[m
[31m-[m
[31m-import {useEffect, useState} from 'react';[m
[31m-import {ComboBox, InlineNotification, Toggle} from '@carbon/react';[m
[31m-[m
[31m-import {showError} from 'notifications';[m
[31m-import {loadEntities} from 'services';[m
[31m-import {t} from 'translation';[m
[31m-import {useErrorHandling} from 'hooks';[m
[31m-import {GenericEntity} from 'types';[m
[31m-[m
[31m-interface MoveCopyProps {[m
[31m-  parentCollection: string;[m
[31m-  entity: Partial<GenericEntity<{subEntityCounts: {report: number}}>>;[m
[31m-  moving: boolean;[m
[31m-  collection?: Partial<GenericEntity> | null;[m
[31m-  setMoving: (moving: boolean) => void;[m
[31m-  setCollection: (collection: Partial<GenericEntity> | null) => void;[m
[31m-}[m
[31m-[m
[31m-export default function MoveCopy({[m
[31m-  parentCollection,[m
[31m-  entity,[m
[31m-  moving,[m
[31m-  collection,[m
[31m-  setMoving,[m
[31m-  setCollection,[m
[31m-}: MoveCopyProps) {[m
[31m-  const {mightFail} = useErrorHandling();[m
[31m-  const [availableCollections, setAvailableCollections] = useState<Partial<GenericEntity>[]>([]);[m
[31m-[m
[31m-  useEffect(() => {[m
[31m-    mightFail([m
[31m-      loadEntities(),[m
[31m-      (entities) =>[m
[31m-        setAvailableCollections([m
[31m-          [[m
[31m-            {id: null, entityType: 'collection', name: t('navigation.collections').toString()},[m
[31m-            ...entities,[m
[31m-          ].filter(({entityType, id}) => entityType === 'collection' && id !== parentCollection)[m
[31m-        ),[m
[31m-      showError[m
[31m-    );[m
[31m-  }, [mightFail, parentCollection]);[m
[31m-[m
[31m-  const getMulticopyText = () => {[m
[31m-    const {entityType, data} = entity;[m
[31m-    const containedReports = data?.subEntityCounts.report;[m
[31m-[m
[31m-    if (!containedReports) {[m
[31m-      return undefined;[m
[31m-    }[m
[31m-[m
[31m-    const params = {[m
[31m-      entityType: entityType === 'dashboard' ? t('dashboard.label') : t('home.types.combined'),[m
[31m-      number: containedReports,[m
[31m-    };[m
[31m-    if (containedReports > 1) {[m
[31m-      return t('home.copy.subEntities', params).toString();[m
[31m-    }[m
[31m-    return t('home.copy.subEntity', params).toString();[m
[31m-  };[m
[31m-[m
[31m-  const getPlaceholder = () =>[m
[31m-    (availableCollections?.length[m
[31m-      ? t('home.copy.pleaseSelect')[m
[31m-      : t('home.copy.noCollections')[m
[31m-    ).toString();[m
[31m-[m
[31m-  return ([m
[31m-    <>[m
[31m-      <Toggle[m
[31m-        size="sm"[m
[31m-        id="moveToggle"[m
[31m-        labelA={t('home.copy.moveLabel').toString()}[m
[31m-        labelB={t('home.copy.moveLabel').toString()}[m
[31m-        toggled={moving}[m
[31m-        onToggle={(checked) => setMoving(checked)}[m
[31m-      />[m
[31m-      {moving && ([m
[31m-        <>[m
[31m-          <ComboBox[m
[31m-            id="collectionSelection"[m
[31m-            items={availableCollections}[m
[31m-            initialSelectedItem={collection ? collection.id || undefined : undefined}[m
[31m-            itemToString={(collection) => (collection as GenericEntity)?.name}[m
[31m-            onChange={({selectedItem}) => {[m
[31m-              const collection =[m
[31m-                availableCollections.find((col) => col.id === selectedItem?.id) || null;[m
[31m-              setCollection(collection);[m
[31m-            }}[m
[31m-            placeholder={getPlaceholder()}[m
[31m-            disabled={!availableCollections.length}[m
[31m-          />[m
[31m-          <InlineNotification kind="info" hideCloseButton subtitle={getMulticopyText()} />[m
[31m-        </>[m
[31m-      )}[m
[31m-    </>[m
[31m-  );[m
[31m-}[m
[1mdiff --git a/client/src/components/Home/modals/SourcesModal.tsx b/client/src/components/Home/modals/SourcesModal.js[m
[1msimilarity index 62%[m
[1mrename from client/src/components/Home/modals/SourcesModal.tsx[m
[1mrename to client/src/components/Home/modals/SourcesModal.js[m
[1mindex 7268ae029f..46a2b9f00f 100644[m
[1m--- a/client/src/components/Home/modals/SourcesModal.tsx[m
[1m+++ b/client/src/components/Home/modals/SourcesModal.js[m
[36m@@ -9,7 +9,6 @@[m [mimport {useState, useEffect} from 'react';[m
 import classnames from 'classnames';[m
 import {[m
   Button,[m
[31m-  ComboBox,[m
   TableSelectAll,[m
   TableSelectRow,[m
   TableToolbar,[m
[36m@@ -17,39 +16,26 @@[m [mimport {[m
   TableToolbarSearch,[m
 } from '@carbon/react';[m
 [m
[31m-import {Modal, Table, TenantPopover} from 'components';[m
[32m+[m[32mimport {Modal, Table, TenantPopover, Typeahead} from 'components';[m
 import {formatters} from 'services';[m
 import {t} from 'translation';[m
[32m+[m[32mimport {withErrorHandling} from 'HOC';[m
 import {showError} from 'notifications';[m
[31m-import {areTenantsAvailable} from 'config';[m
[31m-import {useErrorHandling} from 'hooks';[m
[31m-import {Source} from 'types';[m
[32m+[m[32mimport {areTenantsAvailable, getOptimizeProfile} from 'config';[m
 [m
[31m-import {[m
[31m-  DefinitionWithTenants,[m
[31m-  TenantWithDefinitions,[m
[31m-  getDefinitionsWithTenants,[m
[31m-  getTenantsWithDefinitions,[m
[31m-} from './service';[m
[32m+[m[32mimport {getDefinitionsWithTenants, getTenantsWithDefinitions} from './service';[m
 [m
 import './SourcesModal.scss';[m
 [m
 const {formatTenantName} = formatters;[m
 [m
[31m-interface SourcesModalProps {[m
[31m-  onClose: () => void;[m
[31m-  onConfirm: (definitions?: Source[]) => void;[m
[31m-  confirmText: string;[m
[31m-  preSelectAll?: boolean;[m
[31m-}[m
[31m-[m
[31m-export function SourcesModal({onClose, onConfirm, confirmText, preSelectAll}: SourcesModalProps) {[m
[31m-  const [definitions, setDefinitions] = useState<DefinitionWithTenants[]>();[m
[31m-  const [tenants, setTenants] = useState<TenantWithDefinitions[]>([]);[m
[31m-  const [selected, setSelected] = useState<Source[]>([]);[m
[31m-  const [selectedTenant, setSelectedTenant] = useState<string>();[m
[32m+[m[32mexport function SourcesModal({onClose, onConfirm, mightFail, confirmText, preSelectAll}) {[m
[32m+[m[32m  const [definitions, setDefinitions] = useState();[m
[32m+[m[32m  const [tenants, setTenants] = useState([]);[m
[32m+[m[32m  const [selected, setSelected] = useState([]);[m
[32m+[m[32m  const [selectedTenant, setSelectedTenant] = useState();[m
   const [query, setQuery] = useState('');[m
[31m-  const {mightFail} = useErrorHandling();[m
[32m+[m[32m  const [optimizeProfile, setOptimizeProfile] = useState();[m
 [m
   useEffect(() => {[m
     mightFail([m
[36m@@ -69,11 +55,12 @@[m [mexport function SourcesModal({onClose, onConfirm, confirmText, preSelectAll}: So[m
       const tenantAvailable = await areTenantsAvailable();[m
       if (tenantAvailable) {[m
         mightFail(getTenantsWithDefinitions(), setTenants, showError);[m
[32m+[m[32m        setOptimizeProfile(await getOptimizeProfile());[m
       }[m
     })();[m
   }, [mightFail]);[m
 [m
[31m-  const removeExtraTenants = (def: Source): Source => {[m
[32m+[m[32m  const removeExtraTenants = (def) => {[m
     if (typeof selectedTenant === 'undefined') {[m
       return def;[m
     }[m
[36m@@ -111,8 +98,7 @@[m [mexport function SourcesModal({onClose, onConfirm, confirmText, preSelectAll}: So[m
     );[m
   }[m
 [m
[31m-  const isInSelected = ({key}: {key?: string}) =>[m
[31m-    selected.some(({definitionKey}) => key === definitionKey);[m
[32m+[m[32m  const isInSelected = ({key}) => selected.some(({definitionKey}) => key === definitionKey);[m
   const allChecked = filteredDefinitions.every(isInSelected);[m
   const allIndeterminate = !allChecked && filteredDefinitions.some(isInSelected);[m
 [m
[36m@@ -127,10 +113,7 @@[m [mexport function SourcesModal({onClose, onConfirm, confirmText, preSelectAll}: So[m
           className={classnames({hidden: !filteredDefinitions.length})}[m
           indeterminate={allIndeterminate}[m
           checked={allChecked}[m
[31m-          onSelect={({target}) => {[m
[31m-            const {checked} = target as HTMLInputElement;[m
[31m-            checked ? deselectAll() : selectAll();[m
[31m-          }}[m
[32m+[m[32m          onSelect={({target: {checked}}) => (checked ? deselectAll() : selectAll())}[m
         />[m
       ),[m
       id: 'checked',[m
[36m@@ -150,16 +133,8 @@[m [mexport function SourcesModal({onClose, onConfirm, confirmText, preSelectAll}: So[m
     });[m
   }[m
 [m
[31m-  const tenantsSelectorItems = [[m
[31m-    {value: undefined, label: t('common.collection.modal.allTenants')},[m
[31m-    ...tenants.map((tenant) => ({[m
[31m-      value: tenant.id,[m
[31m-      label: formatTenantName(tenant),[m
[31m-    })),[m
[31m-  ];[m
[31m-[m
   return ([m
[31m-    <Modal open onClose={onClose} size="lg" className="SourcesModal" isOverflowVisible>[m
[32m+[m[32m    <Modal open onClose={onClose} size="lg" className="SourcesModal">[m
       <Modal.Header>{t('home.sources.add')}</Modal.Header>[m
       <Modal.Content>[m
         <Table[m
[36m@@ -167,24 +142,28 @@[m [mexport function SourcesModal({onClose, onConfirm, confirmText, preSelectAll}: So[m
             <TableToolbar>[m
               <TableToolbarContent>[m
                 {tenants.length !== 0 && ([m
[31m-                  <ComboBox[m
[31m-                    id="tenantsSelector"[m
[32m+[m[32m                  <Typeahead[m
                     className="tenantsSelector"[m
[31m-                    placeholder={t('common.select').toString()}[m
[31m-                    items={tenantsSelectorItems}[m
[31m-                    itemToString={(tenant) =>[m
[31m-                      (tenant as (typeof tenantsSelectorItems)[number])?.label.toString()[m
[31m-                    }[m
[31m-                    initialSelectedItem={tenantsSelectorItems[0]}[m
[31m-                    onChange={({selectedItem}) => {[m
[32m+[m[32m                    placeholder={t('common.select')}[m
[32m+[m[32m                    onChange={(tenant) => {[m
                       setSelected([]);[m
[31m-                      setSelectedTenant(selectedItem?.value);[m
[32m+[m[32m                      setSelectedTenant(tenant);[m
                     }}[m
[31m-                  />[m
[32m+[m[32m                    noValuesMessage={t('common.notFound')}[m
[32m+[m[32m                  >[m
[32m+[m[32m                    <Typeahead.Option value={undefined}>[m
[32m+[m[32m                      {t('common.collection.modal.allTenants')}[m
[32m+[m[32m                    </Typeahead.Option>[m
[32m+[m[32m                    {tenants.map((tenant) => ([m
[32m+[m[32m                      <Typeahead.Option key={tenant.id} value={tenant.id}>[m
[32m+[m[32m                        {formatTenantName(tenant)}[m
[32m+[m[32m                      </Typeahead.Option>[m
[32m+[m[32m                    ))}[m
[32m+[m[32m                  </Typeahead>[m
                 )}[m
                 <TableToolbarSearch[m
                   value={query}[m
[31m-                  placeholder={t('home.search.name').toString()}[m
[32m+[m[32m                  placeholder={t('home.search.name')}[m
                   onChange={(evt) => {[m
                     setQuery(evt.target.value);[m
                   }}[m
[36m@@ -210,42 +189,44 @@[m [mexport function SourcesModal({onClose, onConfirm, confirmText, preSelectAll}: So[m
                 id={key}[m
                 name={key}[m
                 ariaLabel={key}[m
[31m-                onSelect={({target}) => {[m
[31m-                  const {checked} = target as HTMLInputElement;[m
[32m+[m[32m                onSelect={({target: {checked}}) =>[m
                   checked[m
                     ? setSelected([...selected, removeExtraTenants(format(def))])[m
                     : setSelected((selected) =>[m
                         selected.filter(({definitionKey}) => def.key !== definitionKey)[m
[31m-                      );[m
[31m-                }}[m
[32m+[m[32m                      )[m
[32m+[m[32m                }[m
               />,[m
               key,[m
[31m-              def.type || '',[m
[32m+[m[32m              def.type,[m
             ];[m
 [m
             if (tenants.length !== 0) {[m
               body.push([m
                 // clicking inside the popover[m
[31m-                <TenantPopover[m
[31m-                  tenants={def.tenants}[m
[31m-                  selected={selectedDefinition?.tenants || ['']}[m
[31m-                  disabled={!selectedDefinition}[m
[31m-                  onChange={(newTenants) => {[m
[31m-                    setSelected([m
[31m-                      selected.map((selectedDefinition) => {[m
[31m-                        if (def.key === selectedDefinition.definitionKey) {[m
[31m-                          return {[m
[31m-                            ...selectedDefinition,[m
[31m-                            tenants:[m
[31m-                              newTenants.length === 0 ? [def.tenants[0]?.id || null] : newTenants,[m
[31m-                          };[m
[31m-                        }[m
[31m-                        return selectedDefinition;[m
[31m-                      })[m
[31m-                    );[m
[31m-                  }}[m
[31m-                  floating[m
[31m-                />[m
[32m+[m[32m                optimizeProfile === 'platform' ? ([m
[32m+[m[32m                  <TenantPopover[m
[32m+[m[32m                    tenants={def.tenants}[m
[32m+[m[32m                    selected={selectedDefinition?.tenants || ['']}[m
[32m+[m[32m                    disabled={!selectedDefinition}[m
[32m+[m[32m                    onChange={(newTenants) => {[m
[32m+[m[32m                      setSelected([m
[32m+[m[32m                        selected.map((selectedDefinition) => {[m
[32m+[m[32m                          if (def.key === selectedDefinition.definitionKey) {[m
[32m+[m[32m                            return {[m
[32m+[m[32m                              ...selectedDefinition,[m
[32m+[m[32m                              tenants: newTenants.length === 0 ? [def.tenants[0].id] : newTenants,[m
[32m+[m[32m                            };[m
[32m+[m[32m                          }[m
[32m+[m[32m                          return selectedDefinition;[m
[32m+[m[32m                        })[m
[32m+[m[32m                      );[m
[32m+[m[32m                    }}[m
[32m+[m[32m                    floating[m
[32m+[m[32m                  />[m
[32m+[m[32m                ) : ([m
[32m+[m[32m                  formatTenantName(def.tenants[0])[m
[32m+[m[32m                )[m
               );[m
             }[m
 [m
[36m@@ -269,9 +250,9 @@[m [mexport function SourcesModal({onClose, onConfirm, confirmText, preSelectAll}: So[m
   );[m
 }[m
 [m
[31m-export default SourcesModal;[m
[32m+[m[32mexport default withErrorHandling(SourcesModal);[m
 [m
[31m-function format({key, type, tenants}: DefinitionWithTenants): Source {[m
[32m+[m[32mfunction format({key, type, tenants}) {[m
   return {[m
     definitionKey: key,[m
     definitionType: type,[m
[36m@@ -279,7 +260,7 @@[m [mfunction format({key, type, tenants}: DefinitionWithTenants): Source {[m
   };[m
 }[m
 [m
[31m-function definitionHasSelectedTenant(def: DefinitionWithTenants, selectedTenant?: string) {[m
[32m+[m[32mfunction definitionHasSelectedTenant(def, selectedTenant) {[m
   return def.tenants.some(({id}) =>[m
     typeof selectedTenant !== 'undefined' ? selectedTenant === id : true[m
   );[m
[1mdiff --git a/client/src/components/Home/modals/SourcesModal.scss b/client/src/components/Home/modals/SourcesModal.scss[m
[1mindex 3e93d279a7..c1f2bb22f0 100644[m
[1m--- a/client/src/components/Home/modals/SourcesModal.scss[m
[1m+++ b/client/src/components/Home/modals/SourcesModal.scss[m
[36m@@ -5,16 +5,11 @@[m
     height: 500px;[m
 [m
     .tenantsSelector {[m
[32m+[m[32m      align-self: center;[m
[32m+[m[32m      width: auto;[m
       margin-right: auto;[m
[31m-[m
[31m-      .cds--combo-box {[m
[31m-        max-height: 3rem;[m
[31m-        height: 100%;[m
[31m-[m
[31m-        input {[m
[31m-          background-color: transparent;[m
[31m-        }[m
[31m-      }[m
[32m+[m[32m      margin-left: 10px;[m
[32m+[m[32m      flex-shrink: 0;[m
     }[m
 [m
     .cds--search {[m
[1mdiff --git a/client/src/components/Home/modals/SourcesModal.test.tsx b/client/src/components/Home/modals/SourcesModal.test.js[m
[1msimilarity index 55%[m
[1mrename from client/src/components/Home/modals/SourcesModal.test.tsx[m
[1mrename to client/src/components/Home/modals/SourcesModal.test.js[m
[1mindex e962a83807..6f613124b4 100644[m
[1m--- a/client/src/components/Home/modals/SourcesModal.test.tsx[m
[1m+++ b/client/src/components/Home/modals/SourcesModal.test.js[m
[36m@@ -5,10 +5,10 @@[m
  * except in compliance with the proprietary license.[m
  */[m
 [m
[31m-import {runAllEffects} from '__mocks__/react';[m
[32m+[m[32mimport React, {runAllEffects} from 'react';[m
 import {shallow} from 'enzyme';[m
 [m
[31m-import {areTenantsAvailable} from 'config';[m
[32m+[m[32mimport {areTenantsAvailable, getOptimizeProfile} from 'config';[m
 [m
 import {getDefinitionsWithTenants, getTenantsWithDefinitions} from './service';[m
 import {SourcesModal} from './SourcesModal';[m
[36m@@ -23,20 +23,14 @@[m [mjest.mock('./service', () => ({[m
 [m
 jest.mock('config', () => ({[m
   areTenantsAvailable: jest.fn().mockReturnValue(true),[m
[31m-}));[m
[31m-[m
[31m-jest.mock('hooks', () => ({[m
[31m-  ...jest.requireActual('hooks'),[m
[31m-  useErrorHandling: () => ({[m
[31m-    mightFail: jest.fn().mockImplementation((data, cb) => cb(data)),[m
[31m-  }),[m
[32m+[m[32m  getOptimizeProfile: jest.fn().mockReturnValue('platform'),[m
 }));[m
 [m
 const props = {[m
[32m+[m[32m  mightFail: jest.fn().mockImplementation((data, cb) => cb(data)),[m
   open: true,[m
   onClose: jest.fn(),[m
   onConfirm: jest.fn(),[m
[31m-  confirmText: 'confirm',[m
 };[m
 [m
 beforeEach(() => {[m
[36m@@ -53,7 +47,7 @@[m [mit('should load definitions and tenants on mount', async () => {[m
 });[m
 [m
 it('should display key of definition if name is null', async () => {[m
[31m-  (getDefinitionsWithTenants as jest.Mock).mockReturnValueOnce([[m
[32m+[m[32m  getDefinitionsWithTenants.mockReturnValueOnce([[m
     {key: 'testDef', name: null, type: 'process', tenants: [{id: 'sales'}]},[m
   ]);[m
 [m
[36m@@ -61,11 +55,11 @@[m [mit('should display key of definition if name is null', async () => {[m
 [m
   await runAllEffects();[m
 [m
[31m-  expect(node.find('Table').prop<string[][]>('body')[0]?.[1]).toBe('testDef');[m
[32m+[m[32m  expect(node.find('Table').prop('body')[0][1]).toBe('testDef');[m
 });[m
 [m
 it('should hide tenants if they are not available', async () => {[m
[31m-  (areTenantsAvailable as jest.Mock).mockReturnValueOnce(false);[m
[32m+[m[32m  areTenantsAvailable.mockReturnValueOnce(false);[m
   const node = shallow(<SourcesModal {...props} />);[m
 [m
   await runAllEffects();[m
[36m@@ -75,8 +69,8 @@[m [mit('should hide tenants if they are not available', async () => {[m
   expect([m
     node[m
       .find('Table')[m
[31m-      .prop<{id?: string}[]>('head')[m
[31m-      .find((col) => col?.id === 'tenants')[m
[32m+[m[32m      .prop('head')[m
[32m+[m[32m      .find((col) => col.id === 'tenants')[m
   ).not.toBeDefined();[m
   expect(node.find('.header Typeahead')).not.toExist();[m
 });[m
[36m@@ -89,8 +83,8 @@[m [mit('should preselect all definitions if specified', async () => {[m
   expect([m
     node[m
       .find('Table')[m
[31m-      .prop<JSX.Element[][]>('body')[m
[31m-      .every((row) => row[0]?.props.checked)[m
[32m+[m[32m      .prop('body')[m
[32m+[m[32m      .every((row) => row[0].props.checked)[m
   ).toBe(true);[m
 });[m
 [m
[36m@@ -101,17 +95,17 @@[m [mit('should select and deselect a definition', async () => {[m
 [m
   node[m
     .find('Table')[m
[31m-    .prop<JSX.Element[][]>('body')[0]?.[0][m
[31m-    ?.props.onSelect({target: {checked: true}});[m
[32m+[m[32m    .prop('body')[0][0][m
[32m+[m[32m    .props.onSelect({target: {checked: true}});[m
 [m
[31m-  expect(node.find('Table').prop<JSX.Element[][]>('body')[0]?.[0]?.props.checked).toBe(true);[m
[32m+[m[32m  expect(node.find('Table').prop('body')[0][0].props.checked).toBe(true);[m
 [m
   node[m
     .find('Table')[m
[31m-    .prop<JSX.Element[][]>('body')[0]?.[0][m
[31m-    ?.props.onSelect({target: {checked: false}});[m
[32m+[m[32m    .prop('body')[0][0][m
[32m+[m[32m    .props.onSelect({target: {checked: false}});[m
 [m
[31m-  expect(node.find('Table').prop<JSX.Element[][]>('body')[0]?.[0]?.props.checked).toBe(false);[m
[32m+[m[32m  expect(node.find('Table').prop('body')[0][0].props.checked).toBe(false);[m
 });[m
 [m
 it('should selected/deselect all definitions', async () => {[m
[36m@@ -121,26 +115,26 @@[m [mit('should selected/deselect all definitions', async () => {[m
 [m
   node[m
     .find('Table')[m
[31m-    .prop<{label: JSX.Element}[]>('head')[0][m
[31m-    ?.label.props.onSelect({target: {checked: true}});[m
[32m+[m[32m    .prop('head')[0][m
[32m+[m[32m    .label.props.onSelect({target: {checked: true}});[m
 [m
   expect([m
     node[m
       .find('Table')[m
[31m-      .prop<JSX.Element[][]>('body')[m
[31m-      .every((row) => row[0]?.props.checked)[m
[32m+[m[32m      .prop('body')[m
[32m+[m[32m      .every((row) => row[0].props.checked)[m
   ).toBe(true);[m
 [m
   node[m
     .find('Table')[m
[31m-    .prop<{label: JSX.Element}[]>('head')[0][m
[31m-    ?.label.props.onSelect({target: {checked: false}});[m
[32m+[m[32m    .prop('head')[0][m
[32m+[m[32m    .label.props.onSelect({target: {checked: false}});[m
 [m
   expect([m
     node[m
       .find('Table')[m
[31m-      .prop<JSX.Element[][]>('body')[m
[31m-      .every((row) => !row[0]?.props.checked)[m
[32m+[m[32m      .prop('body')[m
[32m+[m[32m      .every((row) => !row[0].props.checked)[m
   ).toBe(true);[m
 });[m
 [m
[36m@@ -149,15 +143,15 @@[m [mit('should filter definitions by tenant', async () => {[m
 [m
   await runAllEffects();[m
 [m
[31m-  const toolbar = shallow(node.find('Table').prop<any>('toolbar'));[m
[31m-  toolbar.find('TableToolbarSearch').prop<(target: HTMLInputElement) => void>('onChange')?.({[m
[32m+[m[32m  const toolbar = shallow(node.find('Table').prop('toolbar'));[m
[32m+[m[32m  toolbar.find('TableToolbarSearch').prop('onChange')({[m
     target: {value: 'engineering'},[m
[31m-  } as unknown as HTMLInputElement);[m
[32m+[m[32m  });[m
 [m
   expect([m
     node[m
       .find('Table')[m
[31m-      .prop<string[][]>('body')[m
[32m+[m[32m      .prop('body')[m
       .find((row) => row[1] === 'def2Name')[m
   ).toBe(undefined);[m
 });[m
[36m@@ -168,14 +162,13 @@[m [mit('should only select the tenant used in filtering', async () => {[m
 [m
   await runAllEffects();[m
 [m
[31m-  const dataTable = node.find('Table').dive().find('DataTable').dive();[m
[31m-[m
[31m-  dataTable.find('ComboBox').simulate('change', {selectedItem: {value: 'engineering'}});[m
[32m+[m[32m  const toolbar = shallow(node.find('Table').prop('toolbar'));[m
[32m+[m[32m  toolbar.find('Typeahead').simulate('change', 'engineering');[m
 [m
   node[m
     .find('Table')[m
[31m-    .prop<{label: JSX.Element}[]>('head')[0][m
[31m-    ?.label.props.onSelect({target: {checked: true}});[m
[32m+[m[32m    .prop('head')[0][m
[32m+[m[32m    .label.props.onSelect({target: {checked: true}});[m
 [m
   node.find('.confirm').simulate('click');[m
 [m
[36m@@ -183,3 +176,45 @@[m [mit('should only select the tenant used in filtering', async () => {[m
     {definitionKey: 'def1', definitionType: 'process', tenants: ['engineering']},[m
   ]);[m
 });[m
[32m+[m
[32m+[m[32mit('should change the selected tenants based on the popover in C7', async () => {[m
[32m+[m[32m  const spy = jest.fn();[m
[32m+[m[32m  const node = shallow(<SourcesModal {...props} onConfirm={spy} preSelectAll />);[m
[32m+[m
[32m+[m[32m  await runAllEffects();[m
[32m+[m[32m  await node.update();[m
[32m+[m
[32m+[m[32m  const tenantPopover = node.find('Table').prop('body')[0][3];[m
[32m+[m
[32m+[m[32m  tenantPopover.props.onChange([{id: 'test'}]);[m
[32m+[m
[32m+[m[32m  node.find('.confirm').simulate('click');[m
[32m+[m
[32m+[m[32m  expect(spy).toHaveBeenCalledWith([[m
[32m+[m[32m    {[m
[32m+[m[32m      definitionKey: 'def1',[m
[32m+[m[32m      definitionType: 'process',[m
[32m+[m[32m      tenants: [{id: 'test'}],[m
[32m+[m[32m    },[m
[32m+[m[32m    {[m
[32m+[m[32m      definitionKey: 'def2',[m
[32m+[m[32m      definitionType: 'process',[m
[32m+[m[32m      tenants: [null],[m
[32m+[m[32m    },[m
[32m+[m[32m  ]);[m
[32m+[m[32m});[m
[32m+[m
[32m+[m[32mit('should display tenant value as text in self managed mode', async () => {[m
[32m+[m[32m  getOptimizeProfile.mockReturnValueOnce('ccsm');[m
[32m+[m[32m  getDefinitionsWithTenants.mockReturnValueOnce([[m
[32m+[m[32m    {key: 'testDef', name: null, type: 'process', tenants: [{id: '<default>', name: 'Default'}]},[m
[32m+[m[32m  ]);[m
[32m+[m
[32m+[m[32m  const spy = jest.fn();[m
[32m+[m[32m  const node = shallow(<SourcesModal {...props} onConfirm={spy} preSelectAll />);[m
[32m+[m
[32m+[m[32m  await runAllEffects();[m
[32m+[m[32m  await node.update();[m
[32m+[m
[32m+[m[32m  expect(node.find('Table').prop('body')[0][3]).toBe('Default');[m
[32m+[m[32m});[m
[1mdiff --git a/client/src/components/Home/modals/__snapshots__/AddUserModal.test.tsx.snap b/client/src/components/Home/modals/__snapshots__/AddUserModal.test.tsx.snap[m
[1mnew file mode 100644[m
[1mindex 0000000000..beb29d227b[m
[1m--- /dev/null[m
[1m+++ b/client/src/components/Home/modals/__snapshots__/AddUserModal.test.tsx.snap[m
[36m@@ -0,0 +1,97 @@[m
[32m+[m[32m// Jest Snapshot v1, https://goo.gl/fbAQLP[m
[32m+[m
[32m+[m[32mexports[`should match snapshot 1`] = `[m
[32m+[m[32m<Modal[m
[32m+[m[32m  className="AddUserModal"[m
[32m+[m[32m  isOverflowVisible={true}[m
[32m+[m[32m  onClose={[Function]}[m
[32m+[m[32m  open={true}[m
[32m+[m[32m>[m
[32m+[m[32m  <ForwardRef(ModalHeader)[m
[32m+[m[32m    iconDescription="Close"[m
[32m+[m[32m  >[m
[32m+[m[32m    Add User or User Group[m
[32m+[m[32m  </ForwardRef(ModalHeader)>[m
[32m+[m[32m  <ForwardRef>[m
[32m+[m[32m    <Form>[m
[32m+[m[32m      Users and User Groups[m
[32m+[m[32m      <FormGroup>[m
[32m+[m[32m        <UserTypeahead[m
[32m+[m[32m          collectionUsers={Array []}[m
[32m+[m[32m          onChange={[Function]}[m
[32m+[m[32m          optionsOnly={false}[m
[32m+[m[32m          users={Array []}[m
[32m+[m[32m        />[m
[32m+[m[32m      </FormGroup>[m
[32m+[m[32m      User role[m
[32m+[m[32m      <FormGroup>[m
[32m+[m[32m        <ForwardRef(LabeledInput)[m
[32m+[m[32m          checked={true}[m
[32m+[m[32m          label={[m
[32m+[m[32m            <React.Fragment>[m
[32m+[m[32m              <h2>[m
[32m+[m[32m                Viewer[m
[32m+[m[32m              </h2>[m
[32m+[m[32m              <p>[m
[32m+[m[32m                Read-only access to all objects[m
[32m+[m[32m              </p>[m
[32m+[m[32m            </React.Fragment>[m
[32m+[m[32m          }[m
[32m+[m[32m          onChange={[Function]}[m
[32m+[m[32m          type="radio"[m
[32m+[m[32m        />[m
[32m+[m[32m        <ForwardRef(LabeledInput)[m
[32m+[m[32m          checked={false}[m
[32m+[m[32m          label={[m
[32m+[m[32m            <React.Fragment>[m
[32m+[m[32m              <h2>[m
[32m+[m[32m                Editor[m
[32m+[m[32m              </h2>[m
[32m+[m[32m              <p>[m
[32m+[m[32m                Create, edit and delete Dashboards, Reports and Alerts[m
[32m+[m[32m              </p>[m
[32m+[m[32m            </React.Fragment>[m
[32m+[m[32m          }[m
[32m+[m[32m          onChange={[Function]}[m
[32m+[m[32m          type="radio"[m
[32m+[m[32m        />[m
[32m+[m[32m        <ForwardRef(LabeledInput)[m
[32m+[m[32m          checked={false}[m
[32m+[m[32m          label={[m
[32m+[m[32m            <React.Fragment>[m
[32m+[m[32m              <h2>[m
[32m+[m[32m                Manager[m
[32m+[m[32m              </h2>[m
[32m+[m[32m              <p>[m
[32m+[m[32m                Full rights editing Collection and Users[m
[32m+[m[32m              </p>[m
[32m+[m[32m            </React.Fragment>[m
[32m+[m[32m          }[m
[32m+[m[32m          onChange={[Function]}[m
[32m+[m[32m          type="radio"[m
[32m+[m[32m        />[m
[32m+[m[32m      </FormGroup>[m
[32m+[m[32m    </Form>[m
[32m+[m[32m  </ForwardRef>[m
[32m+[m[32m  <ForwardRef(ModalFooter)[m
[32m+[m[32m    closeModal={[Function]}[m
[32m+[m[32m    onRequestClose={[Function]}[m
[32m+[m[32m    onRequestSubmit={[Function]}[m
[32m+[m[32m  >[m
[32m+[m[32m    <Button[m
[32m+[m[32m      className="cancel"[m
[32m+[m[32m      kind="secondary"[m
[32m+[m[32m      onClick={[Function]}[m
[32m+[m[32m    >[m
[32m+[m[32m      Cancel[m
[32m+[m[32m    </Button>[m
[32m+[m[32m    <Button[m
[32m+[m[32m      className="confirm"[m
[32m+[m[32m      disabled={true}[m
[32m+[m[32m      onClick={[Function]}[m
[32m+[m[32m    >[m
[32m+[m[32m      Add[m
[32m+[m[32m    </Button>[m
[32m+[m[32m  </ForwardRef(ModalFooter)>[m
[32m+[m[32m</Modal>[m
[32m+[m[32m`;[m
[1mdiff --git a/client/src/components/Home/modals/__snapshots__/CopyModal.test.js.snap b/client/src/components/Home/modals/__snapshots__/CopyModal.test.js.snap[m
[1mnew file mode 100644[m
[1mindex 0000000000..4e8fa024d0[m
[1m--- /dev/null[m
[1m+++ b/client/src/components/Home/modals/__snapshots__/CopyModal.test.js.snap[m
[36m@@ -0,0 +1,116 @@[m
[32m+[m[32m// Jest Snapshot v1, https://goo.gl/fbAQLP[m
[32m+[m
[32m+[m[32mexports[`should hide option to move the copy for collection entities 1`] = `[m
[32m+[m[32m<Modal[m
[32m+[m[32m  className="CopyModal"[m
[32m+[m[32m  onClose={[MockFunction]}[m
[32m+[m[32m  open={true}[m
[32m+[m[32m>[m
[32m+[m[32m  <ForwardRef(ModalHeader)[m
[32m+[m[32m    iconDescription="Close"[m
[32m+[m[32m  >[m
[32m+[m[32m    Copy collection[m
[32m+[m[32m  </ForwardRef(ModalHeader)>[m
[32m+[m[32m  <ForwardRef>[m
[32m+[m[32m    <Form>[m
[32m+[m[32m      <FormGroup>[m
[32m+[m[32m        <ForwardRef(LabeledInput)[m
[32m+[m[32m          autoComplete="off"[m
[32m+[m[32m          label="Name of Copy"[m
[32m+[m[32m          onChange={[Function]}[m
[32m+[m[32m          type="text"[m
[32m+[m[32m          value="collection (copy)"[m
[32m+[m[32m        />[m
[32m+[m[32m      </FormGroup>[m
[32m+[m[32m      <Message>[m
[32m+[m[32m        All items and users will be copied.[m
[32m+[m[32m      </Message>[m
[32m+[m[32m    </Form>[m
[32m+[m[32m  </ForwardRef>[m
[32m+[m[32m  <ForwardRef(ModalFooter)[m
[32m+[m[32m    closeModal={[Function]}[m
[32m+[m[32m    onRequestClose={[Function]}[m
[32m+[m[32m    onRequestSubmit={[Function]}[m
[32m+[m[32m  >[m
[32m+[m[32m    <Button[m
[32m+[m[32m      className="cancel"[m
[32m+[m[32m      kind="secondary"[m
[32m+[m[32m      onClick={[MockFunction]}[m
[32m+[m[32m    >[m
[32m+[m[32m      Cancel[m
[32m+[m[32m    </Button>[m
[32m+[m[32m    <Button[m
[32m+[m[32m      className="confirm"[m
[32m+[m[32m      disabled={false}[m
[32m+[m[32m      onClick={[Function]}[m
[32m+[m[32m    >[m
[32m+[m[32m      Copy[m
[32m+[m[32m    </Button>[m
[32m+[m[32m  </ForwardRef(ModalFooter)>[m
[32m+[m[32m</Modal>[m
[32m+[m[32m`;[m
[32m+[m
[32m+[m[32mexports[`should match snapshot 1`] = `[m
[32m+[m[32m<Modal[m
[32m+[m[32m  className="CopyModal"[m
[32m+[m[32m  onClose={[MockFunction]}[m
[32m+[m[32m  open={true}[m
[32m+[m[32m>[m
[32m+[m[32m  <ForwardRef(ModalHeader)[m
[32m+[m[32m    iconDescription="Close"[m
[32m+[m[32m  >[m
[32m+[m[32m    Copy Test Dashboard[m
[32m+[m[32m  </ForwardRef(ModalHeader)>[m
[32m+[m[32m  <ForwardRef>[m
[32m+[m[32m    <Form>[m
[32m+[m[32m      <FormGroup>[m
[32m+[m[32m        <ForwardRef(LabeledInput)[m
[32m+[m[32m          autoComplete="off"[m
[32m+[m[32m          label="Name of Copy"[m
[32m+[m[32m          onChange={[Function]}[m
[32m+[m[32m          type="text"[m
[32m+[m[32m          value="Test Dashboard (copy)"[m
[32m+[m[32m        />[m
[32m+[m[32m      </FormGroup>[m
[32m+[m[32m      <MoveCopyErrorHandler[m
[32m+[m[32m        collection={null}[m
[32m+[m[32m        entity={[m
[32m+[m[32m          Object {[m
[32m+[m[32m            "data": Object {[m
[32m+[m[32m              "subEntityCounts": Object {[m
[32m+[m[32m                "report": 2,[m
[32m+[m[32m              },[m
[32m+[m[32m            },[m
[32m+[m[32m            "entityType": "dashboard",[m
[32m+[m[32m            "name": "Test Dashboard",[m
[32m+[m[32m          }[m
[32m+[m[32m        }[m
[32m+[m[32m        moving={false}[m
[32m+[m[32m        parentCollection="aCollectionId"[m
[32m+[m[32m        setCollection={[Function]}[m
[32m+[m[32m        setMoving={[Function]}[m
[32m+[m[32m      />[m
[32m+[m[32m    </Form>[m
[32m+[m[32m  </ForwardRef>[m
[32m+[m[32m  <ForwardRef(ModalFooter)[m
[32m+[m[32m    closeModal={[Function]}[m
[32m+[m[32m    onRequestClose={[Function]}[m
[32m+[m[32m    onRequestSubmit={[Function]}[m
[32m+[m[32m  >[m
[32m+[m[32m    <Button[m
[32m+[m[32m      className="cancel"[m
[32m+[m[32m      kind="secondary"[m
[32m+[m[32m      onClick={[MockFunction]}[m
[32m+[m[32m    >[m
[32m+[m[32m      Cancel[m
[32m+[m[32m    </Button>[m
[32m+[m[32m    <Button[m
[32m+[m[32m      className="confirm"[m
[32m+[m[32m      disabled={false}[m
[32m+[m[32m      onClick={[Function]}[m
[32m+[m[32m    >[m
[32m+[m[32m      Copy[m
[32m+[m[32m    </Button>[m
[32m+[m[32m  </ForwardRef(ModalFooter)>[m
[32m+[m[32m</Modal>[m
[32m+[m[32m`;[m
[1mdiff --git a/client/src/components/Home/modals/__snapshots__/MoveCopy.test.js.snap b/client/src/components/Home/modals/__snapshots__/MoveCopy.test.js.snap[m
[1mnew file mode 100644[m
[1mindex 0000000000..5221889293[m
[1m--- /dev/null[m
[1m+++ b/client/src/components/Home/modals/__snapshots__/MoveCopy.test.js.snap[m
[36m@@ -0,0 +1,43 @@[m
[32m+[m[32m// Jest Snapshot v1, https://goo.gl/fbAQLP[m
[32m+[m
[32m+[m[32mexports[`should match snapshot 1`] = `[m
[32m+[m[32m<Fragment>[m
[32m+[m[32m  <FormGroup[m
[32m+[m[32m    className="moveSection"[m
[32m+[m[32m  >[m
[32m+[m[32m    <Switch[m
[32m+[m[32m      checked={true}[m
[32m+[m[32m      label="Move copy to …"[m
[32m+[m[32m      onChange={[Function]}[m
[32m+[m[32m    />[m
[32m+[m[32m  </FormGroup>[m
[32m+[m[32m  <FormGroup[m
[32m+[m[32m    noSpacing={true}[m
[32m+[m[32m  >[m
[32m+[m[32m    <Typeahead[m
[32m+[m[32m      noValuesMessage="No collections have been created"[m
[32m+[m[32m      onChange={[Function]}[m
[32m+[m[32m      onClose={[Function]}[m
[32m+[m[32m      onOpen={[Function]}[m
[32m+[m[32m      onSearch={[Function]}[m
[32m+[m[32m      placeholder="Please select"[m
[32m+[m[32m    >[m
[32m+[m[32m      <ForwardRef(DropdownOption)[m
[32m+[m[32m        key="null"[m
[32m+[m[32m        value={null}[m
[32m+[m[32m      >[m
[32m+[m[32m        Collections[m
[32m+[m[32m      </ForwardRef(DropdownOption)>[m
[32m+[m[32m      <ForwardRef(DropdownOption)[m
[32m+[m[32m        key="anotherCollection"[m
[32m+[m[32m        value="anotherCollection"[m
[32m+[m[32m      >[m
[32m+[m[32m        Another Collection[m
[32m+[m[32m      </ForwardRef(DropdownOption)>[m
[32m+[m[32m    </Typeahead>[m
[32m+[m[32m  </FormGroup>[m
[32m+[m[32m  <FormGroup>[m
[32m+[m[32m    This Dashboard contains 2 Reports. They will be copied, too.[m
[32m+[m[32m  </FormGroup>[m
[32m+[m[32m</Fragment>[m
[32m+[m[32m`;[m
[1mdiff --git a/client/src/components/Home/modals/service.js b/client/src/components/Home/modals/service.js[m
[1mindex 6fa66afe5a..d2bda97626 100644[m
[1m--- a/client/src/components/Home/modals/service.js[m
[1m+++ b/client/src/components/Home/modals/service.js[m
[36m@@ -16,6 +16,18 @@[m [mexport async function getDefinitionTenants(defintionKey, defintionType) {[m
   return await response.json();[m
 }[m
 [m
[32m+[m[32mexport async function getDefinitionsWithTenants() {[m
[32m+[m[32m  const response = await get('api/definition');[m
[32m+[m
[32m+[m[32m  return await response.json();[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32mexport async function getTenantsWithDefinitions() {[m
[32m+[m[32m  const response = await get('api/definition/_groupByTenant');[m
[32m+[m
[32m+[m[32m  return await response.json();[m
[32m+[m[32m}[m
[32m+[m
 export function formatTenants(tenants, selectedTenants) {[m
   return tenants.map(({id, name}, index) => {[m
     if (id === '__unauthorizedTenantId__') {[m
[36m@@ -48,5 +60,3 @@[m [mexport function formatDefintionName({key, name, type}) {[m
 [m
   return (name || key) + ' (' + typeLabel + ')';[m
 }[m
[31m-[m
[31m-export {getDefinitionsWithTenants, getTenantsWithDefinitions} from './service.ts';[m
[1mdiff --git a/client/src/components/Home/modals/service.ts b/client/src/components/Home/modals/service.ts[m
[1mdeleted file mode 100644[m
[1mindex 14e1a4f990..0000000000[m
[1m--- a/client/src/components/Home/modals/service.ts[m
[1m+++ /dev/null[m
[36m@@ -1,25 +0,0 @@[m
[31m-/*[m
[31m- * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH[m
[31m- * under one or more contributor license agreements. Licensed under a proprietary license.[m
[31m- * See the License.txt file for more information. You may not use this file[m
[31m- * except in compliance with the proprietary license.[m
[31m- */[m
[31m-[m
[31m-import {get} from 'request';[m
[31m-import {Definition, Tenant} from 'types';[m
[31m-[m
[31m-export type TenantWithDefinitions = Tenant & {definitions: Definition};[m
[31m-[m
[31m-export type DefinitionWithTenants = Omit<Definition, 'key'> & {tenants: Tenant[]; key: string};[m
[31m-[m
[31m-export async function getDefinitionsWithTenants(): Promise<DefinitionWithTenants[]> {[m
[31m-  const response = await get('api/definition');[m
[31m-[m
[31m-  return await response.json();[m
[31m-}[m
[31m-[m
[31m-export async function getTenantsWithDefinitions(): Promise<TenantWithDefinitions[]> {[m
[31m-  const response = await get('api/definition/_groupByTenant');[m
[31m-[m
[31m-  return await response.json();[m
[31m-}[m
[1mdiff --git a/client/src/components/License/License.js b/client/src/components/License/License.js[m
[1mindex b19a2f66ef..bebea18889 100644[m
[1m--- a/client/src/components/License/License.js[m
[1m+++ b/client/src/components/License/License.js[m
[36m@@ -6,24 +6,22 @@[m
  */[m
 [m
 import React, {useState, useEffect} from 'react';[m
[31m-import {Form, TextArea, Button, InlineNotification, Grid, Column, Stack, Link} from '@carbon/react';[m
 [m
[31m-import {PageTitle} from 'components';[m
[32m+[m[32mimport {Form, Labeled, Button, MessageBox, PageTitle} from 'components';[m
 import {t} from 'translation';[m
[32m+[m[32mimport {withErrorHandling} from 'HOC';[m
 import {addHandler, removeHandler} from 'request';[m
 import {resetOutstandingRequests, createOutstandingRequestPromise} from 'services';[m
[31m-import {useErrorHandling} from 'hooks';[m
 [m
 import {Header, Footer} from '..';[m
 import {validateLicense, storeLicense} from './service';[m
 [m
 import './License.scss';[m
 [m
[31m-export default function License() {[m
[32m+[m[32mexport function License({mightFail, error, resetError}) {[m
   const [licenseInfo, setLicenseInfo] = useState(null);[m
   const [licenseText, setLicenseText] = useState('');[m
   const [willReload, setWillReload] = useState(false);[m
[31m-  const {mightFail, error, resetError} = useErrorHandling();[m
 [m
   useEffect(() => {[m
     mightFail(validateLicense(), setLicenseInfo);[m
[36m@@ -58,79 +56,50 @@[m [mexport default function License() {[m
       <PageTitle pageName={t('license.label')} />[m
       <Header noActions />[m
       <main className="License">[m
[31m-        <Grid>[m
[31m-          <Column[m
[31m-            sm={{[m
[31m-              start: 1,[m
[31m-              end: 8,[m
[31m-            }}[m
[31m-            md={{[m
[31m-              start: 2,[m
[31m-              end: 8,[m
[31m-            }}[m
[31m-            lg={{[m
[31m-              start: 5,[m
[31m-              end: 13,[m
[31m-            }}[m
[31m-          >[m
[31m-            <Form[m
[31m-              onSubmit={(evt) => {[m
[31m-                evt.preventDefault();[m
[31m-[m
[31m-                mightFail(storeLicense(licenseText), (license) => {[m
[31m-                  resetError();[m
[31m-                  setLicenseInfo(license);[m
[31m-                  setTimeout(() => (window.location.href = './'), 10000);[m
[31m-                  setWillReload(true);[m
[31m-                });[m
[31m-              }}[m
[31m-            >[m
[31m-              <Stack gap={8}>[m
[31m-                {licenseInfo && !error && ([m
[31m-                  <InlineNotification[m
[31m-                    kind="success"[m
[31m-                    hideCloseButton[m
[31m-                    subtitle={formatLicenseInfo(licenseInfo)}[m
[31m-                  />[m
[31m-                )}[m
[31m-                {willReload && <Link href="./">{t('license.clickToLogin')}</Link>}[m
[31m-                {error && ([m
[31m-                  <InlineNotification[m
[31m-                    kind="error"[m
[31m-                    aria-label={t('common.closeError')}[m
[31m-                    statusIconDescription={t('common.error')}[m
[31m-                    onCloseButtonClick={() => {[m
[31m-                      resetError();[m
[31m-                    }}[m
[31m-                    subtitle={error.message}[m
[31m-                  />[m
[32m+[m[32m        {(licenseInfo || error) && ([m
[32m+[m[32m          <MessageBox type={error ? 'error' : 'success'}>[m
[32m+[m[32m            {error ? ([m
[32m+[m[32m              error.message[m
[32m+[m[32m            ) : ([m
[32m+[m[32m              <>[m
[32m+[m[32m                {t('license.licensedFor')} {licenseInfo.customerId}.{' '}[m
[32m+[m[32m                {!licenseInfo.unlimited && ([m
[32m+[m[32m                  <>[m
[32m+[m[32m                    {t('license.validUntil')} {new Date(licenseInfo.validUntil).toUTCString()}.{' '}[m
[32m+[m[32m                  </>[m
                 )}[m
[31m-                <TextArea[m
[31m-                  id="LicenseTextArea"[m
[31m-                  rows={12}[m
[31m-                  labelText={t('license.licenseKey')}[m
[31m-                  placeholder={t('license.enterLicense')}[m
[31m-                  value={licenseText}[m
[31m-                  onChange={(evt) => setLicenseText(evt.target.value)}[m
[31m-                />[m
[31m-                <Button type="submit">{t('license.submit')}</Button>[m
[31m-              </Stack>[m
[31m-            </Form>[m
[31m-          </Column>[m
[31m-        </Grid>[m
[32m+[m[32m                {willReload && <span>{t('license.redirectMessage')}</span>}[m
[32m+[m[32m              </>[m
[32m+[m[32m            )}[m
[32m+[m[32m          </MessageBox>[m
[32m+[m[32m        )}[m
[32m+[m[32m        <Form[m
[32m+[m[32m          compact[m
[32m+[m[32m          onSubmit={(evt) => {[m
[32m+[m[32m            evt.preventDefault();[m
[32m+[m
[32m+[m[32m            mightFail(storeLicense(licenseText), (license) => {[m
[32m+[m[32m              resetError();[m
[32m+[m[32m              setLicenseInfo(license);[m
[32m+[m[32m              setTimeout(() => (window.location.href = './'), 10000);[m
[32m+[m[32m              setWillReload(true);[m
[32m+[m[32m            });[m
[32m+[m[32m          }}[m
[32m+[m[32m        >[m
[32m+[m[32m          <Labeled label={t('license.licenseKey')}>[m
[32m+[m[32m            <textarea[m
[32m+[m[32m              rows="12"[m
[32m+[m[32m              placeholder={t('license.enterLicense')}[m
[32m+[m[32m              value={licenseText}[m
[32m+[m[32m              onChange={(evt) => setLicenseText(evt.target.value)}[m
[32m+[m[32m            ></textarea>[m
[32m+[m[32m          </Labeled>[m
[32m+[m[32m          <Button type="submit">{t('license.submit')}</Button>[m
[32m+[m[32m        </Form>[m
       </main>[m
       <Footer />[m
     </>[m
   );[m
 }[m
 [m
[31m-function formatLicenseInfo({customerId, unlimited, validUntil}) {[m
[31m-  let formattedInfo = `${t('license.licensedFor')} ${customerId}.`;[m
[31m-  if (!unlimited) {[m
[31m-    formattedInfo += ` ${t('license.validUntil')} ${t('license.validUntil')} ${new Date([m
[31m-      validUntil[m
[31m-    ).toUTCString()}`;[m
[31m-  }[m
[31m-[m
[31m-  return formattedInfo;[m
[31m-}[m
[32m+[m[32mexport default withErrorHandling(License);[m
[1mdiff --git a/client/src/components/License/License.scss b/client/src/components/License/License.scss[m
[1mindex 8848878c3c..108cfdabd2 100644[m
[1m--- a/client/src/components/License/License.scss[m
[1m+++ b/client/src/components/License/License.scss[m
[36m@@ -1,3 +1,5 @@[m
 .License {[m
[31m-  padding-top: 84px;[m
[32m+[m[32m  max-width: 1024px;[m
[32m+[m[32m  margin: auto;[m
[32m+[m[32m  padding: 84px 20px 0;[m
 }[m
[1mdiff --git a/client/src/components/License/License.test.js b/client/src/components/License/License.test.js[m
[1mindex 1a8348e43a..3dd98fbeda 100644[m
[1m--- a/client/src/components/License/License.test.js[m
[1m+++ b/client/src/components/License/License.test.js[m
[36m@@ -7,42 +7,30 @@[m
 [m
 import React from 'react';[m
 import {shallow} from 'enzyme';[m
[31m-import {TextArea} from '@carbon/react';[m
[31m-[m
[31m-import {useErrorHandling} from 'hooks';[m
 [m
 import {storeLicense} from './service';[m
 [m
[31m-import License from './License';[m
[32m+[m[32mimport {License} from './License';[m
 [m
 jest.mock('./service', () => ({[m
   storeLicense: jest.fn().mockReturnValue({}),[m
 }));[m
 [m
[31m-jest.mock('hooks', () => ({[m
[31m-  useErrorHandling: jest.fn(() => ({[m
[31m-    mightFail: jest.fn((data, cb) => cb(data)),[m
[31m-    error: false,[m
[31m-    resetError: jest.fn(),[m
[31m-  })),[m
[31m-}));[m
[31m-[m
 it('should store a new license', async () => {[m
[31m-  const node = shallow(<License />);[m
[32m+[m[32m  const spy = jest.fn();[m
[32m+[m[32m  const node = shallow([m
[32m+[m[32m    <License mightFail={jest.fn().mockImplementation((data, cb) => cb(data))} resetError={spy} />[m
[32m+[m[32m  );[m
 [m
[31m-  node.find(TextArea).simulate('change', {target: {value: 'new license key'}});[m
[32m+[m[32m  node.find('textarea').simulate('change', {target: {value: 'new license key'}});[m
   node.find('Form').simulate('submit', {preventDefault: jest.fn()});[m
 [m
   expect(storeLicense).toHaveBeenCalledWith('new license key');[m
[32m+[m[32m  expect(spy).toHaveBeenCalled();[m
 });[m
 [m
 it('should show an error on failure', async () => {[m
[31m-  useErrorHandling.mockReturnValueOnce({[m
[31m-    mightFail: jest.fn(),[m
[31m-    error: {message: 'error happened'},[m
[31m-    resetError: jest.fn(),[m
[31m-  });[m
[31m-  const node = shallow(<License error={{message: 'error happened'}} />);[m
[31m-[m
[31m-  expect(node.find({kind: 'error'}).prop('subtitle')).toBe('error happened');[m
[32m+[m[32m  const node = shallow(<License mightFail={jest.fn()} error={{message: 'error happened'}} />);[m
[32m+[m
[32m+[m[32m  expect(node.find({type: 'error'}).children()).toIncludeText('error happened');[m
 });[m
[1mdiff --git a/client/src/components/PrivateRoute/Login/Login.tsx b/client/src/components/PrivateRoute/Login/Login.js[m
[1msimilarity index 80%[m
[1mrename from client/src/components/PrivateRoute/Login/Login.tsx[m
[1mrename to client/src/components/PrivateRoute/Login/Login.js[m
[1mindex 323d80e1e8..24c7b64c8d 100644[m
[1m--- a/client/src/components/PrivateRoute/Login/Login.tsx[m
[1m+++ b/client/src/components/PrivateRoute/Login/Login.js[m
[36m@@ -5,14 +5,14 @@[m
  * except in compliance with the proprietary license.[m
  */[m
 [m
[31m-import {useState, useEffect, ComponentProps} from 'react';[m
[32m+[m[32mimport React, {useState, useEffect} from 'react';[m
 [m
 import {getOptimizeProfile} from 'config';[m
 [m
 import PlatformLogin from './PlatformLogin';[m
 [m
[31m-export function Login(props: ComponentProps<typeof PlatformLogin>) {[m
[31m-  const [optimizeProfile, setOptimizeProfile] = useState<string>();[m
[32m+[m[32mexport function Login(props) {[m
[32m+[m[32m  const [optimizeProfile, setOptimizeProfile] = useState();[m
 [m
   useEffect(() => {[m
     (async () => {[m
[1mdiff --git a/client/src/components/PrivateRoute/Login/Login.test.tsx b/client/src/components/PrivateRoute/Login/Login.test.js[m
[1msimilarity index 55%[m
[1mrename from client/src/components/PrivateRoute/Login/Login.test.tsx[m
[1mrename to client/src/components/PrivateRoute/Login/Login.test.js[m
[1mindex 13c3d6a211..eca1d0f364 100644[m
[1m--- a/client/src/components/PrivateRoute/Login/Login.test.tsx[m
[1m+++ b/client/src/components/PrivateRoute/Login/Login.test.js[m
[36m@@ -5,7 +5,7 @@[m
  * except in compliance with the proprietary license.[m
  */[m
 [m
[31m-import {runAllEffects} from '__mocks__/react';[m
[32m+[m[32mimport React, {runAllEffects} from 'react';[m
 import {shallow} from 'enzyme';[m
 [m
 import {getOptimizeProfile} from 'config';[m
[36m@@ -17,31 +17,9 @@[m [mjest.mock('config', () => ({[m
   getOptimizeProfile: jest.fn(),[m
 }));[m
 [m
[31m-const props = {[m
[31m-  onLogin: jest.fn(),[m
[31m-};[m
[31m-[m
[31m-let originalWindowLocation = window.location;[m
[31m-[m
[31m-beforeEach(() => {[m
[31m-  Object.defineProperty(window, 'location', {[m
[31m-    configurable: true,[m
[31m-    enumerable: true,[m
[31m-    value: new URL(window.location.href),[m
[31m-  });[m
[31m-});[m
[31m-[m
[31m-afterEach(() => {[m
[31m-  Object.defineProperty(window, 'location', {[m
[31m-    configurable: true,[m
[31m-    enumerable: true,[m
[31m-    value: originalWindowLocation,[m
[31m-  });[m
[31m-});[m
[31m-[m
 it('should display the Optimize default login page in platform mode', async () => {[m
[31m-  (getOptimizeProfile as jest.Mock).mockReturnValueOnce('platform');[m
[31m-  const node = shallow(<Login {...props} />);[m
[32m+[m[32m  getOptimizeProfile.mockReturnValueOnce('platform');[m
[32m+[m[32m  const node = shallow(<Login />);[m
 [m
   await runAllEffects();[m
 [m
[36m@@ -49,10 +27,11 @@[m [mit('should display the Optimize default login page in platform mode', async () =[m
 });[m
 [m
 it('should do a whole page refresh in C8 mode to reinitialize login flow', async () => {[m
[31m-  (getOptimizeProfile as jest.Mock).mockReturnValueOnce('cloud');[m
[32m+[m[32m  getOptimizeProfile.mockReturnValueOnce('cloud');[m
 [m
[31m-  window.location.reload = jest.fn();[m
[31m-  const node = shallow(<Login {...props} />);[m
[32m+[m[32m  delete window.location;[m
[32m+[m[32m  window.location = {reload: jest.fn()};[m
[32m+[m[32m  const node = shallow(<Login />);[m
 [m
   await runAllEffects();[m
 [m
[1mdiff --git a/client/src/components/PrivateRoute/Login/PlatformLogin.js b/client/src/components/PrivateRoute/Login/PlatformLogin.js[m
[1mnew file mode 100644[m
[1mindex 0000000000..2a0ad729ef[m
[1m--- /dev/null[m
[1m+++ b/client/src/components/PrivateRoute/Login/PlatformLogin.js[m
[36m@@ -0,0 +1,93 @@[m
[32m+[m[32m/*[m
[32m+[m[32m * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH[m
[32m+[m[32m * under one or more contributor license agreements. Licensed under a proprietary license.[m
[32m+[m[32m * See the License.txt file for more information. You may not use this file[m
[32m+[m[32m * except in compliance with the proprietary license.[m
[32m+[m[32m */[m
[32m+[m
[32m+[m[32mimport React, {useState, useRef} from 'react';[m
[32m+[m
[32m+[m[32mimport {MessageBox, Button, Input, Labeled, PageTitle} from 'components';[m
[32m+[m[32mimport {withErrorHandling} from 'HOC';[m
[32m+[m[32mimport {t} from 'translation';[m
[32m+[m
[32m+[m[32mimport {login} from './service';[m
[32m+[m[32mimport {ReactComponent as Logo} from './logo.svg';[m
[32m+[m
[32m+[m[32mimport './PlatformLogin.scss';[m
[32m+[m
[32m+[m[32mexport function PlatformLogin({onLogin, mightFail}) {[m
[32m+[m[32m  const [username, setUsername] = useState('');[m
[32m+[m[32m  const [password, setPassword] = useState('');[m
[32m+[m[32m  const [waitingForServer, setWaitingForServer] = useState(false);[m
[32m+[m[32m  const [error, setError] = useState(null);[m
[32m+[m
[32m+[m[32m  const passwordField = useRef(null);[m
[32m+[m
[32m+[m[32m  const usernameLabel = t('login.username');[m
[32m+[m[32m  const passwordLabel = t('login.password');[m
[32m+[m
[32m+[m[32m  async function submit(evt) {[m
[32m+[m[32m    evt.preventDefault();[m
[32m+[m
[32m+[m[32m    setWaitingForServer(true);[m
[32m+[m
[32m+[m[32m    await mightFail([m
[32m+[m[32m      login(username, password),[m
[32m+[m[32m      async (token) => {[m
[32m+[m[32m        if (token) {[m
[32m+[m[32m          await onLogin(token);[m
[32m+[m[32m        }[m
[32m+[m[32m      },[m
[32m+[m[32m      ({message}) => setError(message || t('login.error'))[m
[32m+[m[32m    );[m
[32m+[m
[32m+[m[32m    setWaitingForServer(false);[m
[32m+[m
[32m+[m[32m    if (passwordField.current) {[m
[32m+[m[32m      passwordField.current.focus();[m
[32m+[m[32m      passwordField.current.select();[m
[32m+[m[32m    }[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  return ([m
[32m+[m[32m    <form className="PlatformLogin">[m
[32m+[m[32m      <PageTitle pageName={t('login.label')} />[m
[32m+[m[32m      <Logo />[m
[32m+[m[32m      <h1>{t('login.appName')}</h1>[m
[32m+[m[32m      {error ? <MessageBox type="error">{error}</MessageBox> : ''}[m
[32m+[m[32m      <div className="controls">[m
[32m+[m[32m        <div className="row">[m
[32m+[m[32m          <Labeled label={usernameLabel}>[m
[32m+[m[32m            <Input[m
[32m+[m[32m              type="text"[m
[32m+[m[32m              placeholder={usernameLabel}[m
[32m+[m[32m              value={username}[m
[32m+[m[32m              onChange={(evt) => setUsername(evt.target.value)}[m
[32m+[m[32m              name="username"[m
[32m+[m[32m              autoFocus={true}[m
[32m+[m[32m            />[m
[32m+[m[32m          </Labeled>[m
[32m+[m[32m        </div>[m
[32m+[m[32m        <div className="row">[m
[32m+[m[32m          <Labeled label={passwordLabel}>[m
[32m+[m[32m            <Input[m
[32m+[m[32m              placeholder={passwordLabel}[m
[32m+[m[32m              value={password}[m
[32m+[m[32m              onChange={(evt) => setPassword(evt.target.value)}[m
[32m+[m[32m              type="password"[m
[32m+[m[32m              name="password"[m
[32m+[m[32m              ref={passwordField}[m
[32m+[m[32m            />[m
[32m+[m[32m          </Labeled>[m
[32m+[m[32m        </div>[m
[32m+[m[32m      </div>[m
[32m+[m[32m      <Button main primary type="submit" onClick={submit} disabled={waitingForServer}>[m
[32m+[m[32m        {t('login.btn')}[m
[32m+[m[32m      </Button>[m
[32m+[m[32m      <div className="privacyNotice">{t('login.telemetry')}</div>[m
[32m+[m[32m    </form>[m
[32m+[m[32m  );[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32mexport default withErrorHandling(PlatformLogin);[m
[1mdiff --git a/client/src/components/PrivateRoute/Login/PlatformLogin.scss b/client/src/components/PrivateRoute/Login/PlatformLogin.scss[m
[1mindex f26aaaa052..929af374cd 100644[m
[1m--- a/client/src/components/PrivateRoute/Login/PlatformLogin.scss[m
[1m+++ b/client/src/components/PrivateRoute/Login/PlatformLogin.scss[m
[36m@@ -1,4 +1,3 @@[m
[31m-@use '@carbon/colors';[m
 @import 'shared-styles/shared-styles.scss';[m
 [m
 .PlatformLogin {[m
[36m@@ -8,30 +7,57 @@[m
   right: 0;[m
   bottom: 0;[m
   z-index: var(--z-login);[m
[32m+[m[32m  background-color: var(--white);[m
   padding-top: 200px;[m
 [m
[31m-  button[type='submit'] {[m
[31m-    width: 100%;[m
[31m-    max-width: 100%;[m
[32m+[m[32m  .label {[m
[32m+[m[32m    @include visually-hidden;[m
   }[m
 [m
[31m-  .header {[m
[31m-    margin-bottom: 50px;[m
[32m+[m[32m  > * {[m
[32m+[m[32m    width: 340px;[m
[32m+[m[32m    margin-left: calc(50vw - 170px);[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  h1 {[m
[32m+[m[32m    color: var(--grey-base-40);[m
[32m+[m[32m    font-size: 1.75em;[m
[32m+[m[32m    font-weight: normal;[m
[32m+[m[32m    margin-bottom: 78px;[m
[32m+[m[32m    margin-top: 8px;[m
     text-align: center;[m
[32m+[m[32m  }[m
 [m
[31m-    h1 {[m
[31m-      color: colors.$gray-100;[m
[31m-      font-weight: normal;[m
[31m-      font-size: 1.75em;[m
[32m+[m[32m  .controls {[m
[32m+[m[32m    margin-bottom: 42px;[m
[32m+[m
[32m+[m[32m    .row {[m
[32m+[m[32m      margin-bottom: 1.5em;[m
     }[m
[32m+[m
[32m+[m[32m    .Input {[m
[32m+[m[32m      font-size: 1em;[m
[32m+[m[32m      display: block;[m
[32m+[m[32m      width: 100%;[m
[32m+[m[32m      padding: 8px 6px;[m
[32m+[m[32m    }[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  .Button {[m
[32m+[m[32m    display: block;[m
[32m+[m[32m    font-size: 1em;[m
[32m+[m[32m    padding: 8px 14px 9px;[m
   }[m
 [m
   .privacyNotice {[m
[31m-    color: colors.$gray-60;[m
[31m-    font-size: 12px;[m
[32m+[m[32m    width: 340px;[m
[32m+[m[32m    text-align: center;[m
[32m+[m[32m    margin-top: 1.5em;[m
[32m+[m[32m    font-size: 13px;[m
[32m+[m[32m    font-weight: 500;[m
 [m
     a {[m
[31m-      color: colors.$blue-60;[m
[32m+[m[32m      color: inherit;[m
     }[m
   }[m
 }[m
[1mdiff --git a/client/src/components/PrivateRoute/Login/PlatformLogin.test.tsx b/client/src/components/PrivateRoute/Login/PlatformLogin.test.js[m
[1msimilarity index 69%[m
[1mrename from client/src/components/PrivateRoute/Login/PlatformLogin.test.tsx[m
[1mrename to client/src/components/PrivateRoute/Login/PlatformLogin.test.js[m
[1mindex 6fb9eb7955..b7e1ed9d5d 100644[m
[1m--- a/client/src/components/PrivateRoute/Login/PlatformLogin.test.tsx[m
[1m+++ b/client/src/components/PrivateRoute/Login/PlatformLogin.test.js[m
[36m@@ -5,10 +5,10 @@[m
  * except in compliance with the proprietary license.[m
  */[m
 [m
[32m+[m[32mimport React from 'react';[m
 import {shallow} from 'enzyme';[m
[31m-import {InlineNotification, Button} from '@carbon/react';[m
 [m
[31m-import {useErrorHandling} from 'hooks';[m
[32m+[m[32mimport {Button} from 'components';[m
 [m
 import {PlatformLogin} from './PlatformLogin';[m
 [m
[36m@@ -20,20 +20,10 @@[m [mjest.mock('./service', () => {[m
   };[m
 });[m
 [m
[31m-jest.mock('hooks', () => ({[m
[31m-  useErrorHandling: jest.fn(() => ({[m
[31m-    mightFail: jest.fn((data, cb) => cb(data)),[m
[31m-  })),[m
[31m-}));[m
[31m-[m
 const props = {[m
[31m-  onLogin: jest.fn(),[m
[32m+[m[32m  mightFail: jest.fn().mockImplementation((data, cb) => cb(data)),[m
 };[m
 [m
[31m-beforeEach(() => {[m
[31m-  jest.clearAllMocks();[m
[31m-});[m
[31m-[m
 it('renders without crashing', () => {[m
   shallow(<PlatformLogin {...props} />);[m
 });[m
[36m@@ -49,7 +39,7 @@[m [mit('should have entered values in the input fields', () => {[m
 });[m
 [m
 it('should call the login function when submitting the form', async () => {[m
[31m-  const node = shallow(<PlatformLogin {...props} />);[m
[32m+[m[32m  const node = shallow(<PlatformLogin {...props} onLogin={jest.fn()} />);[m
 [m
   const username = 'david';[m
   const password = 'dennis';[m
[36m@@ -63,29 +53,27 @@[m [mit('should call the login function when submitting the form', async () => {[m
 });[m
 [m
 it('should call the onLogin callback after login', async () => {[m
[31m-  const node = shallow(<PlatformLogin {...props} />);[m
[32m+[m[32m  const spy = jest.fn();[m
[32m+[m[32m  const node = shallow(<PlatformLogin {...props} onLogin={spy} />);[m
 [m
   await node.find(Button).simulate('click', {preventDefault: jest.fn()});[m
 [m
[31m-  expect(props.onLogin).toHaveBeenCalled();[m
[32m+[m[32m  expect(spy).toHaveBeenCalled();[m
 });[m
 [m
 it('should display error message on failed login', async () => {[m
[31m-  (useErrorHandling as jest.Mock).mockImplementation(() => ({[m
[31m-    mightFail: (promise: any, cb: any, err: any) => err({status: 400, message: 'test error'}),[m
[31m-  }));[m
[31m-[m
[31m-  const node = shallow(<PlatformLogin {...props} />);[m
[32m+[m[32m  const mightFail = (promise, cb, err) => err({status: 400, message: 'test error'});[m
[32m+[m[32m  const node = shallow(<PlatformLogin {...props} mightFail={mightFail} />);[m
 [m
[31m-  (login as jest.Mock).mockReturnValueOnce({errorMessage: 'Failed'});[m
[32m+[m[32m  login.mockReturnValueOnce({errorMessage: 'Failed'});[m
 [m
   await node.find(Button).simulate('click', {preventDefault: jest.fn()});[m
 [m
[31m-  expect(node.find(InlineNotification)).toExist();[m
[32m+[m[32m  expect(node.find('MessageBox[type="error"]')).toExist();[m
 });[m
 [m
 it('should disable the login button when waiting for server response', () => {[m
[31m-  const node = shallow(<PlatformLogin {...props} />);[m
[32m+[m[32m  const node = shallow(<PlatformLogin {...props} mightFail={() => {}} onLogin={jest.fn()} />);[m
 [m
   node.find(Button).simulate('click', {preventDefault: jest.fn()});[m
 [m
[1mdiff --git a/client/src/components/PrivateRoute/Login/PlatformLogin.tsx b/client/src/components/PrivateRoute/Login/PlatformLogin.tsx[m
[1mdeleted file mode 100644[m
[1mindex e4dfd992cd..0000000000[m
[1m--- a/client/src/components/PrivateRoute/Login/PlatformLogin.tsx[m
[1m+++ /dev/null[m
[36m@@ -1,123 +0,0 @@[m
[31m-/*[m
[31m- * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH[m
[31m- * under one or more contributor license agreements. Licensed under a proprietary license.[m
[31m- * See the License.txt file for more information. You may not use this file[m
[31m- * except in compliance with the proprietary license.[m
[31m- */[m
[31m-[m
[31m-import {useState, useRef, MouseEvent, ChangeEvent} from 'react';[m
[31m-import {[m
[31m-  Form,[m
[31m-  TextInput,[m
[31m-  PasswordInput,[m
[31m-  Button,[m
[31m-  Stack,[m
[31m-  InlineNotification,[m
[31m-  Grid,[m
[31m-  Column,[m
[31m-} from '@carbon/react';[m
[31m-[m
[31m-import {PageTitle} from 'components';[m
[31m-import {t} from 'translation';[m
[31m-import {useErrorHandling} from 'hooks';[m
[31m-[m
[31m-import {login} from './service';[m
[31m-import {ReactComponent as Logo} from './logo.svg';[m
[31m-[m
[31m-import './PlatformLogin.scss';[m
[31m-[m
[31m-export function PlatformLogin({onLogin}: {onLogin: (token: string) => void}) {[m
[31m-  const [username, setUsername] = useState('');[m
[31m-  const [password, setPassword] = useState('');[m
[31m-  const [waitingForServer, setWaitingForServer] = useState(false);[m
[31m-  const [error, setError] = useState(null);[m
[31m-  const {mightFail} = useErrorHandling();[m
[31m-[m
[31m-  const passwordField = useRef<HTMLInputElement>(null);[m
[31m-[m
[31m-  const usernameLabel = t('login.username').toString();[m
[31m-  const passwordLabel = t('login.password').toString();[m
[31m-[m
[31m-  async function submit(evt: MouseEvent) {[m
[31m-    evt.preventDefault();[m
[31m-[m
[31m-    setWaitingForServer(true);[m
[31m-[m
[31m-    await mightFail([m
[31m-      login(username, password),[m
[31m-      async (token) => {[m
[31m-        if (token) {[m
[31m-          await onLogin(token);[m
[31m-        }[m
[31m-      },[m
[31m-      ({message}) => setError(message || t('login.errorMessage'))[m
[31m-    );[m
[31m-[m
[31m-    setWaitingForServer(false);[m
[31m-[m
[31m-    if (passwordField.current) {[m
[31m-      passwordField.current.focus();[m
[31m-      passwordField.current.select();[m
[31m-    }[m
[31m-  }[m
[31m-[m
[31m-  return ([m
[31m-    <Form className="PlatformLogin">[m
[31m-      <PageTitle pageName={t('login.label').toString()} />[m
[31m-      <Grid>[m
[31m-        <Column[m
[31m-          sm={4}[m
[31m-          md={{[m
[31m-            start: 3,[m
[31m-            end: 7,[m
[31m-          }}[m
[31m-          lg={{[m
[31m-            start: 7,[m
[31m-            end: 11,[m
[31m-          }}[m
[31m-        >[m
[31m-          <div className="header">[m
[31m-            <Logo />[m
[31m-            <h1>{t('login.appName')}</h1>[m
[31m-          </div>[m
[31m-          <Stack gap={8}>[m
[31m-            {error && ([m
[31m-              <InlineNotification[m
[31m-                kind="error"[m
[31m-                aria-label={t('login.closeError').toString()}[m
[31m-                statusIconDescription={t('common.error').toString()}[m
[31m-                onCloseButtonClick={() => setError(null)}[m
[31m-                subtitle={error}[m
[31m-              />[m
[31m-            )}[m
[31m-            <TextInput[m
[31m-              type="text"[m
[31m-              placeholder={usernameLabel}[m
[31m-              labelText={usernameLabel}[m
[31m-              value={username}[m
[31m-              onChange={(evt) => setUsername(evt.target.value)}[m
[31m-              name="username"[m
[31m-              id="loginUserName"[m
[31m-              autoFocus={true}[m
[31m-            />[m
[31m-            <PasswordInput[m
[31m-              placeholder={passwordLabel}[m
[31m-              labelText={passwordLabel}[m
[31m-              value={password}[m
[31m-              onChange={(evt: ChangeEvent<HTMLInputElement>) => setPassword(evt.target.value)}[m
[31m-              name="password"[m
[31m-              id="loginPassword"[m
[31m-              ref={passwordField}[m
[31m-            />[m
[31m-            <Button type="submit" onClick={submit} disabled={waitingForServer}>[m
[31m-              {t('login.btn')}[m
[31m-            </Button>[m
[31m-            <div className="privacyNotice">{t('login.telemetry')}</div>[m
[31m-          </Stack>[m
[31m-        </Column>[m
[31m-      </Grid>[m
[31m-    </Form>[m
[31m-  );[m
[31m-}[m
[31m-[m
[31m-export default PlatformLogin;[m
[1mdiff --git a/client/src/components/PrivateRoute/Login/index.tsx b/client/src/components/PrivateRoute/Login/index.js[m
[1msimilarity index 100%[m
[1mrename from client/src/components/PrivateRoute/Login/index.tsx[m
[1mrename to client/src/components/PrivateRoute/Login/index.js[m
[1mdiff --git a/client/src/components/PrivateRoute/Login/logo.svg b/client/src/components/PrivateRoute/Login/logo.svg[m
[1mindex c802843c66..4ff807feab 100644[m
[1m--- a/client/src/components/PrivateRoute/Login/logo.svg[m
[1m+++ b/client/src/components/PrivateRoute/Login/logo.svg[m
[36m@@ -1,3 +1,3 @@[m
 <svg xmlns="http://www.w3.org/2000/svg" width="96" height="33" viewBox="0 0 96 33">[m
[31m-  <path fill="#161616" d="M95.9891525,26.7581311 L95.9891525,32.8128197 L0.0206101695,32.8128197 L0.0206101695,26.7581311 L95.9891525,26.7581311 Z M47.432678,0.32242623 L47.4174915,17.9584918 C47.4164068,19.5900984 48.1345085,20.1786885 49.2810847,20.1797705 C50.427661,20.1808525 51.1490169,19.5933443 51.1490169,17.9606557 L51.1490169,17.9606557 L51.1642034,0.324590164 L54.5681356,0.324590164 L54.5540339,17.7291148 C54.5507797,21.3861639 52.7153898,23.4711148 49.1802034,23.4711148 C45.6450169,23.4678689 43.8139661,21.3764262 43.817216,17.7247869 L43.817216,17.7247869 L43.831322,0.32242623 L47.432678,0.32242623 Z M5.40420339,0.0237995002 C8.93938983,0.0270491803 10.7704407,2.11740984 10.7682731,5.77554098 L10.7682731,5.77554098 L10.7682731,7.9957377 L7.36433898,7.9957377 L7.36433898,5.54616393 C7.36542373,3.91455738 6.64732203,3.2935082 5.50074576,3.29242623 C4.35416949,3.29134426 3.63281356,3.91131148 3.63281356,5.54291803 L3.63281356,5.54291803 L3.6219661,17.884918 C3.62088136,19.5176066 4.33898305,20.1072787 5.48555932,20.1072787 C6.63213559,20.1072787 7.35349153,19.5208525 7.35349153,17.8881639 L7.35349153,17.8881639 L7.35349153,14.6227869 L10.7574237,14.6227869 L10.7574237,17.6587869 C10.7541695,21.3158361 8.91877966,23.4007869 5.38359322,23.4007869 C1.8440678,23.398623 0.0173559322,21.3071803 0.0206058291,17.6501311 L0.0206058291,17.6501311 L0.0303728814,5.76580328 C0.0336271186,2.1087541 1.86901695,0.020557377 5.40420339,0.0237995002 Z M92.3422373,0.359213115 L95.9934915,23.2103607 L92.3595932,23.2103607 L91.7412881,19.0631803 L87.3220339,19.0631803 L86.6907119,23.2114426 L83.3844068,23.2114426 L87.0725424,0.359213115 L92.3422373,0.359213115 Z M76.6958644,0.345147541 C80.2961356,0.348393443 82.0588475,2.34137705 82.0588475,5.99842623 L82.0588475,5.99842623 L82.0490847,17.556 C82.0458305,21.2130492 80.2766102,23.2027869 76.676339,23.2049508 L76.676339,23.2049508 L70.980339,23.199541 L70.9998644,0.345147541 Z M56.9903729,0.328918033 L61.508339,0.332163934 L65.1953898,14.0158033 L65.2062373,0.335409836 L68.4149153,0.338655738 L68.3953898,23.1930492 L64.6964068,23.1898033 L60.2261695,6.63245902 L60.2120678,23.1865574 L56.9708475,23.1833115 L56.9903729,0.328918033 Z M26.2541017,0.30295082 L31.2623729,0.307278689 L33.9004746,16.5357049 L36.3693559,0.311606557 L41.3776271,0.315934426 L41.3581017,23.1703279 L37.9530847,23.1681639 L37.9671864,6.77744262 L35.4657627,23.164918 L32.0618305,23.1627541 L29.3911864,6.99816393 L29.3770847,23.1605902 L26.2345763,23.1573443 L26.2541017,0.30295082 Z M20.9518644,0.298622951 L24.5987797,23.1497705 L20.9648814,23.1497705 L20.3465763,19.0025902 L15.927322,19.0025902 L15.2981695,23.1497705 L11.9929492,23.1497705 L15.6810847,0.298622951 L20.9518644,0.298622951 Z M76.6275254,3.61052459 L74.5979661,3.61052459 L74.5838644,19.9363279 L76.6134237,19.9352459 C77.7589153,19.9363279 78.4488136,19.3488197 78.4488136,17.7161311 L78.4488136,17.7161311 L78.4585776,5.83180328 C78.459661,4.20019672 77.7730169,3.61052459 76.6275254,3.61052459 L76.6275254,3.61052459 Z M89.5240678,4.40468852 L87.7776271,15.9644262 L91.2488136,15.9644262 L89.5240678,4.40468852 Z M18.1326102,4.34409836 L16.3872542,15.904918 L19.8584407,15.904918 L18.1326102,4.34409836 Z"/>[m
[32m+[m[32m  <path fill="#666666" d="M95.9891525,26.7581311 L95.9891525,32.8128197 L0.0206101695,32.8128197 L0.0206101695,26.7581311 L95.9891525,26.7581311 Z M47.432678,0.32242623 L47.4174915,17.9584918 C47.4164068,19.5900984 48.1345085,20.1786885 49.2810847,20.1797705 C50.427661,20.1808525 51.1490169,19.5933443 51.1490169,17.9606557 L51.1490169,17.9606557 L51.1642034,0.324590164 L54.5681356,0.324590164 L54.5540339,17.7291148 C54.5507797,21.3861639 52.7153898,23.4711148 49.1802034,23.4711148 C45.6450169,23.4678689 43.8139661,21.3764262 43.817216,17.7247869 L43.817216,17.7247869 L43.831322,0.32242623 L47.432678,0.32242623 Z M5.40420339,0.0237995002 C8.93938983,0.0270491803 10.7704407,2.11740984 10.7682731,5.77554098 L10.7682731,5.77554098 L10.7682731,7.9957377 L7.36433898,7.9957377 L7.36433898,5.54616393 C7.36542373,3.91455738 6.64732203,3.2935082 5.50074576,3.29242623 C4.35416949,3.29134426 3.63281356,3.91131148 3.63281356,5.54291803 L3.63281356,5.54291803 L3.6219661,17.884918 C3.62088136,19.5176066 4.33898305,20.1072787 5.48555932,20.1072787 C6.63213559,20.1072787 7.35349153,19.5208525 7.35349153,17.8881639 L7.35349153,17.8881639 L7.35349153,14.6227869 L10.7574237,14.6227869 L10.7574237,17.6587869 C10.7541695,21.3158361 8.91877966,23.4007869 5.38359322,23.4007869 C1.8440678,23.398623 0.0173559322,21.3071803 0.0206058291,17.6501311 L0.0206058291,17.6501311 L0.0303728814,5.76580328 C0.0336271186,2.1087541 1.86901695,0.020557377 5.40420339,0.0237995002 Z M92.3422373,0.359213115 L95.9934915,23.2103607 L92.3595932,23.2103607 L91.7412881,19.0631803 L87.3220339,19.0631803 L86.6907119,23.2114426 L83.3844068,23.2114426 L87.0725424,0.359213115 L92.3422373,0.359213115 Z M76.6958644,0.345147541 C80.2961356,0.348393443 82.0588475,2.34137705 82.0588475,5.99842623 L82.0588475,5.99842623 L82.0490847,17.556 C82.0458305,21.2130492 80.2766102,23.2027869 76.676339,23.2049508 L76.676339,23.2049508 L70.980339,23.199541 L70.9998644,0.345147541 Z M56.9903729,0.328918033 L61.508339,0.332163934 L65.1953898,14.0158033 L65.2062373,0.335409836 L68.4149153,0.338655738 L68.3953898,23.1930492 L64.6964068,23.1898033 L60.2261695,6.63245902 L60.2120678,23.1865574 L56.9708475,23.1833115 L56.9903729,0.328918033 Z M26.2541017,0.30295082 L31.2623729,0.307278689 L33.9004746,16.5357049 L36.3693559,0.311606557 L41.3776271,0.315934426 L41.3581017,23.1703279 L37.9530847,23.1681639 L37.9671864,6.77744262 L35.4657627,23.164918 L32.0618305,23.1627541 L29.3911864,6.99816393 L29.3770847,23.1605902 L26.2345763,23.1573443 L26.2541017,0.30295082 Z M20.9518644,0.298622951 L24.5987797,23.1497705 L20.9648814,23.1497705 L20.3465763,19.0025902 L15.927322,19.0025902 L15.2981695,23.1497705 L11.9929492,23.1497705 L15.6810847,0.298622951 L20.9518644,0.298622951 Z M76.6275254,3.61052459 L74.5979661,3.61052459 L74.5838644,19.9363279 L76.6134237,19.9352459 C77.7589153,19.9363279 78.4488136,19.3488197 78.4488136,17.7161311 L78.4488136,17.7161311 L78.4585776,5.83180328 C78.459661,4.20019672 77.7730169,3.61052459 76.6275254,3.61052459 L76.6275254,3.61052459 Z M89.5240678,4.40468852 L87.7776271,15.9644262 L91.2488136,15.9644262 L89.5240678,4.40468852 Z M18.1326102,4.34409836 L16.3872542,15.904918 L19.8584407,15.904918 L18.1326102,4.34409836 Z"/>[m
 </svg>[m
[1mdiff --git a/client/src/components/PrivateRoute/Login/service.tsx b/client/src/components/PrivateRoute/Login/service.js[m
[1msimilarity index 84%[m
[1mrename from client/src/components/PrivateRoute/Login/service.tsx[m
[1mrename to client/src/components/PrivateRoute/Login/service.js[m
[1mindex 19d6afc78a..e0f5a2bd08 100644[m
[1m--- a/client/src/components/PrivateRoute/Login/service.tsx[m
[1m+++ b/client/src/components/PrivateRoute/Login/service.js[m
[36m@@ -7,7 +7,7 @@[m
 [m
 import {post} from 'request';[m
 [m
[31m-export async function login(username: string, password: string): Promise<string> {[m
[32m+[m[32mexport async function login(username, password) {[m
   const response = await post('api/authentication', {username, password});[m
 [m
   return await response.text();[m
[1mdiff --git a/client/src/components/Processes/Processes.js b/client/src/components/Processes/Processes.js[m
[1mindex 7d912cd710..62bfcf7321 100644[m
[1m--- a/client/src/components/Processes/Processes.js[m
[1m+++ b/client/src/components/Processes/Processes.js[m
[36m@@ -7,7 +7,7 @@[m
 [m
 import React, {useCallback, useEffect, useState} from 'react';[m
 [m
[31m-import {DocsLink, EntityList, PageTitle, Tooltip} from 'components';[m
[32m+[m[32mimport {EntityList, PageTitle, Tooltip} from 'components';[m
 import {t} from 'translation';[m
 import {withErrorHandling, withUser} from 'HOC';[m
 import {addNotification, showError} from 'notifications';[m
[36m@@ -79,19 +79,14 @@[m [mexport function Processes({mightFail, user}) {[m
           <div className="info">[m
             <span>[m
               {t('processes.analysing', {count: processes.length, label: processesLabel})}[m
[31m-            </span>{' '}[m
[31m-            <DocsLink location="components/userguide/process-dashboards">[m
[31m-              {t('events.sources.learnMore')}[m
[31m-            </DocsLink>[m
[32m+[m[32m            </span>[m
           </div>[m
         )}[m
       </h1>[m
       {dashboard && ([m
         <DashboardView[m
           tiles={dashboard.tiles}[m
[31m-          availableFilters={dashboard.availableFilters}[m
           customizeReportLink={(id) => `/processes/report/${id}/`}[m
[31m-          simplifiedDateFilter[m
         />[m
       )}[m
       <EntityList[m
[1mdiff --git a/client/src/components/Processes/Processes.scss b/client/src/components/Processes/Processes.scss[m
[1mindex 39165219d9..b13fb9667c 100644[m
[1m--- a/client/src/components/Processes/Processes.scss[m
[1m+++ b/client/src/components/Processes/Processes.scss[m
[36m@@ -18,8 +18,8 @@[m
   }[m
 [m
   .fullscreen {[m
[31m-    height: 520px;[m
[31m-    padding: 0 65px;[m
[32m+[m[32m    height: auto;[m
[32m+[m[32m    padding: 0 65px 32px 65px;[m
     border-bottom: 1px solid var(--silver-darken-80);[m
 [m
     .DashboardView .head .info > .EntityName {[m
[1mdiff --git a/client/src/components/Processes/Processes.test.js b/client/src/components/Processes/Processes.test.js[m
[1mindex 38aaf8a0f3..8984b2653b 100644[m
[1m--- a/client/src/components/Processes/Processes.test.js[m
[1m+++ b/client/src/components/Processes/Processes.test.js[m
[36m@@ -135,8 +135,8 @@[m [mit('should show process update notification if digest & email are enabled', asyn[m
   expect(track).toHaveBeenCalledWith('emailDigestEnabled', {processDefinitionKey: 'defKey'});[m
 });[m
 [m
[31m-it('should pass loaded tiles and filters to the management dashboard view component', async () => {[m
[31m-  const testDashboard = {tiles: [], availableFilters: []};[m
[32m+[m[32mit('should pass loaded tiles to the management dashboard view component', async () => {[m
[32m+[m[32m  const testDashboard = {tiles: []};[m
   loadManagementDashboard.mockReturnValueOnce(testDashboard);[m
   const node = shallow(<Processes {...props} />);[m
 [m
[36m@@ -145,9 +145,6 @@[m [mit('should pass loaded tiles and filters to the management dashboard view compon[m
   expect(loadManagementDashboard).toHaveBeenCalled();[m
 [m
   expect(node.find('DashboardView').prop('tiles')).toEqual(testDashboard.tiles);[m
[31m-  expect(node.find('DashboardView').prop('availableFilters')).toEqual([m
[31m-    testDashboard.availableFilters[m
[31m-  );[m
 });[m
 [m
 it('should filter out invalid kpis', async () => {[m
[36m@@ -197,8 +194,8 @@[m [mit('display the search info correctly', async () => {[m
   await runAllEffects();[m
 [m
   const text = node.find(EntityList).prop('displaySearchInfo')('', 1).props.children;[m
[31m-  expect(text).toBe('1 process listed');[m
[32m+[m[32m  expect(text).toBe('1 process listed.');[m
 [m
   const textWithQuery = node.find(EntityList).prop('displaySearchInfo')('def', 1).props.children;[m
[31m-  expect(textWithQuery).toBe('1 of 1 process listed');[m
[32m+[m[32m  expect(textWithQuery).toBe('1 of 1 process listed.');[m
 });[m
[1mdiff --git a/client/src/components/Reports/ConflictModal.scss b/client/src/components/Reports/ConflictModal.scss[m
[1mindex b1ebec89b2..aa6ac510e1 100644[m
[1m--- a/client/src/components/Reports/ConflictModal.scss[m
[1m+++ b/client/src/components/Reports/ConflictModal.scss[m
[36m@@ -1,4 +1,9 @@[m
 .ConflictModal {[m
[32m+[m[32m  ul {[m
[32m+[m[32m    list-style: none;[m
[32m+[m[32m    padding: 0;[m
[32m+[m[32m  }[m
[32m+[m
   .conflictMessage {[m
     margin: 0;[m
   }[m
[1mdiff --git a/client/src/components/Reports/ReportView.js b/client/src/components/Reports/ReportView.js[m
[1mindex cf838996dd..e36fda49be 100644[m
[1m--- a/client/src/components/Reports/ReportView.js[m
[1m+++ b/client/src/components/Reports/ReportView.js[m
[36m@@ -7,13 +7,16 @@[m
 [m
 import React, {useEffect, useState} from 'react';[m
 import {Link, Redirect, useLocation} from 'react-router-dom';[m
[31m-import classnames from 'classnames';[m
 import {Button} from '@carbon/react';[m
[31m-import {Download, Edit, RowCollapse, RowExpand, Share, TrashCan} from '@carbon/icons-react';[m
[32m+[m[32mimport {RowCollapse, RowExpand} from '@carbon/icons-react';[m
[32m+[m[32mimport classnames from 'classnames';[m
 [m
 import {[m
[32m+[m[32m  Button as LegacyButton,[m
   ShareEntity,[m
   ReportRenderer,[m
[32m+[m[32m  Popover,[m
[32m+[m[32m  Icon,[m
   Deleter,[m
   EntityName,[m
   InstanceCount,[m
[36m@@ -22,7 +25,6 @@[m [mimport {[m
   AlertsDropdown,[m
   EntityDescription,[m
   InstanceViewTable,[m
[31m-  Popover,[m
 } from 'components';[m
 import {isSharingEnabled, getOptimizeProfile} from 'config';[m
 import {formatters, checkDeleteConflict} from 'services';[m
[36m@@ -65,13 +67,12 @@[m [mexport function ReportView({report, error, user, loadReport}) {[m
   };[m
 [m
   const {id, name, combined, description, currentUserRole, data} = report;[m
[32m+[m[32m  const isInstantPreviewReport = data?.instantPreviewReport;[m
 [m
   if (redirect) {[m
     return <Redirect to={redirect} />;[m
   }[m
 [m
[31m-  const isInstantPreview = data?.instantPreviewReport;[m
[31m-[m
   return ([m
     <div className="ReportView Report">[m
       <div className="reportHeader">[m
[36m@@ -81,66 +82,55 @@[m [mexport function ReportView({report, error, user, loadReport}) {[m
             {description && <EntityDescription description={description} />}[m
           </div>[m
           <div className="tools">[m
[31m-            {!isInstantPreview && ([m
[32m+[m[32m            {!isInstantPreviewReport && currentUserRole === 'editor' && ([m
               <>[m
[31m-                {currentUserRole === 'editor' && ([m
[31m-                  <Button[m
[31m-                    as={Link}[m
[31m-                    to="edit"[m
[31m-                    hasIconOnly[m
[31m-                    iconDescription={t('common.edit')}[m
[31m-                    renderIcon={Edit}[m
[31m-                    className="edit-button"[m
[31m-                  />[m
[31m-                )}[m
[31m-                <Popover[m
[31m-                  className="share-button"[m
[31m-                  align="bottom-right"[m
[31m-                  trigger={[m
[31m-                    <Popover.Button[m
[31m-                      iconDescription={t('common.sharing.buttonTitle')}[m
[31m-                      hasIconOnly[m
[31m-                      renderIcon={Share}[m
[31m-                    />[m
[31m-                  }[m
[31m-                  isTabTip[m
[32m+[m[32m                <Link className="tool-button edit-button" to="edit">[m
[32m+[m[32m                  <LegacyButton main tabIndex="-1">[m
[32m+[m[32m                    <Icon type="edit" />[m
[32m+[m[32m                    {t('common.edit')}[m
[32m+[m[32m                  </LegacyButton>[m
[32m+[m[32m                </Link>[m
[32m+[m[32m                <LegacyButton[m
[32m+[m[32m                  main[m
[32m+[m[32m                  className="tool-button delete-button"[m
[32m+[m[32m                  onClick={() => setDeletting({...report, entityType: 'report'})}[m
                 >[m
[31m-                  {sharingEnabled ? ([m
[31m-                    <ShareEntity[m
[31m-                      type="report"[m
[31m-                      resourceId={id}[m
[31m-                      shareEntity={shareReport}[m
[31m-                      revokeEntitySharing={revokeReportSharing}[m
[31m-                      getSharedEntity={getSharedReport}[m
[31m-                    />[m
[31m-                  ) : ([m
[31m-                    t('common.sharing.disabled')[m
[31m-                  )}[m
[31m-                </Popover>[m
[31m-                {(optimizeProfile === 'cloud' || optimizeProfile === 'platform') &&[m
[31m-                  data?.visualization === 'number' && <AlertsDropdown numberReport={report} />}[m
[32m+[m[32m                  <Icon type="delete" />[m
[32m+[m[32m                  {t('common.delete')}[m
[32m+[m[32m                </LegacyButton>[m
               </>[m
             )}[m
[32m+[m[32m            {!isInstantPreviewReport && ([m
[32m+[m[32m              <Popover[m
[32m+[m[32m                main[m
[32m+[m[32m                className="tool-button share-button"[m
[32m+[m[32m                icon="share"[m
[32m+[m[32m                title={t('common.sharing.buttonTitle')}[m
[32m+[m[32m                tooltip={!sharingEnabled ? t('common.sharing.disabled') : ''}[m
[32m+[m[32m                disabled={!sharingEnabled}[m
[32m+[m[32m                align="bottom-right"[m
[32m+[m[32m              >[m
[32m+[m[32m                <ShareEntity[m
[32m+[m[32m                  type="report"[m
[32m+[m[32m                  resourceId={id}[m
[32m+[m[32m                  shareEntity={shareReport}[m
[32m+[m[32m                  revokeEntitySharing={revokeReportSharing}[m
[32m+[m[32m                  getSharedEntity={getSharedReport}[m
[32m+[m[32m                />[m
[32m+[m[32m              </Popover>[m
[32m+[m[32m            )}[m
[32m+[m[32m            {(optimizeProfile === 'cloud' || optimizeProfile === 'platform') &&[m
[32m+[m[32m              data?.visualization === 'number' && <AlertsDropdown numberReport={report} />}[m
             {shouldShowCSVDownload() && ([m
               <DownloadButton[m
[32m+[m[32m                main[m
                 href={constructCSVDownloadLink()}[m
                 totalCount={calculateTotalEntries(report)}[m
                 user={user}[m
[31m-                kind="ghost"[m
[31m-                iconDescription={t('report.downloadCSV')}[m
[31m-                hasIconOnly[m
[31m-                renderIcon={Download}[m
[31m-              />[m
[31m-            )}[m
[31m-            {!isInstantPreview && currentUserRole === 'editor' && ([m
[31m-              <Button[m
[31m-                iconDescription={t('common.delete')}[m
[31m-                kind="ghost"[m
[31m-                onClick={() => setDeletting({...report, entityType: 'report'})}[m
[31m-                className="delete-button"[m
[31m-                renderIcon={TrashCan}[m
[31m-                hasIconOnly[m
[31m-              />[m
[32m+[m[32m              >[m
[32m+[m[32m                <Icon type="save" />[m
[32m+[m[32m                {t('report.downloadCSV')}[m
[32m+[m[32m              </DownloadButton>[m
             )}[m
           </div>[m
         </div>[m
[1mdiff --git a/client/src/components/Reports/ReportView.scss b/client/src/components/Reports/ReportView.scss[m
[1mindex 7bc52b5c67..af3c9f94b3 100644[m
[1m--- a/client/src/components/Reports/ReportView.scss[m
[1m+++ b/client/src/components/Reports/ReportView.scss[m
[36m@@ -11,6 +11,15 @@[m
     padding-right: 40px;[m
   }[m
 [m
[32m+[m[32m  .share-button .popoverContent {[m
[32m+[m[32m    padding: 30px;[m
[32m+[m[32m    padding-bottom: 10px;[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  .ShareEntity .includeFilters {[m
[32m+[m[32m    display: none;[m
[32m+[m[32m  }[m
[32m+[m
   .IncompleteReport {[m
     font-size: 20px;[m
 [m
[1mdiff --git a/client/src/components/Reports/ReportView.test.js b/client/src/components/Reports/ReportView.test.js[m
[1mindex 51707daad8..ea57c50364 100644[m
[1m--- a/client/src/components/Reports/ReportView.test.js[m
[1m+++ b/client/src/components/Reports/ReportView.test.js[m
[36m@@ -11,7 +11,7 @@[m [mimport {useLocation} from 'react-router';[m
 [m
 import {Deleter, ReportRenderer, InstanceCount, DownloadButton, AlertsDropdown} from 'components';[m
 import {checkDeleteConflict} from 'services';[m
[31m-import {getOptimizeProfile, isSharingEnabled} from 'config';[m
[32m+[m[32mimport {getOptimizeProfile} from 'config';[m
 [m
 import {ReportView} from './ReportView';[m
 [m
[36m@@ -73,13 +73,13 @@[m [mit('should display the key properties of a report', () => {[m
 it('should provide a link to edit mode in view mode', () => {[m
   const node = shallow(<ReportView report={report} />);[m
 [m
[31m-  expect(node.find({to: 'edit'})).toExist();[m
[32m+[m[32m  expect(node.find('.edit-button')).toExist();[m
 });[m
 [m
 it('should open a deletion modal on delete button click', async () => {[m
   const node = shallow(<ReportView report={report} />);[m
 [m
[31m-  await node.find({iconDescription: 'Delete'}).prop('onClick')();[m
[32m+[m[32m  await node.find('.delete-button').prop('onClick')();[m
 [m
   expect(node.find(Deleter).prop('entity')).toBeTruthy();[m
 });[m
[36m@@ -99,23 +99,11 @@[m [mit('should contain a ReportRenderer with the report evaluation result', () => {[m
   expect(node.find(ReportRenderer)).toExist();[m
 });[m
 [m
[31m-it('should render sharing options', async () => {[m
[31m-  const node = shallow(<ReportView report={report} />);[m
[31m-[m
[31m-  await runLastEffect();[m
[31m-  await node.update();[m
[31m-[m
[31m-  expect(node.find('ShareEntity')).toExist();[m
[31m-});[m
[31m-[m
[31m-it('should hide Sharing options if sharing is disabled', async () => {[m
[31m-  isSharingEnabled.mockReturnValueOnce(false);[m
[31m-  const node = shallow(<ReportView report={report} />);[m
[31m-[m
[31m-  await runLastEffect();[m
[32m+[m[32mit('should render a sharing popover', async () => {[m
[32m+[m[32m  const node = await shallow(<ReportView report={report} />);[m
   await node.update();[m
 [m
[31m-  expect(node.find('ShareEntity')).not.toExist();[m
[32m+[m[32m  expect(node.find('.share-button')).toExist();[m
 });[m
 [m
 it('should provide conflict check method to Deleter', () => {[m
[1mdiff --git a/client/src/components/Reports/controlPanels/AddDefinition.js b/client/src/components/Reports/controlPanels/AddDefinition.js[m
[1mindex 61315ad773..71453ba293 100644[m
[1m--- a/client/src/components/Reports/controlPanels/AddDefinition.js[m
[1m+++ b/client/src/components/Reports/controlPanels/AddDefinition.js[m
[36m@@ -8,9 +8,8 @@[m
 import {useState, useEffect} from 'react';[m
 import {withRouter} from 'react-router-dom';[m
 import {Button} from '@carbon/react';[m
[31m-import {Add} from '@carbon/icons-react';[m
 [m
[31m-import {Modal, MessageBox, Checklist} from 'components';[m
[32m+[m[32mimport {Button as LegacyButton, Icon, Modal, MessageBox, Checklist} from 'components';[m
 import {withErrorHandling} from 'HOC';[m
 import {getCollection, getRandomId} from 'services';[m
 import {t} from 'translation';[m
[36m@@ -54,20 +53,19 @@[m [mexport function AddDefinition({mightFail, location, definitions, type, onAdd}) {[m
 [m
   return ([m
     <>[m
[31m-      <Button[m
[31m-        kind="tertiary"[m
[31m-        className="AddDefinition cds--layout--size-xs"[m
[32m+[m[32m      <LegacyButton[m
[32m+[m[32m        small[m
[32m+[m[32m        className="AddDefinition"[m
         onClick={(evt) => {[m
           evt.stopPropagation();[m
           setSelectedDefinitions([]);[m
           setModalOpen(true);[m
         }}[m
         disabled={definitions.length >= 10}[m
[31m-        renderIcon={Add}[m
       >[m
[32m+[m[32m        <Icon type="plus" />[m
         {t('common.add')}[m
[31m-      </Button>[m
[31m-[m
[32m+[m[32m      </LegacyButton>[m
       <Modal open={modalOpen} onClose={handleModalClose} className="AddDefinitionModal">[m
         <Modal.Header>[m
           {t('report.definition.add', {type: t('report.definition.' + type)})}[m
[1mdiff --git a/client/src/components/Reports/controlPanels/AddDefinition.scss b/client/src/components/Reports/controlPanels/AddDefinition.scss[m
[1mindex 6b4c0306f2..853ac263d4 100644[m
[1m--- a/client/src/components/Reports/controlPanels/AddDefinition.scss[m
[1m+++ b/client/src/components/Reports/controlPanels/AddDefinition.scss[m
[36m@@ -1,8 +1,8 @@[m
[31m-button.AddDefinition {[m
[32m+[m[32m.Button.AddDefinition {[m
   position: absolute;[m
[31m-  right: 50px;[m
[31m-  top: 8px;[m
[31m-  padding-right: 40px;[m
[32m+[m[32m  right: 48px;[m
[32m+[m[32m  top: 10px;[m
[32m+[m[32m  padding-right: 6px;[m
 }[m
 [m
 .AddDefinitionModal {[m
[1mdiff --git a/client/src/components/Reports/controlPanels/AddDefinition.test.js b/client/src/components/Reports/controlPanels/AddDefinition.test.js[m
[1mindex 3120765ea9..b4771ef755 100644[m
[1m--- a/client/src/components/Reports/controlPanels/AddDefinition.test.js[m
[1m+++ b/client/src/components/Reports/controlPanels/AddDefinition.test.js[m
[36m@@ -8,7 +8,7 @@[m
 import React, {runLastEffect} from 'react';[m
 import {shallow} from 'enzyme';[m
 [m
[31m-import {Modal} from 'components';[m
[32m+[m[32mimport {Button, Modal} from 'components';[m
 [m
 import {AddDefinition} from './AddDefinition';[m
 import {loadDefinitions, loadTenants} from './service';[m
[36m@@ -37,7 +37,7 @@[m [mconst props = {[m
 it('should open a modal on button click', () => {[m
   const node = shallow(<AddDefinition {...props} />);[m
 [m
[31m-  node.find('.AddDefinition').simulate('click', {stopPropagation: () => {}});[m
[32m+[m[32m  node.find(Button).simulate('click', {stopPropagation: () => {}});[m
 [m
   expect(node.find(Modal).prop('open')).toBe(true);[m
 });[m
[1mdiff --git a/client/src/components/Reports/controlPanels/CombinedReportPanel.scss b/client/src/components/Reports/controlPanels/CombinedReportPanel.scss[m
[1mindex 7988b42000..99273f6fa5 100644[m
[1m--- a/client/src/components/Reports/controlPanels/CombinedReportPanel.scss[m
[1m+++ b/client/src/components/Reports/controlPanels/CombinedReportPanel.scss[m
[36m@@ -8,6 +8,7 @@[m
   .Configuration {[m
     left: 10px;[m
     top: 10px;[m
[32m+[m[32m    list-style: none;[m
     position: absolute;[m
   }[m
 [m
[1mdiff --git a/client/src/components/Reports/controlPanels/Configuration/visualizations/subComponents/ColumnSelection.js b/client/src/components/Reports/controlPanels/Configuration/visualizations/subComponents/ColumnSelection.js[m
[1mindex 527643766d..985656b0f3 100644[m
[1m--- a/client/src/components/Reports/controlPanels/Configuration/visualizations/subComponents/ColumnSelection.js[m
[1m+++ b/client/src/components/Reports/controlPanels/Configuration/visualizations/subComponents/ColumnSelection.js[m
[36m@@ -73,16 +73,16 @@[m [mexport default function ColumnSelection({report, onChange}) {[m
           onChange({tableColumns: {includeNewVariables: {$set: checked}}})[m
         }[m
       />[m
[31m-      {groupedColumns.map(({key, value}) => {[m
[31m-        const isSection = typeof value === 'object' && value !== null;[m
[32m+[m[32m      {groupedColumns.map(({key: groupKey, value: groupValue}) => {[m
[32m+[m[32m        const isSection = typeof groupValue === 'object' && groupValue !== null;[m
 [m
[31m-        if (isSection && Object.keys(value).length === 0) {[m
[32m+[m[32m        if (isSection && Object.keys(groupValue).length === 0) {[m
           return null;[m
         }[m
 [m
         if (isSection) {[m
           let sectionType = 'variable';[m
[31m-          switch (key) {[m
[32m+[m[32m          switch (groupKey) {[m
             case 'inputVariables':[m
               sectionType = 'inputVariable';[m
               break;[m
[36m@@ -100,19 +100,19 @@[m [mexport default function ColumnSelection({report, onChange}) {[m
           }[m
 [m
           const sectionTitle = `${t(`common.filter.types.${sectionType}-plural`)}:`;[m
[31m-          const sectionKey = labels[key] || key;[m
[32m+[m[32m          const sectionKey = labels[groupKey] || groupKey;[m
 [m
           return ([m
             <CollapsibleSection[m
[31m-              key={key}[m
[31m-              sectionKey={key}[m
[31m-              isSectionOpen={isSectionOpen[key]}[m
[32m+[m[32m              key={groupKey}[m
[32m+[m[32m              sectionKey={groupKey}[m
[32m+[m[32m              isSectionOpen={isSectionOpen[groupKey]}[m
               sectionTitle={sectionTitle}[m
[31m-              toggleSectionOpen={() => toggleSectionOpen(key)}[m
[32m+[m[32m              toggleSectionOpen={() => toggleSectionOpen(groupKey)}[m
             >[m
[31m-              {Object.keys(value).map((key) => {[m
[31m-                const label = value[key]?.name || getVariableLabel(key) || key;[m
[31m-                const columnId = `${sectionKey}:${key}`;[m
[32m+[m[32m              {Object.entries(groupValue).map(([sectionEntryKey, sectionEntryValue]) => {[m
[32m+[m[32m                const label = getSwitchLabel(sectionEntryKey, sectionEntryValue, sectionType);[m
[32m+[m[32m                const columnId = `${sectionKey}:${sectionEntryKey}`;[m
 [m
                 return ([m
                   <ColumnSwitch[m
[36m@@ -129,12 +129,12 @@[m [mexport default function ColumnSelection({report, onChange}) {[m
           );[m
         }[m
 [m
[31m-        const label = t('report.table.rawData.' + key);[m
[32m+[m[32m        const label = t('report.table.rawData.' + groupKey);[m
 [m
         return ([m
           <ColumnSwitch[m
[31m-            key={key}[m
[31m-            switchId={key}[m
[32m+[m[32m            key={groupKey}[m
[32m+[m[32m            switchId={groupKey}[m
             excludedColumns={excludedColumns}[m
             includedColumns={includedColumns}[m
             label={label}[m
[36m@@ -172,3 +172,11 @@[m [mfunction groupColumns(columns) {[m
 [m
   return [...palinColumns, ...sectionColumns];[m
 }[m
[32m+[m
[32m+[m[32mfunction getSwitchLabel(sectionEntryKey, sectionEntryValue, sectionType) {[m
[32m+[m[32m  if (sectionType === 'count') {[m
[32m+[m[32m    return t('report.table.rawData.' + sectionEntryKey);[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  return sectionEntryValue?.name || getVariableLabel(sectionEntryKey) || sectionEntryKey;[m
[32m+[m[32m}[m
[1mdiff --git a/client/src/components/Reports/controlPanels/Configuration/visualizations/subComponents/ColumnSelection.test.js b/client/src/components/Reports/controlPanels/Configuration/visualizations/subComponents/ColumnSelection.test.js[m
[1mindex 19ca607af0..3f0687e4fd 100644[m
[1m--- a/client/src/components/Reports/controlPanels/Configuration/visualizations/subComponents/ColumnSelection.test.js[m
[1m+++ b/client/src/components/Reports/controlPanels/Configuration/visualizations/subComponents/ColumnSelection.test.js[m
[36m@@ -220,5 +220,5 @@[m [mit('should create section for count columns', () => {[m
 [m
   expect(node.find('CollapsibleSection').prop('sectionKey')).toBe('counts');[m
   expect(node.find('ColumnSwitch').length).toBe(1);[m
[31m-  expect(node.find('ColumnSwitch').prop('label')).toBe('incidents');[m
[32m+[m[32m  expect(node.find('ColumnSwitch').prop('label')).toBe('Incidents');[m
 });[m
[1mdiff --git a/client/src/components/Reports/controlPanels/DefinitionList/DefinitionEditor.js b/client/src/components/Reports/controlPanels/DefinitionList/DefinitionEditor.js[m
[1mindex 13d02dae5c..c2a969afc3 100644[m
[1m--- a/client/src/components/Reports/controlPanels/DefinitionList/DefinitionEditor.js[m
[1m+++ b/client/src/components/Reports/controlPanels/DefinitionList/DefinitionEditor.js[m
[36m@@ -6,14 +6,22 @@[m
  */[m
 [m
 import {useEffect, useState} from 'react';[m
[31m-import {TextInput, Button, Stack, Form} from '@carbon/react';[m
[31m-import {Edit, Maximize} from '@carbon/icons-react';[m
 [m
[31m-import {BPMNDiagram, VersionPopover, TenantPopover} from 'components';[m
[32m+[m[32mimport {[m
[32m+[m[32m  Button as LegacyButton,[m
[32m+[m[32m  Icon,[m
[32m+[m[32m  Labeled,[m
[32m+[m[32m  Input,[m
[32m+[m[32m  BPMNDiagram,[m
[32m+[m[32m  VersionPopover,[m
[32m+[m[32m  TenantPopover,[m
[32m+[m[32m  TenantInfo,[m
[32m+[m[32m} from 'components';[m
 import {withErrorHandling} from 'HOC';[m
 import {loadProcessDefinitionXml} from 'services';[m
 import {t} from 'translation';[m
 import {showError} from 'notifications';[m
[32m+[m[32mimport {getOptimizeProfile} from 'config';[m
 [m
 import {loadTenants, loadVersions} from './service';[m
 import RenameVariablesModal from './RenameVariablesModal';[m
[36m@@ -38,11 +46,18 @@[m [mexport function DefinitionEditor({mightFail, collection, type, definition, tenan[m
   const [displayName, setDisplayName] = useState(definition.displayName);[m
   const [diagramModalOpen, setDiagramModalOpen] = useState(false);[m
   const [variableModalOpen, setVariableModalOpen] = useState(false);[m
[32m+[m[32m  const [optimizeProfile, setOptimizeProfile] = useState();[m
 [m
   useEffect(() => {[m
     mightFail(loadVersions(type, collection, key), setAvailableVersions, showError);[m
   }, [mightFail, collection, key, type]);[m
 [m
[32m+[m[32m  useEffect(() => {[m
[32m+[m[32m    (async () => {[m
[32m+[m[32m      setOptimizeProfile(await getOptimizeProfile());[m
[32m+[m[32m    })();[m
[32m+[m[32m  }, []);[m
[32m+[m
   useEffect(() => {[m
     setLoadingXml(true);[m
     mightFail([m
[36m@@ -60,17 +75,17 @@[m [mexport function DefinitionEditor({mightFail, collection, type, definition, tenan[m
     setDiagramModalOpen(false);[m
   };[m
 [m
[32m+[m[32m  const showOnlyTenant = availableTenants?.length === 1 && optimizeProfile === 'ccsm';[m
[32m+[m
   return ([m
     <>[m
[31m-      <Stack gap={6} className="DefinitionEditor">[m
[31m-        <div className="title">[m
[31m-          <div className="cds--label">{t('report.definition.' + type)}</div>[m
[31m-          <div className="definitionName">{definition.name}</div>[m
[31m-        </div>[m
[31m-        <Form className="selectionPanel">[m
[32m+[m[32m      <div className="DefinitionEditor">[m
[32m+[m[32m        <div className="definitionLabel">{t('report.definition.' + type)}</div>[m
[32m+[m[32m        <div className="definitionName">{definition.name}</div>[m
[32m+[m[32m        <div className="selectionPanel">[m
           <div className="version entry">[m
[32m+[m[32m            <Labeled label={t('common.definitionSelection.version.label')} />[m
             <VersionPopover[m
[31m-              label={t('common.definitionSelection.version.label')}[m
               versions={availableVersions}[m
               selected={definition.versions}[m
               selectedSpecificVersions={selectedSpecificVersions}[m
[36m@@ -109,6 +124,7 @@[m [mexport function DefinitionEditor({mightFail, collection, type, definition, tenan[m
           </div>[m
           {availableTenants?.length > 1 && ([m
             <div className="tenant entry">[m
[32m+[m[32m              <Labeled label={t('common.tenant.label')} />[m
               <TenantPopover[m
                 tenants={availableTenants}[m
                 selected={definition.tenantIds}[m
[36m@@ -119,68 +135,67 @@[m [mexport function DefinitionEditor({mightFail, collection, type, definition, tenan[m
                   setLoadingTenants(false);[m
                 }}[m
                 align="bottom-right"[m
[31m-                label={t('common.tenant.label')}[m
               />[m
             </div>[m
           )}[m
[31m-          <TextInput[m
[31m-            id="ProcessRenameInput"[m
[31m-            size="sm"[m
[31m-            placeholder={t('report.displayNamePlaceholder')}[m
[31m-            value={displayName}[m
[31m-            onChange={(evt) => setDisplayName(evt.target.value)}[m
[31m-            labelText={t('report.displayName')}[m
[31m-            onBlur={(evt) => {[m
[31m-              // This input field is inside a Popover. When the user click outside of the Popover, we want to close it.[m
[31m-              // Popovers close, when they receive a click event outside of the Popover. However, click events are[m
[31m-              // only triggered after the mouseup, while the blur event fires after mousedown. The onChange handler[m
[31m-              // we call here causes a react state update that rerenders the ReportRenderer. So if a user clicks on[m
[31m-              // the ReportRenderer to close the popover, we get a blur event that causes the original target of the click to[m
[31m-              // disappear because of the rerender, so that the click event is never generated and the Popover stays open.[m
[31m-              //[m
[31m-              // To fix that, we need to identify that the blur event was caused by a click rather than a key event (1) and[m
[31m-              // then delay the execution of the onChange update until after the click has been processed (2). (1) can be[m
[31m-              // handled with the relatedTarget property of the event. For keyboard blur events this is always set to the new[m
[31m-              // element to receive focus. Some mouse events can also set this, if the clicked element is focusable. But as the[m
[31m-              // ReportRenderer does not have any focusable elements, we can use this to identify a click in the ReportRenderer[m
[31m-              // For (2), we register a one time mouseup event listener on the body. As the click handler fires after mouseup,[m
[31m-              // we further delay the execution of onChange using setTimeout to give the Popover time to process the click event.[m
[31m-              if (!evt.relatedTarget) {[m
[31m-                document.body.addEventListener([m
[31m-                  'mouseup',[m
[31m-                  () => setTimeout(() => onChange({...definition, displayName})),[m
[31m-                  {once: true}[m
[31m-                );[m
[31m-              } else {[m
[31m-                onChange({...definition, displayName});[m
[31m-              }[m
[31m-            }}[m
[31m-          />[m
[31m-        </Form>[m
[32m+[m[32m          {showOnlyTenant && <TenantInfo tenant={availableTenants[0]} />}[m
[32m+[m[32m          <div className="displayName">[m
[32m+[m[32m            <Labeled label={t('report.displayName')} />[m
[32m+[m[32m            <Input[m
[32m+[m[32m              placeholder={t('report.displayNamePlaceholder')}[m
[32m+[m[32m              value={displayName}[m
[32m+[m[32m              onChange={(evt) => setDisplayName(evt.target.value)}[m
[32m+[m[32m              onBlur={(evt) => {[m
[32m+[m[32m                // This input field is inside a Popover. When the user click outside of the Popover, we want to close it.[m
[32m+[m[32m                // Popovers close, when they receive a click event outside of the Popover. However, click events are[m
[32m+[m[32m                // only triggered after the mouseup, while the blur event fires after mousedown. The onChange handler[m
[32m+[m[32m                // we call here causes a react state update that rerenders the ReportRenderer. So if a user clicks on[m
[32m+[m[32m                // the ReportRenderer to close the popover, we get a blur event that causes the original target of the click to[m
[32m+[m[32m                // disappear because of the rerender, so that the click event is never generated and the Popover stays open.[m
[32m+[m[32m                //[m
[32m+[m[32m                // To fix that, we need to identify that the blur event was caused by a click rather than a key event (1) and[m
[32m+[m[32m                // then delay the execution of the onChange update until after the click has been processed (2). (1) can be[m
[32m+[m[32m                // handled with the relatedTarget property of the event. For keyboard blur events this is always set to the new[m
[32m+[m[32m                // element to receive focus. Some mouse events can also set this, if the clicked element is focusable. But as the[m
[32m+[m[32m                // ReportRenderer does not have any focusable elements, we can use this to identify a click in the ReportRenderer[m
[32m+[m[32m                // For (2), we register a one time mouseup event listener on the body. As the click handler fires after mouseup,[m
[32m+[m[32m                // we further delay the execution of onChange using setTimeout to give the Popover time to process the click event.[m
[32m+[m[32m                if (!evt.relatedTarget) {[m
[32m+[m[32m                  document.body.addEventListener([m
[32m+[m[32m                    'mouseup',[m
[32m+[m[32m                    () => setTimeout(() => onChange({...definition, displayName})),[m
[32m+[m[32m                    {once: true}[m
[32m+[m[32m                  );[m
[32m+[m[32m                } else {[m
[32m+[m[32m                  onChange({...definition, displayName});[m
[32m+[m[32m                }[m
[32m+[m[32m              }}[m
[32m+[m[32m            />[m
[32m+[m[32m          </div>[m
[32m+[m[32m        </div>[m
         <div className="diagram">[m
           <BPMNDiagram xml={xml} disableNavigation loading={loadingXml} />[m
[31m-          <Button[m
[31m-            kind="tertiary"[m
[32m+[m[32m          <LegacyButton[m
[32m+[m[32m            small[m
             disabled={loadingXml || !xml}[m
             onClick={() => setDiagramModalOpen(true)}[m
[31m-            renderIcon={Maximize}[m
[31m-            size="sm"[m
[31m-            className="diagramExpandBtn"[m
           >[m
[32m+[m[32m            <Icon type="fullscreen" />[m
             {t('common.entity.viewModel.model')}[m
[31m-          </Button>[m
[32m+[m[32m          </LegacyButton>[m
[32m+[m[32m        </div>[m
[32m+[m[32m        <div className="actionBar">[m
[32m+[m[32m          <LegacyButton[m
[32m+[m[32m            small[m
[32m+[m[32m            onClick={() => {[m
[32m+[m[32m              setVariableModalOpen(true);[m
[32m+[m[32m            }}[m
[32m+[m[32m          >[m
[32m+[m[32m            <Icon type="edit" />[m
[32m+[m[32m            {t('report.definition.variables.rename')}[m
[32m+[m[32m          </LegacyButton>[m
         </div>[m
[31m-        <Button[m
[31m-          kind="tertiary"[m
[31m-          size="sm"[m
[31m-          onClick={() => {[m
[31m-            setVariableModalOpen(true);[m
[31m-          }}[m
[31m-          renderIcon={Edit}[m
[31m-        >[m
[31m-          {t('report.definition.variables.rename')}[m
[31m-        </Button>[m
[31m-      </Stack>[m
[32m+[m[32m      </div>[m
       <RenameVariablesModal[m
         open={variableModalOpen}[m
         definitionKey={definition.key}[m
[1mdiff --git a/client/src/components/Reports/controlPanels/DefinitionList/DefinitionEditor.scss b/client/src/components/Reports/controlPanels/DefinitionList/DefinitionEditor.scss[m
[1mindex a907a6ce31..7c87702ee5 100644[m
[1m--- a/client/src/components/Reports/controlPanels/DefinitionList/DefinitionEditor.scss[m
[1m+++ b/client/src/components/Reports/controlPanels/DefinitionList/DefinitionEditor.scss[m
[36m@@ -1,17 +1,15 @@[m
[31m-@use '@carbon/styles/scss/spacing';[m
[31m-[m
 .DefinitionEditor {[m
   .diagram {[m
     height: 240px;[m
[32m+[m[32m    padding: 20px 40px;[m
[32m+[m[32m    border-top: 1px solid var(--silver-darken-80);[m
     display: flex;[m
     position: relative;[m
[31m-    border-bottom: 1px solid var(--cds-border-strong);[m
[31m-    padding: spacing.$spacing-06 0;[m
 [m
[31m-    .diagramExpandBtn {[m
[32m+[m[32m    .Button {[m
       position: absolute;[m
[31m-      top: 0px;[m
[31m-      left: 0px;[m
[32m+[m[32m      top: 15px;[m
[32m+[m[32m      left: 40px;[m
     }[m
   }[m
 }[m
[1mdiff --git a/client/src/components/Reports/controlPanels/DefinitionList/DefinitionEditor.test.js b/client/src/components/Reports/controlPanels/DefinitionList/DefinitionEditor.test.js[m
[1mindex 7568018cc6..846ebefcc6 100644[m
[1m--- a/client/src/components/Reports/controlPanels/DefinitionList/DefinitionEditor.test.js[m
[1m+++ b/client/src/components/Reports/controlPanels/DefinitionList/DefinitionEditor.test.js[m
[36m@@ -7,16 +7,18 @@[m
 [m
 import {runAllEffects} from 'react';[m
 import {shallow} from 'enzyme';[m
[31m-import {TextInput, Button} from '@carbon/react';[m
 [m
[31m-import {BPMNDiagram} from 'components';[m
[32m+[m[32mimport {Input, BPMNDiagram, Button, TenantInfo} from 'components';[m
 import {loadProcessDefinitionXml} from 'services';[m
[32m+[m[32mimport {getOptimizeProfile} from 'config';[m
 [m
 import RenameVariablesModal from './RenameVariablesModal';[m
 import DiagramModal from './DiagramModal';[m
 import {DefinitionEditor} from './DefinitionEditor';[m
 import {loadVersions} from './service';[m
 [m
[32m+[m[32mjest.mock('config', () => ({getOptimizeProfile: jest.fn().mockReturnValue('platform')}));[m
[32m+[m
 jest.mock('services', () => {[m
   return {[m
     ...jest.requireActual('services'),[m
[36m@@ -69,12 +71,22 @@[m [mit('should show available tenants for the given definition and versions', () =>[m
   expect(node.find('TenantPopover').prop('tenants')).toEqual(props.tenantInfo);[m
 });[m
 [m
[32m+[m[32mit('should show the readonly TenantInfo in self managed mode', async () => {[m
[32m+[m[32m  getOptimizeProfile.mockReturnValueOnce('ccsm');[m
[32m+[m[32m  const tenant = {id: '<default>', name: 'Default'};[m
[32m+[m[32m  const node = shallow(<DefinitionEditor {...props} tenantInfo={[tenant]} />);[m
[32m+[m
[32m+[m[32m  await runAllEffects();[m
[32m+[m
[32m+[m[32m  expect(node.find(TenantInfo).prop('tenant')).toBe(tenant);[m
[32m+[m[32m});[m
[32m+[m
 it('should allow users to set a display name', () => {[m
   const spy = jest.fn();[m
   const node = shallow(<DefinitionEditor {...props} onChange={spy} />);[m
 [m
[31m-  node.find(TextInput).simulate('change', {target: {value: 'new display name'}});[m
[31m-  node.find(TextInput).simulate('blur', {relatedTarget: {}});[m
[32m+[m[32m  node.find(Input).simulate('change', {target: {value: 'new display name'}});[m
[32m+[m[32m  node.find(Input).simulate('blur', {relatedTarget: {}});[m
 [m
   expect(spy.mock.calls[0][0].displayName).toBe('new display name');[m
 });[m
[36m@@ -115,7 +127,7 @@[m [mit('should pass all tenants ids to the renameVariableModal', () => {[m
   ];[m
   const node = shallow(<DefinitionEditor {...props} tenantInfo={tenantInfo} />);[m
 [m
[31m-  node.find(Button).last().simulate('click');[m
[32m+[m[32m  node.find('.actionBar').find(Button).simulate('click');[m
 [m
   expect(node.find(RenameVariablesModal).prop('availableTenants')).toEqual(['a', 'b']);[m
 });[m
[36m@@ -125,7 +137,8 @@[m [mit('should invoke onChange when confirming the renamed variable modal', () => {[m
   const node = shallow(<DefinitionEditor {...props} onChange={spy} />);[m
   runAllEffects();[m
 [m
[31m-  node.find(Button).last().simulate('click');[m
[32m+[m[32m  node.find('.actionBar').find(Button).simulate('click');[m
[32m+[m
   node.find(RenameVariablesModal).prop('onChange')();[m
 [m
   expect(spy).toHaveBeenCalled();[m
[1mdiff --git a/client/src/components/Reports/controlPanels/DefinitionList/DefinitionList.js b/client/src/components/Reports/controlPanels/DefinitionList/DefinitionList.js[m
[1mindex 1a4535c77a..d5cf9b1025 100644[m
[1m--- a/client/src/components/Reports/controlPanels/DefinitionList/DefinitionList.js[m
[1m+++ b/client/src/components/Reports/controlPanels/DefinitionList/DefinitionList.js[m
[36m@@ -5,19 +5,18 @@[m
  * except in compliance with the proprietary license.[m
  */[m
 [m
[31m-import {useState} from 'react';[m
[32m+[m[32mimport {useEffect, useState} from 'react';[m
 import {withRouter} from 'react-router-dom';[m
 import classnames from 'classnames';[m
 import useDeepCompareEffect from 'use-deep-compare-effect';[m
 import deepEqual from 'fast-deep-equal';[m
[31m-import {Button} from '@carbon/react';[m
[31m-import {Close, Copy, Edit} from '@carbon/icons-react';[m
 [m
[31m-import {Popover, Tooltip} from 'components';[m
[32m+[m[32mimport {Button, Icon, Popover, Tooltip} from 'components';[m
 import {withDocs, withErrorHandling} from 'HOC';[m
 import {getCollection, formatters} from 'services';[m
 import {t} from 'translation';[m
 import {showError} from 'notifications';[m
[32m+[m[32mimport {getOptimizeProfile} from 'config';[m
 [m
 import {loadTenants} from './service';[m
 import DefinitionEditor from './DefinitionEditor';[m
[36m@@ -38,6 +37,7 @@[m [mexport function DefinitionList({[m
 }) {[m
   const [openPopover, setOpenPopover] = useState();[m
   const [tenantInfo, setTenantInfo] = useState();[m
[32m+[m[32m  const [optimizeProfile, setOptimizeProfile] = useState();[m
 [m
   const collection = getCollection(location.pathname);[m
   const definitionKeysAndVersions = definitions.map(({key, versions}) => ({key, versions}));[m
[36m@@ -47,6 +47,12 @@[m [mexport function DefinitionList({[m
     mightFail(loadTenants(type, definitionKeysAndVersions, collection), setTenantInfo, showError);[m
   }, [definitionKeysAndVersions, collection, mightFail, type]);[m
 [m
[32m+[m[32m  useEffect(() => {[m
[32m+[m[32m    (async () => {[m
[32m+[m[32m      setOptimizeProfile(await getOptimizeProfile());[m
[32m+[m[32m    })();[m
[32m+[m[32m  }, []);[m
[32m+[m
   function getTenantInfoForDefinition(definition) {[m
     return tenantInfo?.find([m
       ({key, versions}) => key === definition.key && deepEqual(versions, definition.versions)[m
[36m@@ -62,15 +68,18 @@[m [mexport function DefinitionList({[m
       {definitions.map((definition, idx) => {[m
         const tenantInfo = getTenantInfoForDefinition(definition);[m
 [m
[32m+[m[32m        const showOnlyTenant = tenantInfo?.length === 1 && optimizeProfile === 'ccsm';[m
[32m+[m
         return ([m
           <li key={idx + definition.key} className={classnames({active: openPopover === idx})}>[m
             <h4>{definition.displayName || definition.name || definition.key}</h4>[m
             <div className="info">[m
               {t('common.definitionSelection.version.label')}: {formatVersions(definition.versions)}[m
             </div>[m
[31m-            {tenantInfo?.length > 1 && ([m
[32m+[m[32m            {(tenantInfo?.length > 1 || showOnlyTenant) && ([m
               <div className="info">[m
[31m-                {t('common.tenant.label')}: {formatTenants(definition.tenantIds, tenantInfo)}[m
[32m+[m[32m                {t('common.tenant.label')}:{' '}[m
[32m+[m[32m                {formatTenants(definition.tenantIds, tenantInfo, showOnlyTenant)}[m
               </div>[m
             )}[m
             <div className="actions">[m
[36m@@ -84,31 +93,20 @@[m [mexport function DefinitionList({[m
                   })}[m
                   position="bottom"[m
                 >[m
[31m-                  <Button[m
[31m-                    kind="ghost"[m
[31m-                    size="sm"[m
[31m-                    className="actionBtn"[m
[31m-                    onClick={() => onCopy(idx)}[m
[31m-                    iconDescription="Copy"[m
[31m-                    renderIcon={Copy}[m
[31m-                    hasIconOnly[m
[31m-                  />[m
[32m+[m[32m                  <Button icon onClick={() => onCopy(idx)}>[m
[32m+[m[32m                    <Icon type="copy-small" size="14px" />[m
[32m+[m[32m                  </Button>[m
                 </Tooltip>[m
               )}[m
               <Popover[m
                 className="DefinitionList"[m
                 onOpen={() => setOpenPopover(idx)}[m
                 onClose={() => setOpenPopover()}[m
[32m+[m[32m                title={<Icon type="edit-small" size="14px" />}[m
[32m+[m[32m                tabIndex="0"[m
[32m+[m[32m                tooltip={t('common.editName', {name: t('common.process.label')})}[m
[32m+[m[32m                tooltipPosition="bottom"[m
                 floating[m
[31m-                trigger={[m
[31m-                  <Popover.Button[m
[31m-                    size="sm"[m
[31m-                    className="actionBtn"[m
[31m-                    iconDescription={t('common.edit')}[m
[31m-                    renderIcon={Edit}[m
[31m-                    hasIconOnly[m
[31m-                  />[m
[31m-                }[m
               >[m
                 <DefinitionEditor[m
                   collection={collection}[m
[36m@@ -118,15 +116,14 @@[m [mexport function DefinitionList({[m
                   type={type}[m
                 />[m
               </Popover>[m
[31m-              <Button[m
[31m-                kind="ghost"[m
[31m-                size="sm"[m
[31m-                className="actionBtn"[m
[31m-                iconDescription={t('common.remove')}[m
[31m-                onClick={() => onRemove(idx)}[m
[31m-                renderIcon={Close}[m
[31m-                hasIconOnly[m
[31m-              />[m
[32m+[m[32m              <Tooltip[m
[32m+[m[32m                content={t('common.removeEntity', {entity: t('common.process.label')})}[m
[32m+[m[32m                position="bottom"[m
[32m+[m[32m              >[m
[32m+[m[32m                <Button icon onClick={() => onRemove(idx)}>[m
[32m+[m[32m                  <Icon type="close-small" size="14px" />[m
[32m+[m[32m                </Button>[m
[32m+[m[32m              </Tooltip>[m
             </div>[m
           </li>[m
         );[m
[1mdiff --git a/client/src/components/Reports/controlPanels/DefinitionList/DefinitionList.scss b/client/src/components/Reports/controlPanels/DefinitionList/DefinitionList.scss[m
[1mindex 499eae409b..5321031a74 100644[m
[1m--- a/client/src/components/Reports/controlPanels/DefinitionList/DefinitionList.scss[m
[1m+++ b/client/src/components/Reports/controlPanels/DefinitionList/DefinitionList.scss[m
[36m@@ -1,8 +1,23 @@[m
[31m-@use '@carbon/styles/scss/spacing';[m
[31m-@use '@carbon/type';[m
[31m-@use '@carbon/colors';[m
[32m+[m[32m@mixin button-styles {[m
[32m+[m[32m  width: 20px;[m
[32m+[m[32m  height: 20px;[m
[32m+[m[32m  margin: 3px;[m
[32m+[m
[32m+[m[32m  .Icon {[m
[32m+[m[32m    margin: 3px;[m
[32m+[m[32m    vertical-align: initial;[m
[32m+[m
[32m+[m[32m    width: 14px;[m
[32m+[m[32m    height: 14px;[m
[32m+[m[32m    min-width: 14px;[m
[32m+[m[32m    min-height: 14px;[m
[32m+[m[32m  }[m
[32m+[m[32m}[m
 [m
 .DefinitionList {[m
[32m+[m[32m  list-style: none;[m
[32m+[m[32m  margin: 0;[m
[32m+[m[32m  padding: 0;[m
   flex-grow: 1;[m
 [m
   &.empty {[m
[36m@@ -24,7 +39,8 @@[m
       background: var(--silver-lighten-99);[m
 [m
       > .actions {[m
[31m-        .actionBtn {[m
[32m+[m[32m        > .Button,[m
[32m+[m[32m        > .Popover > .buttonWrapper .Button {[m
           opacity: 1;[m
         }[m
       }[m
[36m@@ -34,28 +50,58 @@[m
       font-size: 13px;[m
       color: var(--grey-darken-33);[m
       margin-bottom: 3px;[m
[31m-      margin-right: 90px;[m
[32m+[m[32m      margin-right: 75px;[m
     }[m
 [m
     > .info {[m
       font-size: 11px;[m
       color: var(--grey-lighten-56);[m
[31m-      margin-right: 90px;[m
     }[m
 [m
     > .actions {[m
[31m-      display: flex;[m
       position: absolute;[m
       top: 7px;[m
       right: 7px;[m
 [m
[31m-      .actionBtn {[m
[32m+[m[32m      > .Button,[m
[32m+[m[32m      > .Popover > .buttonWrapper .Button {[m
         opacity: 0;[m
 [m
         &.focus-visible {[m
           opacity: 1;[m
         }[m
       }[m
[32m+[m
[32m+[m[32m      > .Button {[m
[32m+[m[32m        @include button-styles;[m
[32m+[m[32m      }[m
[32m+[m
[32m+[m[32m      > .Popover {[m
[32m+[m[32m        display: inline-block;[m
[32m+[m
[32m+[m[32m        > .buttonWrapper {[m
[32m+[m[32m          .Button {[m
[32m+[m[32m            padding: 0;[m
[32m+[m[32m            background: none;[m
[32m+[m[32m            border: none;[m
[32m+[m[32m            border-radius: 50%;[m
[32m+[m[32m            @include button-styles;[m
[32m+[m
[32m+[m[32m            &:hover {[m
[32m+[m[32m              background-color: var(--silver-darken-94);[m
[32m+[m[32m            }[m
[32m+[m
[32m+[m[32m            &:active,[m
[32m+[m[32m            &.active {[m
[32m+[m[32m              background-color: var(--silver-darken-80);[m
[32m+[m[32m            }[m
[32m+[m
[32m+[m[32m            .downIcon {[m
[32m+[m[32m              display: none;[m
[32m+[m[32m            }[m
[32m+[m[32m          }[m
[32m+[m[32m        }[m
[32m+[m[32m      }[m
     }[m
   }[m
 [m
[36m@@ -64,20 +110,50 @@[m
       > .popoverContent {[m
         width: 680px;[m
         max-width: 680px;[m
[31m-        padding-bottom: spacing.$spacing-06;[m
 [m
[32m+[m[32m        .definitionLabel {[m
[32m+[m[32m          padding: 20px 20px 0 40px;[m
[32m+[m[32m          color: var(--grey-lighten-56);[m
[32m+[m[32m          font-size: 12px;[m
[32m+[m[32m        }[m
         .definitionName {[m
[31m-          color: colors.$black;[m
[31m-          font-size: type.type-scale(2);[m
[32m+[m[32m          margin-left: 40px;[m
[32m+[m[32m          color: var(--grey-darken-23);[m
[32m+[m[32m          font-size: 15px;[m
[32m+[m[32m          font-weight: 500;[m
[32m+[m[32m          margin-bottom: 20px;[m
         }[m
 [m
         .selectionPanel {[m
           display: flex;[m
[31m-          align-items: flex-end;[m
[32m+[m[32m          margin: 0 20px 20px 40px;[m
 [m
           .entry {[m
             width: 108px;[m
[31m-            margin-right: spacing.$spacing-06;[m
[32m+[m
[32m+[m[32m            &:not(:first-child) {[m
[32m+[m[32m              margin-left: 10px;[m
[32m+[m[32m            }[m
[32m+[m[32m          }[m
[32m+[m
[32m+[m[32m          .displayName {[m
[32m+[m[32m            margin-left: 4px;[m
[32m+[m[32m            flex: 1;[m
[32m+[m
[32m+[m[32m            .Input {[m
[32m+[m[32m              width: 100%;[m
[32m+[m[32m            }[m
[32m+[m[32m          }[m
[32m+[m[32m        }[m
[32m+[m
[32m+[m[32m        .actionBar {[m
[32m+[m[32m          height: 65px;[m
[32m+[m[32m          border-top: 1px solid var(--silver-darken-80);[m
[32m+[m[32m          border-radius: 0 0 8px 8px;[m
[32m+[m[32m          padding: 21px 46px;[m
[32m+[m
[32m+[m[32m          .Button {[m
[32m+[m[32m            margin-right: 15px;[m
           }[m
         }[m
       }[m
[1mdiff --git a/client/src/components/Reports/controlPanels/DefinitionList/DefinitionList.test.js b/client/src/components/Reports/controlPanels/DefinitionList/DefinitionList.test.js[m
[1mindex 64988eaf3a..1c3360d45d 100644[m
[1m--- a/client/src/components/Reports/controlPanels/DefinitionList/DefinitionList.test.js[m
[1m+++ b/client/src/components/Reports/controlPanels/DefinitionList/DefinitionList.test.js[m
[36m@@ -5,11 +5,17 @@[m
  * except in compliance with the proprietary license.[m
  */[m
 [m
[31m-import React, {runLastEffect} from 'react';[m
[32m+[m[32mimport React, {runAllEffects} from 'react';[m
 import {shallow} from 'enzyme';[m
 [m
[32m+[m[32mimport {Button} from 'components';[m
[32m+[m[32mimport {getOptimizeProfile} from 'config';[m
[32m+[m
 import DefinitionEditor from './DefinitionEditor';[m
 import {DefinitionList} from './DefinitionList';[m
[32m+[m[32mimport {loadTenants} from './service';[m
[32m+[m
[32m+[m[32mjest.mock('config', () => ({getOptimizeProfile: jest.fn().mockReturnValue('platform')}));[m
 [m
 jest.mock('./service', () => ({[m
   loadTenants: jest.fn().mockReturnValue([[m
[36m@@ -47,18 +53,47 @@[m [mit('should show a list of added definitions', () => {[m
   expect(node.find(DefinitionEditor).prop('definition')).toEqual(props.definitions[0]);[m
 });[m
 [m
[31m-it('should display names of tenants', () => {[m
[32m+[m[32mit('should display names of tenants', async () => {[m
   const node = shallow(<DefinitionList {...props} />);[m
[31m-  runLastEffect();[m
[32m+[m
[32m+[m[32m  runAllEffects();[m
 [m
   expect(node.find('.info').at(1).text()).toBe('Tenant: Tenant A, Tenant B');[m
 });[m
 [m
[32m+[m[32mit('should show the only tenant in self managed mode', async () => {[m
[32m+[m[32m  loadTenants.mockReturnValueOnce([[m
[32m+[m[32m    {[m
[32m+[m[32m      key: 'definitionA',[m
[32m+[m[32m      versions: ['all'],[m
[32m+[m[32m      tenants: [{id: '<defaut>', name: 'Default'}],[m
[32m+[m[32m    },[m
[32m+[m[32m  ]);[m
[32m+[m[32m  getOptimizeProfile.mockReturnValueOnce('ccsm');[m
[32m+[m[32m  const node = shallow([m
[32m+[m[32m    <DefinitionList[m
[32m+[m[32m      {...props}[m
[32m+[m[32m      definitions={[[m
[32m+[m[32m        {[m
[32m+[m[32m          key: 'definitionA',[m
[32m+[m[32m          name: 'Definition A',[m
[32m+[m[32m          displayName: 'Definition A',[m
[32m+[m[32m          versions: ['all'],[m
[32m+[m[32m          tenantIds: ['<defaut>'],[m
[32m+[m[32m        },[m
[32m+[m[32m      ]}[m
[32m+[m[32m    />[m
[32m+[m[32m  );[m
[32m+[m
[32m+[m[32m  await runAllEffects();[m
[32m+[m[32m  expect(node.find('.info').at(1).text()).toBe('Tenant: Default');[m
[32m+[m[32m});[m
[32m+[m
 it('should allow copying definitions', () => {[m
   const spy = jest.fn();[m
   const node = shallow(<DefinitionList {...props} onCopy={spy} />);[m
 [m
[31m-  node.find('.actionBtn').first().simulate('click');[m
[32m+[m[32m  node.find(Button).first().simulate('click');[m
   expect(spy).toHaveBeenCalled();[m
 });[m
 [m
[36m@@ -76,5 +111,5 @@[m [mit('should not allow copy if limit of 10 definitions is reached', () => {[m
     />[m
   );[m
 [m
[31m-  expect(node.find({iconDescription: 'Copy'})).not.toExist();[m
[32m+[m[32m  expect(node.find({type: 'copy-small'})).not.toExist();[m
 });[m
[1mdiff --git a/client/src/components/Reports/controlPanels/DefinitionList/RenameVariablesModal.js b/client/src/components/Reports/controlPanels/DefinitionList/RenameVariablesModal.js[m
[1mindex bc714a4bd0..a6f73b6682 100644[m
[1m--- a/client/src/components/Reports/controlPanels/DefinitionList/RenameVariablesModal.js[m
[1m+++ b/client/src/components/Reports/controlPanels/DefinitionList/RenameVariablesModal.js[m
[36m@@ -85,7 +85,7 @@[m [mexport function RenameVariablesModal({[m
               <b>{t('report.definition.variables.important')} </b>[m
               {t('report.definition.variables.followGuidelines')}[m
             </p>[m
[31m-            <ul className="guidelines">[m
[32m+[m[32m            <ul>[m
               <li>{t('report.definition.variables.globalChanges')}</li>[m
               <li>{t('report.definition.variables.useSameVariable')}</li>[m
             </ul>[m
[1mdiff --git a/client/src/components/Reports/controlPanels/DefinitionList/RenameVariablesModal.scss b/client/src/components/Reports/controlPanels/DefinitionList/RenameVariablesModal.scss[m
[1mindex 73fcc21164..f0fe59d705 100644[m
[1m--- a/client/src/components/Reports/controlPanels/DefinitionList/RenameVariablesModal.scss[m
[1m+++ b/client/src/components/Reports/controlPanels/DefinitionList/RenameVariablesModal.scss[m
[36m@@ -14,11 +14,6 @@[m
     .header {[m
       display: flex;[m
 [m
[31m-      .guidelines {[m
[31m-        list-style: initial;[m
[31m-        padding-left: 40px;[m
[31m-      }[m
[31m-[m
       .searchInputContainer {[m
         position: relative;[m
         margin-left: auto;[m
[1mdiff --git a/client/src/components/Reports/controlPanels/ReportControlPanel.scss b/client/src/components/Reports/controlPanels/ReportControlPanel.scss[m
[1mindex d89fda9a7a..d6d73d188a 100644[m
[1m--- a/client/src/components/Reports/controlPanels/ReportControlPanel.scss[m
[1m+++ b/client/src/components/Reports/controlPanels/ReportControlPanel.scss[m
[36m@@ -97,6 +97,9 @@[m
   }[m
 [m
   .reportSetup > ul {[m
[32m+[m[32m    list-style: none;[m
[32m+[m[32m    margin: 0;[m
[32m+[m[32m    padding: 0;[m
     flex-grow: 1;[m
     margin-top: 5px;[m
 [m
[1mdiff --git a/client/src/components/Sharing/Sharing.scss b/client/src/components/Sharing/Sharing.scss[m
[1mindex d68d2ba579..63196333de 100644[m
[1m--- a/client/src/components/Sharing/Sharing.scss[m
[1m+++ b/client/src/components/Sharing/Sharing.scss[m
[36m@@ -53,7 +53,7 @@[m
   }[m
 [m
   .OptimizeReportTile:hover {[m
[31m-    .Popover .buttonWrapper .ButtonTrigger {[m
[32m+[m[32m    .Popover .buttonWrapper .Button {[m
       opacity: 1;[m
     }[m
   }[m
[1mdiff --git a/client/src/modules/HOC/withUser.tsx b/client/src/modules/HOC/withUser.tsx[m
[1mindex 01482701e8..a686d9eb59 100644[m
[1m--- a/client/src/modules/HOC/withUser.tsx[m
[1m+++ b/client/src/modules/HOC/withUser.tsx[m
[36m@@ -23,11 +23,11 @@[m [mexport interface User {[m
 [m
 export interface WithUserProps {[m
   user?: User;[m
[31m-  getUser?: () => Promise<User>;[m
[31m-  refreshUser?: () => Promise<User>;[m
[32m+[m[32m  getUser: () => Promise<User>;[m
[32m+[m[32m  refreshUser: () => Promise<User>;[m
 }[m
 [m
[31m-export const UserContext = createContext<WithUserProps>({});[m
[32m+[m[32mexport const UserContext = createContext<WithUserProps | undefined>(undefined);[m
 const resolveWithUser: ((user: User) => void)[] = [];[m
 [m
 export function UserProvider({children}: {children: ReactNode}): JSX.Element {[m
[1mdiff --git a/client/src/modules/components/AlertModal/AlertModal.js b/client/src/modules/components/AlertModal/AlertModal.js[m
[1mindex 1c1eb5f3e5..d8b118c6be 100644[m
[1m--- a/client/src/modules/components/AlertModal/AlertModal.js[m
[1m+++ b/client/src/modules/components/AlertModal/AlertModal.js[m
[36m@@ -7,19 +7,20 @@[m
 [m
 import React from 'react';[m
 import update from 'immutability-helper';[m
[32m+[m[32mimport {Button} from '@carbon/react';[m
[32m+[m
 import {[m
[31m-  Button,[m
[31m-  Checkbox,[m
[31m-  ComboBox,[m
[31m-  TextInput,[m
[32m+[m[32m  Modal,[m
[32m+[m[32m  Message,[m
[32m+[m[32m  Button as LegacyButton,[m
[32m+[m[32m  Labeled,[m
[32m+[m[32m  Input,[m
[32m+[m[32m  LabeledInput,[m
[32m+[m[32m  Select,[m
[32m+[m[32m  Typeahead,[m
[32m+[m[32m  MessageBox,[m
   Form,[m
[31m-  Stack,[m
[31m-  ActionableNotification,[m
[31m-  Grid,[m
[31m-  Column,[m
[31m-} from '@carbon/react';[m
[31m-[m
[31m-import {Modal, CarbonSelect} from 'components';[m
[32m+[m[32m} from 'components';[m
 import {formatters, evaluateReport, getReportResult} from 'services';[m
 import {isEmailEnabled} from 'config';[m
 import {t} from 'translation';[m
[36m@@ -250,226 +251,213 @@[m [mexport class AlertModal extends React.Component {[m
     const reportMeasure = this.getReportMeasure(reportId);[m
 [m
     return ([m
[31m-      <Modal open onClose={onClose} className="AlertModal">[m
[32m+[m[32m      <Modal open onClose={onClose} className="AlertModal" isOverflowVisible>[m
         <Modal.Header>[m
           {this.isInEditingMode() ? t('alert.edit') : t('alert.createNew')}[m
         </Modal.Header>[m
         <Modal.Content>[m
[31m-          <Grid>[m
[31m-            <Column sm={4} md={8} lg={16}>[m
[31m-              <Form autoComplete="off">[m
[31m-                <Stack gap={6}>[m
[31m-                  {!emailNotificationIsEnabled && ([m
[31m-                    <ActionableNotification inline kind="warning" hideCloseButton>[m
[31m-                      {t('alert.emailWarning', {[m
[31m-                        docsLink:[m
[31m-                          this.props.docsLink +[m
[31m-                          'self-managed/optimize-deployment/configuration/system-configuration/#email',[m
[31m-                      })}[m
[31m-                    </ActionableNotification>[m
[31m-                  )}[m
[31m-                  {inactive && ([m
[31m-                    <ActionableNotification inline kind="warning" hideCloseButton>[m
[31m-                      {t('alert.inactiveStatus')}[m
[31m-                      <br />[m
[31m-                      {t('alert.activateInfo')}[m
[31m-                    </ActionableNotification>[m
[31m-                  )}[m
[31m-                  <TextInput[m
[31m-                    id="alertName"[m
[31m-                    labelText={t('alert.form.name')}[m
[31m-                    value={name}[m
[31m-                    onChange={({target: {value}}) => this.setState({name: value})}[m
[31m-                    autoComplete="off"[m
[31m-                  />[m
[31m-                  <ComboBox[m
[31m-                    id="report"[m
[31m-                    size="sm"[m
[31m-                    items={reports}[m
[31m-                    selectedItem={selectedReport}[m
[31m-                    itemToString={(item) => item.name || item.id}[m
[31m-                    disabled={!!this.props.initialReport || !reports?.length}[m
[31m-                    placeholder={t('alert.form.reportPlaceholder')}[m
[31m-                    titleText={t('alert.form.report')}[m
[31m-                    onChange={({selectedItem}) => {[m
[31m-                      if (selectedItem) {[m
[31m-                        this.updateReport(selectedItem.id);[m
[31m-                      }[m
[31m-                    }}[m
[31m-                    helperText={[m
[31m-                      report[m
[31m-                        ? t('alert.form.value', {[m
[31m-                            value: reportId === report.id ? getReportValue(report) : '...',[m
[31m-                          })[m
[31m-                        : t('alert.form.reportInfo')[m
[32m+[m[32m          <Form horizontal autoComplete="off">[m
[32m+[m[32m            {!emailNotificationIsEnabled && ([m
[32m+[m[32m              <MessageBox type="warning">[m
[32m+[m[32m                {t('alert.emailWarning', {[m
[32m+[m[32m                  docsLink:[m
[32m+[m[32m                    this.props.docsLink +[m
[32m+[m[32m                    'self-managed/optimize-deployment/configuration/system-configuration/#email',[m
[32m+[m[32m                })}[m
[32m+[m[32m              </MessageBox>[m
[32m+[m[32m            )}[m
[32m+[m[32m            {inactive && ([m
[32m+[m[32m              <MessageBox type="warning">[m
[32m+[m[32m                {t('alert.inactiveStatus')}[m
[32m+[m[32m                <br />[m
[32m+[m[32m                {t('alert.activateInfo')}[m
[32m+[m[32m              </MessageBox>[m
[32m+[m[32m            )}[m
[32m+[m[32m            <Form.Group>[m
[32m+[m[32m              <LabeledInput[m
[32m+[m[32m                label={t('alert.form.name')}[m
[32m+[m[32m                value={name}[m
[32m+[m[32m                onChange={({target: {value}}) => this.setState({name: value})}[m
[32m+[m[32m                autoComplete="off"[m
[32m+[m[32m              />[m
[32m+[m[32m            </Form.Group>[m
[32m+[m[32m            <Form.Group>[m
[32m+[m[32m              <Labeled label={t('alert.form.report')}>[m
[32m+[m[32m                <Typeahead[m
[32m+[m[32m                  disabled={!!this.props.initialReport}[m
[32m+[m[32m                  initialValue={selectedReport.id}[m
[32m+[m[32m                  placeholder={t('alert.form.reportPlaceholder')}[m
[32m+[m[32m                  onChange={this.updateReport}[m
[32m+[m[32m                  noValuesMessage={t('alert.form.noReports')}[m
[32m+[m[32m                >[m
[32m+[m[32m                  {reports.map(({id, name}) => ([m
[32m+[m[32m                    <Typeahead.Option key={id} value={id}>[m
[32m+[m[32m                      {name}[m
[32m+[m[32m                    </Typeahead.Option>[m
[32m+[m[32m                  ))}[m
[32m+[m[32m                </Typeahead>[m
[32m+[m[32m              </Labeled>[m
[32m+[m[32m              <Message>[m
[32m+[m[32m                {report[m
[32m+[m[32m                  ? t('alert.form.value', {[m
[32m+[m[32m                      value: reportId === report.id ? getReportValue(report) : '...',[m
[32m+[m[32m                    })[m
[32m+[m[32m                  : t('alert.form.reportInfo')}[m
[32m+[m[32m              </Message>[m
[32m+[m[32m            </Form.Group>[m
[32m+[m[32m            <Form.Group>[m
[32m+[m[32m              <span>{t('alert.form.threshold')}</span>[m
[32m+[m[32m              <Form.InputGroup>[m
[32m+[m[32m                <Select[m
[32m+[m[32m                  value={thresholdOperator}[m
[32m+[m[32m                  onChange={(value) => this.setState({thresholdOperator: value})}[m
[32m+[m[32m                >[m
[32m+[m[32m                  <Select.Option value=">">{t('common.above')}</Select.Option>[m
[32m+[m[32m                  <Select.Option value="<">{t('common.below')}</Select.Option>[m
[32m+[m[32m                </Select>[m
[32m+[m[32m                <ThresholdInput[m
[32m+[m[32m                  value={threshold}[m
[32m+[m[32m                  onChange={(threshold) => this.setState({threshold})}[m
[32m+[m[32m                  type={reportMeasure}[m
[32m+[m[32m                  isInvalid={!this.isThresholdValid()}[m
[32m+[m[32m                />[m
[32m+[m[32m              </Form.InputGroup>[m
[32m+[m[32m              {!this.isThresholdValid() && ([m
[32m+[m[32m                <Message error>[m
[32m+[m[32m                  {reportMeasure === 'percentage'[m
[32m+[m[32m                    ? t('common.errors.percentage')[m
[32m+[m[32m                    : t('common.errors.number')}[m
[32m+[m[32m                </Message>[m
[32m+[m[32m              )}[m
[32m+[m[32m            </Form.Group>[m
[32m+[m[32m            <Form.Group>[m
[32m+[m[32m              <Labeled label={t('alert.form.frequency')}>[m
[32m+[m[32m                <Form.InputGroup>[m
[32m+[m[32m                  <Input[m
[32m+[m[32m                    value={checkInterval.value}[m
[32m+[m[32m                    onChange={({target: {value}}) =>[m
[32m+[m[32m                      this.setState(update(this.state, {checkInterval: {value: {$set: value}}}))[m
                     }[m
[32m+[m[32m                    maxLength="8"[m
                   />[m
[31m-                  <Stack gap={6} orientation="horizontal">[m
[31m-                    <CarbonSelect[m
[31m-                      id="threshold"[m
[31m-                      labelText={t('alert.form.threshold')}[m
[31m-                      value={thresholdOperator}[m
[31m-                      onChange={(value) => this.setState({thresholdOperator: value})}[m
[32m+[m[32m                  <Select[m
[32m+[m[32m                    value={checkInterval.unit}[m
[32m+[m[32m                    onChange={(value) =>[m
[32m+[m[32m                      this.setState(update(this.state, {checkInterval: {unit: {$set: value}}}))[m
[32m+[m[32m                    }[m
[32m+[m[32m                  >[m
[32m+[m[32m                    <Select.Option value="seconds">[m
[32m+[m[32m                      {t('common.unit.second.label-plural')}[m
[32m+[m[32m                    </Select.Option>[m
[32m+[m[32m                    <Select.Option value="minutes">[m
[32m+[m[32m                      {t('common.unit.minute.label-plural')}[m
[32m+[m[32m                    </Select.Option>[m
[32m+[m[32m                    <Select.Option value="hours">[m
[32m+[m[32m                      {t('common.unit.hour.label-plural')}[m
[32m+[m[32m                    </Select.Option>[m
[32m+[m[32m                    <Select.Option value="days">{t('common.unit.day.label-plural')}</Select.Option>[m
[32m+[m[32m                    <Select.Option value="weeks">[m
[32m+[m[32m                      {t('common.unit.week.label-plural')}[m
[32m+[m[32m                    </Select.Option>[m
[32m+[m[32m                    <Select.Option value="months">[m
[32m+[m[32m                      {t('common.unit.month.label-plural')}[m
[32m+[m[32m                    </Select.Option>[m
[32m+[m[32m                  </Select>[m
[32m+[m[32m                </Form.InputGroup>[m
[32m+[m[32m              </Labeled>[m
[32m+[m[32m              {!numberParser.isPositiveInt(checkInterval.value) && ([m
[32m+[m[32m                <Message error>{t('common.errors.positiveInt')}</Message>[m
[32m+[m[32m              )}[m
[32m+[m[32m            </Form.Group>[m
[32m+[m[32m            <Form.Group>[m
[32m+[m[32m              <Labeled label={t('alert.form.email')}>[m
[32m+[m[32m                <MultiEmailInput[m
[32m+[m[32m                  placeholder={t('alert.form.emailPlaceholder')}[m
[32m+[m[32m                  emails={emails}[m
[32m+[m[32m                  onChange={(emails, validEmails) => this.setState({emails, validEmails})}[m
[32m+[m[32m                />[m
[32m+[m[32m              </Labeled>[m
[32m+[m[32m              <Message>{t('alert.form.emailThreshold')}</Message>[m
[32m+[m[32m              {!validEmails && <Message error>{t('alert.form.invalidEmail')}</Message>}[m
[32m+[m[32m            </Form.Group>[m
[32m+[m[32m            {webhooks?.length > 0 && ([m
[32m+[m[32m              <Form.Group>[m
[32m+[m[32m                <Labeled label={t('alert.form.webhook')}>[m
[32m+[m[32m                  <Form.InputGroup>[m
[32m+[m[32m                    <Typeahead[m
[32m+[m[32m                      value={webhook}[m
[32m+[m[32m                      placeholder={t('alert.form.webookPlaceholder')}[m
[32m+[m[32m                      onChange={this.updateWebhook}[m
[32m+[m[32m                    >[m
[32m+[m[32m                      {webhooks.map((webhook) => ([m
[32m+[m[32m                        <Typeahead.Option key={webhook} value={webhook}>[m
[32m+[m[32m                          {webhook}[m
[32m+[m[32m                        </Typeahead.Option>[m
[32m+[m[32m                      ))}[m
[32m+[m[32m                    </Typeahead>[m
[32m+[m[32m                    <LegacyButton[m
[32m+[m[32m                      disabled={!webhook}[m
[32m+[m[32m                      onClick={() => this.setState({webhook: undefined})}[m
[32m+[m[32m                      className="reset"[m
                     >[m
[31m-                      <CarbonSelect.Option value=">" label={t('common.above')} />[m
[31m-                      <CarbonSelect.Option value="<" label={t('common.below')} />[m
[31m-                    </CarbonSelect>[m
[31m-                    <ThresholdInput[m
[31m-                      className="labelHidden"[m
[31m-                      value={threshold}[m
[31m-                      onChange={(threshold) => this.setState({threshold})}[m
[31m-                      type={reportMeasure}[m
[31m-                      labelText={t('common.value')}[m
[31m-                      invalid={!this.isThresholdValid()}[m
[31m-                      invalidText={[m
[31m-                        reportMeasure === 'percentage'[m
[31m-                          ? t('common.errors.percentage')[m
[31m-                          : t('common.errors.number')[m
[32m+[m[32m                      {t('common.reset')}[m
[32m+[m[32m                    </LegacyButton>[m
[32m+[m[32m                  </Form.InputGroup>[m
[32m+[m[32m                </Labeled>[m
[32m+[m[32m              </Form.Group>[m
[32m+[m[32m            )}[m
[32m+[m[32m            <Form.Group noSpacing className="notifications">[m
[32m+[m[32m              <LabeledInput[m
[32m+[m[32m                label={t('alert.form.sendNotification')}[m
[32m+[m[32m                type="checkbox"[m
[32m+[m[32m                checked={fixNotification}[m
[32m+[m[32m                onChange={({target: {checked}}) => this.setState({fixNotification: checked})}[m
[32m+[m[32m              />[m
[32m+[m[32m              <LabeledInput[m
[32m+[m[32m                label={t('alert.form.reminder')}[m
[32m+[m[32m                type="checkbox"[m
[32m+[m[32m                checked={!!reminder}[m
[32m+[m[32m                onChange={this.updateReminder}[m
[32m+[m[32m              />[m
[32m+[m[32m            </Form.Group>[m
[32m+[m[32m            {reminder && ([m
[32m+[m[32m              <Form.Group noSpacing>[m
[32m+[m[32m                <Labeled label={t('alert.form.reminderFrequency')}>[m
[32m+[m[32m                  <Form.InputGroup>[m
[32m+[m[32m                    <Input[m
[32m+[m[32m                      value={reminder.value}[m
[32m+[m[32m                      onChange={({target: {value}}) =>[m
[32m+[m[32m                        this.setState(update(this.state, {reminder: {value: {$set: value}}}))[m
                       }[m
[32m+[m[32m                      maxLength="8"[m
                     />[m
[31m-                  </Stack>[m
[31m-                  <Stack gap={6}>[m
[31m-                    <Stack gap={6} orientation="horizontal">[m
[31m-                      <TextInput[m
[31m-                        id="frequency"[m
[31m-                        size="sm"[m
[31m-                        labelText={t('alert.form.frequency')}[m
[31m-                        value={checkInterval.value}[m
[31m-                        onChange={({target: {value}}) =>[m
[31m-                          this.setState(update(this.state, {checkInterval: {value: {$set: value}}}))[m
[31m-                        }[m
[31m-                        maxLength="8"[m
[31m-                        invalid={!numberParser.isPositiveInt(checkInterval.value)}[m
[31m-                        invalidText={t('common.errors.positiveInt')}[m
[31m-                      />[m
[31m-                      <CarbonSelect[m
[31m-                        id="frequencyUnits"[m
[31m-                        labelText={t('common.units')}[m
[31m-                        className="labelHidden"[m
[31m-                        value={checkInterval.unit}[m
[31m-                        onChange={(value) =>[m
[31m-                          this.setState(update(this.state, {checkInterval: {unit: {$set: value}}}))[m
[31m-                        }[m
[31m-                      >[m
[31m-                        <CarbonSelect.Option[m
[31m-                          value="seconds"[m
[31m-                          label={t('common.unit.second.label-plural')}[m
[31m-                        />[m
[31m-                        <CarbonSelect.Option[m
[31m-                          value="minutes"[m
[31m-                          label={t('common.unit.minute.label-plural')}[m
[31m-                        />[m
[31m-                        <CarbonSelect.Option[m
[31m-                          value="hours"[m
[31m-                          label={t('common.unit.hour.label-plural')}[m
[31m-                        />[m
[31m-                        <CarbonSelect.Option[m
[31m-                          value="days"[m
[31m-                          label={t('common.unit.day.label-plural')}[m
[31m-                        />[m
[31m-                        <CarbonSelect.Option[m
[31m-                          value="weeks"[m
[31m-                          label={t('common.unit.week.label-plural')}[m
[31m-                        />[m
[31m-                        <CarbonSelect.Option[m
[31m-                          value="months"[m
[31m-                          label={t('common.unit.month.label-plural')}[m
[31m-                        />[m
[31m-                      </CarbonSelect>[m
[31m-                    </Stack>[m
[31m-                  </Stack>[m
[31m-                  <MultiEmailInput[m
[31m-                    titleText={t('alert.form.email')}[m
[31m-                    placeholder={t('alert.form.emailPlaceholder')}[m
[31m-                    emails={emails}[m
[31m-                    onChange={(emails, validEmails) => this.setState({emails, validEmails})}[m
[31m-                    helperText={t('alert.form.emailThreshold')}[m
[31m-                    invalid={!validEmails}[m
[31m-                    invalidText={t('alert.form.invalidEmail')}[m
[31m-                  />[m
[31m-                  {webhooks?.length > 0 && ([m
[31m-                    <Stack gap={6} orientation="horizontal">[m
[31m-                      <ComboBox[m
[31m-                        id="webhooks"[m
[31m-                        key={webhook}[m
[31m-                        size="sm"[m
[31m-                        items={webhooks}[m
[31m-                        selectedItem={webhook}[m
[31m-                        titleText={t('alert.form.webhook')}[m
[31m-                        placeholder={t('alert.form.webookPlaceholder')}[m
[31m-                        onChange={({selectedItem}) => this.updateWebhook(selectedItem || undefined)}[m
[31m-                      />[m
[31m-                      <Button[m
[31m-                        size="sm"[m
[31m-                        disabled={!webhook}[m
[31m-                        kind="secondary"[m
[31m-                        onClick={() => this.setState({webhook: undefined})}[m
[31m-                        className="reset"[m
[31m-                      >[m
[31m-                        {t('common.reset')}[m
[31m-                      </Button>[m
[31m-                    </Stack>[m
[31m-                  )}[m
[31m-                  <Checkbox[m
[31m-                    id="sendNotification"[m
[31m-                    labelText={t('alert.form.sendNotification')}[m
[31m-                    checked={fixNotification}[m
[31m-                    onChange={({target: {checked}}) => this.setState({fixNotification: checked})}[m
[31m-                  />[m
[31m-                  <Checkbox[m
[31m-                    id="sendReminder"[m
[31m-                    labelText={t('alert.form.reminder')}[m
[31m-                    checked={!!reminder}[m
[31m-                    onChange={this.updateReminder}[m
[31m-                  />[m
[31m-                  {reminder && ([m
[31m-                    <Stack gap={6} orientation="horizontal">[m
[31m-                      <TextInput[m
[31m-                        id="reminderFrequency"[m
[31m-                        size="sm"[m
[31m-                        labelText={t('alert.form.reminderFrequency')}[m
[31m-                        value={reminder.value}[m
[31m-                        onChange={({target: {value}}) =>[m
[31m-                          this.setState(update(this.state, {reminder: {value: {$set: value}}}))[m
[31m-                        }[m
[31m-                        maxLength="8"[m
[31m-                      />[m
[31m-                      <CarbonSelect[m
[31m-                        id="reminderFrequencyUnits"[m
[31m-                        labelText={t('common.units')}[m
[31m-                        className="labelHidden"[m
[31m-                        value={reminder.unit}[m
[31m-                        onChange={(value) =>[m
[31m-                          this.setState(update(this.state, {reminder: {unit: {$set: value}}}))[m
[31m-                        }[m
[31m-                      >[m
[31m-                        <CarbonSelect.Option[m
[31m-                          value="minutes"[m
[31m-                          label={t('common.unit.minute.label-plural')}[m
[31m-                        />[m
[31m-                        <CarbonSelect.Option[m
[31m-                          value="hours"[m
[31m-                          label={t('common.unit.hour.label-plural')}[m
[31m-                        />[m
[31m-                        <CarbonSelect.Option[m
[31m-                          value="days"[m
[31m-                          label={t('common.unit.day.label-plural')}[m
[31m-                        />[m
[31m-                        <CarbonSelect.Option[m
[31m-                          value="weeks"[m
[31m-                          label={t('common.unit.week.label-plural')}[m
[31m-                        />[m
[31m-                        <CarbonSelect.Option[m
[31m-                          value="months"[m
[31m-                          label={t('common.unit.month.label-plural')}[m
[31m-                        />[m
[31m-                      </CarbonSelect>[m
[31m-                    </Stack>[m
[31m-                  )}[m
[31m-                </Stack>[m
[31m-              </Form>[m
[31m-            </Column>[m
[31m-          </Grid>[m
[32m+[m[32m                    <Select[m
[32m+[m[32m                      value={reminder.unit}[m
[32m+[m[32m                      onChange={(value) =>[m
[32m+[m[32m                        this.setState(update(this.state, {reminder: {unit: {$set: value}}}))[m
[32m+[m[32m                      }[m
[32m+[m[32m                    >[m
[32m+[m[32m                      <Select.Option value="minutes">[m
[32m+[m[32m                        {t('common.unit.minute.label-plural')}[m
[32m+[m[32m                      </Select.Option>[m
[32m+[m[32m                      <Select.Option value="hours">[m
[32m+[m[32m                        {t('common.unit.hour.label-plural')}[m
[32m+[m[32m                      </Select.Option>[m
[32m+[m[32m                      <Select.Option value="days">[m
[32m+[m[32m                        {t('common.unit.day.label-plural')}[m
[32m+[m[32m                      </Select.Option>[m
[32m+[m[32m                      <Select.Option value="weeks">[m
[32m+[m[32m                        {t('common.unit.week.label-plural')}[m
[32m+[m[32m                      </Select.Option>[m
[32m+[m[32m                      <Select.Option value="months">[m
[32m+[m[32m                        {t('common.unit.month.label-plural')}[m
[32m+[m[32m                      </Select.Option>[m
[32m+[m[32m                    </Select>[m
[32m+[m[32m                  </Form.InputGroup>[m
[32m+[m[32m                </Labeled>[m
[32m+[m[32m              </Form.Group>[m
[32m+[m[32m            )}[m
[32m+[m[32m          </Form>[m
         </Modal.Content>[m
         <Modal.Footer>[m
           {onRemove && ([m
[36m@@ -477,10 +465,10 @@[m [mexport class AlertModal extends React.Component {[m
               {t('common.delete')}[m
             </Button>[m
           )}[m
[31m-          <Button className="cancel" kind="secondary" onClick={onClose}>[m
[32m+[m[32m          <Button kind="secondary" onClick={onClose}>[m
             {t('common.cancel')}[m
           </Button>[m
[31m-          <Button className="confirm" onClick={this.confirm} disabled={invalid || disabled}>[m
[32m+[m[32m          <Button onClick={this.confirm} disabled={invalid || disabled}>[m
             {this.isInEditingMode() ? t('alert.apply') : t('alert.create')}[m
           </Button>[m
         </Modal.Footer>[m
[1mdiff --git a/client/src/modules/components/AlertModal/AlertModal.scss b/client/src/modules/components/AlertModal/AlertModal.scss[m
[1mindex 5f6cf9159b..a47e453a97 100644[m
[1m--- a/client/src/modules/components/AlertModal/AlertModal.scss[m
[1m+++ b/client/src/modules/components/AlertModal/AlertModal.scss[m
[36m@@ -1,24 +1,5 @@[m
 .AlertModal {[m
[31m-  .cds--modal-container {[m
[31m-    max-height: 90vh;[m
[31m-[m
[31m-    .cds--modal-content {[m
[31m-      overflow: auto;[m
[31m-    }[m
[31m-  }[m
[31m-[m
[31m-  .cds--actionable-notification__content {[m
[31m-    display: inline;[m
[31m-  }[m
[31m-[m
[31m-  .labelHidden {[m
[31m-    label {[m
[31m-      visibility: hidden;[m
[31m-    }[m
[31m-  }[m
[31m-[m
[31m-  .reset {[m
[31m-    align-self: flex-end;[m
[31m-    width: 100%;[m
[32m+[m[32m  .InputGroup button.reset {[m
[32m+[m[32m    flex: initial;[m
   }[m
 }[m
[1mdiff --git a/client/src/modules/components/AlertModal/AlertModal.test.js b/client/src/modules/components/AlertModal/AlertModal.test.js[m
[1mindex 65ac93458b..8ed5bd145c 100644[m
[1m--- a/client/src/modules/components/AlertModal/AlertModal.test.js[m
[1m+++ b/client/src/modules/components/AlertModal/AlertModal.test.js[m
[36m@@ -98,7 +98,7 @@[m [mit('should call the onConfirm method and not include duplicate emails', () => {[m
 [m
   node.setProps({initialAlert});[m
 [m
[31m-  node.find('.confirm').simulate('click');[m
[32m+[m[32m  node.find('Button').at(1).simulate('click');[m
 [m
   expect(spy).toHaveBeenCalled();[m
   expect(spy.mock.calls[0][0].emails).toEqual(['test@camunda.com']);[m
[36m@@ -110,7 +110,7 @@[m [mit('should disable the submit button if the name is empty', () => {[m
   node.setProps({initialAlert});[m
   node.setState({name: ''});[m
 [m
[31m-  expect(node.find('.confirm')).toBeDisabled();[m
[32m+[m[32m  expect(node.find('Button').at(1)).toBeDisabled();[m
 });[m
 [m
 it('should disable the submit button if the email is not valid', () => {[m
[36m@@ -118,7 +118,7 @@[m [mit('should disable the submit button if the email is not valid', () => {[m
 [m
   node.setProps({initialAlert});[m
   node.find('MultiEmailInput').prop('onChange')(['this is not a valid email'], false);[m
[31m-  expect(node.find('.confirm')).toBeDisabled();[m
[32m+[m[32m  expect(node.find('Button').at(1)).toBeDisabled();[m
 });[m
 [m
 it('should disable the submit button if no report is selected', () => {[m
[36m@@ -126,7 +126,7 @@[m [mit('should disable the submit button if no report is selected', () => {[m
 [m
   node.setProps({initialAlert});[m
   node.setState({reportId: ''});[m
[31m-  expect(node.find('.confirm')).toBeDisabled();[m
[32m+[m[32m  expect(node.find('Button').at(1)).toBeDisabled();[m
 });[m
 [m
 it('should disable the submit button if the threshold is not a number', () => {[m
[36m@@ -134,19 +134,19 @@[m [mit('should disable the submit button if the threshold is not a number', () => {[m
 [m
   node.setProps({initialAlert});[m
   node.setState({threshold: 'five'});[m
[31m-  expect(node.find('.confirm')).toBeDisabled();[m
[32m+[m[32m  expect(node.find('Button').at(1)).toBeDisabled();[m
 });[m
 [m
 it('should disable the submit button if the threshold is not a percentage', () => {[m
   const node = shallow(<AlertModal {...props} initialAlert={{...initialAlert, reportId: '10'}} />);[m
 [m
   node.setState({threshold: '101'});[m
[31m-  expect(node.find(ThresholdInput).prop('invalid')).toBe(true);[m
[31m-  expect(node.find('.confirm')).toBeDisabled();[m
[32m+[m[32m  expect(node.find(ThresholdInput).prop('isInvalid')).toBe(true);[m
[32m+[m[32m  expect(node.find('Button').at(1)).toBeDisabled();[m
 [m
   node.setState({threshold: '100'});[m
[31m-  expect(node.find(ThresholdInput).prop('invalid')).toBe(false);[m
[31m-  expect(node.find('.confirm')).not.toBeDisabled();[m
[32m+[m[32m  expect(node.find(ThresholdInput).prop('isInvalid')).toBe(false);[m
[32m+[m[32m  expect(node.find('Button').at(1)).not.toBeDisabled();[m
 });[m
 [m
 it('should disable the submit button if the check interval is negative', () => {[m
[36m@@ -159,7 +159,7 @@[m [mit('should disable the submit button if the check interval is negative', () => {[m
       unit: 'seconds',[m
     },[m
   });[m
[31m-  expect(node.find('.confirm')).toBeDisabled();[m
[32m+[m[32m  expect(node.find('Button').at(1)).toBeDisabled();[m
 });[m
 [m
 it('should enable the submit button if webhook is selected', () => {[m
[36m@@ -167,23 +167,23 @@[m [mit('should enable the submit button if webhook is selected', () => {[m
 [m
   node.setProps({initialAlert});[m
   node.setState({emails: ['']});[m
[31m-  node.find('#webhooks').prop('onChange')('testWebhook');[m
[32m+[m[32m  node.find('Typeahead').at(1).prop('onChange')('testWebhook');[m
 [m
[31m-  expect(node.find('.confirm')).not.toBeDisabled();[m
[32m+[m[32m  expect(node.find('Button').at(1)).not.toBeDisabled();[m
 });[m
 [m
 it('should show warning if alert is inactive due to missing webhook', async () => {[m
   const node = await shallow(<AlertModal {...props} webhooks={[]} />);[m
   node.setProps({initialAlert: {...initialAlert, emails: [], webhook: 'nonExistingWebhook'}});[m
 [m
[31m-  expect(node.find('ActionableNotification').exists()).toBe(true);[m
[32m+[m[32m  expect(node.find('MessageBox').exists()).toBe(true);[m
 });[m
 [m
 it('should show warning that email is not configured', async () => {[m
   isEmailEnabled.mockReturnValue(false);[m
   const node = await shallow(<AlertModal {...props} />);[m
 [m
[31m-  expect(node.find('ActionableNotification').exists()).toBe(true);[m
[32m+[m[32m  expect(node.find('MessageBox').exists()).toBe(true);[m
 });[m
 [m
 it('should not display warning if email is configured', async () => {[m
[36m@@ -192,7 +192,7 @@[m [mit('should not display warning if email is configured', async () => {[m
   await node.instance().componentDidMount();[m
   await node.update();[m
 [m
[31m-  expect(node.find('ActionableNotification').exists()).toBe(false);[m
[32m+[m[32m  expect(node.find('.AlertModal__configuration-warning').exists()).toBe(false);[m
 });[m
 [m
 it('should convert a duration threshold when opening', async () => {[m
[36m@@ -238,34 +238,34 @@[m [mit('should contain a threshold input', () => {[m
   expect(node.find(ThresholdInput)).toExist();[m
 });[m
 [m
[31m-it('should pass the selected report as initial value to the combobox', () => {[m
[32m+[m[32mit('should pass the selected report as initial value to the typeahead', () => {[m
   const node = shallow(<AlertModal {...props} initialAlert={initialAlert} />);[m
 [m
[31m-  expect(node.find('#report').props().selectedItem).toBe(reports[1]);[m
[32m+[m[32m  expect(node.find('Typeahead').props().initialValue).toBe(initialAlert.reportId);[m
 });[m
 [m
 it('should display report value', () => {[m
   const node = shallow(<AlertModal {...props} />);[m
   evaluateReport.mockClear();[m
 [m
[31m-  node.find('#report').prop('onChange')({selectedItem: {id: '6'}});[m
[32m+[m[32m  node.find('Typeahead').at(0).prop('onChange')('6');[m
 [m
   expect(evaluateReport).toHaveBeenCalledWith('6');[m
[31m-  expect(node.find('#report').prop('helperText')).toContain('123');[m
[32m+[m[32m  expect(node.find('Message').at(0).dive()).toIncludeText('123');[m
 });[m
 [m
 it('should load an initial report if specified', () => {[m
   const node = shallow(<AlertModal {...props} initialReport="5" />);[m
 [m
[31m-  expect(node.find('#report').prop('selectedItem')).toBe(reports[0]);[m
[31m-  expect(node.find('#report').prop('disabled')).toBe(true);[m
[32m+[m[32m  expect(node.find('Typeahead').prop('initialValue')).toBe('5');[m
[32m+[m[32m  expect(node.find('Typeahead').prop('disabled')).toBe(true);[m
 });[m
 [m
 it('should not load the report twice if both initialAlert and initialReport are defined', () => {[m
   const node = shallow(<AlertModal {...props} initialReport="5" initialAlert={initialAlert} />);[m
 [m
   expect(evaluateReport.mock.calls.length).toBe(1);[m
[31m-  expect(node.find('#report').prop('selectedItem')).toBe(reports[1]);[m
[32m+[m[32m  expect(node.find('Typeahead').prop('initialValue')).toBe('8');[m
 });[m
 [m
 it('should allow to remove an alert from inside the modal if onRemove prop is provided', () => {[m
[1mdiff --git a/client/src/modules/components/AlertModal/MultiEmailInput.js b/client/src/modules/components/AlertModal/MultiEmailInput.js[m
[1mnew file mode 100644[m
[1mindex 0000000000..9deb6922c8[m
[1m--- /dev/null[m
[1m+++ b/client/src/modules/components/AlertModal/MultiEmailInput.js[m
[36m@@ -0,0 +1,77 @@[m
[32m+[m[32m/*[m
[32m+[m[32m * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH[m
[32m+[m[32m * under one or more contributor license agreements. Licensed under a proprietary license.[m
[32m+[m[32m * See the License.txt file for more information. You may not use this file[m
[32m+[m[32m * except in compliance with the proprietary license.[m
[32m+[m[32m */[m
[32m+[m
[32m+[m[32mimport React, {useState} from 'react';[m
[32m+[m
[32m+[m[32mimport {MultiValueInput} from 'components';[m
[32m+[m
[32m+[m[32mexport default function MultiEmailInput({emails, onChange, placeholder}) {[m
[32m+[m[32m  const [errors, setErrors] = useState([]);[m
[32m+[m
[32m+[m[32m  function addEmail(value) {[m
[32m+[m[32m    const trimmedValue = value.trim();[m
[32m+[m
[32m+[m[32m    if (trimmedValue) {[m
[32m+[m[32m      const isValid = isValidEmail(trimmedValue);[m
[32m+[m[32m      if (!isValid) {[m
[32m+[m[32m        setErrors([...errors, trimmedValue]);[m
[32m+[m[32m      }[m
[32m+[m
[32m+[m[32m      onChange([...emails, trimmedValue], isValid && errors.length === 0);[m
[32m+[m[32m    }[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  function removeEmail(email, index) {[m
[32m+[m[32m    const newEmails = emails.filter((_, i) => i !== index);[m
[32m+[m[32m    const errorIndex = errors.indexOf(email);[m
[32m+[m[32m    const newErrors = errors.filter((_, i) => i !== errorIndex);[m
[32m+[m[32m    setErrors(newErrors);[m
[32m+[m[32m    onChange(newEmails, newErrors.length === 0);[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  function triggerClear() {[m
[32m+[m[32m    setErrors([]);[m
[32m+[m[32m    onChange([], true);[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  function handlePaste(evt) {[m
[32m+[m[32m    const paste = (evt.clipboardData || window.clipboardData).getData('text');[m
[32m+[m[32m    if (!paste.includes('@')) {[m
[32m+[m[32m      return;[m
[32m+[m[32m    }[m
[32m+[m[32m    evt.preventDefault();[m
[32m+[m
[32m+[m[32m    const newEmails = paste.match(/[^\s<>!?:;]+/g);[m
[32m+[m
[32m+[m[32m    if (newEmails) {[m
[32m+[m[32m      if (emails.length + newEmails.length > 20) {[m
[32m+[m[32m        newEmails.length = 20 - emails.length;[m
[32m+[m[32m      }[m
[32m+[m[32m      const invalidEmails = newEmails.filter((email) => !isValidEmail(email));[m
[32m+[m[32m      setErrors([...errors, ...invalidEmails]);[m
[32m+[m[32m      const allEmailsValid = errors.length === 0 && invalidEmails.length === 0;[m
[32m+[m[32m      onChange([...emails, ...newEmails], allEmailsValid);[m
[32m+[m[32m    }[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  return ([m
[32m+[m[32m    <MultiValueInput[m
[32m+[m[32m      placeholder={placeholder}[m
[32m+[m[32m      disabled={emails.length >= 20}[m
[32m+[m[32m      onClear={triggerClear}[m
[32m+[m[32m      onPaste={handlePaste}[m
[32m+[m[32m      onAdd={addEmail}[m
[32m+[m[32m      onRemove={removeEmail}[m
[32m+[m[32m      values={emails.map((email) => ({value: email, invalid: errors.includes(email)}))}[m
[32m+[m[32m      extraSeperators={[',', ';', ' ']}[m
[32m+[m[32m    />[m
[32m+[m[32m  );[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32mfunction isValidEmail(email) {[m
[32m+[m[32m  return /^[a-zA-Z0-9.!#$%&’*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/.test(email);[m
[32m+[m[32m}[m
[1mdiff --git a/client/src/modules/components/AlertModal/MultiEmailInput.test.tsx b/client/src/modules/components/AlertModal/MultiEmailInput.test.js[m
[1msimilarity index 58%[m
[1mrename from client/src/modules/components/AlertModal/MultiEmailInput.test.tsx[m
[1mrename to client/src/modules/components/AlertModal/MultiEmailInput.test.js[m
[1mindex cf63c71b9d..e1a0668aa1 100644[m
[1m--- a/client/src/modules/components/AlertModal/MultiEmailInput.test.tsx[m
[1m+++ b/client/src/modules/components/AlertModal/MultiEmailInput.test.js[m
[36m@@ -5,9 +5,10 @@[m
  * except in compliance with the proprietary license.[m
  */[m
 [m
[31m-import {ChangeEvent, KeyboardEvent} from 'react';[m
[32m+[m[32mimport React from 'react';[m
 import {shallow} from 'enzyme';[m
[31m-import {MultiValueInput} from '@camunda/camunda-optimize-composite-components';[m
[32m+[m
[32m+[m[32mimport {MultiValueInput} from 'components';[m
 [m
 import MultiEmailInput from './MultiEmailInput';[m
 [m
[36m@@ -18,36 +19,22 @@[m [mconst props = {[m
 [m
 beforeEach(() => props.onChange.mockClear());[m
 [m
[31m-it('should render email tags', () => {[m
[32m+[m[32mit('should match snapshot', () => {[m
   const node = shallow(<MultiEmailInput {...props} />);[m
 [m
[31m-  const tags = node.find(MultiValueInput).dive().find('RemovableTag');[m
[31m-  expect(tags.at(0).prop('title')).toBe('email1@hotmail.com');[m
[31m-  expect(tags.at(1).prop('title')).toBe('email2@gmail.com');[m
[32m+[m[32m  expect(node).toMatchSnapshot();[m
 });[m
 [m
 it('should add an email', () => {[m
   const node = shallow(<MultiEmailInput {...props} />);[m
 [m
[31m-  node.find(MultiValueInput).prop('onChange')?.({[m
[31m-    target: {value: 'test@test.com'},[m
[31m-  } as unknown as ChangeEvent<HTMLInputElement>);[m
[31m-  node.find(MultiValueInput).prop('onKeyDown')?.({[m
[31m-    key: ',',[m
[31m-    preventDefault: jest.fn(),[m
[31m-  } as unknown as KeyboardEvent<HTMLInputElement>);[m
[32m+[m[32m  node.find(MultiValueInput).prop('onAdd')('test@test.com');[m
 [m
   expect(props.onChange).toHaveBeenCalledWith([...props.emails, 'test@test.com'], true);[m
 [m
   props.onChange.mockClear();[m
 [m
[31m-  node.find(MultiValueInput).prop('onChange')?.({[m
[31m-    target: {value: 'invalid'},[m
[31m-  } as unknown as ChangeEvent<HTMLInputElement>);[m
[31m-  node.find(MultiValueInput).prop('onKeyDown')?.({[m
[31m-    key: ',',[m
[31m-    preventDefault: jest.fn(),[m
[31m-  } as unknown as KeyboardEvent<HTMLInputElement>);[m
[32m+[m[32m  node.find(MultiValueInput).prop('onAdd')('invalid');[m
 [m
   expect(props.onChange).toHaveBeenCalledWith([...props.emails, 'invalid'], false);[m
 });[m
[36m@@ -74,10 +61,15 @@[m [mit('should remove an email', () => {[m
   expect(props.onChange).toHaveBeenCalledWith(['email2@gmail.com'], true);[m
 });[m
 [m
[31m-it('should remove email when remove button is clicked on removable tag', () => {[m
[32m+[m[32mit('should clear all emails when MultiValueInput is cleared', () => {[m
   const node = shallow(<MultiEmailInput {...props} />);[m
 [m
[31m-  props.onChange.mockClear();[m
[31m-  node.find(MultiValueInput).dive().find('RemovableTag').at(0).prop<Function>('onRemove')();[m
[31m-  expect(props.onChange).toHaveBeenCalledWith(['email2@gmail.com'], true);[m
[32m+[m[32m  node.find(MultiValueInput).simulate('paste', {[m
[32m+[m[32m    preventDefault: jest.fn(),[m
[32m+[m[32m    clipboardData: {getData: () => `email1@test.com;email2@test.com email3@test.com`},[m
[32m+[m[32m  });[m
[32m+[m
[32m+[m[32m  node.find(MultiValueInput).prop('onClear')();[m
[32m+[m
[32m+[m[32m  expect(props.onChange).toHaveBeenCalledWith([], true);[m
 });[m
[1mdiff --git a/client/src/modules/components/AlertModal/MultiEmailInput.tsx b/client/src/modules/components/AlertModal/MultiEmailInput.tsx[m
[1mdeleted file mode 100644[m
[1mindex c62602d2bb..0000000000[m
[1m--- a/client/src/modules/components/AlertModal/MultiEmailInput.tsx[m
[1m+++ /dev/null[m
[36m@@ -1,106 +0,0 @@[m
[31m-/*[m
[31m- * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH[m
[31m- * under one or more contributor license agreements. Licensed under a proprietary license.[m
[31m- * See the License.txt file for more information. You may not use this file[m
[31m- * except in compliance with the proprietary license.[m
[31m- */[m
[31m-[m
[31m-import {ClipboardEvent, ComponentProps, KeyboardEvent, useState} from 'react';[m
[31m-import {MultiValueInput} from '@camunda/camunda-optimize-composite-components';[m
[31m-[m
[31m-import {getRandomId} from 'services';[m
[31m-[m
[31m-interface MultiEmailInputProps[m
[31m-  extends Pick<[m
[31m-    ComponentProps<typeof MultiValueInput>,[m
[31m-    'titleText' | 'placeholder' | 'helperText' | 'invalid' | 'invalidText'[m
[31m-  > {[m
[31m-  emails: string[];[m
[31m-  onChange: (newEmails: string[], isValid: boolean) => void;[m
[31m-}[m
[31m-[m
[31m-export default function MultiEmailInput({emails, onChange, ...rest}: MultiEmailInputProps) {[m
[31m-  const id = getRandomId();[m
[31m-  const [errors, setErrors] = useState<string[]>([]);[m
[31m-  const [value, setValue] = useState('');[m
[31m-[m
[31m-  function addEmail(value: string) {[m
[31m-    const trimmedValue = value.trim();[m
[31m-[m
[31m-    if (trimmedValue) {[m
[31m-      const isValid = isValidEmail(trimmedValue);[m
[31m-      if (!isValid) {[m
[31m-        setErrors([...errors, trimmedValue]);[m
[31m-      }[m
[31m-[m
[31m-      onChange([...emails, trimmedValue], isValid && errors.length === 0);[m
[31m-    }[m
[31m-    setValue('');[m
[31m-  }[m
[31m-[m
[31m-  function removeEmail(email: string, index: number) {[m
[31m-    const newEmails = emails.filter((_, i) => i !== index);[m
[31m-    const errorIndex = errors.indexOf(email);[m
[31m-    const newErrors = errors.filter((_, i) => i !== errorIndex);[m
[31m-    setErrors(newErrors);[m
[31m-    onChange(newEmails, newErrors.length === 0);[m
[31m-  }[m
[31m-[m
[31m-  function handlePaste(evt: ClipboardEvent) {[m
[31m-    const paste = ([m
[31m-      evt.clipboardData ||[m
[31m-      // @ts-ignore[m
[31m-      window.clipboardData[m
[31m-    ).getData('text');[m
[31m-    if (!paste.includes('@')) {[m
[31m-      return;[m
[31m-    }[m
[31m-    evt.preventDefault();[m
[31m-[m
[31m-    const newEmails = paste.match(/[^\s<>!?:;]+/g);[m
[31m-[m
[31m-    if (newEmails) {[m
[31m-      if (emails.length + newEmails.length > 20) {[m
[31m-        newEmails.length = 20 - emails.length;[m
[31m-      }[m
[31m-      const invalidEmails = newEmails.filter((email) => !isValidEmail(email));[m
[31m-      setErrors([...errors, ...invalidEmails]);[m
[31m-      const allEmailsValid = errors.length === 0 && invalidEmails.length === 0;[m
[31m-      onChange([...emails, ...newEmails], allEmailsValid);[m
[31m-    }[m
[31m-  }[m
[31m-[m
[31m-  const emailObjects = emails.map((email) => ({value: email, invalid: errors.includes(email)}));[m
[31m-[m
[31m-  function handleKeyDown(evt: KeyboardEvent) {[m
[31m-    if (['Enter', 'Tab', ',', ';', ' '].includes(evt.key)) {[m
[31m-      if (value) {[m
[31m-        evt.preventDefault();[m
[31m-      }[m
[31m-      addEmail(value);[m
[31m-    }[m
[31m-    if (value === '' && evt.key === 'Backspace' && emailObjects.length > 0) {[m
[31m-      const lastElementIndex = emailObjects.length - 1;[m
[31m-      removeEmail(emailObjects[lastElementIndex]!.value, lastElementIndex);[m
[31m-    }[m
[31m-  }[m
[31m-[m
[31m-  return ([m
[31m-    <MultiValueInput[m
[31m-      {...rest}[m
[31m-      id={id}[m
[31m-      value={value}[m
[31m-      onChange={({target: {value}}) => setValue(value)}[m
[31m-      disabled={emails.length >= 20}[m
[31m-      onPaste={handlePaste}[m
[31m-      onRemove={removeEmail}[m
[31m-      values={emailObjects}[m
[31m-      onKeyDown={handleKeyDown}[m
[31m-      onBlur={() => addEmail(value)}[m
[31m-    />[m
[31m-  );[m
[31m-}[m
[31m-[m
[31m-function isValidEmail(email: string) {[m
[31m-  return /^[a-zA-Z0-9.!#$%&’*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/.test(email);[m
[31m-}[m
[1mdiff --git a/client/src/modules/components/AlertModal/ThresholdInput.js b/client/src/modules/components/AlertModal/ThresholdInput.js[m
[1mnew file mode 100644[m
[1mindex 0000000000..c13a9220d1[m
[1m--- /dev/null[m
[1m+++ b/client/src/modules/components/AlertModal/ThresholdInput.js[m
[36m@@ -0,0 +1,50 @@[m
[32m+[m[32m/*[m
[32m+[m[32m * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH[m
[32m+[m[32m * under one or more contributor license agreements. Licensed under a proprietary license.[m
[32m+[m[32m * See the License.txt file for more information. You may not use this file[m
[32m+[m[32m * except in compliance with the proprietary license.[m
[32m+[m[32m */[m
[32m+[m
[32m+[m[32mimport React from 'react';[m
[32m+[m
[32m+[m[32mimport {Input, Select} from 'components';[m
[32m+[m[32mimport {t} from 'translation';[m
[32m+[m
[32m+[m[32mimport './ThresholdInput.scss';[m
[32m+[m
[32m+[m[32mexport default function ThresholdInput({id, value, onChange, type, isInvalid}) {[m
[32m+[m[32m  if (type === 'duration') {[m
[32m+[m[32m    return ([m
[32m+[m[32m      <>[m
[32m+[m[32m        <Input[m
[32m+[m[32m          id={id}[m
[32m+[m[32m          value={value.value}[m
[32m+[m[32m          isInvalid={isInvalid}[m
[32m+[m[32m          onChange={({target}) => onChange({...value, value: target.value})}[m
[32m+[m[32m          maxLength="8"[m
[32m+[m[32m        />[m
[32m+[m[32m        <Select value={value.unit} onChange={(unit) => onChange({...value, unit})}>[m
[32m+[m[32m          <Select.Option value="millis">{t('common.unit.milli.label-plural')}</Select.Option>[m
[32m+[m[32m          <Select.Option value="seconds">{t('common.unit.second.label-plural')}</Select.Option>[m
[32m+[m[32m          <Select.Option value="minutes">{t('common.unit.minute.label-plural')}</Select.Option>[m
[32m+[m[32m          <Select.Option value="hours">{t('common.unit.hour.label-plural')}</Select.Option>[m
[32m+[m[32m          <Select.Option value="days">{t('common.unit.day.label-plural')}</Select.Option>[m
[32m+[m[32m          <Select.Option value="weeks">{t('common.unit.week.label-plural')}</Select.Option>[m
[32m+[m[32m          <Select.Option value="months">{t('common.unit.month.label-plural')}</Select.Option>[m
[32m+[m[32m        </Select>[m
[32m+[m[32m      </>[m
[32m+[m[32m    );[m
[32m+[m[32m  } else {[m
[32m+[m[32m    return ([m
[32m+[m[32m      <div className="ThresholdInput">[m
[32m+[m[32m        <Input[m
[32m+[m[32m          id={id}[m
[32m+[m[32m          value={value}[m
[32m+[m[32m          isInvalid={isInvalid}[m
[32m+[m[32m          onChange={({target: {value}}) => onChange(value)}[m
[32m+[m[32m        />[m
[32m+[m[32m        {type === 'percentage' && <span className="percentageIndicator">%</span>}[m
[32m+[m[32m      </div>[m
[32m+[m[32m    );[m
[32m+[m[32m  }[m
[32m+[m[32m}[m
[1mdiff --git a/client/src/modules/components/AlertModal/ThresholdInput.test.tsx b/client/src/modules/components/AlertModal/ThresholdInput.test.js[m
[1msimilarity index 52%[m
[1mrename from client/src/modules/components/AlertModal/ThresholdInput.test.tsx[m
[1mrename to client/src/modules/components/AlertModal/ThresholdInput.test.js[m
[1mindex b7052c4aca..37b99a982f 100644[m
[1m--- a/client/src/modules/components/AlertModal/ThresholdInput.test.tsx[m
[1m+++ b/client/src/modules/components/AlertModal/ThresholdInput.test.js[m
[36m@@ -5,40 +5,34 @@[m
  * except in compliance with the proprietary license.[m
  */[m
 [m
[32m+[m[32mimport React from 'react';[m
 import {shallow} from 'enzyme';[m
[31m-import {TextInput} from '@carbon/react';[m
[31m-[m
[31m-import {CarbonSelect} from 'components';[m
 [m
 import ThresholdInput from './ThresholdInput';[m
 [m
[31m-const props = {[m
[31m-  labelText: 'label',[m
[31m-  id: 'id',[m
[31m-  type: 'duration',[m
[31m-  value: {value: '123', unit: 'minutes'},[m
[31m-  onChange: jest.fn(),[m
[31m-};[m
[32m+[m[32mimport {Input, Select} from 'components';[m
 [m
 it('should contain a single input field if the type is not duration', () => {[m
[31m-  const node = shallow(<ThresholdInput {...props} type="number" value="123" />);[m
[32m+[m[32m  const node = shallow(<ThresholdInput type="number" value="123" />);[m
 [m
[31m-  expect(node.find(TextInput)).toExist();[m
[31m-  expect(node.find(CarbonSelect)).not.toExist();[m
[32m+[m[32m  expect(node.find(Input)).toExist();[m
[32m+[m[32m  expect(node.find(Select)).not.toExist();[m
 });[m
 [m
 it('should contain a input and a select field if the type is duration', () => {[m
[31m-  const node = shallow(<ThresholdInput {...props} />);[m
[32m+[m[32m  const node = shallow(<ThresholdInput type="duration" value={{value: '123', unit: 'minutes'}} />);[m
 [m
[31m-  expect(node.find(TextInput)).toExist();[m
[31m-  expect(node.find(CarbonSelect)).toExist();[m
[32m+[m[32m  expect(node.find(Input)).toExist();[m
[32m+[m[32m  expect(node.find(Select)).toExist();[m
 });[m
 [m
 it('should call the change handler when changing the value', () => {[m
   const spy = jest.fn();[m
[31m-  const node = shallow(<ThresholdInput {...props} onChange={spy} />);[m
[32m+[m[32m  const node = shallow([m
[32m+[m[32m    <ThresholdInput onChange={spy} type="duration" value={{value: '123', unit: 'minutes'}} />[m
[32m+[m[32m  );[m
 [m
[31m-  node.find(TextInput).simulate('change', {target: {value: '1234'}});[m
[32m+[m[32m  node.find(Input).simulate('change', {target: {value: '1234'}});[m
 [m
   expect(spy).toHaveBeenCalledWith({value: '1234', unit: 'minutes'});[m
 });[m
[1mdiff --git a/client/src/modules/components/AlertModal/ThresholdInput.tsx b/client/src/modules/components/AlertModal/ThresholdInput.tsx[m
[1mdeleted file mode 100644[m
[1mindex 7c02e04d9f..0000000000[m
[1m--- a/client/src/modules/components/AlertModal/ThresholdInput.tsx[m
[1m+++ /dev/null[m
[36m@@ -1,87 +0,0 @@[m
[31m-/*[m
[31m- * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH[m
[31m- * under one or more contributor license agreements. Licensed under a proprietary license.[m
[31m- * See the License.txt file for more information. You may not use this file[m
[31m- * except in compliance with the proprietary license.[m
[31m- */[m
[31m-[m
[31m-import {ComponentProps} from 'react';[m
[31m-import {TextInput} from '@carbon/react';[m
[31m-[m
[31m-import {CarbonSelect} from 'components';[m
[31m-import {t} from 'translation';[m
[31m-import {getRandomId} from 'services';[m
[31m-[m
[31m-import './ThresholdInput.scss';[m
[31m-[m
[31m-interface CommonProps[m
[31m-  extends Pick<[m
[31m-    ComponentProps<typeof TextInput>,[m
[31m-    'className' | 'labelText' | 'invalid' | 'invalidText'[m
[31m-  > {[m
[31m-  type: string;[m
[31m-}[m
[31m-[m
[31m-interface SingleValue extends CommonProps {[m
[31m-  value: string | number | undefined;[m
[31m-  onChange: (value: string | number | undefined) => void;[m
[31m-}[m
[31m-[m
[31m-interface DurationValue extends CommonProps {[m
[31m-  value: {value: string | number | undefined; unit: string};[m
[31m-  onChange: (value: {value: string | number | undefined; unit: string}) => void;[m
[31m-}[m
[31m-[m
[31m-type ThresholdInputProps = SingleValue | DurationValue;[m
[31m-[m
[31m-export default function ThresholdInput(props: ThresholdInputProps) {[m
[31m-  const id = getRandomId();[m
[31m-  if (isDurationValue(props)) {[m
[31m-    const {value, type, onChange, ...rest} = props;[m
[31m-    return ([m
[31m-      <>[m
[31m-        <TextInput[m
[31m-          {...rest}[m
[31m-          id={`${id}Value`}[m
[31m-          size="sm"[m
[31m-          value={value?.value}[m
[31m-          onChange={({target}) => onChange({...value, value: target.value})}[m
[31m-          maxLength={8}[m
[31m-        />[m
[31m-        <CarbonSelect[m
[31m-          id={`${id}Units`}[m
[31m-          labelText={t('common.units')}[m
[31m-          className={rest.className}[m
[31m-          value={value.unit}[m
[31m-          onChange={(unit) => onChange({...value, unit})}[m
[31m-        >[m
[31m-          <CarbonSelect.Option value="millis" label={t('common.unit.milli.label-plural')} />[m
[31m-          <CarbonSelect.Option value="seconds" label={t('common.unit.second.label-plural')} />[m
[31m-          <CarbonSelect.Option value="minutes" label={t('common.unit.minute.label-plural')} />[m
[31m-          <CarbonSelect.Option value="hours" label={t('common.unit.hour.label-plural')} />[m
[31m-          <CarbonSelect.Option value="days" label={t('common.unit.day.label-plural')} />[m
[31m-          <CarbonSelect.Option value="weeks" label={t('common.unit.week.label-plural')} />[m
[31m-          <CarbonSelect.Option value="months" label={t('common.unit.month.label-plural')} />[m
[31m-        </CarbonSelect>[m
[31m-      </>[m
[31m-    );[m
[31m-  } else {[m
[31m-    const {value, type, onChange, ...rest} = props;[m
[31m-    return ([m
[31m-      <div className="ThresholdInput">[m
[31m-        <TextInput[m
[31m-          {...rest}[m
[31m-          id={`${id}Value`}[m
[31m-          size="sm"[m
[31m-          value={value}[m
[31m-          onChange={({target: {value}}) => onChange(value)}[m
[31m-        />[m
[31m-        {type === 'percentage' && <span className="percentageIndicator">%</span>}[m
[31m-      </div>[m
[31m-    );[m
[31m-  }[m
[31m-}[m
[31m-[m
[31m-function isDurationValue(props: ThresholdInputProps): props is DurationValue {[m
[31m-  return props.type === 'duration';[m
[31m-}[m
[1mdiff --git a/client/src/modules/components/AlertModal/__snapshots__/MultiEmailInput.test.js.snap b/client/src/modules/components/AlertModal/__snapshots__/MultiEmailInput.test.js.snap[m
[1mnew file mode 100644[m
[1mindex 0000000000..3ab38abf47[m
[1m--- /dev/null[m
[1m+++ b/client/src/modules/components/AlertModal/__snapshots__/MultiEmailInput.test.js.snap[m
[36m@@ -0,0 +1,30 @@[m
[32m+[m[32m// Jest Snapshot v1, https://goo.gl/fbAQLP[m
[32m+[m
[32m+[m[32mexports[`should match snapshot 1`] = `[m
[32m+[m[32m<MultiValueInput[m
[32m+[m[32m  disabled={false}[m
[32m+[m[32m  extraSeperators={[m
[32m+[m[32m    Array [[m
[32m+[m[32m      ",",[m
[32m+[m[32m      ";",[m
[32m+[m[32m      " ",[m
[32m+[m[32m    ][m
[32m+[m[32m  }[m
[32m+[m[32m  onAdd={[Function]}[m
[32m+[m[32m  onClear={[Function]}[m
[32m+[m[32m  onPaste={[Function]}[m
[32m+[m[32m  onRemove={[Function]}[m
[32m+[m[32m  values={[m
[32m+[m[32m    Array [[m
[32m+[m[32m      Object {[m
[32m+[m[32m        "invalid": false,[m
[32m+[m[32m        "value": "email1@hotmail.com",[m
[32m+[m[32m      },[m
[32m+[m[32m      Object {[m
[32m+[m[32m        "invalid": false,[m
[32m+[m[32m        "value": "email2@gmail.com",[m
[32m+[m[32m      },[m
[32m+[m[32m    ][m
[32m+[m[32m  }[m
[32m+[m[32m/>[m
[32m+[m[32m`;[m
[1mdiff --git a/client/src/modules/components/AlertsDropdown/AlertsDropdown.js b/client/src/modules/components/AlertsDropdown/AlertsDropdown.js[m
[1mindex 110c35f4bf..ac2f57d8c5 100644[m
[1m--- a/client/src/modules/components/AlertsDropdown/AlertsDropdown.js[m
[1m+++ b/client/src/modules/components/AlertsDropdown/AlertsDropdown.js[m
[36m@@ -7,10 +7,10 @@[m
 [m
 import React, {useState, useEffect, useCallback} from 'react';[m
 import {withRouter} from 'react-router-dom';[m
[31m-import {OverflowMenu, OverflowMenuItem} from '@carbon/react';[m
[31m-import {Notification, Add} from '@carbon/icons-react';[m
[32m+[m[32mimport classnames from 'classnames';[m
 [m
[31m-import {AlertModal, Deleter} from 'components';[m
[32m+[m[32mimport {AlertModal, Deleter, Dropdown, Icon, Tooltip} from 'components';[m
[32m+[m[32mimport {withErrorHandling} from 'HOC';[m
 import {addNotification, showError} from 'notifications';[m
 import {[m
   loadAlerts,[m
[36m@@ -23,11 +23,10 @@[m [mimport {[m
 } from 'services';[m
 import {t} from 'translation';[m
 import {getWebhooks} from 'config';[m
[31m-import {useErrorHandling} from 'hooks';[m
 [m
 import './AlertsDropdown.scss';[m
 [m
[31m-export function AlertsDropdown({dashboardTiles, numberReport, location}) {[m
[32m+[m[32mexport function AlertsDropdown({mightFail, dashboardTiles, numberReport, location}) {[m
   const [alerts, setAlerts] = useState([]);[m
   const [reports, setReports] = useState([]);[m
   const [openAlert, setOpenAlert] = useState();[m
[36m@@ -35,7 +34,6 @@[m [mexport function AlertsDropdown({dashboardTiles, numberReport, location}) {[m
   const [webhooks, setWebhooks] = useState();[m
   const [loading, setLoading] = useState(false);[m
   const collection = React.useMemo(() => getCollection(location.pathname), [location]);[m
[31m-  const {mightFail} = useErrorHandling();[m
 [m
   const loadEntityAlerts = useCallback(() => {[m
     mightFail(loadAlerts(collection), setAlerts, showError);[m
[36m@@ -107,35 +105,34 @@[m [mexport function AlertsDropdown({dashboardTiles, numberReport, location}) {[m
 [m
   return ([m
     <div className="AlertsDropdown tool-button">[m
[31m-      <OverflowMenu[m
[31m-        aria-label={t('alert.label-plural')}[m
[31m-        iconDescription={t('alert.label-plural')}[m
[31m-        renderIcon={Notification}[m
[31m-        size="lg"[m
[31m-        flipped[m
[31m-      >[m
[31m-        {alertsInScope.map((alert) => ([m
[31m-          <OverflowMenuItem[m
[31m-            key={alert.id}[m
[31m-            itemText={alert.name}[m
[31m-            onClick={() => setOpenAlert(alert)}[m
[31m-          />[m
[31m-        ))}[m
[31m-        {reportsInScope.length ? ([m
[31m-          <OverflowMenuItem[m
[31m-            itemText={[m
[32m+[m[32m      <Tooltip content={!reportsInScope.length && t('alert.form.reportInfo')} position="bottom">[m
[32m+[m[32m        <div>[m
[32m+[m[32m          <Dropdown[m
[32m+[m[32m            main[m
[32m+[m[32m            label={[m
               <>[m
[31m-                <Add /> {t('alert.createNew')}[m
[32m+[m[32m                <Icon type="alert" /> {t('alert.label-plural')}[m
               </>[m
             }[m
[31m-            onClick={() => setOpenAlert({})}[m
[31m-            className="NewAlertDropdownOption"[m
[31m-            hasDivider[m
[31m-          />[m
[31m-        ) : ([m
[31m-          <OverflowMenuItem disabled requireTitle itemText={t('alert.form.reportInfo')} />[m
[31m-        )}[m
[31m-      </OverflowMenu>[m
[32m+[m[32m            disabled={!reportsInScope.length}[m
[32m+[m[32m          >[m
[32m+[m[32m            <Dropdown.Option[m
[32m+[m[32m              className={classnames('createNew', {bottomBorder: alertsInScope.length > 0})}[m
[32m+[m[32m              onClick={() => setOpenAlert({})}[m
[32m+[m[32m            >[m
[32m+[m[32m              {t('alert.newAlert')}[m
[32m+[m[32m            </Dropdown.Option>[m
[32m+[m[32m            {alertsInScope.length > 0 && ([m
[32m+[m[32m              <div className="subTitle">{t('alert.existingAlerts')}</div>[m
[32m+[m[32m            )}[m
[32m+[m[32m            {alertsInScope.map((alert) => ([m
[32m+[m[32m              <Dropdown.Option key={alert.id} onClick={() => setOpenAlert(alert)}>[m
[32m+[m[32m                {alert.name}[m
[32m+[m[32m              </Dropdown.Option>[m
[32m+[m[32m            ))}[m
[32m+[m[32m          </Dropdown>[m
[32m+[m[32m        </div>[m
[32m+[m[32m      </Tooltip>[m
       <Deleter[m
         type="alert"[m
         entity={deleting}[m
[36m@@ -172,4 +169,4 @@[m [mexport function AlertsDropdown({dashboardTiles, numberReport, location}) {[m
   );[m
 }[m
 [m
[31m-export default withRouter(AlertsDropdown);[m
[32m+[m[32mexport default withRouter(withErrorHandling(AlertsDropdown));[m
[1mdiff --git a/client/src/modules/components/AlertsDropdown/AlertsDropdown.scss b/client/src/modules/components/AlertsDropdown/AlertsDropdown.scss[m
[1mindex 31db54cb3f..9bb972a540 100644[m
[1m--- a/client/src/modules/components/AlertsDropdown/AlertsDropdown.scss[m
[1m+++ b/client/src/modules/components/AlertsDropdown/AlertsDropdown.scss[m
[36m@@ -1,4 +1,11 @@[m
[31m-.AlertsDropdown .cds--popover-container {[m
[31m-  // fixes the alignment issues with other icon buttons in entity view page[m
[31m-  vertical-align: top;[m
[32m+[m[32m.AlertsDropdown {[m
[32m+[m[32m  .createNew.bottomBorder {[m
[32m+[m[32m    border-bottom: 1px solid var(--silver-darken-87);[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  .subTitle {[m
[32m+[m[32m    font-size: 10px;[m
[32m+[m[32m    padding: 5px 20px;[m
[32m+[m[32m    color: var(--grey-lighten-56);[m
[32m+[m[32m  }[m
 }[m
[1mdiff --git a/client/src/modules/components/AlertsDropdown/AlertsDropdown.test.js b/client/src/modules/components/AlertsDropdown/AlertsDropdown.test.js[m
[1mindex bcb14c7744..2bf8787669 100644[m
[1m--- a/client/src/modules/components/AlertsDropdown/AlertsDropdown.test.js[m
[1m+++ b/client/src/modules/components/AlertsDropdown/AlertsDropdown.test.js[m
[36m@@ -7,7 +7,6 @@[m
 [m
 import React, {runAllEffects} from 'react';[m
 import {shallow} from 'enzyme';[m
[31m-import {OverflowMenuItem} from '@carbon/react';[m
 [m
 import {AlertModal, Dropdown, Deleter} from 'components';[m
 import {loadReports, loadAlerts, editAlert, addAlert, removeAlert, getCollection} from 'services';[m
[36m@@ -73,28 +72,24 @@[m [mjest.mock('services', () => {[m
     editAlert: jest.fn(),[m
     removeAlert: jest.fn(),[m
     getCollection: jest.fn().mockReturnValue('collectionId'),[m
[31m-    isAlertCompatibleReport: jest.fn().mockReturnValue(true),[m
   };[m
 });[m
 [m
 jest.mock('config', () => ({getWebhooks: jest.fn().mockReturnValue(['webhook1', 'webhook2'])}));[m
 jest.mock('notifications', () => ({addNotification: jest.fn()}));[m
[31m-jest.mock('hooks', () => ({[m
[31m-  useErrorHandling: jest.fn(() => ({[m
[31m-    mightFail: jest.fn((data, cb) => cb(data)),[m
[31m-  })),[m
[31m-}));[m
 [m
 beforeEach(() => {[m
   jest.clearAllMocks();[m
 });[m
 [m
 const props = {[m
[32m+[m[32m  mightFail: jest.fn().mockImplementation((data, cb) => cb(data)),[m
   location: {},[m
[32m+[m[32m  dashboardTiles: [],[m
 };[m
 [m
 it('should load existing alerts, reports and webhooks', () => {[m
[31m-  shallow(<AlertsDropdown {...props} dashboardTiles={[]} />);[m
[32m+[m[32m  shallow(<AlertsDropdown {...props} />);[m
 [m
   runAllEffects();[m
 [m
[36m@@ -115,11 +110,11 @@[m [mit('should only show the dropdown inside a collection', () => {[m
 [m
 it('should create new alert', async () => {[m
   const testAlert = {id: 'alertID', name: 'newName'};[m
[31m-  const node = shallow(<AlertsDropdown {...props} numberReport={{id: '2'}} />);[m
[32m+[m[32m  const node = shallow(<AlertsDropdown {...props} />);[m
 [m
   runAllEffects();[m
 [m
[31m-  node.find(OverflowMenuItem).at(1).simulate('click');[m
[32m+[m[32m  node.find(Dropdown.Option).at(0).simulate('click');[m
 [m
   node.find(AlertModal).prop('onConfirm')(testAlert);[m
 [m
[36m@@ -132,7 +127,7 @@[m [mit('should edit an alert', async () => {[m
 [m
   runAllEffects();[m
 [m
[31m-  node.find(OverflowMenuItem).at(0).simulate('click');[m
[32m+[m[32m  node.find(Dropdown.Option).at(1).simulate('click');[m
 [m
   const updatedAlert = {id: 'alert1', name: 'newName'};[m
   node.find(AlertModal).prop('onConfirm')(updatedAlert);[m
[36m@@ -146,7 +141,7 @@[m [mit('should pass only reports in scope', async () => {[m
 [m
   runAllEffects();[m
 [m
[31m-  node.find(OverflowMenuItem).at(0).simulate('click');[m
[32m+[m[32m  node.find(Dropdown.Option).at(1).simulate('click');[m
 [m
   expect(node.find(AlertModal).prop('reports').length).toBe(1);[m
   expect(node.find(AlertModal).prop('reports')[0].id).toBe('2');[m
[36m@@ -157,8 +152,8 @@[m [mit('should show only alerts in scope', async () => {[m
 [m
   runAllEffects();[m
 [m
[31m-  expect(node.find(OverflowMenuItem).length).toBe(2);[m
[31m-  expect(node.find(OverflowMenuItem).at(0).prop('itemText')).toBe('second Alert');[m
[32m+[m[32m  expect(node.find(Dropdown.Option).length).toBe(2);[m
[32m+[m[32m  expect(node.find(Dropdown.Option).at(1)).toIncludeText('second Alert');[m
 });[m
 [m
 it('should pass number report id to alert modal', async () => {[m
[36m@@ -168,7 +163,7 @@[m [mit('should pass number report id to alert modal', async () => {[m
 [m
   runAllEffects();[m
 [m
[31m-  node.find(OverflowMenuItem).at(0).simulate('click');[m
[32m+[m[32m  node.find(Dropdown.Option).at(1).simulate('click');[m
 [m
   expect(node.find(AlertModal).prop('initialReport')).toBe('2');[m
 });[m
[36m@@ -178,7 +173,7 @@[m [mit('should delete an alert', async () => {[m
 [m
   runAllEffects();[m
 [m
[31m-  node.find(OverflowMenuItem).at(0).simulate('click');[m
[32m+[m[32m  node.find(Dropdown.Option).at(1).simulate('click');[m
   node.find(AlertModal).prop('onRemove')();[m
 [m
   expect(node.find(Deleter).prop('entity').id).toBe('alert1');[m
[1mdiff --git a/client/src/modules/components/CopyToClipboard/CopyToClipboard.tsx b/client/src/modules/components/CopyToClipboard/CopyToClipboard.js[m
[1msimilarity index 62%[m
[1mrename from client/src/modules/components/CopyToClipboard/CopyToClipboard.tsx[m
[1mrename to client/src/modules/components/CopyToClipboard/CopyToClipboard.js[m
[1mindex 613718c22e..a66911319e 100644[m
[1m--- a/client/src/modules/components/CopyToClipboard/CopyToClipboard.tsx[m
[1m+++ b/client/src/modules/components/CopyToClipboard/CopyToClipboard.js[m
[36m@@ -5,35 +5,22 @@[m
  * except in compliance with the proprietary license.[m
  */[m
 [m
[31m-import {ComponentProps, ReactNode} from 'react';[m
[31m-import {Button} from '@carbon/react';[m
[32m+[m[32mimport React from 'react';[m
[32m+[m[32mimport {Button} from 'components';[m
 [m
 import {t} from 'translation';[m
 [m
[31m-interface CopyToClipboardProps extends Pick<ComponentProps<typeof Button>, 'kind' | 'disabled'> {[m
[31m-  children: ReactNode;[m
[31m-  value: string;[m
[31m-  onCopy: () => void;[m
[31m-}[m
[31m-[m
[31m-export default function CopyToClipboard({[m
[31m-  children,[m
[31m-  value,[m
[31m-  disabled,[m
[31m-  onCopy,[m
[31m-  kind,[m
[31m-}: CopyToClipboardProps) {[m
[32m+[m[32mexport default function CopyToClipboard({children, value, disabled, onCopy}) {[m
   return ([m
     <Button[m
       className="CopyToClipboard"[m
[31m-      size="sm"[m
       onClick={(evt) => {[m
         evt.preventDefault();[m
         const input = document.createElement('input');[m
         input.value = value;[m
[31m-        input.style.opacity = '0';[m
[32m+[m[32m        input.style.opacity = 0;[m
         input.style.position = 'absolute';[m
[31m-        input.style.top = '0';[m
[32m+[m[32m        input.style.top = 0;[m
 [m
         document.body.appendChild(input);[m
 [m
[36m@@ -42,10 +29,11 @@[m [mexport default function CopyToClipboard({[m
 [m
         document.body.removeChild(input);[m
 [m
[31m-        onCopy?.();[m
[32m+[m[32m        if (typeof onCopy === 'function') {[m
[32m+[m[32m          onCopy();[m
[32m+[m[32m        }[m
       }}[m
       disabled={disabled}[m
[31m-      kind={kind}[m
     >[m
       {children || t('common.copy')}[m
     </Button>[m
[1mdiff --git a/client/src/modules/components/CopyToClipboard/CopyToClipboard.test.tsx b/client/src/modules/components/CopyToClipboard/CopyToClipboard.test.js[m
[1msimilarity index 69%[m
[1mrename from client/src/modules/components/CopyToClipboard/CopyToClipboard.test.tsx[m
[1mrename to client/src/modules/components/CopyToClipboard/CopyToClipboard.test.js[m
[1mindex 31601e0abb..02302453ad 100644[m
[1m--- a/client/src/modules/components/CopyToClipboard/CopyToClipboard.test.tsx[m
[1m+++ b/client/src/modules/components/CopyToClipboard/CopyToClipboard.test.js[m
[36m@@ -5,32 +5,27 @@[m
  * except in compliance with the proprietary license.[m
  */[m
 [m
[32m+[m[32mimport React from 'react';[m
 import {shallow} from 'enzyme';[m
[31m-import {Button} from '@carbon/react';[m
 [m
[31m-import CopyToClipboard from './CopyToClipboard';[m
[32m+[m[32mimport {Button} from 'components';[m
 [m
[31m-const props = {[m
[31m-  value: 'test',[m
[31m-  disabled: false,[m
[31m-  onCopy: jest.fn(),[m
[31m-  children: 'buttonContent',[m
[31m-};[m
[32m+[m[32mimport CopyToClipboard from './CopyToClipboard';[m
 [m
 it('should allow custom labels', () => {[m
[31m-  const node = shallow(<CopyToClipboard {...props}>Custom Label</CopyToClipboard>);[m
[32m+[m[32m  const node = shallow(<CopyToClipboard>Custom Label</CopyToClipboard>);[m
 [m
   expect(node).toIncludeText('Custom Label');[m
 });[m
 [m
 it('should allow being disabled', () => {[m
[31m-  const node = shallow(<CopyToClipboard {...props} disabled />);[m
[32m+[m[32m  const node = shallow(<CopyToClipboard disabled />);[m
 [m
   expect(node.find(Button)).toBeDisabled();[m
 });[m
 [m
 it('should copy specified value', () => {[m
[31m-  const node = shallow(<CopyToClipboard {...props} />);[m
[32m+[m[32m  const node = shallow(<CopyToClipboard />);[m
 [m
   node.find(Button).simulate('click', {preventDefault: () => {}});[m
   expect(document.execCommand).toHaveBeenCalledWith('Copy');[m
[36m@@ -38,7 +33,7 @@[m [mit('should copy specified value', () => {[m
 [m
 it('should call a provided onCopy function', () => {[m
   const spy = jest.fn();[m
[31m-  const node = shallow(<CopyToClipboard {...props} onCopy={spy} />);[m
[32m+[m[32m  const node = shallow(<CopyToClipboard onCopy={spy} />);[m
 [m
   node.find(Button).simulate('click', {preventDefault: () => {}});[m
 [m
[1mdiff --git a/client/src/modules/components/CopyToClipboard/index.tsx b/client/src/modules/components/CopyToClipboard/index.js[m
[1msimilarity index 100%[m
[1mrename from client/src/modules/components/CopyToClipboard/index.tsx[m
[1mrename to client/src/modules/components/CopyToClipboard/index.js[m
[1mdiff --git a/client/src/modules/components/DashboardRenderer/DashboardTile/OptimizeReportTile/OptimizeReportTile.js b/client/src/modules/components/DashboardRenderer/DashboardTile/OptimizeReportTile/OptimizeReportTile.js[m
[1mindex e08c11bf97..73e2b2124e 100644[m
[1m--- a/client/src/modules/components/DashboardRenderer/DashboardTile/OptimizeReportTile/OptimizeReportTile.js[m
[1m+++ b/client/src/modules/components/DashboardRenderer/DashboardTile/OptimizeReportTile/OptimizeReportTile.js[m
[36m@@ -8,7 +8,6 @@[m
 import React from 'react';[m
 import {withRouter} from 'react-router';[m
 import classnames from 'classnames';[m
[31m-import {Filter} from '@carbon/icons-react';[m
 [m
 import {[m
   ReportRenderer,[m
[36m@@ -16,12 +15,10 @@[m [mimport {[m
   EntityName,[m
   ReportDetails,[m
   InstanceCount,[m
[31m-  Popover,[m
 } from 'components';[m
 import {withErrorHandling} from 'HOC';[m
 import deepEqual from 'fast-deep-equal';[m
 import {track} from 'tracking';[m
[31m-import {t} from 'translation';[m
 [m
 import {themed} from 'theme';[m
 [m
[36m@@ -142,22 +139,7 @@[m [mexport class OptimizeReportTile extends React.Component {[m
             >[m
               {data.name}[m
             </EntityName>[m
[31m-            <InstanceCount[m
[31m-              key="instanceCount"[m
[31m-              trigger={[m
[31m-                <Popover.Button[m
[31m-                  size="sm"[m
[31m-                  kind="ghost"[m
[31m-                  hasIconOnly[m
[31m-                  iconDescription={t('common.filter.label').toString()}[m
[31m-                  renderIcon={Filter}[m
[31m-                  tooltipPosition="bottom"[m
[31m-                />[m
[31m-              }[m
[31m-              report={data}[m
[31m-              additionalFilter={filter}[m
[31m-              showHeader[m
[31m-            />[m
[32m+[m[32m            <InstanceCount report={data} additionalFilter={filter} useIcon="filter" showHeader />[m
           </div>[m
         )}[m
         <div className="visualization">[m
[1mdiff --git a/client/src/modules/components/DashboardRenderer/DashboardTile/OptimizeReportTile/OptimizeReportTile.scss b/client/src/modules/components/DashboardRenderer/DashboardTile/OptimizeReportTile/OptimizeReportTile.scss[m
[1mindex 6b5eb9a2d0..8f2981443c 100644[m
[1m--- a/client/src/modules/components/DashboardRenderer/DashboardTile/OptimizeReportTile/OptimizeReportTile.scss[m
[1m+++ b/client/src/modules/components/DashboardRenderer/DashboardTile/OptimizeReportTile/OptimizeReportTile.scss[m
[36m@@ -13,7 +13,7 @@[m
     padding: 10px 10px 0px 10px;[m
     min-height: 45px;[m
 [m
[31m-    .Popover .buttonWrapper .ButtonTrigger {[m
[32m+[m[32m    .Popover .buttonWrapper .Button {[m
       opacity: 0;[m
 [m
       &.active,[m
[36m@@ -21,28 +21,28 @@[m
         opacity: 1;[m
       }[m
     }[m
[32m+[m[32m  }[m
 [m
[31m-    .EntityName {[m
[31m-      padding-right: 0;[m
[32m+[m[32m  .EntityName {[m
[32m+[m[32m    padding-right: 0;[m
 [m
[31m-      .Popover {[m
[31m-        margin-top: 0;[m
[32m+[m[32m    .Popover {[m
[32m+[m[32m      margin-top: -2px;[m
[32m+[m[32m      .buttonWrapper .Button {[m
[32m+[m[32m        margin-left: 2px;[m
       }[m
     }[m
 [m
     .name-container .name {[m
       font-size: 14px;[m
       line-height: 18px;[m
[32m+[m[32m      font-weight: 500;[m
[32m+[m[32m      color: var(--grey-darken-23);[m
     }[m
   }[m
 [m
   .InstanceCount {[m
[31m-    height: auto;[m
     margin-top: 0;[m
[31m-    position: absolute;[m
[31m-    top: 0;[m
[31m-    right: 0;[m
[31m-[m
     > .countString {[m
       display: none;[m
     }[m
[36m@@ -53,6 +53,12 @@[m
 [m
     .Popover {[m
       display: inline-block;[m
[32m+[m[32m      margin-top: -2px;[m
[32m+[m
[32m+[m[32m      .buttonWrapper .Button {[m
[32m+[m[32m        width: 20px;[m
[32m+[m[32m        height: 20px;[m
[32m+[m[32m      }[m
     }[m
   }[m
 [m
[36m@@ -74,9 +80,3 @@[m
     }[m
   }[m
 }[m
[31m-[m
[31m-.DashboardView .OptimizeReportTile:hover {[m
[31m-  .Popover .buttonWrapper .ButtonTrigger {[m
[31m-    opacity: 1;[m
[31m-  }[m
[31m-}[m
[1mdiff --git a/client/src/modules/components/DashboardRenderer/DashboardTile/TextTile/TextTile.js b/client/src/modules/components/DashboardRenderer/DashboardTile/TextTile/TextTile.js[m
[1mindex 2742ea28bd..d88a47ee13 100644[m
[1m--- a/client/src/modules/components/DashboardRenderer/DashboardTile/TextTile/TextTile.js[m
[1m+++ b/client/src/modules/components/DashboardRenderer/DashboardTile/TextTile/TextTile.js[m
[36m@@ -7,11 +7,8 @@[m
 [m
 import React, {useState} from 'react';[m
 import update from 'immutability-helper';[m
[31m-import {Button} from '@carbon/react';[m
[31m-import {Edit} from '@carbon/icons-react';[m
 [m
[31m-import {TextEditor} from 'components';[m
[31m-import {t} from 'translation';[m
[32m+[m[32mimport {Button, Icon, TextEditor} from 'components';[m
 [m
 import TextTileEditModal from './TextTileEditModal';[m
 [m
[36m@@ -43,19 +40,9 @@[m [mexport default function TextTile({tile, children = () => {}, onTileUpdate}) {[m
         <TextEditor key={reloadState} initialValue={tile.configuration.text} />[m
         {children({loadTileData: reloadTile})}[m
         {children && ([m
[31m-          <div className="editButton editTextTile">[m
[31m-            <Button[m
[31m-              key="editTextTile"[m
[31m-              kind="ghost"[m
[31m-              size="sm"[m
[31m-              hasIconOnly[m
[31m-              iconDescription={t('common.edit')}[m
[31m-              renderIcon={Edit}[m
[31m-              tooltipPosition="bottom"[m
[31m-              className="EditTextTile"[m
[31m-              onClick={handleEdit}[m
[31m-            />[m
[31m-          </div>[m
[32m+[m[32m          <Button className="EditButton EditTextTile" onClick={handleEdit}>[m
[32m+[m[32m            <Icon type="edit-small" />[m
[32m+[m[32m          </Button>[m
         )}[m
       </div>[m
       {isModalOpen && ([m
[1mdiff --git a/client/src/modules/components/DashboardRenderer/DashboardTile/TextTile/TextTile.scss b/client/src/modules/components/DashboardRenderer/DashboardTile/TextTile/TextTile.scss[m
[1mindex d2720d155d..daefbbfb4b 100644[m
[1m--- a/client/src/modules/components/DashboardRenderer/DashboardTile/TextTile/TextTile.scss[m
[1m+++ b/client/src/modules/components/DashboardRenderer/DashboardTile/TextTile/TextTile.scss[m
[36m@@ -13,15 +13,15 @@[m
     }[m
   }[m
 [m
[31m-  .editButton:not(.editTextTile) {[m
[32m+[m[32m  .EditButton:not(.EditTextTile) {[m
     display: none;[m
   }[m
 [m
[31m-  .deleteButton {[m
[32m+[m[32m  .DeleteButton {[m
     right: 10px;[m
   }[m
 [m
[31m-  .editTextTile {[m
[32m+[m[32m  .EditButton {[m
     right: 39px;[m
   }[m
 }[m
[1mdiff --git a/client/src/modules/components/DatePicker/DateFields.scss b/client/src/modules/components/DatePicker/DateFields.scss[m
[1mindex 4e931586d8..9d0427851a 100644[m
[1m--- a/client/src/modules/components/DatePicker/DateFields.scss[m
[1m+++ b/client/src/modules/components/DatePicker/DateFields.scss[m
[36m@@ -1,9 +1,10 @@[m
 .DateFields {[m
   position: relative;[m
[32m+[m[32m  margin-bottom: 15px;[m
 [m
   .inputContainer {[m
     display: flex;[m
[31m-    align-items: flex-start;[m
[32m+[m[32m    align-items: center;[m
     flex-wrap: nowrap;[m
 [m
     .PickerDateInput:first-child {[m
[1mdiff --git a/client/src/modules/components/DatePicker/DateFields.tsx b/client/src/modules/components/DatePicker/DateFields.tsx[m
[1mindex 1e7037e22c..783434dabd 100644[m
[1m--- a/client/src/modules/components/DatePicker/DateFields.tsx[m
[1m+++ b/client/src/modules/components/DatePicker/DateFields.tsx[m
[36m@@ -10,7 +10,6 @@[m [mimport classnames from 'classnames';[m
 import {parseISO} from 'date-fns';[m
 [m
 import {format} from 'dates';[m
[31m-import {t} from 'translation';[m
 [m
 import DateRange from './DateRange';[m
 import PickerDateInput from './PickerDateInput';[m
[36m@@ -18,7 +17,7 @@[m [mimport {isDateValid} from './service';[m
 [m
 import './DateFields.scss';[m
 [m
[31m-const POPUP_CLASSNAME = 'dateRangeContainer';[m
[32m+[m[32mconst POPPUP_CLASSNAME = 'dateRangeContainer';[m
 [m
 interface DateFieldsProps {[m
   startDate: string;[m
[36m@@ -87,9 +86,9 @@[m [mexport default class DateFields extends PureComponent<DateFieldsProps, DateField[m
         <div className="inputContainer">[m
           {type !== 'before' && ([m
             <PickerDateInput[m
[31m-              id="dateFieldsBefore"[m
[31m-              labelText={t('common.filter.dateModal.unit.before')}[m
[31m-              hideLabel[m
[32m+[m[32m              className={classnames({[m
[32m+[m[32m                highlight: this.isFieldSelected('startDate'),[m
[32m+[m[32m              })}[m
               onChange={this.setDate('startDate')}[m
               onFocus={() => {[m
                 this.setState({currentlySelectedField: 'startDate'});[m
[36m@@ -97,14 +96,14 @@[m [mexport default class DateFields extends PureComponent<DateFieldsProps, DateField[m
               onSubmit={this.submitStart}[m
               onClick={() => this.toggleDateRangePopup('startDate')}[m
               value={startDate}[m
[31m-              invalid={!isDateValid(startDate)}[m
[32m+[m[32m              isInvalid={!isDateValid(startDate)}[m
             />[m
           )}[m
           {type !== 'after' && ([m
             <PickerDateInput[m
[31m-              id="dateFieldsAfter"[m
[31m-              labelText={t('common.filter.dateModal.unit.after')}[m
[31m-              hideLabel[m
[32m+[m[32m              className={classnames({[m
[32m+[m[32m                highlight: this.isFieldSelected('endDate'),[m
[32m+[m[32m              })}[m
               ref={this.endDateField}[m
               onChange={this.setDate('endDate')}[m
               onFocus={() => {[m
[36m@@ -113,13 +112,13 @@[m [mexport default class DateFields extends PureComponent<DateFieldsProps, DateField[m
               onSubmit={this.submitEnd}[m
               onClick={() => this.toggleDateRangePopup('endDate')}[m
               value={endDate}[m
[31m-              invalid={!isDateValid(endDate)}[m
[32m+[m[32m              isInvalid={!isDateValid(endDate)}[m
             />[m
           )}[m
         </div>[m
         {(this.state.popupOpen || forceOpen) && ([m
           <div[m
[31m-            className={classnames(POPUP_CLASSNAME, {[m
[32m+[m[32m            className={classnames(POPPUP_CLASSNAME, {[m
               dateRangeContainerLeft: this.isFieldSelected('startDate'),[m
               dateRangeContainerRight: this.isFieldSelected('endDate'),[m
             })}[m
[36m@@ -175,7 +174,7 @@[m [mexport default class DateFields extends PureComponent<DateFieldsProps, DateField[m
   };[m
 [m
   hidePopup = (evt?: Event) => {[m
[31m-    if (!(evt?.target as HTMLElement)?.closest('.' + POPUP_CLASSNAME)) {[m
[32m+[m[32m    if (!(evt?.target as HTMLElement)?.closest('.' + POPPUP_CLASSNAME)) {[m
       this.setState({[m
         popupOpen: false,[m
         currentlySelectedField: null,[m
[1mdiff --git a/client/src/modules/components/DatePicker/PickerDateInput.scss b/client/src/modules/components/DatePicker/PickerDateInput.scss[m
[1mindex b497fd4cf8..b9cc454a55 100644[m
[1m--- a/client/src/modules/components/DatePicker/PickerDateInput.scss[m
[1m+++ b/client/src/modules/components/DatePicker/PickerDateInput.scss[m
[36m@@ -1,32 +1,51 @@[m
[31m-@use '@carbon/styles/scss/themes';[m
[31m-@use '@carbon/styles/scss/theme';[m
[31m-[m
 .dark .PickerDateInput {[m
[31m-  @include theme.theme(themes.$g100);[m
[32m+[m[32m  .Input {[m
[32m+[m[32m    background-color: var(--grey-darken-36);[m
[32m+[m[32m    border-color: var(--grey-base-40);[m
[32m+[m[32m    color: var(--silver-darken-94);[m
[32m+[m
[32m+[m[32m    &.highlight {[m
[32m+[m[32m      border-color: var(--grey-base-40);[m
[32m+[m
[32m+[m[32m      &.isInvalid {[m
[32m+[m[32m        background-color: var(--red-darken-26);[m
[32m+[m[32m      }[m
[32m+[m[32m    }[m
[32m+[m
[32m+[m[32m    &.isInvalid {[m
[32m+[m[32m      border-color: var(--red-darken-38);[m
[32m+[m[32m    }[m
[32m+[m[32m  }[m
 }[m
 [m
 .PickerDateInput {[m
   position: relative;[m
 [m
[31m-  .cds--text-input {[m
[31m-    width: 150px;[m
[32m+[m[32m  .Input {[m
[32m+[m[32m    width: 130px;[m
[32m+[m
[32m+[m[32m    &.highlight {[m
[32m+[m[32m      border-color: var(--blue-base-65);[m
[32m+[m[32m      background-color: rgba(0, 145, 255, 0.1);[m
[32m+[m
[32m+[m[32m      &.isInvalid {[m
[32m+[m[32m        background-color: var(--red-lighten-85);[m
[32m+[m[32m      }[m
[32m+[m[32m    }[m
   }[m
 [m
[31m-  .icon {[m
[32m+[m[32m  .Icon {[m
     position: absolute;[m
     top: 50%;[m
     transform: translateY(-50%);[m
[31m-    right: 1rem;[m
[32m+[m[32m    right: 5px;[m
[32m+[m[32m    color: var(--grey-lighten-56);[m
[32m+[m[32m    margin-right: 0;[m
     pointer-events: none;[m
   }[m
 [m
[31m-  .cds--form-requirement {[m
[32m+[m[32m  .PickerDateInputWarning {[m
     position: absolute;[m
[31m-  }[m
[31m-[m
[31m-  &.isInvalid {[m
[31m-    .icon {[m
[31m-      display: none;[m
[31m-    }[m
[32m+[m[32m    top: 30px;[m
   }[m
 }[m
[1mdiff --git a/client/src/modules/components/DatePicker/PickerDateInput.test.tsx b/client/src/modules/components/DatePicker/PickerDateInput.test.tsx[m
[1mindex 66a33bc76b..c22ed689eb 100644[m
[1m--- a/client/src/modules/components/DatePicker/PickerDateInput.test.tsx[m
[1m+++ b/client/src/modules/components/DatePicker/PickerDateInput.test.tsx[m
[36m@@ -7,11 +7,11 @@[m
 [m
 import {shallow} from 'enzyme';[m
 [m
[32m+[m[32mimport {Input} from 'components';[m
[32m+[m
 import {PickerDateInput} from './PickerDateInput';[m
 [m
 const props = {[m
[31m-  id: 'id',[m
[31m-  labelText: 'label',[m
   onChange: jest.fn(),[m
   onSubmit: jest.fn(),[m
 };[m
[36m@@ -19,20 +19,20 @@[m [mconst props = {[m
 it('should create a text input field', () => {[m
   const node = shallow(<PickerDateInput {...props} />);[m
 [m
[31m-  expect(node.find('TextInput')).toExist();[m
[32m+[m[32m  expect(node.find(Input)).toExist();[m
 });[m
 [m
 it('should have field with value equal to formated date', () => {[m
   const node = shallow(<PickerDateInput {...props} value="test" />);[m
 [m
[31m-  expect(node.find('TextInput')).toHaveValue('test');[m
[32m+[m[32m  expect(node.find(Input)).toHaveValue('test');[m
 });[m
 [m
 it('should trigger onDateChange callback when input changes to valid date', () => {[m
   const spy = jest.fn();[m
   const node = shallow(<PickerDateInput {...props} onChange={spy} />);[m
 [m
[31m-  node.find('TextInput').simulate('change', {[m
[32m+[m[32m  node.find(Input).simulate('change', {[m
     target: {[m
       value: '2016-05-07',[m
     },[m
[36m@@ -46,14 +46,13 @@[m [mit('should trigger onSubmit when pressing the enter key', () => {[m
   const spy = jest.fn();[m
   const node = shallow(<PickerDateInput {...props} onSubmit={spy} />);[m
 [m
[31m-  node.find('TextInput').simulate('keyDown', {key: 'Enter'});[m
[32m+[m[32m  node.find(Input).simulate('keyDown', {key: 'Enter'});[m
 [m
   expect(spy).toHaveBeenCalled();[m
 });[m
 [m
[31m-it('should add invalid prop to true when input changes to invalid date', () => {[m
[31m-  const node = shallow(<PickerDateInput {...props} value="invalidValue" invalid={true} />);[m
[32m+[m[32mit('should add isInvalid prop to true when input changes to invalid date', () => {[m
[32m+[m[32m  const node = shallow(<PickerDateInput {...props} value="invalidValue" isInvalid={true} />);[m
 [m
[31m-  expect(node.find('.PickerDateInput')).toHaveClassName('isInvalid');[m
[31m-  expect(node.find('TextInput').prop('invalid')).toBe(true);[m
[32m+[m[32m  expect(node.find('.PickerDateInputWarning')).toExist();[m
 });[m
[1mdiff --git a/client/src/modules/components/DatePicker/PickerDateInput.tsx b/client/src/modules/components/DatePicker/PickerDateInput.tsx[m
[1mindex 6752e3e97b..e21cb3f07f 100644[m
[1m--- a/client/src/modules/components/DatePicker/PickerDateInput.tsx[m
[1m+++ b/client/src/modules/components/DatePicker/PickerDateInput.tsx[m
[36m@@ -5,36 +5,40 @@[m
  * except in compliance with the proprietary license.[m
  */[m
 [m
[31m-import {ComponentProps, ForwardedRef, forwardRef, memo} from 'react';[m
[32m+[m[32mimport {ForwardedRef, forwardRef, memo} from 'react';[m
 [m
[32m+[m[32mimport {Input, Message, Icon, InputProps} from 'components';[m
 import {t} from 'translation';[m
 [m
 import './PickerDateInput.scss';[m
[31m-import {TextInput} from '@carbon/react';[m
[31m-import {Calendar} from '@carbon/icons-react';[m
[31m-import classnames from 'classnames';[m
 [m
[31m-interface PickerDateInputProps extends Omit<ComponentProps<typeof TextInput>, 'onChange'> {[m
[32m+[m[32minterface PickerDateInputProps extends Omit<InputProps, 'onChange'> {[m
   reference?: ForwardedRef<HTMLInputElement>;[m
[32m+[m[32m  isInvalid?: boolean;[m
   onChange: (value: string) => void;[m
   onSubmit: () => void;[m
 }[m
 [m
 export const PickerDateInput = memo([m
[31m-  ({onChange, onSubmit, reference, invalid, ...props}: PickerDateInputProps) => {[m
[31m-    const isInvalid = !!props.value && invalid;[m
[32m+[m[32m  ({onChange, onSubmit, reference, isInvalid, ...props}: PickerDateInputProps) => {[m
[32m+[m[32m    const invalid = !!props.value && isInvalid;[m
     return ([m
[31m-      <div className={classnames('PickerDateInput', {isInvalid})}>[m
[31m-        <TextInput[m
[32m+[m[32m      <div className="PickerDateInput">[m
[32m+[m[32m        <Input[m
[32m+[m[32m          type="text"[m
           {...props}[m
[31m-          invalid={isInvalid}[m
[31m-          invalidText={t('common.filter.dateModal.invalidDate')}[m
[32m+[m[32m          isInvalid={invalid}[m
           placeholder="yyyy-mm-dd"[m
           onChange={({target: {value}}) => onChange(value)}[m
           onKeyDown={({key}) => key === 'Enter' && onSubmit()}[m
           ref={reference}[m
         />[m
[31m-        <Calendar className="icon" />[m
[32m+[m[32m        <Icon type="calender" />[m
[32m+[m[32m        {invalid && ([m
[32m+[m[32m          <Message error className="PickerDateInputWarning">[m
[32m+[m[32m            {t('common.filter.dateModal.invalidDate')}[m
[32m+[m[32m          </Message>[m
[32m+[m[32m        )}[m
       </div>[m
     );[m
   }[m
[1mdiff --git a/client/src/modules/components/DatePicker/__snapshots__/DateFields.test.tsx.snap b/client/src/modules/components/DatePicker/__snapshots__/DateFields.test.tsx.snap[m
[1mindex c687b53034..e670d2dc6f 100644[m
[1m--- a/client/src/modules/components/DatePicker/__snapshots__/DateFields.test.tsx.snap[m
[1m+++ b/client/src/modules/components/DatePicker/__snapshots__/DateFields.test.tsx.snap[m
[36m@@ -9,10 +9,8 @@[m [mexports[`should match snapshot 1`] = `[m
     className="inputContainer"[m
   >[m
     <ForwardRef[m
[31m-      hideLabel={true}[m
[31m-      id="dateFieldsBefore"[m
[31m-      invalid={false}[m
[31m-      labelText="Before"[m
[32m+[m[32m      className=""[m
[32m+[m[32m      isInvalid={false}[m
       onChange={[Function]}[m
       onClick={[Function]}[m
       onFocus={[Function]}[m
[36m@@ -20,10 +18,8 @@[m [mexports[`should match snapshot 1`] = `[m
       value="2017-08-29"[m
     />[m
     <ForwardRef[m
[31m-      hideLabel={true}[m
[31m-      id="dateFieldsAfter"[m
[31m-      invalid={false}[m
[31m-      labelText="After"[m
[32m+[m[32m      className=""[m
[32m+[m[32m      isInvalid={false}[m
       onChange={[Function]}[m
       onClick={[Function]}[m
       onFocus={[Function]}[m
[1mdiff --git a/client/src/modules/components/DefinitionSelection/DefinitionSelection.js b/client/src/modules/components/DefinitionSelection/DefinitionSelection.js[m
[1mindex bf9435a9f5..2840974df4 100644[m
[1m--- a/client/src/modules/components/DefinitionSelection/DefinitionSelection.js[m
[1m+++ b/client/src/modules/components/DefinitionSelection/DefinitionSelection.js[m
[36m@@ -8,14 +8,22 @@[m
 import React from 'react';[m
 import classnames from 'classnames';[m
 import {withRouter} from 'react-router-dom';[m
[31m-import {ComboBox} from '@carbon/react';[m
 [m
[31m-import {Message, BPMNDiagram, LoadingIndicator, Popover} from 'components';[m
[32m+[m[32mimport {[m
[32m+[m[32m  Message,[m
[32m+[m[32m  BPMNDiagram,[m
[32m+[m[32m  LoadingIndicator,[m
[32m+[m[32m  Popover,[m
[32m+[m[32m  Typeahead,[m
[32m+[m[32m  Labeled,[m
[32m+[m[32m  TenantInfo,[m
[32m+[m[32m} from 'components';[m
 import {withErrorHandling} from 'HOC';[m
[31m-import {getCollection, getRandomId} from 'services';[m
[32m+[m[32mimport {getCollection} from 'services';[m
 import {t} from 'translation';[m
 import {showError} from 'notifications';[m
 import debouncePromise from 'debouncePromise';[m
[32m+[m[32mimport {getOptimizeProfile} from 'config';[m
 [m
 import MultiDefinitionSelection from './MultiDefinitionSelection';[m
 import TenantPopover from './TenantPopover';[m
[36m@@ -46,10 +54,11 @@[m [mexport class DefinitionSelection extends React.Component {[m
       isLoadingTenants: false,[m
       selection: defaultSelection(props),[m
       selectedSpecificVersions: this.isSpecificVersion(props.versions) ? props.versions : [],[m
[32m+[m[32m      optimizeProfile: null,[m
     };[m
   }[m
 [m
[31m-  componentDidMount = () => {[m
[32m+[m[32m  componentDidMount = async () => {[m
     const {definitionKey, versions} = this.props;[m
 [m
     this.loadDefinitions().then((availableDefinitions) => this.setState({availableDefinitions}));[m
[36m@@ -64,6 +73,10 @@[m [mexport class DefinitionSelection extends React.Component {[m
         this.setState({availableTenants})[m
       );[m
     }[m
[32m+[m
[32m+[m[32m    this.setState({[m
[32m+[m[32m      optimizeProfile: await getOptimizeProfile(),[m
[32m+[m[32m    });[m
   };[m
 [m
   loadDefinitions = () => {[m
[36m@@ -207,6 +220,14 @@[m [mexport class DefinitionSelection extends React.Component {[m
     this.props.onChange(this.props.selectedDefinitions ? [newSelection] : newSelection);[m
 [m
   hasDefinition = () => this.state.selection.key;[m
[32m+[m
[32m+[m[32m  isOnlyTenant = () => {[m
[32m+[m[32m    const tenants = this.getAvailableTenants();[m
[32m+[m[32m    const {optimizeProfile} = this.state;[m
[32m+[m
[32m+[m[32m    return tenants?.length === 1 && optimizeProfile === 'ccsm';[m
[32m+[m[32m  };[m
[32m+[m
   hasTenants = () => {[m
     const {key, versions} = this.state.selection;[m
     if (key && versions) {[m
[36m@@ -327,31 +348,22 @@[m [mexport class DefinitionSelection extends React.Component {[m
                   onChange={onChange}[m
                 />[m
               ) : ([m
[31m-                <ComboBox[m
[31m-                  id={getRandomId()}[m
[31m-                  size="sm"[m
[31m-                  className="entry"[m
[31m-                  items={availableDefinitions}[m
[31m-                  initialSelectedItem={[m
[31m-                    def ? availableDefinitions.find(({key}) => key === def.key) : null[m
[31m-                  }[m
[31m-                  disabled={noDefinitions || disableDefinition}[m
[31m-                  placeholder={t('common.select')}[m
[31m-                  onChange={({selectedItem}) => {[m
[31m-                    if (selectedItem) {[m
[31m-                      this.changeDefinition(selectedItem.key);[m
[31m-                    }[m
[31m-                  }}[m
[31m-                  itemToString={(item) => (item ? item.name || item.key : '')}[m
[31m-                  titleText={processSelectLabel}[m
[31m-                  shouldFilterItem={(data) => {[m
[31m-                    const {inputValue, item} = data;[m
[31m-                    return ([m
[31m-                      typeof inputValue !== 'undefined' &&[m
[31m-                      (item.name || item.key).toLowerCase().includes(inputValue?.toLowerCase())[m
[31m-                    );[m
[31m-                  }}[m
[31m-                />[m
[32m+[m[32m                <Labeled className="entry" label={processSelectLabel}>[m
[32m+[m[32m                  <Typeahead[m
[32m+[m[32m                    className="name"[m
[32m+[m[32m                    initialValue={def ? def.key : null}[m
[32m+[m[32m                    disabled={noDefinitions || disableDefinition}[m
[32m+[m[32m                    placeholder={t('common.select')}[m
[32m+[m[32m                    onChange={this.changeDefinition}[m
[32m+[m[32m                    noValuesMessage={t('common.definitionSelection.noDefinition')}[m
[32m+[m[32m                  >[m
[32m+[m[32m                    {availableDefinitions.map(({name, key}) => ([m
[32m+[m[32m                      <Typeahead.Option key={key} value={key}>[m
[32m+[m[32m                        {name || key}[m
[32m+[m[32m                      </Typeahead.Option>[m
[32m+[m[32m                    ))}[m
[32m+[m[32m                  </Typeahead>[m
[32m+[m[32m                </Labeled>[m
               )}[m
               <div className="version entry">[m
                 <VersionPopover[m
[36m@@ -363,17 +375,26 @@[m [mexport class DefinitionSelection extends React.Component {[m
                   onChange={this.changeVersions}[m
                   loading={isLoadingVersions}[m
                   label={t('common.definitionSelection.version.label')}[m
[32m+[m[32m                  useCarbonTrigger={selectedDefinitions}[m
                 />[m
               </div>[m
[31m-              <div className="tenant entry">[m
[31m-                <TenantPopover[m
[31m-                  tenants={this.getAvailableTenants()}[m
[31m-                  selected={this.getSelectedTenants()}[m
[31m-                  onChange={this.changeTenants}[m
[31m-                  loading={isLoadingTenants}[m
[31m-                  label={t('common.tenant.label')}[m
[32m+[m[32m              {this.isOnlyTenant() ? ([m
[32m+[m[32m                <TenantInfo[m
[32m+[m[32m                  tenant={this.getAvailableTenants()[0]}[m
[32m+[m[32m                  useCarbonVariant={selectedDefinitions}[m
                 />[m
[31m-              </div>[m
[32m+[m[32m              ) : ([m
[32m+[m[32m                <div className="tenant entry">[m
[32m+[m[32m                  <TenantPopover[m
[32m+[m[32m                    tenants={this.getAvailableTenants()}[m
[32m+[m[32m                    selected={this.getSelectedTenants()}[m
[32m+[m[32m                    onChange={this.changeTenants}[m
[32m+[m[32m                    loading={isLoadingTenants}[m
[32m+[m[32m                    label={t('common.tenant.label')}[m
[32m+[m[32m                    useCarbonTrigger={selectedDefinitions}[m
[32m+[m[32m                  />[m
[32m+[m[32m                </div>[m
[32m+[m[32m              )}[m
             </div>[m
             <div className="info">[m
               {displayVersionWarning &&[m
[1mdiff --git a/client/src/modules/components/DefinitionSelection/DefinitionSelection.test.js b/client/src/modules/components/DefinitionSelection/DefinitionSelection.test.js[m
[1mindex a5cf576cb5..f9141cad87 100644[m
[1m--- a/client/src/modules/components/DefinitionSelection/DefinitionSelection.test.js[m
[1m+++ b/client/src/modules/components/DefinitionSelection/DefinitionSelection.test.js[m
[36m@@ -7,10 +7,10 @@[m
 [m
 import React from 'react';[m
 import {shallow} from 'enzyme';[m
[31m-import {ComboBox} from '@carbon/react';[m
 [m
[31m-import {LoadingIndicator, Typeahead} from 'components';[m
[32m+[m[32mimport {LoadingIndicator, TenantInfo, Typeahead} from 'components';[m
 import {getCollection} from 'services';[m
[32m+[m[32mimport {getOptimizeProfile} from 'config';[m
 [m
 import {DefinitionSelection} from './DefinitionSelection';[m
 import VersionPopover from './VersionPopover';[m
[36m@@ -18,6 +18,8 @@[m [mimport VersionPopover from './VersionPopover';[m
 import {loadDefinitions, loadVersions, loadTenants} from './service';[m
 import MultiDefinitionSelection from './MultiDefinitionSelection';[m
 [m
[32m+[m[32mjest.mock('config', () => ({getOptimizeProfile: jest.fn().mockReturnValue('platform')}));[m
[32m+[m
 jest.mock('./service', () => ({[m
   loadDefinitions: jest.fn().mockReturnValue([[m
     {[m
[36m@@ -130,7 +132,7 @@[m [mit('should load versions and tenants when key is selected', async () => {[m
   const node = await shallow(<DefinitionSelection {...props} />);[m
   await flushPromises();[m
 [m
[31m-  await node.find(ComboBox).simulate('change', {selectedItem: {key: 'foo'}});[m
[32m+[m[32m  await node.find(Typeahead).simulate('change', 'foo');[m
   await flushPromises();[m
 [m
   expect(loadVersions).toHaveBeenCalledWith(props.type, undefined, 'foo');[m
[36m@@ -145,7 +147,7 @@[m [mit('should update to all version when key is selected', async () => {[m
   const node = await shallow(<DefinitionSelection {...props} />);[m
   await flushPromises();[m
 [m
[31m-  await node.find(ComboBox).simulate('change', {selectedItem: {key: 'foo'}});[m
[32m+[m[32m  await node.find(Typeahead).simulate('change', 'foo');[m
   await flushPromises();[m
 [m
   expect(spy.mock.calls[0][0].versions).toEqual(['all']);[m
[36m@@ -180,8 +182,8 @@[m [mit('should disable typeahead if no reports are available', async () => {[m
   const node = await shallow(<DefinitionSelection {...props} />);[m
   await flushPromises();[m
 [m
[31m-  expect(node.find(ComboBox)).toExist();[m
[31m-  expect(node.find(ComboBox)).toBeDisabled();[m
[32m+[m[32m  expect(node.find('Typeahead')).toExist();[m
[32m+[m[32m  expect(node.find('Typeahead')).toBeDisabled();[m
 });[m
 [m
 it('should set key and version, if process definition is already available', async () => {[m
[36m@@ -192,11 +194,7 @@[m [mit('should set key and version, if process definition is already available', asy[m
   const node = await shallow(<DefinitionSelection {...definitionConfig} {...props} />);[m
   await flushPromises();[m
 [m
[31m-  expect(node.find(ComboBox)).toHaveProp('initialSelectedItem', {[m
[31m-    id: 'bar',[m
[31m-    key: 'bar',[m
[31m-    name: 'Bar',[m
[31m-  });[m
[32m+[m[32m  expect(node.find('.name')).toHaveProp('initialValue', 'bar');[m
   expect(node.find(VersionPopover).prop('selected')).toEqual(['1']);[m
 });[m
 [m
[36m@@ -210,7 +208,7 @@[m [mit('should not call on change if key didnt change', async () => {[m
 [m
   spy.mockClear();[m
 [m
[31m-  await node.find(ComboBox).simulate('change', {selectedItem: {key: 'bar'}});[m
[32m+[m[32m  await node.find(Typeahead).simulate('change', 'bar');[m
   await flushPromises();[m
 [m
   expect(spy).not.toHaveBeenCalled();[m
[36m@@ -270,7 +268,7 @@[m [mit('should show an info message if specified by props', async () => {[m
 });[m
 [m
 it('should pass an id for every entry to the typeahead', async () => {[m
[31m-  const defs = [[m
[32m+[m[32m  loadDefinitions.mockReturnValueOnce([[m
     {[m
       key: 'foo',[m
       name: 'Foo Definition',[m
[36m@@ -279,16 +277,12 @@[m [mit('should pass an id for every entry to the typeahead', async () => {[m
       key: 'bar',[m
       name: 'Bar Definition',[m
     },[m
[31m-  ];[m
[31m-  loadDefinitions.mockReturnValueOnce(defs);[m
[32m+[m[32m  ]);[m
 [m
   const node = await shallow(<DefinitionSelection {...props} />);[m
   await flushPromises();[m
 [m
[31m-  expect(node.find(ComboBox).prop('items')).toEqual([[m
[31m-    {id: 'foo', ...defs[0]},[m
[31m-    {id: 'bar', ...defs[1]},[m
[31m-  ]);[m
[32m+[m[32m  expect(node.find('Typeahead')).toMatchSnapshot();[m
 });[m
 [m
 it('should construct a popover title', async () => {[m
[36m@@ -395,7 +389,7 @@[m [mdescribe('tenants', () => {[m
     );[m
     await flushPromises();[m
 [m
[31m-    await node.find(ComboBox).simulate('change', {selectedItem: {key: 'foo'}});[m
[32m+[m[32m    await node.find(Typeahead).simulate('change', 'foo');[m
     await flushPromises();[m
 [m
     expect(spy).toHaveBeenCalledWith({[m
[36m@@ -447,3 +441,29 @@[m [mit('should pass versionTooltip to the version popover', async () => {[m
 [m
   expect(node.find(VersionPopover).prop('tooltip')).toBe('test tooltip');[m
 });[m
[32m+[m
[32m+[m[32mit('should display the readonly tenantInfo component in self managed mode', async () => {[m
[32m+[m[32m  getOptimizeProfile.mockReturnValueOnce('ccsm');[m
[32m+[m[32m  loadTenants.mockReturnValueOnce([[m
[32m+[m[32m    {[m
[32m+[m[32m      tenants: [[m
[32m+[m[32m        {[m
[32m+[m[32m          id: '<default>',[m
[32m+[m[32m          name: 'Default',[m
[32m+[m[32m        },[m
[32m+[m[32m      ],[m
[32m+[m[32m    },[m
[32m+[m[32m  ]);[m
[32m+[m
[32m+[m[32m  const definitionConfig = {[m
[32m+[m[32m    definitionKey: 'foo',[m
[32m+[m[32m    versions: ['2'],[m
[32m+[m[32m    tenants: ['<default>'],[m
[32m+[m[32m  };[m
[32m+[m
[32m+[m[32m  const node = await shallow(<DefinitionSelection {...props} {...definitionConfig} />);[m
[32m+[m
[32m+[m[32m  await flushPromises();[m
[32m+[m
[32m+[m[32m  expect(node.find(TenantInfo).prop('tenant')).toEqual({id: '<default>', name: 'Default'});[m
[32m+[m[32m});[m
[1mdiff --git a/client/src/modules/components/DefinitionSelection/TenantPopover.js b/client/src/modules/components/DefinitionSelection/TenantPopover.js[m
[1mnew file mode 100644[m
[1mindex 0000000000..9f0ce8751c[m
[1m--- /dev/null[m
[1m+++ b/client/src/modules/components/DefinitionSelection/TenantPopover.js[m
[36m@@ -0,0 +1,71 @@[m
[32m+[m[32m/*[m
[32m+[m[32m * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH[m
[32m+[m[32m * under one or more contributor license agreements. Licensed under a proprietary license.[m
[32m+[m[32m * See the License.txt file for more information. You may not use this file[m
[32m+[m[32m * except in compliance with the proprietary license.[m
[32m+[m[32m */[m
[32m+[m
[32m+[m[32mimport React from 'react';[m
[32m+[m
[32m+[m[32mimport {t} from 'translation';[m
[32m+[m[32mimport {formatters} from 'services';[m
[32m+[m[32mimport {Popover, ButtonGroup, Button, Switch, Form, LoadingIndicator} from 'components';[m
[32m+[m
[32m+[m[32mimport './TenantPopover.scss';[m
[32m+[m
[32m+[m[32mconst {formatTenantName} = formatters;[m
[32m+[m
[32m+[m[32mexport default function TenantPopover({loading, tenants, selected, disabled, onChange, ...props}) {[m
[32m+[m[32m  const allSelected = tenants && tenants.length === selected.length;[m
[32m+[m[32m  const noneSelected = selected.length === 0;[m
[32m+[m
[32m+[m[32m  let label = t('common.definitionSelection.multiple');[m
[32m+[m[32m  if (allSelected) {[m
[32m+[m[32m    label = t('common.all');[m
[32m+[m[32m  }[m
[32m+[m[32m  if (noneSelected) {[m
[32m+[m[32m    label = t('common.select');[m
[32m+[m[32m  }[m
[32m+[m[32m  if (selected?.length === 1 && tenants?.length !== 0) {[m
[32m+[m[32m    label = tenants?.find(({id}) => id === selected[0])?.name;[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  return ([m
[32m+[m[32m    <Popover[m
[32m+[m[32m      className="TenantPopover"[m
[32m+[m[32m      disabled={disabled || tenants?.length < 2 || !tenants}[m
[32m+[m[32m      title={label || '-'}[m
[32m+[m[32m      {...props}[m
[32m+[m[32m    >[m
[32m+[m[32m      {loading && <LoadingIndicator />}[m
[32m+[m[32m      <Form compact>[m
[32m+[m[32m        <fieldset>[m
[32m+[m[32m          <legend>{t('common.definitionSelection.tenant.includeData')}</legend>[m
[32m+[m[32m          <ButtonGroup disabled={loading}>[m
[32m+[m[32m            <Button onClick={() => onChange(tenants.map(({id}) => id))}>[m
[32m+[m[32m              {t('common.enableAll')}[m
[32m+[m[32m            </Button>[m
[32m+[m[32m            <Button onClick={() => onChange([])}>{t('common.disableAll')}</Button>[m
[32m+[m[32m          </ButtonGroup>[m
[32m+[m[32m          {tenants?.map((tenant) => {[m
[32m+[m[32m            return ([m
[32m+[m[32m              <Switch[m
[32m+[m[32m                key={tenant.id}[m
[32m+[m[32m                checked={selected.includes(tenant.id)}[m
[32m+[m[32m                disabled={loading}[m
[32m+[m[32m                onChange={({target}) => {[m
[32m+[m[32m                  if (target.checked) {[m
[32m+[m[32m                    onChange(selected.concat([tenant.id]));[m
[32m+[m[32m                  } else {[m
[32m+[m[32m                    onChange(selected.filter((id) => id !== tenant.id));[m
[32m+[m[32m                  }[m
[32m+[m[32m                }}[m
[32m+[m[32m                label={formatTenantName(tenant)}[m
[32m+[m[32m              />[m
[32m+[m[32m            );[m
[32m+[m[32m          })}[m
[32m+[m[32m        </fieldset>[m
[32m+[m[32m      </Form>[m
[32m+[m[32m    </Popover>[m
[32m+[m[32m  );[m
[32m+[m[32m}[m
[1mdiff --git a/client/src/modules/components/DefinitionSelection/TenantPopover.scss b/client/src/modules/components/DefinitionSelection/TenantPopover.scss[m
[1mindex 87cb7f9eb9..865500d503 100644[m
[1m--- a/client/src/modules/components/DefinitionSelection/TenantPopover.scss[m
[1m+++ b/client/src/modules/components/DefinitionSelection/TenantPopover.scss[m
[36m@@ -1,5 +1,12 @@[m
 .TenantPopover {[m
[31m-  .cds--btn-set button {[m
[31m-    width: auto;[m
[32m+[m[32m  .LoadingIndicator {[m
[32m+[m[32m    position: absolute;[m
[32m+[m[32m    top: 0;[m
[32m+[m[32m    left: 0;[m
[32m+[m[32m    background-color: rgba(255, 255, 255, 0.8);[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  .ButtonGroup {[m
[32m+[m[32m    padding-bottom: 10px;[m
   }[m
 }[m
[1mdiff --git a/client/src/modules/components/DefinitionSelection/TenantPopover.test.js b/client/src/modules/components/DefinitionSelection/TenantPopover.test.js[m
[1mnew file mode 100644[m
[1mindex 0000000000..b319732277[m
[1m--- /dev/null[m
[1m+++ b/client/src/modules/components/DefinitionSelection/TenantPopover.test.js[m
[36m@@ -0,0 +1,80 @@[m
[32m+[m[32m/*[m
[32m+[m[32m * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH[m
[32m+[m[32m * under one or more contributor license agreements. Licensed under a proprietary license.[m
[32m+[m[32m * See the License.txt file for more information. You may not use this file[m
[32m+[m[32m * except in compliance with the proprietary license.[m
[32m+[m[32m */[m
[32m+[m
[32m+[m[32mimport React from 'react';[m
[32m+[m[32mimport {shallow} from 'enzyme';[m
[32m+[m
[32m+[m[32mimport {Button} from 'components';[m
[32m+[m
[32m+[m[32mimport TenantPopover from './TenantPopover';[m
[32m+[m
[32m+[m[32mconst tenants = [[m
[32m+[m[32m  {id: 'a', name: 'Tenant A'},[m
[32m+[m[32m  {id: 'b', name: 'Tenant B'},[m
[32m+[m[32m  {id: 'c', name: 'Tenant C'},[m
[32m+[m[32m  {id: null, name: 'Not defined'},[m
[32m+[m[32m];[m
[32m+[m
[32m+[m[32mit('should call the provided onChange function', () => {[m
[32m+[m[32m  const spy = jest.fn();[m
[32m+[m[32m  const node = shallow(<TenantPopover onChange={spy} tenants={tenants} selected={[null]} />);[m
[32m+[m
[32m+[m[32m  node[m
[32m+[m[32m    .find('Switch')[m
[32m+[m[32m    .first()[m
[32m+[m[32m    .simulate('change', {target: {checked: true}});[m
[32m+[m
[32m+[m[32m  expect(spy).toHaveBeenCalledWith([null, 'a']);[m
[32m+[m
[32m+[m[32m  node.find(Button).first().simulate('click');[m
[32m+[m
[32m+[m[32m  expect(spy).toHaveBeenCalledWith(['a', 'b', 'c', null]);[m
[32m+[m
[32m+[m[32m  node.find(Button).last().simulate('click');[m
[32m+[m
[32m+[m[32m  expect(spy).toHaveBeenCalledWith([]);[m
[32m+[m[32m});[m
[32m+[m
[32m+[m[32mit('should construct the label based on the selected tenants', () => {[m
[32m+[m[32m  const node = shallow(<TenantPopover tenants={tenants} selected={[]} />);[m
[32m+[m
[32m+[m[32m  expect(node.find('.TenantPopover').prop('title')).toBe('Select...');[m
[32m+[m
[32m+[m[32m  node.setProps({selected: ['a']});[m
[32m+[m
[32m+[m[32m  expect(node.find('.TenantPopover').prop('title')).toBe('Tenant A');[m
[32m+[m
[32m+[m[32m  node.setProps({selected: ['a', 'b']});[m
[32m+[m
[32m+[m[32m  expect(node.find('.TenantPopover').prop('title')).toBe('Multiple');[m
[32m+[m
[32m+[m[32m  node.setProps({selected: ['a', 'b', 'c', null]});[m
[32m+[m
[32m+[m[32m  expect(node.find('.TenantPopover').prop('title')).toBe('All');[m
[32m+[m
[32m+[m[32m  node.setProps({tenants: [{id: null, name: 'Not defined'}], selected: [null]});[m
[32m+[m
[32m+[m[32m  expect(node.find('.TenantPopover').prop('title')).toBe('Not defined');[m
[32m+[m[32m  expect(node.find('.TenantPopover')).toBeDisabled();[m
[32m+[m[32m});[m
[32m+[m
[32m+[m[32mit('should not crash, but be disabled if no tenants are provided', () => {[m
[32m+[m[32m  const node = shallow(<TenantPopover selected={[]} />);[m
[32m+[m[32m  expect(node.find('.TenantPopover').prop('disabled')).toBe(true);[m
[32m+[m[32m});[m
[32m+[m
[32m+[m[32mit('should allow manual disabling', () => {[m
[32m+[m[32m  const node = shallow(<TenantPopover tenants={tenants} selected={[null]} disabled />);[m
[32m+[m[32m  expect(node.find('.TenantPopover').prop('disabled')).toBe(true);[m
[32m+[m[32m});[m
[32m+[m
[32m+[m[32mit('should diplay a loading indicator and disable the switches while loading', () => {[m
[32m+[m[32m  const node = shallow(<TenantPopover tenants={tenants} selected={[null]} loading />);[m
[32m+[m
[32m+[m[32m  expect(node.find('LoadingIndicator')).toExist();[m
[32m+[m[32m  expect(node.find('Switch').at(0).prop('disabled')).toBe(true);[m
[32m+[m[32m});[m
[1mdiff --git a/client/src/modules/components/DefinitionSelection/TenantPopover.test.tsx b/client/src/modules/components/DefinitionSelection/TenantPopover.test.tsx[m
[1mdeleted file mode 100644[m
[1mindex df348e300a..0000000000[m
[1m--- a/client/src/modules/components/DefinitionSelection/TenantPopover.test.tsx[m
[1m+++ /dev/null[m
[36m@@ -1,82 +0,0 @@[m
[31m-/*[m
[31m- * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH[m
[31m- * under one or more contributor license agreements. Licensed under a proprietary license.[m
[31m- * See the License.txt file for more information. You may not use this file[m
[31m- * except in compliance with the proprietary license.[m
[31m- */[m
[31m-[m
[31m-import {shallow} from 'enzyme';[m
[31m-import {Button} from '@carbon/react';[m
[31m-[m
[31m-import TenantPopover from './TenantPopover';[m
[31m-[m
[31m-const tenants = [[m
[31m-  {id: 'a', name: 'Tenant A'},[m
[31m-  {id: 'b', name: 'Tenant B'},[m
[31m-  {id: 'c', name: 'Tenant C'},[m
[31m-  {id: null, name: 'Not defined'},[m
[31m-];[m
[31m-[m
[31m-const props = {[m
[31m-  onChange: jest.fn(),[m
[31m-};[m
[31m-[m
[31m-beforeEach(() => {[m
[31m-  jest.clearAllMocks();[m
[31m-});[m
[31m-[m
[31m-it('should call the provided onChange function', () => {[m
[31m-  const node = shallow(<TenantPopover {...props} tenants={tenants} selected={[null]} />);[m
[31m-[m
[31m-  node.find('Toggle').first().simulate('toggle', true);[m
[31m-[m
[31m-  expect(props.onChange).toHaveBeenCalledWith([null, 'a']);[m
[31m-[m
[31m-  node.find(Button).first().simulate('click');[m
[31m-[m
[31m-  expect(props.onChange).toHaveBeenCalledWith(['a', 'b', 'c', null]);[m
[31m-[m
[31m-  node.find(Button).last().simulate('click');[m
[31m-[m
[31m-  expect(props.onChange).toHaveBeenCalledWith([]);[m
[31m-});[m
[31m-[m
[31m-it('should construct the label based on the selected tenants', () => {[m
[31m-  const node = shallow(<TenantPopover {...props} tenants={tenants} selected={[]} />);[m
[31m-[m
[31m-  expect(node.prop('trigger').props.children).toBe('Select...');[m
[31m-[m
[31m-  node.setProps({selected: ['a']});[m
[31m-[m
[31m-  expect(node.prop('trigger').props.children).toBe('Tenant A');[m
[31m-[m
[31m-  node.setProps({selected: ['a', 'b']});[m
[31m-[m
[31m-  expect(node.prop('trigger').props.children).toBe('Multiple');[m
[31m-[m
[31m-  node.setProps({selected: ['a', 'b', 'c', null]});[m
[31m-[m
[31m-  expect(node.prop('trigger').props.children).toBe('All');[m
[31m-[m
[31m-  node.setProps({tenants: [{id: null, name: 'Not defined'}], selected: [null]});[m
[31m-[m
[31m-  expect(node.prop('trigger').props.children).toBe('Not defined');[m
[31m-  expect(node.prop('trigger').props.disabled).toBe(true);[m
[31m-});[m
[31m-[m
[31m-it('should not crash, but be disabled if no tenants are provided', () => {[m
[31m-  const node = shallow(<TenantPopover {...props} selected={[]} tenants={[]} />);[m
[31m-  expect(node.prop('trigger').props.disabled).toBe(true);[m
[31m-});[m
[31m-[m
[31m-it('should allow manual disabling', () => {[m
[31m-  const node = shallow(<TenantPopover {...props} tenants={tenants} selected={[null]} disabled />);[m
[31m-  expect(node.prop('trigger').props.disabled).toBe(true);[m
[31m-});[m
[31m-[m
[31m-it('should diplay a loading indicator and disable the switches while loading', () => {[m
[31m-  const node = shallow(<TenantPopover {...props} tenants={tenants} selected={[null]} loading />);[m
[31m-[m
[31m-  expect(node.find('Loading')).toExist();[m
[31m-  expect(node.find('Toggle').at(0).prop('disabled')).toBe(true);[m
[31m-});[m
[1mdiff --git a/client/src/modules/components/DefinitionSelection/TenantPopover.tsx b/client/src/modules/components/DefinitionSelection/TenantPopover.tsx[m
[1mdeleted file mode 100644[m
[1mindex 23686722af..0000000000[m
[1m--- a/client/src/modules/components/DefinitionSelection/TenantPopover.tsx[m
[1m+++ /dev/null[m
[36m@@ -1,108 +0,0 @@[m
[31m-/*[m
[31m- * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH[m
[31m- * under one or more contributor license agreements. Licensed under a proprietary license.[m
[31m- * See the License.txt file for more information. You may not use this file[m
[31m- * except in compliance with the proprietary license.[m
[31m- */[m
[31m-[m
[31m-import {ComponentProps, ReactNode} from 'react';[m
[31m-import {Button, ButtonSet, Form, FormGroup, Loading, Stack, Toggle} from '@carbon/react';[m
[31m-[m
[31m-import {t} from 'translation';[m
[31m-import {formatters} from 'services';[m
[31m-import {Popover} from 'components';[m
[31m-import {Tenant} from 'types';[m
[31m-[m
[31m-import './TenantPopover.scss';[m
[31m-[m
[31m-const {formatTenantName} = formatters;[m
[31m-[m
[31m-interface TenantPopoverProps extends Pick<ComponentProps<typeof Popover>, 'floating' | 'align'> {[m
[31m-  loading?: boolean;[m
[31m-  tenants: Tenant[];[m
[31m-  selected: Tenant['id'][];[m
[31m-  disabled?: boolean;[m
[31m-  onChange: (tenants: Tenant['id'][]) => void;[m
[31m-  label?: ReactNode;[m
[31m-}[m
[31m-[m
[31m-export default function TenantPopover({[m
[31m-  loading,[m
[31m-  tenants,[m
[31m-  selected,[m
[31m-  disabled,[m
[31m-  onChange,[m
[31m-  floating,[m
[31m-  align,[m
[31m-  label,[m
[31m-}: TenantPopoverProps) {[m
[31m-  const allSelected = tenants && tenants.length === selected.length;[m
[31m-  const noneSelected = selected.length === 0;[m
[31m-[m
[31m-  let value: string | undefined = t('common.definitionSelection.multiple').toString();[m
[31m-  if (allSelected) {[m
[31m-    value = t('common.all').toString();[m
[31m-  }[m
[31m-  if (noneSelected) {[m
[31m-    value = t('common.select').toString();[m
[31m-  }[m
[31m-  if (selected?.length === 1 && tenants?.length !== 0) {[m
[31m-    value = tenants?.find(({id}) => id === selected[0])?.name;[m
[31m-  }[m
[31m-[m
[31m-  return ([m
[31m-    <Popover[m
[31m-      className="TenantPopover"[m
[31m-      trigger={[m
[31m-        <Popover.ListBox label={label} disabled={disabled || tenants?.length < 2 || !tenants}>[m
[31m-          {value || '-'}[m
[31m-        </Popover.ListBox>[m
[31m-      }[m
[31m-      floating={floating}[m
[31m-      align={align}[m
[31m-    >[m
[31m-      {loading && <Loading withOverlay />}[m
[31m-      <Form>[m
[31m-        <FormGroup legendText={t('common.definitionSelection.tenant.includeData')}>[m
[31m-          <Stack gap={6}>[m
[31m-            <ButtonSet aria-disabled={loading}>[m
[31m-              <Button[m
[31m-                disabled={loading}[m
[31m-                size="sm"[m
[31m-                kind="primary"[m
[31m-                onClick={() => onChange(tenants.map(({id}) => id))}[m
[31m-              >[m
[31m-                {t('common.enableAll')}[m
[31m-              </Button>[m
[31m-              <Button disabled={loading} size="sm" kind="secondary" onClick={() => onChange([])}>[m
[31m-                {t('common.disableAll')}[m
[31m-              </Button>[m
[31m-            </ButtonSet>[m
[31m-            <Stack gap={3}>[m
[31m-              {tenants?.map((tenant) => {[m
[31m-                return ([m
[31m-                  <Toggle[m
[31m-                    key={tenant.id}[m
[31m-                    id={`toggle-${tenant.id}`}[m
[31m-                    toggled={selected.includes(tenant.id)}[m
[31m-                    disabled={loading}[m
[31m-                    size="sm"[m
[31m-                    labelA={formatTenantName(tenant).toString()}[m
[31m-                    labelB={formatTenantName(tenant).toString()}[m
[31m-                    onToggle={(checked) => {[m
[31m-                      if (checked) {[m
[31m-                        onChange(selected.concat([tenant.id]));[m
[31m-                      } else {[m
[31m-                        onChange(selected.filter((id) => id !== tenant.id));[m
[31m-                      }[m
[31m-                    }}[m
[31m-                  />[m
[31m-                );[m
[31m-              })}[m
[31m-            </Stack>[m
[31m-          </Stack>[m
[31m-        </FormGroup>[m
[31m-      </Form>[m
[31m-    </Popover>[m
[31m-  );[m
[31m-}[m
[1mdiff --git a/client/src/modules/components/DefinitionSelection/VersionPopover.tsx b/client/src/modules/components/DefinitionSelection/VersionPopover.js[m
[1msimilarity index 77%[m
[1mrename from client/src/modules/components/DefinitionSelection/VersionPopover.tsx[m
[1mrename to client/src/modules/components/DefinitionSelection/VersionPopover.js[m
[1mindex 4cf2f5466a..073dc3ccd5 100644[m
[1m--- a/client/src/modules/components/DefinitionSelection/VersionPopover.tsx[m
[1m+++ b/client/src/modules/components/DefinitionSelection/VersionPopover.js[m
[36m@@ -5,27 +5,14 @@[m
  * except in compliance with the proprietary license.[m
  */[m
 [m
[31m-import {ReactNode} from 'react';[m
[32m+[m[32mimport React from 'react';[m
 import classnames from 'classnames';[m
 [m
 import {t} from 'translation';[m
 import {Popover, LabeledInput, Form, Badge, LoadingIndicator} from 'components';[m
 [m
[31m-import {Version} from './service';[m
[31m-[m
 import './VersionPopover.scss';[m
 [m
[31m-interface VersionPopoverProps {[m
[31m-  versions?: Version[];[m
[31m-  selected: Version['version'][];[m
[31m-  selectedSpecificVersions?: Version['version'][];[m
[31m-  onChange: (versions: Version['version'][]) => void;[m
[31m-  disabled?: boolean;[m
[31m-  tooltip?: ReactNode;[m
[31m-  loading?: boolean;[m
[31m-  label?: ReactNode;[m
[31m-}[m
[31m-[m
 export default function VersionPopover({[m
   versions,[m
   selected,[m
[36m@@ -34,17 +21,16 @@[m [mexport default function VersionPopover({[m
   disabled,[m
   tooltip,[m
   loading,[m
[32m+[m[32m  useCarbonTrigger,[m
   label,[m
[31m-}: VersionPopoverProps) {[m
[32m+[m[32m}) {[m
   const specific = usesSpecificVersions(selected);[m
 [m
   let title = t('common.none');[m
   if (selected.length === 1 && selected[0] === 'all') {[m
     title = t('common.all');[m
   } else if (selected.length === 1 && selected[0] === 'latest') {[m
[31m-    title = versions[m
[31m-      ? t('common.definitionSelection.latest') + ' : ' + versions[0]?.version[m
[31m-      : t('common.definitionSelection.latest');[m
[32m+[m[32m    title = t('common.definitionSelection.latest') + ' : ' + versions[0]?.version;[m
   } else if (selected.length) {[m
     title = selected.join(', ');[m
   }[m
[36m@@ -53,12 +39,11 @@[m [mexport default function VersionPopover({[m
     <Popover[m
       className="VersionPopover"[m
       tooltip={tooltip}[m
[32m+[m[32m      title={title}[m
[32m+[m[32m      disabled={disabled || !versions}[m
       align="bottom-right"[m
[31m-      trigger={[m
[31m-        <Popover.ListBox label={label} disabled={disabled || !versions}>[m
[31m-          {title}[m
[31m-        </Popover.ListBox>[m
[31m-      }[m
[32m+[m[32m      useCarbonTrigger={useCarbonTrigger}[m
[32m+[m[32m      label={label}[m
     >[m
       {loading && <LoadingIndicator />}[m
       <Form compact>[m
[36m@@ -109,7 +94,7 @@[m [mexport default function VersionPopover({[m
                   disabled={!specific || loading}[m
                   onChange={({target}) => {[m
                     if (target.checked) {[m
[31m-                      onChange(selected.concat([version]).sort((a, b) => Number(b) - Number(a)));[m
[32m+[m[32m                      onChange(selected.concat([version]).sort((a, b) => b - a));[m
                     } else {[m
                       onChange(selected.filter((selected) => selected !== version));[m
                     }[m
[36m@@ -124,9 +109,6 @@[m [mexport default function VersionPopover({[m
   );[m
 }[m
 [m
[31m-function usesSpecificVersions(selectedVersions: Version['version'][]) {[m
[31m-  return !([m
[31m-    selectedVersions.length === 1 &&[m
[31m-    (selectedVersions[0] === 'all' || selectedVersions[0] === 'latest')[m
[31m-  );[m
[32m+[m[32mfunction usesSpecificVersions(selection) {[m
[32m+[m[32m  return !(selection.length === 1 && (selection[0] === 'all' || selection[0] === 'latest'));[m
 }[m
[1mdiff --git a/client/src/modules/components/DefinitionSelection/VersionPopover.test.tsx b/client/src/modules/components/DefinitionSelection/VersionPopover.test.js[m
[1msimilarity index 63%[m
[1mrename from client/src/modules/components/DefinitionSelection/VersionPopover.test.tsx[m
[1mrename to client/src/modules/components/DefinitionSelection/VersionPopover.test.js[m
[1mindex 7d6d0f86ca..24fa337c7e 100644[m
[1m--- a/client/src/modules/components/DefinitionSelection/VersionPopover.test.tsx[m
[1m+++ b/client/src/modules/components/DefinitionSelection/VersionPopover.test.js[m
[36m@@ -5,40 +5,33 @@[m
  * except in compliance with the proprietary license.[m
  */[m
 [m
[32m+[m[32mimport React from 'react';[m
 import {shallow} from 'enzyme';[m
 [m
 import {LabeledInput} from 'components';[m
 [m
[31m-import {Version} from './service';[m
 import VersionPopover from './VersionPopover';[m
 [m
[31m-const versions: Version[] = [[m
[32m+[m[32mconst versions = [[m
   {version: '3', versionTag: 'v3'},[m
   {version: '2', versionTag: null},[m
   {version: '1', versionTag: 'v1'},[m
 ];[m
 [m
[31m-const props = {[m
[31m-  onChange: jest.fn(),[m
[31m-};[m
[31m-[m
[31m-beforeEach(() => {[m
[31m-  jest.clearAllMocks();[m
[31m-});[m
[31m-[m
 it('should call the provided onChange function', () => {[m
[31m-  const node = shallow(<VersionPopover {...props} versions={versions} selected={['3']} />);[m
[32m+[m[32m  const spy = jest.fn();[m
[32m+[m[32m  const node = shallow(<VersionPopover onChange={spy} versions={versions} selected={['3']} />);[m
 [m
   node[m
     .find(LabeledInput)[m
     .first()[m
     .simulate('change', {target: {checked: true}});[m
 [m
[31m-  expect(props.onChange).toHaveBeenCalledWith(['all']);[m
[32m+[m[32m  expect(spy).toHaveBeenCalledWith(['all']);[m
 });[m
 [m
 it('should disable the specific selection when all or latest is selected', () => {[m
[31m-  const node = shallow(<VersionPopover {...props} versions={versions} selected={['all']} />);[m
[32m+[m[32m  const node = shallow(<VersionPopover versions={versions} selected={['all']} />);[m
   expect(node.find('.specificVersions')).toHaveClassName('disabled');[m
 [m
   node.setProps({selected: ['latest']});[m
[36m@@ -49,47 +42,46 @@[m [mit('should disable the specific selection when all or latest is selected', () =>[m
 });[m
 [m
 it('should construct the label based on the selected versions', () => {[m
[31m-  const node = shallow(<VersionPopover {...props} versions={versions} selected={[]} />);[m
[32m+[m[32m  const node = shallow(<VersionPopover versions={versions} selected={[]} />);[m
 [m
[31m-  expect(node.prop('trigger').props.children).toBe('None');[m
[32m+[m[32m  expect(node.find('.VersionPopover').prop('title')).toBe('None');[m
 [m
   node.setProps({selected: ['1']});[m
 [m
[31m-  expect(node.prop('trigger').props.children).toBe('1');[m
[32m+[m[32m  expect(node.find('.VersionPopover').prop('title')).toBe('1');[m
 [m
   node.setProps({selected: ['2', '1']});[m
 [m
[31m-  expect(node.prop('trigger').props.children).toBe('2, 1');[m
[32m+[m[32m  expect(node.find('.VersionPopover').prop('title')).toBe('2, 1');[m
 [m
   node.setProps({selected: ['all']});[m
 [m
[31m-  expect(node.prop('trigger').props.children).toBe('All');[m
[32m+[m[32m  expect(node.find('.VersionPopover').prop('title')).toBe('All');[m
 [m
   node.setProps({selected: ['latest']});[m
 [m
[31m-  expect(node.prop('trigger').props.children).toBe('Latest : 3');[m
[32m+[m[32m  expect(node.find('.VersionPopover').prop('title')).toBe('Latest : 3');[m
 });[m
 [m
 it('should check the versions based on the selected specific versions', () => {[m
   const node = shallow([m
     <VersionPopover[m
[31m-      {...props}[m
       versions={versions}[m
       selected={['latest']}[m
       selectedSpecificVersions={['3', '1']}[m
     />[m
   );[m
 [m
[31m-  expect(node.prop('trigger').props.children).toBe('Latest : 3');[m
[32m+[m[32m  expect(node).toMatchSnapshot();[m
 });[m
 [m
 it('should not crash, but be disabled if no versions are provided', () => {[m
[31m-  const node = shallow(<VersionPopover {...props} selected={[]} />);[m
[31m-  expect(node.prop('trigger').props.disabled).toBe(true);[m
[32m+[m[32m  const node = shallow(<VersionPopover selected={[]} />);[m
[32m+[m[32m  expect(node.find('.VersionPopover').prop('disabled')).toBe(true);[m
 });[m
 [m
 it('should diplay a loading indicator and disable the inputs while loading', () => {[m
[31m-  const node = shallow(<VersionPopover {...props} selected={[]} loading />);[m
[32m+[m[32m  const node = shallow(<VersionPopover selected={[]} loading />);[m
 [m
   expect(node.find('LoadingIndicator')).toExist();[m
   expect(node.find(LabeledInput).at(0).prop('disabled')).toBe(true);[m
[1mdiff --git a/client/src/modules/components/DefinitionSelection/__snapshots__/DefinitionSelection.test.js.snap b/client/src/modules/components/DefinitionSelection/__snapshots__/DefinitionSelection.test.js.snap[m
[1mindex 3f6d378e04..fc41504a35 100644[m
[1m--- a/client/src/modules/components/DefinitionSelection/__snapshots__/DefinitionSelection.test.js.snap[m
[1m+++ b/client/src/modules/components/DefinitionSelection/__snapshots__/DefinitionSelection.test.js.snap[m
[36m@@ -1,5 +1,31 @@[m
 // Jest Snapshot v1, https://goo.gl/fbAQLP[m
 [m
[32m+[m[32mexports[`should pass an id for every entry to the typeahead 1`] = `[m
[32m+[m[32m<Typeahead[m
[32m+[m[32m  className="name"[m
[32m+[m[32m  initialValue={null}[m
[32m+[m[32m  noValuesMessage="No definitions found"[m
[32m+[m[32m  onChange={[Function]}[m
[32m+[m[32m  onClose={[Function]}[m
[32m+[m[32m  onOpen={[Function]}[m
[32m+[m[32m  onSearch={[Function]}[m
[32m+[m[32m  placeholder="Select..."[m
[32m+[m[32m>[m
[32m+[m[32m  <ForwardRef(DropdownOption)[m
[32m+[m[32m    key="foo"[m
[32m+[m[32m    value="foo"[m
[32m+[m[32m  >[m
[32m+[m[32m    Foo Definition[m
[32m+[m[32m  </ForwardRef(DropdownOption)>[m
[32m+[m[32m  <ForwardRef(DropdownOption)[m
[32m+[m[32m    key="bar"[m
[32m+[m[32m    value="bar"[m
[32m+[m[32m  >[m
[32m+[m[32m    Bar Definition[m
[32m+[m[32m  </ForwardRef(DropdownOption)>[m
[32m+[m[32m</Typeahead>[m
[32m+[m[32m`;[m
[32m+[m
 exports[`should show a note if more than one version is selected 1`] = `[m
 <Message>[m
   Note: data from the older versions can deviate, therefore the report data can be inconsistent[m
[1mdiff --git a/client/src/modules/components/DefinitionSelection/__snapshots__/VersionPopover.test.js.snap b/client/src/modules/components/DefinitionSelection/__snapshots__/VersionPopover.test.js.snap[m
[1mnew file mode 100644[m
[1mindex 0000000000..8c408aedf2[m
[1m--- /dev/null[m
[1m+++ b/client/src/modules/components/DefinitionSelection/__snapshots__/VersionPopover.test.js.snap[m
[36m@@ -0,0 +1,82 @@[m
[32m+[m[32m// Jest Snapshot v1, https://goo.gl/fbAQLP[m
[32m+[m
[32m+[m[32mexports[`should check the versions based on the selected specific versions 1`] = `[m
[32m+[m[32m<Popover[m
[32m+[m[32m  align="bottom-right"[m
[32m+[m[32m  className="VersionPopover"[m
[32m+[m[32m  disabled={false}[m
[32m+[m[32m  title="Latest : 3"[m
[32m+[m[32m>[m
[32m+[m[32m  <Form[m
[32m+[m[32m    compact={true}[m
[32m+[m[32m  >[m
[32m+[m[32m    <FormGroup>[m
[32m+[m[32m      <ForwardRef(LabeledInput)[m
[32m+[m[32m        checked={false}[m
[32m+[m[32m        label="All"[m
[32m+[m[32m        onChange={[Function]}[m
[32m+[m[32m        type="radio"[m
[32m+[m[32m      />[m
[32m+[m[32m      <ForwardRef(LabeledInput)[m
[32m+[m[32m        checked={true}[m
[32m+[m[32m        label="Always display latest"[m
[32m+[m[32m        onChange={[Function]}[m
[32m+[m[32m        type="radio"[m
[32m+[m[32m      />[m
[32m+[m[32m      <ForwardRef(LabeledInput)[m
[32m+[m[32m        checked={false}[m
[32m+[m[32m        label="Specific versions"[m
[32m+[m[32m        onChange={[Function]}[m
[32m+[m[32m        type="radio"[m
[32m+[m[32m      />[m
[32m+[m[32m      <FormGroup[m
[32m+[m[32m        className="specificVersions disabled"[m
[32m+[m[32m        noSpacing={true}[m
[32m+[m[32m      >[m
[32m+[m[32m        <ForwardRef(LabeledInput)[m
[32m+[m[32m          checked={true}[m
[32m+[m[32m          disabled={true}[m
[32m+[m[32m          key="3"[m
[32m+[m[32m          label={[m
[32m+[m[32m            <React.Fragment>[m
[32m+[m[32m              3[m
[32m+[m[32m              <Badge>[m
[32m+[m[32m                v3[m
[32m+[m[32m              </Badge>[m
[32m+[m[32m            </React.Fragment>[m
[32m+[m[32m          }[m
[32m+[m[32m          onChange={[Function]}[m
[32m+[m[32m          type="checkbox"[m
[32m+[m[32m        />[m
[32m+[m[32m        <ForwardRef(LabeledInput)[m
[32m+[m[32m          checked={false}[m
[32m+[m[32m          disabled={true}[m
[32m+[m[32m          key="2"[m
[32m+[m[32m          label={[m
[32m+[m[32m            <React.Fragment>[m
[32m+[m[32m              2[m
[32m+[m[32m            </React.Fragment>[m
[32m+[m[32m          }[m
[32m+[m[32m          onChange={[Function]}[m
[32m+[m[32m          type="checkbox"[m
[32m+[m[32m        />[m
[32m+[m[32m        <ForwardRef(LabeledInput)[m
[32m+[m[32m          checked={true}[m
[32m+[m[32m          disabled={true}[m
[32m+[m[32m          key="1"[m
[32m+[m[32m          label={[m
[32m+[m[32m            <React.Fragment>[m
[32m+[m[32m              1[m
[32m+[m[32m              <Badge>[m
[32m+[m[32m                v1[m
[32m+[m[32m              </Badge>[m
[32m+[m[32m            </React.Fragment>[m
[32m+[m[32m          }[m
[32m+[m[32m          onChange={[Function]}[m
[32m+[m[32m          type="checkbox"[m
[32m+[m[32m        />[m
[32m+[m[32m      </FormGroup>[m
[32m+[m[32m    </FormGroup>[m
[32m+[m[32m  </Form>[m
[32m+[m[32m</Popover>[m
[32m+[m[32m`;[m
[1mdiff --git a/client/src/modules/components/DefinitionSelection/index.ts b/client/src/modules/components/DefinitionSelection/index.ts[m
[1mdeleted file mode 100644[m
[1mindex ca21407890..0000000000[m
[1m--- a/client/src/modules/components/DefinitionSelection/index.ts[m
[1m+++ /dev/null[m
[36m@@ -1,9 +0,0 @@[m
[31m-/*[m
[31m- * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH[m
[31m- * under one or more contributor license agreements. Licensed under a proprietary license.[m
[31m- * See the License.txt file for more information. You may not use this file[m
[31m- * except in compliance with the proprietary license.[m
[31m- */[m
[31m-[m
[31m-export {default as VersionPopover} from './VersionPopover';[m
[31m-export {default as TenantPopover} from './TenantPopover';[m
[1mdiff --git a/client/src/modules/components/DefinitionSelection/service.ts b/client/src/modules/components/DefinitionSelection/service.ts[m
[1mindex 4e9af8b748..4b4514a05a 100644[m
[1m--- a/client/src/modules/components/DefinitionSelection/service.ts[m
[1m+++ b/client/src/modules/components/DefinitionSelection/service.ts[m
[36m@@ -5,7 +5,6 @@[m
  * except in compliance with the proprietary license.[m
  */[m
 [m
[31m-import {Tenant} from 'types';[m
 import {get, post} from 'request';[m
 [m
 export type Definition = {[m
[36m@@ -13,15 +12,15 @@[m [mexport type Definition = {[m
   name: string | null;[m
 };[m
 [m
[31m-export type Version = {[m
[32m+[m[32mtype Version = {[m
   version: string;[m
[31m-  versionTag: string | null;[m
[32m+[m[32m  versionTag: string;[m
 };[m
 [m
 type DefintionWithTenants = {[m
   key: string;[m
   versions: string[];[m
[31m-  tenants: Tenant[];[m
[32m+[m[32m  tenants: {id: string | null; name: string}[];[m
 };[m
 [m
 type DefintionWithVersions = {key: string; versions: string[]};[m
[1mdiff --git a/client/src/modules/components/Deleter/Deleter.scss b/client/src/modules/components/Deleter/Deleter.scss[m
[1mindex b4ce7d80d5..0ebb840490 100644[m
[1m--- a/client/src/modules/components/Deleter/Deleter.scss[m
[1m+++ b/client/src/modules/components/Deleter/Deleter.scss[m
[36m@@ -3,5 +3,10 @@[m
     p:first-child {[m
       margin-bottom: 0;[m
     }[m
[32m+[m
[32m+[m[32m    ul {[m
[32m+[m[32m      list-style: none;[m
[32m+[m[32m      padding: 0;[m
[32m+[m[32m    }[m
   }[m
 }[m
[1mdiff --git a/client/src/modules/components/DownloadButton/DownloadButton.test.tsx b/client/src/modules/components/DownloadButton/DownloadButton.test.tsx[m
[1mindex 8472473a4f..a3ac66afbb 100644[m
[1m--- a/client/src/modules/components/DownloadButton/DownloadButton.test.tsx[m
[1m+++ b/client/src/modules/components/DownloadButton/DownloadButton.test.tsx[m
[36m@@ -10,9 +10,9 @@[m [mimport {shallow} from 'enzyme';[m
 [m
 import {Button} from 'components';[m
 import {get} from 'request';[m
[31m-import {useUser} from 'hooks';[m
 [m
 import {DownloadButton, DownloadButtonProps} from './DownloadButton';[m
[32m+[m[32mimport {User} from 'HOC';[m
 [m
 HTMLAnchorElement.prototype.click = jest.fn();[m
 [m
[36m@@ -22,16 +22,19 @@[m [mjest.mock('config', () => ({[m
   getExportCsvLimit: jest.fn().mockReturnValue(3),[m
 }));[m
 [m
[31m-jest.mock('hooks', () => ({[m
[31m-  useErrorHandling: jest.fn(() => ({[m
[31m-    mightFail: jest.fn((data, cb) => cb(data)),[m
[31m-  })),[m
[31m-  useUser: jest.fn().mockReturnValue({user: {authorizations: ['csv_export']}}),[m
[31m-}));[m
[31m-[m
 const props: DownloadButtonProps = {[m
   href: '',[m
[32m+[m[32m  mightFail: jest.fn().mockImplementation((data, cb) => cb(data)),[m
[32m+[m[32m  user: {authorizations: ['csv_export']} as unknown as User,[m
   totalCount: 0,[m
[32m+[m[32m  getUser: () =>[m
[32m+[m[32m    Promise.resolve({[m
[32m+[m[32m      authorizations: ['csv_export'],[m
[32m+[m[32m    } as unknown as User),[m
[32m+[m[32m  refreshUser: () =>[m
[32m+[m[32m    Promise.resolve({[m
[32m+[m[32m      authorizations: ['csv_export'],[m
[32m+[m[32m    } as User),[m
   docsLink: '',[m
 };[m
 [m
[36m@@ -39,10 +42,6 @@[m [mbeforeAll(() => {[m
   window.URL.createObjectURL = jest.fn();[m
 });[m
 [m
[31m-beforeEach(() => {[m
[31m-  jest.clearAllMocks();[m
[31m-});[m
[31m-[m
 it('invoke get with the provided href', async () => {[m
   const node = shallow(<DownloadButton {...props} href="testUrl" />);[m
 [m
[36m@@ -77,8 +76,9 @@[m [mit('should display a modal if total download count is more than csv limit', asyn[m
 });[m
 [m
 it('should not display the button if the user is not authorized to export csv data', async () => {[m
[31m-  (useUser as jest.Mock).mockReturnValue({user: {authorizations: []}});[m
[31m-  const node = shallow(<DownloadButton fileName="testName" {...props} />);[m
[32m+[m[32m  const node = shallow([m
[32m+[m[32m    <DownloadButton fileName="testName" {...props} user={{authorizations: []} as unknown as User} />[m
[32m+[m[32m  );[m
 [m
   await runAllEffects();[m
 [m
[1mdiff --git a/client/src/modules/components/DownloadButton/DownloadButton.tsx b/client/src/modules/components/DownloadButton/DownloadButton.tsx[m
[1mindex 6678aa6e41..bfce60dcc4 100644[m
[1m--- a/client/src/modules/components/DownloadButton/DownloadButton.tsx[m
[1m+++ b/client/src/modules/components/DownloadButton/DownloadButton.tsx[m
[36m@@ -8,12 +8,18 @@[m
 import {useState, useEffect, ComponentPropsWithoutRef} from 'react';[m
 import {Button} from '@carbon/react';[m
 [m
[31m-import {Modal, Button as LegacyButton} from 'components';[m
[31m-import {withDocs, WithDocsProps} from 'HOC';[m
[32m+[m[32mimport {Button as LegacyButton, Modal} from 'components';[m
[32m+[m[32mimport {[m
[32m+[m[32m  withErrorHandling,[m
[32m+[m[32m  withDocs,[m
[32m+[m[32m  withUser,[m
[32m+[m[32m  WithUserProps,[m
[32m+[m[32m  WithErrorHandlingProps,[m
[32m+[m[32m  WithDocsProps,[m
[32m+[m[32m} from 'HOC';[m
 import {get} from 'request';[m
 import {showError} from 'notifications';[m
 import {getExportCsvLimit} from 'config';[m
[31m-import {useErrorHandling, useUser} from 'hooks';[m
 [m
 import {t} from 'translation';[m
 [m
[36m@@ -24,7 +30,11 @@[m [mtype RetrieverProps = {[m
   href?: never;[m
 };[m
 [m
[31m-interface CommonProps extends WithDocsProps, ComponentPropsWithoutRef<typeof Button> {[m
[32m+[m[32minterface CommonProps[m
[32m+[m[32m  extends WithUserProps,[m
[32m+[m[32m    WithErrorHandlingProps,[m
[32m+[m[32m    WithDocsProps,[m
[32m+[m[32m    ComponentPropsWithoutRef<'button'> {[m
   totalCount: number;[m
 }[m
 [m
[36m@@ -33,15 +43,19 @@[m [mexport type DownloadButtonProps = CommonProps & (LinkProps | RetrieverProps);[m
 export function DownloadButton({[m
   href,[m
   fileName,[m
[32m+[m[32m  mightFail,[m
[32m+[m[32m  error,[m
[32m+[m[32m  resetError,[m
   retriever,[m
   totalCount,[m
   docsLink,[m
[32m+[m[32m  user,[m
[32m+[m[32m  getUser,[m
[32m+[m[32m  refreshUser,[m
   ...props[m
 }: DownloadButtonProps) {[m
   const [exportLimit, setExportLimit] = useState(1000);[m
   const [modalOpen, setModalOpen] = useState(false);[m
[31m-  const {user} = useUser();[m
[31m-  const {mightFail} = useErrorHandling();[m
 [m
   useEffect(() => {[m
     (async () => {[m
[36m@@ -82,11 +96,9 @@[m [mexport function DownloadButton({[m
     return null;[m
   }[m
 [m
[31m-  const Trigger = 'kind' in props ? Button : LegacyButton;[m
[31m-[m
   return ([m
     <>[m
[31m-      <Trigger[m
[32m+[m[32m      <LegacyButton[m
         {...props}[m
         onClick={() => (totalCount > exportLimit ? setModalOpen(true) : triggerDownload())}[m
       />[m
[36m@@ -119,4 +131,4 @@[m [masync function getData(url: string) {[m
   return await response.blob();[m
 }[m
 [m
[31m-export default withDocs(DownloadButton);[m
[32m+[m[32mexport default withErrorHandling(withDocs(withUser(DownloadButton)));[m
[1mdiff --git a/client/src/modules/components/Dropdown/DropdownOptionsList.scss b/client/src/modules/components/Dropdown/DropdownOptionsList.scss[m
[1mindex fd791c9f8a..bee7a0011b 100644[m
[1m--- a/client/src/modules/components/Dropdown/DropdownOptionsList.scss[m
[1m+++ b/client/src/modules/components/Dropdown/DropdownOptionsList.scss[m
[36m@@ -1,4 +1,7 @@[m
 .DropdownOptionsList {[m
[32m+[m[32m  list-style: none;[m
[32m+[m[32m  padding: 0;[m
[32m+[m[32m  margin: 0;[m
   flex: 1 1 auto;[m
   min-height: 0px;[m
 }[m
[1mdiff --git a/client/src/modules/components/EntityDescription/EntityDescription.scss b/client/src/modules/components/EntityDescription/EntityDescription.scss[m
[1mindex 3eadb6d4df..e16d3a3908 100644[m
[1m--- a/client/src/modules/components/EntityDescription/EntityDescription.scss[m
[1m+++ b/client/src/modules/components/EntityDescription/EntityDescription.scss[m
[36m@@ -3,7 +3,6 @@[m
   padding-right: 48px;[m
   margin-top: 1rem;[m
   font-size: 14px;[m
[31m-  align-items: center;[m
 [m
   .description {[m
     margin: 0;[m
[36m@@ -20,13 +19,28 @@[m
     align-self: flex-end;[m
   }[m
 [m
[31m-  .description {[m
[32m+[m[32m  .edit,[m
[32m+[m[32m  .add {[m
[32m+[m[32m    .Icon {[m
[32m+[m[32m      margin-right: 0;[m
[32m+[m[32m    }[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  .description,[m
[32m+[m[32m  .toggle,[m
[32m+[m[32m  .edit,[m
[32m+[m[32m  .add {[m
     font-size: inherit;[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  .description,[m
[32m+[m[32m  .toggle {[m
     line-height: 1.5;[m
   }[m
 [m
   .toggle,[m
   .edit {[m
[32m+[m[32m    flex-shrink: 0;[m
     margin-left: 1rem;[m
   }[m
 }[m
[1mdiff --git a/client/src/modules/components/EntityDescription/EntityDescription.test.tsx b/client/src/modules/components/EntityDescription/EntityDescription.test.tsx[m
[1mindex 4c6082ce59..7e8cd0eb67 100644[m
[1m--- a/client/src/modules/components/EntityDescription/EntityDescription.test.tsx[m
[1m+++ b/client/src/modules/components/EntityDescription/EntityDescription.test.tsx[m
[36m@@ -54,7 +54,7 @@[m [mit('should handle change in edit mode', () => {[m
   const addEditButton = node.find('.EntityDescription .add').dive();[m
 [m
   expect(node.find('.EntityDescription .description')).not.toExist();[m
[31m-  expect(addEditButton.text()).toContain('Add description');[m
[32m+[m[32m  expect(addEditButton.text()).toContain('Add Description');[m
 [m
   addEditButton.simulate('click');[m
 [m
[1mdiff --git a/client/src/modules/components/EntityDescription/EntityDescription.tsx b/client/src/modules/components/EntityDescription/EntityDescription.tsx[m
[1mindex 0a68b8b51e..786508055d 100644[m
[1m--- a/client/src/modules/components/EntityDescription/EntityDescription.tsx[m
[1m+++ b/client/src/modules/components/EntityDescription/EntityDescription.tsx[m
[36m@@ -8,9 +8,8 @@[m
 import {useEffect, useRef, useState} from 'react';[m
 import {Button} from '@carbon/react';[m
 import classnames from 'classnames';[m
[31m-import {Edit, Add} from '@carbon/icons-react';[m
 [m
[31m-import {Modal, TextEditor} from 'components';[m
[32m+[m[32mimport {Button as LegacyButton, Icon, Modal, TextEditor} from 'components';[m
 import {t} from 'translation';[m
 [m
 import './EntityDescription.scss';[m
[36m@@ -91,6 +90,8 @@[m [mexport default function EntityDescription({description, onEdit}: EntityDescripti[m
     return () => window.removeEventListener('resize', calculateShowLessButton);[m
   }, []);[m
 [m
[32m+[m[32m  const {className, icon, text} = getButtonProperties(description);[m
[32m+[m
   return ([m
     <>[m
       <div className="EntityDescription">[m
[36m@@ -105,34 +106,15 @@[m [mexport default function EntityDescription({description, onEdit}: EntityDescripti[m
           </p>[m
         )}[m
         {!onEdit && showToggleButton && ([m
[31m-          <Button kind="ghost" size="sm" onClick={toggleDescription} className="toggle">[m
[32m+[m[32m          <LegacyButton onClick={toggleDescription} className="toggle" link>[m
             {isDescriptionOpen ? t('common.less') : t('common.more')}[m
[31m-          </Button>[m
[32m+[m[32m          </LegacyButton>[m
         )}[m
[31m-        {onEdit && description && ([m
[31m-          <Button[m
[31m-            kind="ghost"[m
[31m-            size="sm"[m
[31m-            className="edit"[m
[31m-            link[m
[31m-            onClick={openModal}[m
[31m-            renderIcon={Edit}[m
[31m-            hasIconOnly[m
[31m-            iconDescription={t('common.edit').toString()}[m
[31m-          />[m
[31m-        )}[m
[31m-        {onEdit && !description && ([m
[31m-          <Button[m
[31m-            kind="tertiary"[m
[31m-            size="sm"[m
[31m-            className="add"[m
[31m-            link[m
[31m-            onClick={openModal}[m
[31m-            renderIcon={Add}[m
[31m-            iconDescription="Add"[m
[31m-          >[m
[31m-            {t('report.addDescription')}[m
[31m-          </Button>[m
[32m+[m[32m        {onEdit && ([m
[32m+[m[32m          <LegacyButton className={className} link onClick={openModal}>[m
[32m+[m[32m            <Icon size={12} type={icon} />[m
[32m+[m[32m            {text}[m
[32m+[m[32m          </LegacyButton>[m
         )}[m
       </div>[m
       <Modal className="EntityDescriptionEditModal" open={isEditModalOpen} onClose={handleCancel}>[m
[36m@@ -165,3 +147,19 @@[m [mexport default function EntityDescription({description, onEdit}: EntityDescripti[m
     </>[m
   );[m
 }[m
[32m+[m
[32m+[m[32mfunction getButtonProperties(description: string | null) {[m
[32m+[m[32m  if (description) {[m
[32m+[m[32m    return {[m
[32m+[m[32m      className: 'edit',[m
[32m+[m[32m      icon: 'edit',[m
[32m+[m[32m      text: t('common.edit'),[m
[32m+[m[32m    };[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  return {[m
[32m+[m[32m    className: 'add',[m
[32m+[m[32m    icon: 'plus',[m
[32m+[m[32m    text: `${t('common.add')} ${t('common.description')}`,[m
[32m+[m[32m  };[m
[32m+[m[32m}[m
[1mdiff --git a/client/src/modules/components/EntityList/EntityList.scss b/client/src/modules/components/EntityList/EntityList.scss[m
[1mindex 35ff8e85ef..dde3b17ba4 100644[m
[1m--- a/client/src/modules/components/EntityList/EntityList.scss[m
[1m+++ b/client/src/modules/components/EntityList/EntityList.scss[m
[36m@@ -187,7 +187,8 @@[m
   }[m
 [m
   .itemsList {[m
[31m-    margin-bottom: 20px;[m
[32m+[m[32m    padding: 0;[m
[32m+[m[32m    margin: 0 0 20px 0;[m
     transition: 0.1s opacity;[m
 [m
     &.isLoading {[m
[1mdiff --git a/client/src/modules/components/EntityList/ListItem.scss b/client/src/modules/components/EntityList/ListItem.scss[m
[1mindex a923656793..0b63e3286e 100644[m
[1m--- a/client/src/modules/components/EntityList/ListItem.scss[m
[1m+++ b/client/src/modules/components/EntityList/ListItem.scss[m
[36m@@ -6,6 +6,7 @@[m
   border: solid 1px var(--silver-darken-87);[m
   background-color: var(--white);[m
   margin-bottom: 14px;[m
[32m+[m[32m  list-style: none;[m
   position: relative;[m
   display: flex;[m
 [m
[1mdiff --git a/client/src/modules/components/EntityName/EntityName.js b/client/src/modules/components/EntityName/EntityName.js[m
[1mindex e4198a67a4..305c0c65d4 100644[m
[1m--- a/client/src/modules/components/EntityName/EntityName.js[m
[1m+++ b/client/src/modules/components/EntityName/EntityName.js[m
[36m@@ -7,8 +7,6 @@[m
 [m
 import React from 'react';[m
 import {Link} from 'react-router-dom';[m
[31m-import {ChevronDown} from '@carbon/icons-react';[m
[31m-import {t} from 'translation';[m
 [m
 import {Popover, Tooltip} from 'components';[m
 [m
[36m@@ -28,18 +26,7 @@[m [mexport default function EntityName({children, details, linkTo, onClick}) {[m
           )}[m
         </Tooltip>[m
         {details && ([m
[31m-          <Popover[m
[31m-            trigger={[m
[31m-              <Popover.Button[m
[31m-                size="sm"[m
[31m-                iconDescription={t('common.details')}[m
[31m-                hasIconOnly[m
[31m-                renderIcon={ChevronDown}[m
[31m-                className="DetailsPopoverButton"[m
[31m-              />[m
[31m-            }[m
[31m-            floating[m
[31m-          >[m
[32m+[m[32m          <Popover icon="down" floating>[m
             {details}[m
           </Popover>[m
         )}[m
[1mdiff --git a/client/src/modules/components/EntityName/EntityName.scss b/client/src/modules/components/EntityName/EntityName.scss[m
[1mindex c40393abcc..8a6b68ad71 100644[m
[1m--- a/client/src/modules/components/EntityName/EntityName.scss[m
[1m+++ b/client/src/modules/components/EntityName/EntityName.scss[m
[36m@@ -33,18 +33,28 @@[m
   .Popover {[m
     display: inline-block;[m
     vertical-align: top;[m
[31m-    margin-top: 9px;[m
[32m+[m[32m    margin-top: 7px;[m
 [m
[31m-    .DetailsPopoverButton {[m
[31m-      padding: 0;[m
[31m-      border-radius: 50%;[m
[32m+[m[32m    .buttonWrapper .Button {[m
       width: 20px;[m
       height: 20px;[m
[31m-      min-height: 20px;[m
       margin-left: 3px;[m
 [m
[31m-      svg {[m
[31m-        margin: auto;[m
[32m+[m[32m      &:hover {[m
[32m+[m[32m        background-color: var(--silver-darken-94);[m
[32m+[m[32m      }[m
[32m+[m
[32m+[m[32m      &:active,[m
[32m+[m[32m      &.active {[m
[32m+[m[32m        background-color: var(--silver-darken-80);[m
[32m+[m[32m      }[m
[32m+[m
[32m+[m[32m      .Icon {[m
[32m+[m[32m        margin: 2px;[m
[32m+[m[32m      }[m
[32m+[m
[32m+[m[32m      .downIcon {[m
[32m+[m[32m        display: none;[m
       }[m
     }[m
 [m
[1mdiff --git a/client/src/modules/components/EntityNameForm/EntityNameForm.scss b/client/src/modules/components/EntityNameForm/EntityNameForm.scss[m
[1mindex c7c5d69bed..3c23432535 100644[m
[1m--- a/client/src/modules/components/EntityNameForm/EntityNameForm.scss[m
[1m+++ b/client/src/modules/components/EntityNameForm/EntityNameForm.scss[m
[36m@@ -1,4 +1,3 @@[m
[31m-@use '@carbon/layout';[m
 @import 'shared-styles/shared-styles.scss';[m
 [m
 .EntityNameForm {[m
[36m@@ -6,18 +5,26 @@[m
     flex-grow: 1;[m
 [m
     .name-container {[m
[32m+[m[32m      position: relative;[m
       flex-grow: 1;[m
       display: flex;[m
       width: 100%;[m
[31m-      padding-right: layout.$spacing-06;[m
[32m+[m[32m      padding-right: 48px;[m
     }[m
[31m-  }[m
 [m
[31m-  .tools {[m
[31m-    align-self: flex-start;[m
[31m-  }[m
[32m+[m[32m    .Input.name-input {[m
[32m+[m[32m      font-size: 14px;[m
[32m+[m[32m      width: 100%;[m
 [m
[31m-  a.cancel-button:hover {[m
[31m-    text-decoration: none;[m
[32m+[m[32m      @include placeholder {[m
[32m+[m[32m        font-weight: normal;[m
[32m+[m[32m        color: var(--grey-lighten-56);[m
[32m+[m[32m      }[m
[32m+[m[32m    }[m
[32m+[m
[32m+[m[32m    .cancel-button {[m
[32m+[m[32m      color: var(--grey-darken-33);[m
[32m+[m[32m      text-decoration: none;[m
[32m+[m[32m    }[m
   }[m
 }[m
[1mdiff --git a/client/src/modules/components/EntityNameForm/EntityNameForm.test.tsx b/client/src/modules/components/EntityNameForm/EntityNameForm.test.tsx[m
[1mindex 1ac264062c..b6be491cc3 100644[m
[1m--- a/client/src/modules/components/EntityNameForm/EntityNameForm.test.tsx[m
[1m+++ b/client/src/modules/components/EntityNameForm/EntityNameForm.test.tsx[m
[36m@@ -7,18 +7,13 @@[m
 [m
 import {shallow} from 'enzyme';[m
 [m
[31m-import {TextInput} from '@carbon/react';[m
[32m+[m[32mimport {Input} from 'components';[m
 [m
[31m-import EntityNameForm from './EntityNameForm';[m
[31m-[m
[31m-jest.mock('hooks', () => ({[m
[31m-  useErrorHandling: jest.fn().mockReturnValue({[m
[31m-    mightFail: (promise: Promise<any>, cb: ((response: any) => any) | undefined) => cb?.(promise),[m
[31m-  }),[m
[31m-}));[m
[32m+[m[32mimport {EntityNameForm} from './EntityNameForm';[m
 [m
 const props = {[m
   entity: 'Report',[m
[32m+[m[32m  mightFail: (promise: Promise<any>, cb: ((response: any) => any) | undefined) => cb?.(promise),[m
   name: 'Name',[m
   isNew: false,[m
   onSave: jest.fn(),[m
[36m@@ -29,7 +24,7 @@[m [mconst props = {[m
 it('should provide name edit input', () => {[m
   const node = shallow(<EntityNameForm {...props} />);[m
 [m
[31m-  expect(node.find(TextInput)).toExist();[m
[32m+[m[32m  expect(node.find(Input)).toExist();[m
 });[m
 [m
 it('should provide a link to view mode', () => {[m
[36m@@ -60,7 +55,7 @@[m [mit('should call change function on input change', () => {[m
 [m
   const evt = {target: {value: 'asdf'}};[m
 [m
[31m-  node.find(TextInput).simulate('change', evt);[m
[32m+[m[32m  node.find(Input).simulate('change', evt);[m
 [m
   expect(spy).toHaveBeenCalledWith(evt);[m
 });[m
[1mdiff --git a/client/src/modules/components/EntityNameForm/EntityNameForm.tsx b/client/src/modules/components/EntityNameForm/EntityNameForm.tsx[m
[1mindex 1c60ccf7e5..2e4628453a 100644[m
[1m--- a/client/src/modules/components/EntityNameForm/EntityNameForm.tsx[m
[1m+++ b/client/src/modules/components/EntityNameForm/EntityNameForm.tsx[m
[36m@@ -7,16 +7,14 @@[m
 [m
 import {ChangeEventHandler, ReactNode, useState} from 'react';[m
 import {Link} from 'react-router-dom';[m
[31m-import {Button, TextInput} from '@carbon/react';[m
[31m-import {Error, Save} from '@carbon/icons-react';[m
 [m
[31m-import {EntityDescription} from 'components';[m
[31m-import {useErrorHandling} from 'hooks';[m
[31m-import {t} from 'translation';[m
[32m+[m[32mimport {Input, Icon, Button, EntityDescription} from 'components';[m
[32m+[m[32mimport {withErrorHandling, WithErrorHandlingProps} from 'HOC';[m
 [m
 import './EntityNameForm.scss';[m
[32m+[m[32mimport {t} from 'translation';[m
 [m
[31m-interface EntityNameFormProps {[m
[32m+[m[32minterface EntityNameFormProps extends WithErrorHandlingProps {[m
   entity: string;[m
   name: string;[m
   description?: string | null;[m
[36m@@ -28,7 +26,7 @@[m [minterface EntityNameFormProps {[m
   children?: ReactNode;[m
 }[m
 [m
[31m-export default function EntityNameForm({[m
[32m+[m[32mexport function EntityNameForm({[m
   entity,[m
   name,[m
   description = null,[m
[36m@@ -38,9 +36,9 @@[m [mexport default function EntityNameForm({[m
   onChange,[m
   onDescriptionChange,[m
   children,[m
[32m+[m[32m  mightFail,[m
 }: EntityNameFormProps) {[m
   const [loading, setLoading] = useState(false);[m
[31m-  const {mightFail} = useErrorHandling();[m
 [m
   const homeLink = entity === 'Process' ? '../' : '../../';[m
 [m
[36m@@ -48,14 +46,13 @@[m [mexport default function EntityNameForm({[m
     <div className="EntityNameForm head">[m
       <div className="info">[m
         <div className="name-container">[m
[31m-          <TextInput[m
[32m+[m[32m          <Input[m
             id="name"[m
[32m+[m[32m            type="text"[m
             onChange={onChange}[m
             value={name || ''}[m
             className="name-input"[m
[31m-            hideLabel[m
[31m-            labelText={t(`common.entity.namePlaceholder.${entity}`).toString()}[m
[31m-            placeholder={t(`common.entity.namePlaceholder.${entity}`).toString()}[m
[32m+[m[32m            placeholder={t(`common.entity.namePlaceholder.${entity}`)}[m
             autoComplete="off"[m
           />[m
         </div>[m
[36m@@ -66,30 +63,29 @@[m [mexport default function EntityNameForm({[m
       <div className="tools">[m
         {children}[m
         <Button[m
[31m-          size="md"[m
[31m-          kind="primary"[m
[31m-          renderIcon={Save}[m
[31m-          className="save-button"[m
[32m+[m[32m          main[m
[32m+[m[32m          primary[m
[32m+[m[32m          className="tool-button save-button"[m
           disabled={!name || loading}[m
           onClick={async () => {[m
             setLoading(true);[m
             mightFail(onSave(), () => setLoading(false));[m
           }}[m
         >[m
[31m-          {t('common.save').toString()}[m
[32m+[m[32m          <Icon type="check" />[m
[32m+[m[32m          {t('common.save')}[m
         </Button>[m
[31m-        <Button[m
[31m-          kind="secondary"[m
[31m-          size="md"[m
[31m-          renderIcon={Error}[m
[31m-          as={Link}[m
[31m-          className="cancel-button"[m
[32m+[m[32m        <Link[m
[32m+[m[32m          className="Button main tool-button cancel-button"[m
           to={isNew ? homeLink : './'}[m
           onClick={loading ? undefined : onCancel}[m
         >[m
[31m-          {t('common.cancel').toString()}[m
[31m-        </Button>[m
[32m+[m[32m          <Icon type="stop" />[m
[32m+[m[32m          {t('common.cancel')}[m
[32m+[m[32m        </Link>[m
       </div>[m
     </div>[m
   );[m
 }[m
[32m+[m
[32m+[m[32mexport default withErrorHandling(EntityNameForm);[m
[1mdiff --git a/client/src/modules/components/InstanceCount/InstanceCount.js b/client/src/modules/components/InstanceCount/InstanceCount.js[m
[1mindex d00513e023..04b8e8295a 100644[m
[1m--- a/client/src/modules/components/InstanceCount/InstanceCount.js[m
[1m+++ b/client/src/modules/components/InstanceCount/InstanceCount.js[m
[36m@@ -12,15 +12,14 @@[m [mimport {Popover} from 'components';[m
 import {FilterList} from 'filter';[m
 import {loadVariables, loadInputVariables, loadOutputVariables} from 'services';[m
 import {t} from 'translation';[m
[31m-import {useErrorHandling} from 'hooks';[m
[32m+[m[32mimport {withErrorHandling} from 'HOC';[m
 import {showError} from 'notifications';[m
 [m
 import './InstanceCount.scss';[m
 [m
[31m-export default function InstanceCount({report, noInfo, additionalFilter, showHeader, trigger}) {[m
[32m+[m[32mexport function InstanceCount({report, noInfo, useIcon, mightFail, additionalFilter, showHeader}) {[m
   const [hasLoaded, setHasLoaded] = useState(false);[m
   const [variables, setVariables] = useState();[m
[31m-  const {mightFail} = useErrorHandling();[m
 [m
   const {data, reportType} = report;[m
 [m
[36m@@ -97,7 +96,13 @@[m [mexport default function InstanceCount({report, noInfo, additionalFilter, showHea[m
             }[m
           }}[m
         >[m
[31m-          <Popover trigger={trigger} disabled={noInfo} className="instanceCountPopover" floating>[m
[32m+[m[32m          <Popover[m
[32m+[m[32m            icon={useIcon}[m
[32m+[m[32m            title={!useIcon && t('report.instanceCount.appliedFilters')}[m
[32m+[m[32m            disabled={noInfo}[m
[32m+[m[32m            className="instanceCountPopover"[m
[32m+[m[32m            floating[m
[32m+[m[32m          >[m
             {showHeader && ([m
               <div className="countString">[m
                 {typeof instanceCount === 'number' &&[m
[36m@@ -157,6 +162,8 @@[m [mexport default function InstanceCount({report, noInfo, additionalFilter, showHea[m
   );[m
 }[m
 [m
[32m+[m[32mexport default withErrorHandling(InstanceCount);[m
[32m+[m
 function haveDateFilter(filters) {[m
   return filters?.some((filter) => filter.type.toLowerCase().includes('date'));[m
 }[m
[1mdiff --git a/client/src/modules/components/InstanceCount/InstanceCount.test.js b/client/src/modules/components/InstanceCount/InstanceCount.test.js[m
[1mindex 9d1682e7d8..594496b20b 100644[m
[1m--- a/client/src/modules/components/InstanceCount/InstanceCount.test.js[m
[1m+++ b/client/src/modules/components/InstanceCount/InstanceCount.test.js[m
[36m@@ -11,9 +11,8 @@[m [mimport {shallow} from 'enzyme';[m
 import update from 'immutability-helper';[m
 [m
 import {loadVariables, loadInputVariables, loadOutputVariables} from 'services';[m
[31m-import {useErrorHandling} from 'hooks';[m
 [m
[31m-import InstanceCount from './InstanceCount';[m
[32m+[m[32mimport {InstanceCount} from './InstanceCount';[m
 [m
 jest.mock('services', () => {[m
   return {[m
[36m@@ -28,12 +27,6 @@[m [mjest.mock('services', () => {[m
   };[m
 });[m
 [m
[31m-jest.mock('hooks', () => ({[m
[31m-  useErrorHandling: jest.fn(() => ({[m
[31m-    mightFail: jest.fn((data, cb) => cb(data)),[m
[31m-  })),[m
[31m-}));[m
[31m-[m
 beforeEach(() => {[m
   loadInputVariables.mockClear();[m
   loadOutputVariables.mockClear();[m
[36m@@ -58,6 +51,7 @@[m [mconst props = {[m
     },[m
     reportType: 'process',[m
   },[m
[32m+[m[32m  mightFail: jest.fn().mockImplementation((data, cb) => cb(data)),[m
 };[m
 [m
 it('should should show the instance count', () => {[m
[36m@@ -170,11 +164,16 @@[m [mit('should not load variables if definition is incomplete', async () => {[m
 });[m
 [m
 it('should load variable names for decision reports', async () => {[m
[31m-  useErrorHandling.mockReturnValueOnce({mightFail: async (data, cb) => cb(await data)});[m
   const decisionReport = update(props.report, {[m
     reportType: {$set: 'decision'},[m
   });[m
[31m-  const node = shallow(<InstanceCount {...props} report={decisionReport} />);[m
[32m+[m[32m  const node = shallow([m
[32m+[m[32m    <InstanceCount[m
[32m+[m[32m      {...props}[m
[32m+[m[32m      report={decisionReport}[m
[32m+[m[32m      mightFail={async (data, cb) => cb(await data)}[m
[32m+[m[32m    />[m
[32m+[m[32m  );[m
 [m
   node.find('span').first().simulate('click');[m
 [m
[36m@@ -193,10 +192,11 @@[m [mit('should load variable names for decision reports', async () => {[m
   expect(node.find('FilterList').prop('variables')).toMatchSnapshot();[m
 });[m
 [m
[31m-it('should use a custom trigger if passed', () => {[m
[31m-  const node = shallow(<InstanceCount {...props} trigger={<button />} />);[m
[32m+[m[32mit('should substitute the popover title with an icon if requested', () => {[m
[32m+[m[32m  const node = shallow(<InstanceCount {...props} useIcon="someIcon" />);[m
 [m
[31m-  expect(node.find('.instanceCountPopover').prop('trigger')).toEqual(<button />);[m
[32m+[m[32m  expect(node.find('.instanceCountPopover').prop('title')).toBe(false);[m
[32m+[m[32m  expect(node.find('.instanceCountPopover').prop('icon')).toBe('someIcon');[m
 });[m
 [m
 it('should show instance count and filter list headings if showHeader prop is added', () => {[m
[1mdiff --git a/client/src/modules/components/MenuButton/MenuButton.scss b/client/src/modules/components/MenuButton/MenuButton.scss[m
[1mdeleted file mode 100644[m
[1mindex abac70e7c8..0000000000[m
[1m--- a/client/src/modules/components/MenuButton/MenuButton.scss[m
[1m+++ /dev/null[m
[36m@@ -1,23 +0,0 @@[m
[31m-.MenuButton {[m
[31m-  .cds--menu-button__trigger--open svg:not(.cds--btn__icon) {[m
[31m-    transform: none;[m
[31m-  }[m
[31m-[m
[31m-  button {[m
[31m-    width: 100%;[m
[31m-    justify-content: flex-start;[m
[31m-[m
[31m-    svg:not(:last-of-type) {[m
[31m-      margin-right: 0.5rem;[m
[31m-      transform: none;[m
[31m-    }[m
[31m-  }[m
[31m-[m
[31m-  &.hasIconOnly button svg:not(:last-of-type) {[m
[31m-    margin-right: 0;[m
[31m-  }[m
[31m-[m
[31m-  &:not(.hasIconOnly) [role='tooltip'] {[m
[31m-    display: none;[m
[31m-  }[m
[31m-}[m
[1mdiff --git a/client/src/modules/components/MenuButton/MenuButton.tsx b/client/src/modules/components/MenuButton/MenuButton.tsx[m
[1mdeleted file mode 100644[m
[1mindex 1040f3b6a8..0000000000[m
[1m--- a/client/src/modules/components/MenuButton/MenuButton.tsx[m
[1m+++ /dev/null[m
[36m@@ -1,116 +0,0 @@[m
[31m-/*[m
[31m- * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH[m
[31m- * under one or more contributor license agreements. Licensed under a proprietary license.[m
[31m- * See the License.txt file for more information. You may not use this file[m
[31m- * except in compliance with the proprietary license.[m
[31m- */[m
[31m-[m
[31m-import {ReactNode, forwardRef, useRef, useState} from 'react';[m
[31m-import {Button, Tooltip, Menu} from '@carbon/react';[m
[31m-import {ChevronDown} from '@carbon/icons-react';[m
[31m-import {useAttachedMenu, useId} from '@camunda/camunda-optimize-composite-components';[m
[31m-import classnames from 'classnames';[m
[31m-import {useMergedRefs} from '@carbon/react/lib/internal/useMergedRefs';[m
[31m-[m
[31m-import './MenuButton.scss';[m
[31m-[m
[31m-type MenuButtonProps = {[m
[31m-  children?: ReactNode;[m
[31m-  className?: string;[m
[31m-  disabled?: boolean;[m
[31m-  label: ReactNode;[m
[31m-  menuLabel: string;[m
[31m-  size: 'sm' | 'md' | 'lg';[m
[31m-  kind: 'primary' | 'secondary' | 'ghost';[m
[31m-  iconDescription?: string;[m
[31m-  hasIconOnly?: boolean;[m
[31m-  fullScreenTarget?: Element | null;[m
[31m-};[m
[31m-[m
[31m-export default forwardRef<HTMLDivElement, MenuButtonProps>(function MenuButton([m
[31m-  {[m
[31m-    label,[m
[31m-    menuLabel,[m
[31m-    size,[m
[31m-    kind,[m
[31m-    children,[m
[31m-    className,[m
[31m-    disabled,[m
[31m-    iconDescription,[m
[31m-    hasIconOnly,[m
[31m-    fullScreenTarget,[m
[31m-  },[m
[31m-  forwardedRef[m
[31m-) {[m
[31m-  const menuRef = useRef<HTMLDivElement>(null);[m
[31m-  const triggerRef = useRef<HTMLDivElement>(null);[m
[31m-  const ref = useMergedRefs<HTMLDivElement>([triggerRef, forwardedRef]);[m
[31m-  const [width, setWidth] = useState(0);[m
[31m-  const {[m
[31m-    open,[m
[31m-    x,[m
[31m-    y,[m
[31m-    handleClick: hookOnClick,[m
[31m-    handleMousedown,[m
[31m-    handleClose,[m
[31m-  } = useAttachedMenu(triggerRef);[m
[31m-  const id = useId();[m
[31m-[m
[31m-  function handleClick() {[m
[31m-    if (triggerRef.current) {[m
[31m-      const {width} = triggerRef.current?.getBoundingClientRect();[m
[31m-      setWidth(width);[m
[31m-      hookOnClick();[m
[31m-    }[m
[31m-  }[m
[31m-[m
[31m-  function handleOpen() {[m
[31m-    if (menuRef.current) {[m
[31m-      menuRef.current.style.width = `${width}px`;[m
[31m-      menuRef.current.style.maxWidth = 'unset';[m
[31m-    }[m
[31m-  }[m
[31m-[m
[31m-  return ([m
[31m-    <Tooltip[m
[31m-      label={hasIconOnly ? iconDescription : undefined}[m
[31m-      className={classnames('MenuButton cds--icon-tooltip', className, {hasIconOnly})}[m
[31m-      leaveDelayMs={50}[m
[31m-    >[m
[31m-      <div className="MenuButton" ref={ref}>[m
[31m-        <Button[m
[31m-          className={classnames('cds--menu-button__trigger', {[m
[31m-            'cds--menu-button__trigger--open': open,[m
[31m-          })}[m
[31m-          ref={triggerRef}[m
[31m-          size={size}[m
[31m-          kind={kind}[m
[31m-          renderIcon={ChevronDown}[m
[31m-          iconDescription={hasIconOnly ? iconDescription : undefined}[m
[31m-          disabled={disabled}[m
[31m-          aria-haspopup[m
[31m-          aria-expanded={open}[m
[31m-          onClick={handleClick}[m
[31m-          onMouseDown={handleMousedown}[m
[31m-          aria-controls={open ? id : undefined}[m
[31m-        >[m
[31m-          {label}[m
[31m-        </Button>[m
[31m-        <Menu[m
[31m-          ref={menuRef}[m
[31m-          target={fullScreenTarget}[m
[31m-          id={id}[m
[31m-          label={menuLabel}[m
[31m-          open={open}[m
[31m-          onClose={handleClose}[m
[31m-          onOpen={handleOpen}[m
[31m-          x={x}[m
[31m-          y={y}[m
[31m-          size={size}[m
[31m-        >[m
[31m-          {children}[m
[31m-        </Menu>[m
[31m-      </div>[m
[31m-    </Tooltip>[m
[31m-  );[m
[31m-});[m
[1mdiff --git a/client/src/modules/components/Popover/Popover.scss b/client/src/modules/components/Popover/Popover.scss[m
[1mindex d750af3eef..b44ac72f7c 100644[m
[1m--- a/client/src/modules/components/Popover/Popover.scss[m
[1m+++ b/client/src/modules/components/Popover/Popover.scss[m
[36m@@ -3,10 +3,6 @@[m
 @use '@carbon/styles/scss/spacing';[m
 @import 'shared-styles/shared-styles.scss';[m
 [m
[31m-.dark .Popover {[m
[31m-  @include theme.theme(themes.$g100);[m
[31m-}[m
[31m-[m
 .Popover {[m
   display: block;[m
   @include theme.theme(themes.$g10);[m
[36m@@ -42,18 +38,9 @@[m
         padding-right: 30px;[m
       }[m
     }[m
[31m-[m
[31m-    .ButtonTrigger {[m
[31m-      min-width: 100%;[m
[31m-    }[m
[31m-[m
[31m-    .ButtonTrigger.active:not(.cds--btn--tertiary) {[m
[31m-      box-shadow: 0 2px 6px var(--cds-shadow, rgba(0, 0, 0, 0.3));[m
[31m-      background-color: var(--cds-layer);[m
[31m-    }[m
   }[m
 }[m
 [m
[31m-.Modal .Popover .cds--list-box {[m
[32m+[m[32m.cds--modal .Popover .cds--list-box {[m
   background-color: var(--cds-field-02, #ffffff);[m
 }[m
[1mdiff --git a/client/src/modules/components/Popover/Popover.test.tsx b/client/src/modules/components/Popover/Popover.test.tsx[m
[1mindex 8271287b6d..74b63ec4ea 100644[m
[1m--- a/client/src/modules/components/Popover/Popover.test.tsx[m
[1m+++ b/client/src/modules/components/Popover/Popover.test.tsx[m
[36m@@ -5,7 +5,7 @@[m
  * except in compliance with the proprietary license.[m
  */[m
 [m
[31m-import {mount, shallow} from 'enzyme';[m
[32m+[m[32mimport {shallow} from 'enzyme';[m
 [m
 import {Button, Labeled, Tooltip} from 'components';[m
 [m
[36m@@ -86,30 +86,16 @@[m [mit('should display a label if specified', () => {[m
   expect(node.find(Labeled).prop('label')).toBe('testLabel');[m
 });[m
 [m
[31m-it('should use the carbon listbox trigger if specified', () => {[m
[31m-  const node = mount([m
[31m-    <Popover title="a" trigger={<Popover.ListBox label="test">test</Popover.ListBox>}>[m
[31m-      Child content[m
[31m-    </Popover>[m
[31m-  );[m
[31m-[m
[31m-  expect(node.find('.popoverContent').exists()).toBe(false);[m
[31m-[m
[31m-  node.find(Popover.ListBox).find('button').simulate('click');[m
[31m-[m
[31m-  expect(node.find('.popoverContent').exists()).toBe(true);[m
[31m-});[m
[31m-[m
[31m-it('should use the carbon button trigger if specified', () => {[m
[31m-  const node = mount([m
[31m-    <Popover title="a" trigger={<Popover.Button>test</Popover.Button>}>[m
[32m+[m[32mit('should use the carbon based trigger if specified', () => {[m
[32m+[m[32m  const node = shallow([m
[32m+[m[32m    <Popover title="a" useCarbonTrigger>[m
       Child content[m
     </Popover>[m
   );[m
 [m
   expect(node.find('.popoverContent').exists()).toBe(false);[m
 [m
[31m-  node.find(Popover.Button).simulate('click');[m
[32m+[m[32m  node.find('ListBox button').simulate('click');[m
 [m
   expect(node.find('.popoverContent').exists()).toBe(true);[m
 });[m
[1mdiff --git a/client/src/modules/components/Popover/Popover.tsx b/client/src/modules/components/Popover/Popover.tsx[m
[1mindex 984ce8e3c0..144abfc7e6 100644[m
[1m--- a/client/src/modules/components/Popover/Popover.tsx[m
[1m+++ b/client/src/modules/components/Popover/Popover.tsx[m
[36m@@ -5,23 +5,12 @@[m
  * except in compliance with the proprietary license.[m
  */[m
 [m
[31m-import {[m
[31m-  ComponentProps,[m
[31m-  ReactNode,[m
[31m-  createContext,[m
[31m-  useCallback,[m
[31m-  useContext,[m
[31m-  useEffect,[m
[31m-  useLayoutEffect,[m
[31m-  useRef,[m
[31m-  useState,[m
[31m-} from 'react';[m
[32m+[m[32mimport {ReactNode, useCallback, useEffect, useLayoutEffect, useRef, useState} from 'react';[m
 import {[m
   Popover as CarbonPopover,[m
   PopoverAlignment,[m
   PopoverContent,[m
   PopoverProps as CarbonPopoverProps,[m
[31m-  Button,[m
 } from '@carbon/react';[m
 import ListBox from '@carbon/react/lib/components/ListBox';[m
 [m
[36m@@ -47,19 +36,7 @@[m [mconst possibleAlignments: PopoverAlignment[] = [[m
   'right-top',[m
 ];[m
 [m
[31m-interface LegacyTriggerProps {[m
[31m-  main?: boolean;[m
[31m-  icon?: string;[m
[31m-  title?: ReactNode;[m
[31m-  label?: ReactNode;[m
[31m-  disabled?: boolean;[m
[31m-  tooltip?: TooltipProps['content'];[m
[31m-  tooltipPosition?: TooltipProps['position'];[m
[31m-}[m
[31m-[m
[31m-interface PopoverProps[m
[31m-  extends Omit<CarbonPopoverProps<'div'>, 'title' | 'open' | 'align'>,[m
[31m-    LegacyTriggerProps {[m
[32m+[m[32minterface PopoverProps extends Omit<CarbonPopoverProps<'div'>, 'title' | 'open' | 'align'> {[m
   className?: string;[m
   children: ReactNode;[m
   floating?: boolean;[m
[36m@@ -67,18 +44,16 @@[m [minterface PopoverProps[m
   onClose?: () => void;[m
   autoOpen?: boolean;[m
   align?: PopoverAlignment;[m
[31m-  trigger?: ReactNode;[m
[31m-}[m
[31m-[m
[31m-interface TriggerContextProps {[m
[31m-  open: boolean;[m
[31m-  setOpen: React.Dispatch<React.SetStateAction<boolean>>;[m
[31m-  buttonRef?: React.MutableRefObject<HTMLButtonElement | null>;[m
[31m-  popoverId?: string;[m
[32m+[m[32m  main?: boolean;[m
[32m+[m[32m  icon?: string;[m
[32m+[m[32m  title?: ReactNode;[m
[32m+[m[32m  label?: ReactNode;[m
[32m+[m[32m  disabled?: boolean;[m
[32m+[m[32m  tooltip?: TooltipProps['content'];[m
[32m+[m[32m  tooltipPosition?: TooltipProps['position'];[m
[32m+[m[32m  useCarbonTrigger?: boolean;[m
 }[m
 [m
[31m-const TriggerContext = createContext<TriggerContextProps>({open: false, setOpen: () => {}});[m
[31m-[m
 export default function Popover({[m
   className,[m
   children,[m
[36m@@ -93,7 +68,7 @@[m [mexport default function Popover({[m
   autoOpen = false,[m
   align,[m
   tooltipPosition,[m
[31m-  trigger,[m
[32m+[m[32m  useCarbonTrigger,[m
   label,[m
   ...props[m
 }: PopoverProps): JSX.Element {[m
[36m@@ -255,121 +230,74 @@[m [mexport default function Popover({[m
   const buttonId = getRandomId();[m
 [m
   return ([m
[31m-    <TriggerContext.Provider value={{open, setOpen, buttonRef, popoverId}}>[m
[31m-      <CarbonPopover[m
[31m-        className={classNames(className, 'Popover')}[m
[31m-        {...props}[m
[31m-        open={open}[m
[31m-        ref={popoverRef}[m
[31m-      >[m
[31m-        <Tooltip content={tooltip} position={tooltipPosition}>[m
[31m-          <div className="buttonWrapper">[m
[31m-            {trigger || ([m
[31m-              <>[m
[31m-                {label && <Labeled label={label} htmlFor={buttonId} />}[m
[31m-                <LegacyButton[m
[32m+[m[32m    <CarbonPopover[m
[32m+[m[32m      className={classNames(className, 'Popover')}[m
[32m+[m[32m      {...props}[m
[32m+[m[32m      open={open}[m
[32m+[m[32m      ref={popoverRef}[m
[32m+[m[32m    >[m
[32m+[m[32m      <Tooltip content={tooltip} position={tooltipPosition}>[m
[32m+[m[32m        <div className="buttonWrapper">[m
[32m+[m[32m          {useCarbonTrigger ? ([m
[32m+[m[32m            <>[m
[32m+[m[32m              {label && ([m
[32m+[m[32m                <label htmlFor={buttonId} className="cds--label">[m
[32m+[m[32m                  {label}[m
[32m+[m[32m                </label>[m
[32m+[m[32m              )}[m
[32m+[m[32m              <ListBox isOpen={open} size="sm" disabled={disabled}>[m
[32m+[m[32m                <button[m
                   id={buttonId}[m
[31m-                  onClick={() => setOpen(!open)}[m
[31m-                  active={!disabled && open}[m
[31m-                  main={main}[m
[31m-                  disabled={disabled}[m
[31m-                  icon={!!icon && !title}[m
[32m+[m[32m                  type="button"[m
                   ref={buttonRef}[m
[32m+[m[32m                  className="cds--list-box__field"[m
[32m+[m[32m                  disabled={disabled}[m
[32m+[m[32m                  onClick={() => setOpen(!open)}[m
[32m+[m[32m                  aria-haspopup[m
[32m+[m[32m                  aria-expanded={open}[m
[32m+[m[32m                  aria-controls={open ? popoverId : undefined}[m
                 >[m
[31m-                  {icon ? <Icon type={icon} /> : ''}[m
[31m-                  {title}[m
[31m-                  <Icon type="down" className="downIcon" />[m
[31m-                </LegacyButton>[m
[31m-              </>[m
[31m-            )}[m
[31m-          </div>[m
[31m-        </Tooltip>[m
[31m-        {open && ([m
[31m-          <PopoverContent[m
[31m-            id={popoverId}[m
[31m-            className={classNames('popoverContent', {scrollable})}[m
[31m-            ref={dialogRef}[m
[31m-            style={popoverStyles}[m
[31m-            onMouseDownCapture={() => {[m
[31m-              isInsideClick.current = true;[m
[31m-            }}[m
[31m-          >[m
[31m-            <div ref={contentRef}>{children}</div>[m
[31m-          </PopoverContent>[m
[31m-        )}[m
[31m-      </CarbonPopover>[m
[31m-    </TriggerContext.Provider>[m
[31m-  );[m
[31m-}[m
[31m-[m
[31m-interface ListBoxTriggerProps {[m
[31m-  label: ReactNode;[m
[31m-  children: ReactNode;[m
[31m-  disabled?: boolean;[m
[31m-}[m
[31m-[m
[31m-Popover.ListBox = function ListBoxTrigger({label, children, disabled}: ListBoxTriggerProps) {[m
[31m-  const {open, setOpen, buttonRef, popoverId} = useContext(TriggerContext);[m
[31m-[m
[31m-  const buttonId = getRandomId();[m
[31m-[m
[31m-  return ([m
[31m-    <>[m
[31m-      {label && ([m
[31m-        <label htmlFor={buttonId} className="cds--label">[m
[31m-          {label}[m
[31m-        </label>[m
[31m-      )}[m
[31m-      <ListBox isOpen={open} size="sm" disabled={disabled}>[m
[31m-        <button[m
[31m-          id={buttonId}[m
[31m-          type="button"[m
[31m-          ref={buttonRef}[m
[31m-          className="cds--list-box__field"[m
[31m-          disabled={disabled}[m
[31m-          onClick={() => setOpen(!open)}[m
[31m-          aria-haspopup[m
[31m-          aria-expanded={open}[m
[31m-          aria-controls={open ? popoverId : undefined}[m
[32m+[m[32m                  <span className="cds--list-box__label"> {title}</span>[m
[32m+[m[32m                  <ListBox.MenuIcon isOpen={open} />[m
[32m+[m[32m                </button>[m
[32m+[m[32m              </ListBox>[m
[32m+[m[32m            </>[m
[32m+[m[32m          ) : ([m
[32m+[m[32m            <>[m
[32m+[m[32m              {label && <Labeled label={label} htmlFor={buttonId} />}[m
[32m+[m[32m              <LegacyButton[m
[32m+[m[32m                id={buttonId}[m
[32m+[m[32m                onClick={() => setOpen(!open)}[m
[32m+[m[32m                active={!disabled && open}[m
[32m+[m[32m                main={main}[m
[32m+[m[32m                disabled={disabled}[m
[32m+[m[32m                icon={!!icon && !title}[m
[32m+[m[32m                ref={buttonRef}[m
[32m+[m[32m              >[m
[32m+[m[32m                {icon ? <Icon type={icon} /> : ''}[m
[32m+[m[32m                {title}[m
[32m+[m[32m                <Icon type="down" className="downIcon" />[m
[32m+[m[32m              </LegacyButton>[m
[32m+[m[32m            </>[m
[32m+[m[32m          )}[m
[32m+[m[32m        </div>[m
[32m+[m[32m      </Tooltip>[m
[32m+[m[32m      {open && ([m
[32m+[m[32m        <PopoverContent[m
[32m+[m[32m          id={popoverId}[m
[32m+[m[32m          className={classNames('popoverContent', {scrollable})}[m
[32m+[m[32m          ref={dialogRef}[m
[32m+[m[32m          style={popoverStyles}[m
[32m+[m[32m          onMouseDownCapture={() => {[m
[32m+[m[32m            isInsideClick.current = true;[m
[32m+[m[32m          }}[m
         >[m
[31m-          <span className="cds--list-box__label"> {children}</span>[m
[31m-          <ListBox.MenuIcon isOpen={open} />[m
[31m-        </button>[m
[31m-      </ListBox>[m
[31m-    </>[m
[31m-  );[m
[31m-};[m
[31m-[m
[31m-type PopoverButtonFixedProps =[m
[31m-  | 'id'[m
[31m-  | 'ref'[m
[31m-  | 'onClick'[m
[31m-  | 'aria-haspopup'[m
[31m-  | 'aria-expanded'[m
[31m-  | 'aria-controls';[m
[31m-[m
[31m-Popover.Button = function ButtonTrigger([m
[31m-  props: Omit<ComponentProps<typeof Button>, PopoverButtonFixedProps>[m
[31m-) {[m
[31m-  const {open, setOpen, buttonRef, popoverId} = useContext(TriggerContext);[m
[31m-  const buttonId = getRandomId();[m
[31m-[m
[31m-  return ([m
[31m-    <Button[m
[31m-      kind="ghost"[m
[31m-      {...props}[m
[31m-      id={buttonId}[m
[31m-      ref={buttonRef}[m
[31m-      onClick={() => setOpen(!open)}[m
[31m-      aria-haspopup[m
[31m-      aria-expanded={open}[m
[31m-      aria-controls={open ? popoverId : undefined}[m
[31m-      className={classNames('ButtonTrigger', props.className, {[m
[31m-        active: open,[m
[31m-      })}[m
[31m-    />[m
[32m+[m[32m          <div ref={contentRef}>{children}</div>[m
[32m+[m[32m        </PopoverContent>[m
[32m+[m[32m      )}[m
[32m+[m[32m    </CarbonPopover>[m
   );[m
[31m-};[m
[32m+[m[32m}[m
 [m
 function getClassName(alignment: PopoverAlignment) {[m
   return 'cds--popover--' + alignment;[m
[1mdiff --git a/client/src/modules/components/ReportDetails/SingleReportDetails.js b/client/src/modules/components/ReportDetails/SingleReportDetails.js[m
[1mindex 3c9d0a1a25..60f9d269b0 100644[m
[1m--- a/client/src/modules/components/ReportDetails/SingleReportDetails.js[m
[1m+++ b/client/src/modules/components/ReportDetails/SingleReportDetails.js[m
[36m@@ -9,12 +9,13 @@[m [mimport React, {useState, useEffect} from 'react';[m
 import classnames from 'classnames';[m
 import {withRouter} from 'react-router-dom';[m
 import deepEqual from 'fast-deep-equal';[m
[31m-import {Button} from '@carbon/react';[m
 [m
[32m+[m[32mimport {Button} from 'components';[m
 import {withErrorHandling} from 'HOC';[m
 import {showError} from 'notifications';[m
 import {formatters, reportConfig} from 'services';[m
 import {t} from 'translation';[m
[32m+[m[32mimport {getOptimizeProfile} from 'config';[m
 [m
 import RawDataModal from './RawDataModal';[m
 import DiagramModal from './DiagramModal';[m
[36m@@ -57,6 +58,7 @@[m [mexport function SingleReportDetails({report, showReportName, mightFail, location[m
   const [tenants, setTenants] = useState();[m
   const [showRawData, setShowRawData] = useState();[m
   const [showDiagram, setShowDiagram] = useState();[m
[32m+[m[32m  const [optimizeProfile, setOptimizeProfile] = useState();[m
 [m
   const reportName = report.name;[m
   const definitions = report.data.definitions;[m
[36m@@ -71,6 +73,12 @@[m [mexport function SingleReportDetails({report, showReportName, mightFail, location[m
     }[m
   }, [definitions, isShared, type, mightFail]);[m
 [m
[32m+[m[32m  useEffect(() => {[m
[32m+[m[32m    (async () => {[m
[32m+[m[32m      setOptimizeProfile(await getOptimizeProfile());[m
[32m+[m[32m    })();[m
[32m+[m[32m  }, []);[m
[32m+[m
   const closePopover = () => document.body.click();[m
 [m
   function getTenantInfoForDefinition(definition) {[m
[36m@@ -88,6 +96,7 @@[m [mexport function SingleReportDetails({report, showReportName, mightFail, location[m
             <h3>{t('report.definition.' + type + (definitions.length > 1 ? '-plural' : ''))}</h3>[m
             {definitions.map((definition, idx) => {[m
               const tenantInfo = getTenantInfoForDefinition(definition);[m
[32m+[m[32m              const showOnlyTenant = tenantInfo?.length === 1 && optimizeProfile === 'ccsm';[m
 [m
               return ([m
                 <div key={idx + definition.key} className="definition">[m
[36m@@ -96,18 +105,14 @@[m [mexport function SingleReportDetails({report, showReportName, mightFail, location[m
                     {t('common.definitionSelection.version.label')}:{' '}[m
                     {formatVersions(definition.versions)}[m
                   </div>[m
[31m-                  {tenantInfo?.length > 1 && ([m
[32m+[m[32m                  {(tenantInfo?.length > 1 || showOnlyTenant) && ([m
                     <div className="info">[m
[31m-                      {t('common.tenant.label')}: {formatTenants(definition.tenantIds, tenantInfo)}[m
[32m+[m[32m                      {t('common.tenant.label')}:{' '}[m
[32m+[m[32m                      {formatTenants(definition.tenantIds, tenantInfo, showOnlyTenant)}[m
                     </div>[m
                   )}[m
                   {!isShared && ([m
[31m-                    <Button[m
[31m-                      size="sm"[m
[31m-                      kind="tertiary"[m
[31m-                      className="modalButton"[m
[31m-                      onClick={() => setShowDiagram(definition)}[m
[31m-                    >[m
[32m+[m[32m                    <Button link className="modalButton" onClick={() => setShowDiagram(definition)}>[m
                       {t('common.entity.viewModel.' + report.reportType)}[m
                     </Button>[m
                   )}[m
[36m@@ -129,9 +134,8 @@[m [mexport function SingleReportDetails({report, showReportName, mightFail, location[m
             </h4>[m
             {!isShared && ([m
               <Button[m
[31m-                size="sm"[m
[31m-                kind="tertiary"[m
                 className="rawDataButton modalButton"[m
[32m+[m[32m                link[m
                 onClick={() => setShowRawData(true)}[m
               >[m
                 {t('common.entity.viewRawData')}[m
[1mdiff --git a/client/src/modules/components/ReportDetails/SingleReportDetails.scss b/client/src/modules/components/ReportDetails/SingleReportDetails.scss[m
[1mindex aec7d2abf7..90502e232f 100644[m
[1m--- a/client/src/modules/components/ReportDetails/SingleReportDetails.scss[m
[1m+++ b/client/src/modules/components/ReportDetails/SingleReportDetails.scss[m
[36m@@ -38,8 +38,7 @@[m
   }[m
 [m
   .modalButton {[m
[31m-    width: 100%;[m
[31m-    margin-top: 0.5rem;[m
[32m+[m[32m    font-size: 12px;[m
   }[m
 [m
   hr {[m
[1mdiff --git a/client/src/modules/components/ReportDetails/SingleReportDetails.test.js b/client/src/modules/components/ReportDetails/SingleReportDetails.test.js[m
[1mindex b2207c2f88..bec52b28f1 100644[m
[1m--- a/client/src/modules/components/ReportDetails/SingleReportDetails.test.js[m
[1m+++ b/client/src/modules/components/ReportDetails/SingleReportDetails.test.js[m
[36m@@ -5,10 +5,12 @@[m
  * except in compliance with the proprietary license.[m
  */[m
 [m
[31m-import React, {runLastEffect} from 'react';[m
[32m+[m[32mimport React, {runAllEffects} from 'react';[m
 import {shallow} from 'enzyme';[m
 import update from 'immutability-helper';[m
[31m-import {Button} from '@carbon/react';[m
[32m+[m
[32m+[m[32mimport {Button} from 'components';[m
[32m+[m[32mimport {getOptimizeProfile} from 'config';[m
 [m
 import RawDataModal from './RawDataModal';[m
 import DiagramModal from './DiagramModal';[m
[36m@@ -16,6 +18,8 @@[m [mimport {loadTenants} from './service';[m
 [m
 import {SingleReportDetails} from './SingleReportDetails';[m
 [m
[32m+[m[32mjest.mock('config', () => ({getOptimizeProfile: jest.fn().mockReturnValue('platform')}));[m
[32m+[m
 jest.mock('./service', () => ({[m
   loadTenants: jest.fn().mockReturnValue([[m
     {[m
[36m@@ -61,7 +65,7 @@[m [mbeforeEach(() => {[m
 [m
 it('should show relevant information', () => {[m
   const node = shallow(<SingleReportDetails {...props} />);[m
[31m-  runLastEffect();[m
[32m+[m[32m  runAllEffects();[m
 [m
   expect(node).toIncludeText('aName');[m
   expect(node).toIncludeText('2, 1');[m
[36m@@ -72,27 +76,44 @@[m [mit('should show relevant information', () => {[m
 [m
 it('should show the report name if it has showReportName prop', () => {[m
   const node = shallow(<SingleReportDetails {...props} showReportName />);[m
[31m-  runLastEffect();[m
[32m+[m[32m  runAllEffects();[m
 [m
   expect(node).toIncludeText('Report Name');[m
 });[m
 [m
[31m-it('should not show tenant section if there is only one tenant', () => {[m
[32m+[m[32mit('should not show tenant section if there is only one tenant in C7', () => {[m
   const oneTenant = update(props.report, {data: {tenantIds: {$set: ['sales']}}});[m
   loadTenants.mockReturnValueOnce([{id: 'sales', name: 'Sales'}]);[m
 [m
   const node = shallow(<SingleReportDetails {...props} report={oneTenant} />);[m
[31m-  runLastEffect();[m
[32m+[m[32m  runAllEffects();[m
 [m
   expect(node).not.toIncludeText('Sales');[m
   expect(node).not.toIncludeText('Tenant');[m
 });[m
 [m
[32m+[m[32mit('should show the only tenant in self managed', async () => {[m
[32m+[m[32m  const oneTenant = update(props.report, {data: {tenantIds: {$set: ['sales']}}});[m
[32m+[m[32m  loadTenants.mockReturnValueOnce([[m
[32m+[m[32m    {[m
[32m+[m[32m      key: 'aKey',[m
[32m+[m[32m      versions: ['2', '1'],[m
[32m+[m[32m      tenants: [{id: 'sales', name: 'Sales'}],[m
[32m+[m[32m    },[m
[32m+[m[32m  ]);[m
[32m+[m[32m  getOptimizeProfile.mockReturnValueOnce('ccsm');[m
[32m+[m[32m  const node = shallow(<SingleReportDetails {...props} report={oneTenant} />);[m
[32m+[m
[32m+[m[32m  await runAllEffects();[m
[32m+[m
[32m+[m[32m  expect(node.find('.info').at(1).text()).toBe('Tenant: Sales');[m
[32m+[m[32m});[m
[32m+[m
 it('should not show tenant section and process model/raw data buttons on share pages', () => {[m
   const node = shallow([m
     <SingleReportDetails {...props} location={{pathname: '/share/report/abc'}} />[m
   );[m
[31m-  runLastEffect();[m
[32m+[m[32m  runAllEffects();[m
 [m
   expect(loadTenants).not.toHaveBeenCalled();[m
   expect(node).not.toIncludeText('Sales');[m
[36m@@ -109,7 +130,7 @@[m [mit('should have special handling for variable views', () => {[m
   });[m
 [m
   const node = shallow(<SingleReportDetails {...props} report={variableReport} />);[m
[31m-  runLastEffect();[m
[32m+[m[32m  runAllEffects();[m
 [m
   expect(node).toIncludeText('Variable x');[m
   expect(node.find('h4.nowrap')).toExist();[m
[36m@@ -117,7 +138,7 @@[m [mit('should have special handling for variable views', () => {[m
 [m
 it('should open raw data modal when button is clicked', () => {[m
   const node = shallow(<SingleReportDetails {...props} />);[m
[31m-  runLastEffect();[m
[32m+[m[32m  runAllEffects();[m
 [m
   node.find('.rawDataButton').simulate('click');[m
 [m
[36m@@ -126,7 +147,7 @@[m [mit('should open raw data modal when button is clicked', () => {[m
 [m
 it('should open diagram modal when button is clicked', () => {[m
   const node = shallow(<SingleReportDetails {...props} />);[m
[31m-  runLastEffect();[m
[32m+[m[32m  runAllEffects();[m
 [m
   node.find('.definition').find(Button).simulate('click');[m
 [m
[1mdiff --git a/client/src/modules/components/ReportRenderer/visualizations/Table/processRawData.js b/client/src/modules/components/ReportRenderer/visualizations/Table/processRawData.js[m
[1mindex fd59677f5e..5d5449890e 100644[m
[1m--- a/client/src/modules/components/ReportRenderer/visualizations/Table/processRawData.js[m
[1m+++ b/client/src/modules/components/ReportRenderer/visualizations/Table/processRawData.js[m
[36m@@ -71,7 +71,7 @@[m [mexport default function processRawData({[m
     outputVariables: outputVars,[m
   } = result[0] || {};[m
 [m
[31m-  const countNames = getVisibleColumns(counts, tableColumns, 'count');[m
[32m+[m[32m  const countKeys = getVisibleColumns(counts, tableColumns, 'count');[m
 [m
   const variableNames = getVisibleColumns(variables, tableColumns, 'variable');[m
 [m
[36m@@ -88,7 +88,7 @@[m [mexport default function processRawData({[m
   // If all columns are excluded return a message to enable one[m
   if ([m
     instanceProps.length +[m
[31m-      countNames.length +[m
[32m+[m[32m      countKeys.length +[m
       variableNames.length +[m
       inputVariables.length +[m
       outputVariables.length +[m
[36m@@ -127,7 +127,7 @@[m [mexport default function processRawData({[m
 [m
     return [[m
       ...row,[m
[31m-      ...getVariableValues(countNames, instance.counts),[m
[32m+[m[32m      ...getVariableValues(countKeys, instance.counts),[m
       ...getVariableValues(variableNames, instance.variables, onVariableClick),[m
       ...getVariableValues(inputVariables, instance.inputVariables),[m
       ...getVariableValues(outputVariables, instance.outputVariables),[m
[36m@@ -141,13 +141,16 @@[m [mexport default function processRawData({[m
       return {id: key, label, title: label};[m
     })[m
     .concat([m
[31m-      countNames.map((name) => ({[m
[31m-        type: 'counts',[m
[31m-        // we dont give them any prefix to keep compatibility with included/excluded columns[m
[31m-        id: name,[m
[31m-        label: getLabelWithType(name, 'count'),[m
[31m-        title: name,[m
[31m-      }))[m
[32m+[m[32m      countKeys.map((key) => {[m
[32m+[m[32m        const name = t('report.table.rawData.' + key);[m
[32m+[m[32m        return {[m
[32m+[m[32m          type: 'counts',[m
[32m+[m[32m          // we dont give them any prefix to keep compatibility with included/excluded columns[m
[32m+[m[32m          id: key,[m
[32m+[m[32m          label: getLabelWithType(name, 'count'),[m
[32m+[m[32m          title: name,[m
[32m+[m[32m        };[m
[32m+[m[32m      })[m
     )[m
     .concat([m
       variableNames.map((name) => ({[m
[1mdiff --git a/client/src/modules/components/Select/CarbonSelect/CarbonSelect.test.tsx b/client/src/modules/components/Select/CarbonSelect/CarbonSelect.test.tsx[m
[1mdeleted file mode 100644[m
[1mindex ac77c85b6e..0000000000[m
[1m--- a/client/src/modules/components/Select/CarbonSelect/CarbonSelect.test.tsx[m
[1m+++ /dev/null[m
[36m@@ -1,168 +0,0 @@[m
[31m-/*[m
[31m- * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH[m
[31m- * under one or more contributor license agreements. Licensed under a proprietary license.[m
[31m- * See the License.txt file for more information. You may not use this file[m
[31m- * except in compliance with the proprietary license.[m
[31m- */[m
[31m-[m
[31m-import {UIEvent} from 'react';[m
[31m-import {shallow} from 'enzyme';[m
[31m-import {MenuDropdown} from '@camunda/camunda-optimize-composite-components';[m
[31m-[m
[31m-import {ignoreFragments} from 'services';[m
[31m-[m
[31m-import CarbonSelect, {CarbonSelectProps} from './CarbonSelect';[m
[31m-[m
[31m-jest.mock('services', () => ({[m
[31m-  ...jest.requireActual('services'),[m
[31m-  formatters: {[m
[31m-    getHighlightedText: () => 'got highlight',[m
[31m-  },[m
[31m-  ignoreFragments: jest.fn().mockImplementation((children) => children),[m
[31m-}));[m
[31m-[m
[31m-beforeEach(() => {[m
[31m-  jest.clearAllMocks();[m
[31m-});[m
[31m-[m
[31m-const props = {id: 'id'};[m
[31m-[m
[31m-it('should render without crashing', () => {[m
[31m-  shallow([m
[31m-    <CarbonSelect {...props}>[m
[31m-      <CarbonSelect.Option />[m
[31m-    </CarbonSelect>[m
[31m-  );[m
[31m-});[m
[31m-[m
[31m-it('should render a .CarbonSelect className by default', () => {[m
[31m-  const node = shallow([m
[31m-    <CarbonSelect {...props}>[m
[31m-      <CarbonSelect.Option />[m
[31m-    </CarbonSelect>[m
[31m-  );[m
[31m-[m
[31m-  expect(node).toMatchSelector('.CarbonSelect');[m
[31m-});[m
[31m-[m
[31m-it('should merge and render additional classNames as provided as a property', () => {[m
[31m-  const node = shallow([m
[31m-    <CarbonSelect {...props} className="foo">[m
[31m-      <CarbonSelect.Option />[m
[31m-    </CarbonSelect>[m
[31m-  );[m
[31m-[m
[31m-  expect(node).toMatchSelector('.CarbonSelect.foo');[m
[31m-});[m
[31m-[m
[31m-it('should render child elements and their props', () => {[m
[31m-  const node = shallow([m
[31m-    <CarbonSelect {...props}>[m
[31m-      <CarbonSelect.Option label="test_option" value="1" />[m
[31m-    </CarbonSelect>[m
[31m-  );[m
[31m-[m
[31m-  expect(node.find('Option[label="test_option"]')).toExist();[m
[31m-  expect(node.find('Option[value="1"]')).toExist();[m
[31m-});[m
[31m-[m
[31m-it('should select option onClick and add checked property', () => {[m
[31m-  const spy = jest.fn();[m
[31m-  const node = shallow<CarbonSelectProps>([m
[31m-    <CarbonSelect {...props} onChange={spy}>[m
[31m-      <CarbonSelect.Option value="1" label="Option One" />[m
[31m-    </CarbonSelect>[m
[31m-  );[m
[31m-[m
[31m-  node.find(CarbonSelect.Option).prop('onChange')?.({[m
[31m-    target: {closest: () => ({getAttribute: () => '1'})},[m
[31m-  } as unknown as UIEvent<HTMLElement>);[m
[31m-  expect(spy).toHaveBeenCalledWith('1');[m
[31m-[m
[31m-  node.setProps({value: '1'});[m
[31m-[m
[31m-  expect(node.find(CarbonSelect.Option).prop('selected')).toBeTruthy();[m
[31m-  expect(node.find('ForwardRef(MenuDropdown)').prop('label')).toBe('Option One');[m
[31m-});[m
[31m-[m
[31m-it('should select submenu option onClick and set checked property on the submenu and the option', () => {[m
[31m-  const spy = jest.fn();[m
[31m-  const node = shallow([m
[31m-    <CarbonSelect {...props} onChange={spy}>[m
[31m-      <CarbonSelect.Submenu label="submenu">[m
[31m-        <CarbonSelect.Option value="1" label="Option One" />[m
[31m-      </CarbonSelect.Submenu>[m
[31m-    </CarbonSelect>[m
[31m-  );[m
[31m-[m
[31m-  node.find(CarbonSelect.Option).prop('onChange')?.({[m
[31m-    target: {closest: () => ({getAttribute: () => '1'})},[m
[31m-  } as unknown as UIEvent<HTMLElement>);[m
[31m-  expect(spy).toHaveBeenCalledWith('1');[m
[31m-[m
[31m-  node.setProps({value: '1'});[m
[31m-[m
[31m-  expect(node.find(CarbonSelect.Submenu).prop('selected')).toBeTruthy();[m
[31m-  expect(node.find(CarbonSelect.Option).prop('selected')).toBeTruthy();[m
[31m-  expect(node.find('ForwardRef(MenuDropdown)').prop('label')).toBe('submenu : Option One');[m
[31m-});[m
[31m-[m
[31m-it('should allow a custom label', () => {[m
[31m-  const node = shallow([m
[31m-    <CarbonSelect {...props} labelText="Custom Select Label">[m
[31m-      <CarbonSelect.Option />[m
[31m-    </CarbonSelect>[m
[31m-  );[m
[31m-[m
[31m-  expect(node.find('label').text()).toBe('Custom Select Label');[m
[31m-});[m
[31m-[m
[31m-it('should allow a custom helper', () => {[m
[31m-  const node = shallow([m
[31m-    <CarbonSelect {...props} helperText="Custom Helper Text">[m
[31m-      <CarbonSelect.Option />[m
[31m-    </CarbonSelect>[m
[31m-  );[m
[31m-[m
[31m-  console.log(node.debug());[m
[31m-[m
[31m-  expect(node.find('div').at(1).text()).toBe('Custom Helper Text');[m
[31m-});[m
[31m-[m
[31m-it('should use label attribute to calculate Select button label if provided', () => {[m
[31m-  const node = shallow([m
[31m-    <CarbonSelect {...props}>[m
[31m-      <CarbonSelect.Submenu label="submenu">[m
[31m-        <CarbonSelect.Option value="1" label="Option One">[m
[31m-          <b>Option</b>One[m
[31m-        </CarbonSelect.Option>[m
[31m-      </CarbonSelect.Submenu>[m
[31m-    </CarbonSelect>[m
[31m-  );[m
[31m-[m
[31m-  node.setProps({value: '1'});[m
[31m-  expect(node.find(MenuDropdown).prop('label')).toBe('submenu : Option One');[m
[31m-});[m
[31m-[m
[31m-it('should invoke ignoreFragments when rendering the list', async () => {[m
[31m-  const children = [<CarbonSelect.Submenu key="1" />, <CarbonSelect.Option key="2" />];[m
[31m-  shallow(<CarbonSelect {...props}>{children}</CarbonSelect>);[m
[31m-[m
[31m-  expect(ignoreFragments).toHaveBeenCalledWith(children);[m
[31m-});[m
[31m-[m
[31m-describe('CarbonSelect.Option', () => {[m
[31m-  it('should render the option', () => {[m
[31m-    const node = shallow(<CarbonSelect.Option label="label" />);[m
[31m-[m
[31m-    expect(node.find('.Option').prop('label')).toBe('label');[m
[31m-  });[m
[31m-});[m
[31m-[m
[31m-describe('CarbonSelect.Submenu', () => {[m
[31m-  it('should render the submenu', () => {[m
[31m-    const node = shallow(<CarbonSelect.Submenu label="label" />);[m
[31m-[m
[31m-    expect(node.find('.Submenu').prop('label')).toBe('label');[m
[31m-  });[m
[31m-});[m
[1mdiff --git a/client/src/modules/components/Select/CarbonSelect/CarbonSelect.tsx b/client/src/modules/components/Select/CarbonSelect/CarbonSelect.tsx[m
[1mdeleted file mode 100644[m
[1mindex 9e5f62c6ee..0000000000[m
[1m--- a/client/src/modules/components/Select/CarbonSelect/CarbonSelect.tsx[m
[1m+++ /dev/null[m
[36m@@ -1,130 +0,0 @@[m
[31m-/*[m
[31m- * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH[m
[31m- * under one or more contributor license agreements. Licensed under a proprietary license.[m
[31m- * See the License.txt file for more information. You may not use this file[m
[31m- * except in compliance with the proprietary license.[m
[31m- */[m
[31m-[m
[31m-import {BaseSyntheticEvent, Children, cloneElement, ComponentProps, ReactNode} from 'react';[m
[31m-import {MenuItemSelectable} from '@carbon/react';[m
[31m-import {MenuDropdown} from '@camunda/camunda-optimize-composite-components';[m
[31m-[m
[31m-import {ignoreFragments, isReactElement} from 'services';[m
[31m-import classnames from 'classnames';[m
[31m-import {t} from 'translation';[m
[31m-[m
[31m-export interface CarbonSelectProps<T extends object | string | number = string>[m
[31m-  extends Omit<ComponentProps<typeof MenuDropdown>, 'label' | 'onChange'> {[m
[31m-  id: string;[m
[31m-  value?: T;[m
[31m-  onChange?: (value: T) => void;[m
[31m-  labelText?: string | JSX.Element[];[m
[31m-  helperText?: string | JSX.Element[];[m
[31m-}[m
[31m-[m
[31m-export default function CarbonSelect<T extends object | string | number>([m
[31m-  props: CarbonSelectProps<T>[m
[31m-) {[m
[31m-  const {labelText, helperText, ...rest} = props;[m
[31m-  const renderChildrenWithProps = (children: ReactNode) => {[m
[31m-    return Children.toArray(children)[m
[31m-      .filter(isReactElement)[m
[31m-      .map((child) => {[m
[31m-        const newProps: SubmenuProps | OptionProps = {[m
[31m-          ...child.props,[m
[31m-          label: child.props.label?.toString() || '',[m
[31m-        };[m
[31m-[m
[31m-        if (child.type === CarbonSelect.Submenu) {[m
[31m-          newProps.selected = Children.toArray(child.props.children).some([m
[31m-            (child) => isReactElement(child) && child.props.value === props.value[m
[31m-          );[m
[31m-[m
[31m-          newProps.children = renderChildrenWithProps(child.props.children);[m
[31m-        } else if (child.type === CarbonSelect.Option) {[m
[31m-          newProps.onChange = onChange;[m
[31m-          newProps.selected = child.props.value === props.value;[m
[31m-        } else {[m
[31m-          console.error('Select `children` should be either an `Submenu` or `Option` component.');[m
[31m-          return null;[m
[31m-        }[m
[31m-[m
[31m-        return child && cloneElement(child, newProps);[m
[31m-      });[m
[31m-  };[m
[31m-[m
[31m-  const getLabel = (children = props.children) => {[m
[31m-    let label;[m
[31m-[m
[31m-    Children.forEach(ignoreFragments(children), (child) => {[m
[31m-      if (child.props.value === props.value) {[m
[31m-        label = child.props.label;[m
[31m-      } else if (child.type === CarbonSelect.Submenu && child.props.children) {[m
[31m-        const sublabel = getLabel(child.props.children);[m
[31m-        if (sublabel) {[m
[31m-          label = child.props.label + ' : ' + sublabel;[m
[31m-        }[m
[31m-      }[m
[31m-    });[m
[31m-[m
[31m-    return label;[m
[31m-  };[m
[31m-[m
[31m-  const onChange = (evt: BaseSyntheticEvent) => {[m
[31m-    const value = (evt.target as HTMLElement | null)[m
[31m-      ?.closest('[value]')[m
[31m-      ?.getAttribute('value') as T | null;[m
[31m-    if (value) {[m
[31m-      props.onChange?.(value);[m
[31m-    }[m
[31m-  };[m
[31m-[m
[31m-  const children = ignoreFragments(props.children);[m
[31m-[m
[31m-  return ([m
[31m-    <div className={classnames('CarbonSelect', props.className)}>[m
[31m-      {labelText && ([m
[31m-        <div className="cds--text-input__label-wrapper">[m
[31m-          <label htmlFor={props.id} className="cds--label">[m
[31m-            {labelText}[m
[31m-          </label>[m
[31m-        </div>[m
[31m-      )}[m
[31m-      <MenuDropdown[m
[31m-        {...rest}[m
[31m-        onChange={(e: any) => onChange(e)}[m
[31m-        label={getLabel() || t('common.select')}[m
[31m-        fullScreenTarget={document.querySelector('.fullscreen')}[m
[31m-      >[m
[31m-        {renderChildrenWithProps(children)}[m
[31m-      </MenuDropdown>[m
[31m-      {helperText && !props.invalid && <div className="cds--form__helper-text">{helperText}</div>}[m
[31m-    </div>[m
[31m-  );[m
[31m-}[m
[31m-[m
[31m-type SubmenuProps = Omit<ComponentProps<typeof MenuItemSelectable>, 'label'> & {[m
[31m-  label?: string | JSX.Element[];[m
[31m-};[m
[31m-[m
[31m-CarbonSelect.Submenu = function Submenu(props: SubmenuProps) {[m
[31m-  return ([m
[31m-    <MenuItemSelectable className="Submenu" {...props} label={props.label?.toString() || ''}>[m
[31m-      {props.children}[m
[31m-    </MenuItemSelectable>[m
[31m-  );[m
[31m-};[m
[31m-[m
[31m-type OptionProps<T extends object | string | number = string> = SubmenuProps & {[m
[31m-  value?: T;[m
[31m-};[m
[31m-[m
[31m-CarbonSelect.Option = function Option<T extends object | string | number = string>([m
[31m-  props: OptionProps<T>[m
[31m-) {[m
[31m-  return ([m
[31m-    <MenuItemSelectable className="Option" {...props} label={props.label?.toString() || ''}>[m
[31m-      {props.children}[m
[31m-    </MenuItemSelectable>[m
[31m-  );[m
[31m-};[m
[1mdiff --git a/client/src/modules/components/Select/CarbonSelect/index.tsx b/client/src/modules/components/Select/CarbonSelect/index.tsx[m
[1mdeleted file mode 100644[m
[1mindex 5d3cf9d311..0000000000[m
[1m--- a/client/src/modules/components/Select/CarbonSelect/index.tsx[m
[1m+++ /dev/null[m
[36m@@ -1,8 +0,0 @@[m
[31m-/*[m
[31m- * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH[m
[31m- * under one or more contributor license agreements. Licensed under a proprietary license.[m
[31m- * See the License.txt file for more information. You may not use this file[m
[31m- * except in compliance with the proprietary license.[m
[31m- */[m
[31m-[m
[31m-export {default as CarbonSelect} from './CarbonSelect';[m
[1mdiff --git a/client/src/modules/components/Select/index.tsx b/client/src/modules/components/Select/index.tsx[m
[1mindex 5edd28223f..c57b656994 100644[m
[1m--- a/client/src/modules/components/Select/index.tsx[m
[1m+++ b/client/src/modules/components/Select/index.tsx[m
[36m@@ -6,4 +6,3 @@[m
  */[m
 [m
 export {default as Select} from './Select';[m
[31m-export {CarbonSelect} from './CarbonSelect';[m
[1mdiff --git a/client/src/modules/components/ShareEntity/ShareEntity.js b/client/src/modules/components/ShareEntity/ShareEntity.js[m
[1mnew file mode 100644[m
[1mindex 0000000000..e574b2d90c[m
[1m--- /dev/null[m
[1m+++ b/client/src/modules/components/ShareEntity/ShareEntity.js[m
[36m@@ -0,0 +1,145 @@[m
[32m+[m[32m/*[m
[32m+[m[32m * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH[m
[32m+[m[32m * under one or more contributor license agreements. Licensed under a proprietary license.[m
[32m+[m[32m * See the License.txt file for more information. You may not use this file[m
[32m+[m[32m * except in compliance with the proprietary license.[m
[32m+[m[32m */[m
[32m+[m
[32m+[m[32mimport React from 'react';[m
[32m+[m[32mimport {CopyToClipboard, Switch, Input, LabeledInput, LoadingIndicator, Form} from 'components';[m
[32m+[m
[32m+[m[32mimport './ShareEntity.scss';[m
[32m+[m[32mimport {t} from 'translation';[m
[32m+[m[32mimport {addNotification} from 'notifications';[m
[32m+[m
[32m+[m[32mexport default class ShareEntity extends React.Component {[m
[32m+[m[32m  constructor(props) {[m
[32m+[m[32m    super(props);[m
[32m+[m
[32m+[m[32m    this.state = {[m
[32m+[m[32m      loaded: false,[m
[32m+[m[32m      isShared: false,[m
[32m+[m[32m      includeFilters: false,[m
[32m+[m[32m      id: '',[m
[32m+[m[32m    };[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  componentDidMount = async () => {[m
[32m+[m[32m    const id = await this.props.getSharedEntity(this.props.resourceId);[m
[32m+[m[32m    this.setState({[m
[32m+[m[32m      id,[m
[32m+[m[32m      isShared: !!id,[m
[32m+[m[32m      loaded: true,[m
[32m+[m[32m    });[m
[32m+[m[32m  };[m
[32m+[m
[32m+[m[32m  toggleValue = async ({target: {checked}}) => {[m
[32m+[m[32m    this.setState({[m
[32m+[m[32m      isShared: checked,[m
[32m+[m[32m    });[m
[32m+[m
[32m+[m[32m    if (checked) {[m
[32m+[m[32m      const id = await this.props.shareEntity(this.props.resourceId);[m
[32m+[m[32m      this.setState({id});[m
[32m+[m[32m    } else {[m
[32m+[m[32m      await this.props.revokeEntitySharing(this.state.id);[m
[32m+[m[32m      this.setState({id: ''});[m
[32m+[m[32m    }[m
[32m+[m[32m  };[m
[32m+[m
[32m+[m[32m  buildShareLink = (params = {}) => {[m
[32m+[m[32m    if (!this.state.id) {[m
[32m+[m[32m      return '';[m
[32m+[m[32m    }[m
[32m+[m
[32m+[m[32m    const currentUrl = window.location.href;[m
[32m+[m[32m    const query = new URLSearchParams();[m
[32m+[m[32m    for (const [key, value] of Object.entries(params)) {[m
[32m+[m[32m      query.set(key, value);[m
[32m+[m[32m    }[m
[32m+[m[32m    if (this.state.includeFilters) {[m
[32m+[m[32m      query.set('filter', JSON.stringify(this.props.filter));[m
[32m+[m[32m    } else if (this.props.defaultFilter) {[m
[32m+[m[32m      query.set('filter', JSON.stringify(this.props.defaultFilter));[m
[32m+[m[32m    }[m
[32m+[m[32m    const queryString = query.toString();[m
[32m+[m
[32m+[m[32m    return `${currentUrl.substring(0, currentUrl.indexOf('#'))}external/#/share/${[m
[32m+[m[32m      this.props.type[m
[32m+[m[32m    }/${this.state.id}${queryString && '?' + queryString}`;[m
[32m+[m[32m  };[m
[32m+[m
[32m+[m[32m  buildShareLinkForEmbedding = () => {[m
[32m+[m[32m    if (this.state.id) {[m
[32m+[m[32m      return `<iframe src="${this.buildShareLink({[m
[32m+[m[32m        mode: 'embed',[m
[32m+[m[32m      })}" frameborder="0" style="width: 1000px; height: 700px; allowtransparency; overflow: scroll"></iframe>`;[m
[32m+[m[32m    } else {[m
[32m+[m[32m      return '';[m
[32m+[m[32m    }[m
[32m+[m[32m  };[m
[32m+[m
[32m+[m[32m  disabled = () => {[m
[32m+[m[32m    return !this.state.isShared;[m
[32m+[m[32m  };[m
[32m+[m
[32m+[m[32m  showCopyMessage = () => {[m
[32m+[m[32m    addNotification(t('common.sharing.notification'));[m
[32m+[m[32m  };[m
[32m+[m
[32m+[m[32m  render() {[m
[32m+[m[32m    const {loaded, isShared, includeFilters} = this.state;[m
[32m+[m
[32m+[m[32m    if (!loaded) {[m
[32m+[m[32m      return ([m
[32m+[m[32m        <div className="ShareEntity">[m
[32m+[m[32m          <LoadingIndicator />[m
[32m+[m[32m        </div>[m
[32m+[m[32m      );[m
[32m+[m[32m    }[m
[32m+[m
[32m+[m[32m    return ([m
[32m+[m[32m      <Form className="ShareEntity">[m
[32m+[m[32m        <Switch[m
[32m+[m[32m          checked={isShared}[m
[32m+[m[32m          onChange={this.toggleValue}[m
[32m+[m[32m          label={t('common.sharing.popoverTitle')}[m
[32m+[m[32m        />[m
[32m+[m[32m        <Input[m
[32m+[m[32m          className="linkText"[m
[32m+[m[32m          readOnly[m
[32m+[m[32m          disabled={!isShared}[m
[32m+[m[32m          value={this.buildShareLink()}[m
[32m+[m[32m          placeholder={t('common.sharing.inputPlaceholder')}[m
[32m+[m[32m        />[m
[32m+[m[32m        <div className="includeFilters">[m
[32m+[m[32m          <LabeledInput[m
[32m+[m[32m            type="checkbox"[m
[32m+[m[32m            disabled={!isShared}[m
[32m+[m[32m            checked={includeFilters}[m
[32m+[m[32m            onChange={(evt) => {[m
[32m+[m[32m              this.setState({includeFilters: evt.target.checked});[m
[32m+[m[32m            }}[m
[32m+[m[32m            label={t('common.sharing.filtersLabel')}[m
[32m+[m[32m          />[m
[32m+[m[32m        </div>[m
[32m+[m[32m        <div className="clipboardButtons">[m
[32m+[m[32m          <CopyToClipboard[m
[32m+[m[32m            disabled={!isShared}[m
[32m+[m[32m            value={this.buildShareLink()}[m
[32m+[m[32m            onCopy={this.showCopyMessage}[m
[32m+[m[32m          >[m
[32m+[m[32m            {t('common.sharing.copyLabel')}[m
[32m+[m[32m          </CopyToClipboard>[m
[32m+[m[32m          <CopyToClipboard[m
[32m+[m[32m            disabled={!isShared}[m
[32m+[m[32m            value={this.buildShareLinkForEmbedding()}[m
[32m+[m[32m            onCopy={this.showCopyMessage}[m
[32m+[m[32m          >[m
[32m+[m[32m            {t('common.sharing.embedLabel')}[m
[32m+[m[32m          </CopyToClipboard>[m
[32m+[m[32m        </div>[m
[32m+[m[32m      </Form>[m
[32m+[m[32m    );[m
[32m+[m[32m  }[m
[32m+[m[32m}[m
[1mdiff --git a/client/src/modules/components/ShareEntity/ShareEntity.scss b/client/src/modules/components/ShareEntity/ShareEntity.scss[m
[1mindex a89c7e3b16..2f5222dc27 100644[m
[1m--- a/client/src/modules/components/ShareEntity/ShareEntity.scss[m
[1m+++ b/client/src/modules/components/ShareEntity/ShareEntity.scss[m
[36m@@ -1,7 +1,32 @@[m
 .ShareEntity {[m
   width: calc(23rem - 60px);[m
 [m
[31m-  .cds--btn-set button {[m
[31m-    flex: 1;[m
[32m+[m[32m  .Switch {[m
[32m+[m[32m    margin-bottom: 25px;[m
[32m+[m
[32m+[m[32m    .label {[m
[32m+[m[32m      font-size: 16px;[m
[32m+[m[32m      font-weight: bold;[m
[32m+[m[32m      margin-top: -1px;[m
[32m+[m[32m    }[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  > .linkText {[m
[32m+[m[32m    width: 100%;[m
[32m+[m[32m    margin-bottom: 10px;[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  .includeFilters {[m
[32m+[m[32m    padding-bottom: 10px;[m
[32m+[m[32m    font-size: 14px;[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  .clipboardButtons {[m
[32m+[m[32m    margin-top: 10px;[m
[32m+[m[32m    text-align: right;[m
[32m+[m
[32m+[m[32m    .CopyToClipboard {[m
[32m+[m[32m      margin-left: 10px;[m
[32m+[m[32m    }[m
   }[m
 }[m
[1mdiff --git a/client/src/modules/components/ShareEntity/ShareEntity.test.tsx b/client/src/modules/components/ShareEntity/ShareEntity.test.js[m
[1msimilarity index 52%[m
[1mrename from client/src/modules/components/ShareEntity/ShareEntity.test.tsx[m
[1mrename to client/src/modules/components/ShareEntity/ShareEntity.test.js[m
[1mindex e2b8eb66f4..1131030624 100644[m
[1m--- a/client/src/modules/components/ShareEntity/ShareEntity.test.tsx[m
[1m+++ b/client/src/modules/components/ShareEntity/ShareEntity.test.js[m
[36m@@ -5,69 +5,62 @@[m
  * except in compliance with the proprietary license.[m
  */[m
 [m
[31m-import {runLastEffect} from '__mocks__/react';[m
[32m+[m[32mimport React from 'react';[m
 import {shallow} from 'enzyme';[m
[31m-import {Checkbox, TextInput, TextInputSkeleton, Toggle} from '@carbon/react';[m
 [m
 import ShareEntity from './ShareEntity';[m
 [m
 const props = {[m
   type: 'report',[m
[31m-  resourceId: 'resourceId',[m
   shareEntity: jest.fn(),[m
   revokeEntitySharing: jest.fn(),[m
[31m-  getSharedEntity: jest.fn().mockReturnValue(10),[m
[32m+[m[32m  getSharedEntity: jest.fn(),[m
 };[m
 [m
[31m-let originalWindowLocation = window.location;[m
[32m+[m[32mbeforeAll(() => {[m
[32m+[m[32m  const windowProps = JSON.stringify(window.location);[m
[32m+[m[32m  delete window.location;[m
 [m
[31m-beforeEach(() => {[m
[31m-  jest.clearAllMocks();[m
   Object.defineProperty(window, 'location', {[m
[31m-    configurable: true,[m
[31m-    enumerable: true,[m
[31m-    value: new URL(window.location.href),[m
[32m+[m[32m    value: JSON.parse(windowProps),[m
   });[m
[31m-[m
   window.location.href = 'http://example.com/#/dashboard/1';[m
 });[m
 [m
[31m-afterEach(() => {[m
[31m-  Object.defineProperty(window, 'location', {[m
[31m-    configurable: true,[m
[31m-    enumerable: true,[m
[31m-    value: originalWindowLocation,[m
[31m-  });[m
[32m+[m[32mit('should render without crashing', () => {[m
[32m+[m[32m  shallow(<ShareEntity {...props} />);[m
 });[m
 [m
[31m-it('should initially get already shared entities', async () => {[m
[32m+[m[32mit('should initially get already shared entities', () => {[m
   shallow(<ShareEntity {...props} />);[m
[31m-  await runLastEffect();[m
 [m
   expect(props.getSharedEntity).toHaveBeenCalled();[m
 });[m
 [m
[31m-it('should share entity if is checked', async () => {[m
[32m+[m[32mit('should share entity if is checked', () => {[m
[32m+[m[32m  props.getSharedEntity.mockReturnValue(10);[m
[32m+[m
   const node = shallow(<ShareEntity {...props} />);[m
[31m-  await runLastEffect();[m
 [m
[31m-  node.find(Toggle).simulate('toggle', true);[m
[32m+[m[32m  node.instance().toggleValue({target: {checked: true}});[m
 [m
   expect(props.shareEntity).toHaveBeenCalled();[m
 });[m
 [m
[31m-it('should delete entity if sharing is revoked', async () => {[m
[32m+[m[32mit('should delete entity if sharing is revoked', () => {[m
[32m+[m[32m  props.getSharedEntity.mockReturnValue(10);[m
[32m+[m
   const node = shallow(<ShareEntity {...props} />);[m
[31m-  await runLastEffect();[m
 [m
[31m-  node.find(Toggle).simulate('toggle', false);[m
[32m+[m[32m  node.instance().toggleValue({target: {checked: false}});[m
 [m
   expect(props.revokeEntitySharing).toHaveBeenCalled();[m
 });[m
 [m
[31m-it('should construct special link', async () => {[m
[31m-  const node = shallow(<ShareEntity {...props} type="report" />);[m
[31m-  await runLastEffect();[m
[32m+[m[32mit('should construct special link', () => {[m
[32m+[m[32m  const node = shallow(<ShareEntity type="report" {...props} />);[m
[32m+[m
[32m+[m[32m  node.setState({loaded: true, id: 10});[m
 [m
   expect(node.find('CopyToClipboard').at(0)).toHaveProp([m
     'value',[m
[36m@@ -75,13 +68,14 @@[m [mit('should construct special link', async () => {[m
   );[m
 });[m
 [m
[31m-it('should construct special link for embedding', async () => {[m
[31m-  const node = shallow(<ShareEntity {...props} type="report" />);[m
[31m-  await runLastEffect();[m
[32m+[m[32mit('should construct special link for embedding', () => {[m
[32m+[m[32m  const node = shallow(<ShareEntity type="report" {...props} />);[m
   Object.defineProperty(window.location, 'origin', {[m
     value: 'http://example.com',[m
   });[m
 [m
[32m+[m[32m  node.setState({loaded: true, id: 10});[m
[32m+[m
   const clipboardValue = node.find('CopyToClipboard').at(1).prop('value');[m
 [m
   expect(clipboardValue).toContain('<iframe src="http://example.com/external/#/share/report/10');[m
[36m@@ -93,45 +87,46 @@[m [mit('should include filters', async () => {[m
     <ShareEntity[m
       {...props}[m
       type="dashboard"[m
[31m-      filter={[{data: null, type: 'runningInstancesOnly', filterLevel: 'instance', appliedTo: []}]}[m
[32m+[m[32m      filter={[{data: null, type: 'runningInstancesOnly'}]}[m
     />[m
   );[m
[31m-  await runLastEffect();[m
 [m
[31m-  node.find(Checkbox).simulate('change', {target: {checked: true}});[m
[32m+[m[32m  await flushPromises();[m
[32m+[m
[32m+[m[32m  node.find('.includeFilters [type="checkbox"]').simulate('change', {target: {checked: true}});[m
 [m
   const link = node.find('CopyToClipboard').at(0).prop('value');[m
   expect(link).toContain('?filter=');[m
   expect(link).toContain('runningInstancesOnly');[m
 });[m
 [m
[31m-it('should display a loading indicator', async () => {[m
[32m+[m[32mit('should display a loading indicator', () => {[m
   const node = shallow(<ShareEntity {...props} />);[m
[31m-  runLastEffect();[m
 [m
[31m-  expect(node.find(TextInputSkeleton)).toExist();[m
[31m-  await flushPromises();[m
[32m+[m[32m  expect(node.find('LoadingIndicator')).toExist();[m
 });[m
 [m
 it('should disable all controlls when sharing is disabled', async () => {[m
[31m-  props.getSharedEntity.mockReturnValue(null);[m
[31m-  const node = shallow(<ShareEntity {...props} filter={[]} />);[m
[31m-  await runLastEffect();[m
[32m+[m[32m  props.getSharedEntity.mockReturnValue();[m
[32m+[m[32m  const node = shallow(<ShareEntity {...props} />);[m
[32m+[m
[32m+[m[32m  await flushPromises();[m
 [m
[31m-  expect(node.find(TextInput).prop('disabled')).toBe(true);[m
[31m-  expect(node.find(Checkbox).prop('disabled')).toBe(true);[m
[32m+[m[32m  expect(node.find('.linkText').prop('disabled')).toBe(true);[m
[32m+[m[32m  expect(node.find('.includeFilters ForwardRef(LabeledInput)').prop('disabled')).toBe(true);[m
   expect(node.find('CopyToClipboard').at(0).prop('disabled')).toBe(true);[m
   expect(node.find('CopyToClipboard').at(1).prop('disabled')).toBe(true);[m
 });[m
 [m
 it('should enable all controlls when sharing is enabled', async () => {[m
[31m-  const node = shallow(<ShareEntity {...props} filter={[]} />);[m
[31m-  await runLastEffect();[m
[32m+[m[32m  const node = shallow(<ShareEntity {...props} />);[m
[32m+[m
[32m+[m[32m  await flushPromises();[m
 [m
[31m-  node.find(Toggle).simulate('toggle', true);[m
[32m+[m[32m  node.find('Switch').simulate('change', {target: {checked: true}});[m
 [m
[31m-  expect(node.find(TextInput).prop('disabled')).toBe(false);[m
[31m-  expect(node.find(Checkbox).prop('disabled')).toBe(false);[m
[32m+[m[32m  expect(node.find('.linkText').prop('disabled')).toBe(false);[m
[32m+[m[32m  expect(node.find('.includeFilters ForwardRef(LabeledInput)').prop('disabled')).toBe(false);[m
   expect(node.find('CopyToClipboard').at(0).prop('disabled')).toBe(false);[m
   expect(node.find('CopyToClipboard').at(1).prop('disabled')).toBe(false);[m
 });[m
[1mdiff --git a/client/src/modules/components/ShareEntity/ShareEntity.tsx b/client/src/modules/components/ShareEntity/ShareEntity.tsx[m
[1mdeleted file mode 100644[m
[1mindex 60ff194e9c..0000000000[m
[1m--- a/client/src/modules/components/ShareEntity/ShareEntity.tsx[m
[1m+++ /dev/null[m
[36m@@ -1,171 +0,0 @@[m
[31m-/*[m
[31m- * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH[m
[31m- * under one or more contributor license agreements. Licensed under a proprietary license.[m
[31m- * See the License.txt file for more information. You may not use this file[m
[31m- * except in compliance with the proprietary license.[m
[31m- */[m
[31m-[m
[31m-import {useEffect, useState} from 'react';[m
[31m-import {CopyToClipboard} from 'components';[m
[31m-import {ProcessFilter} from 'types';[m
[31m-import {[m
[31m-  Checkbox,[m
[31m-  TextInput,[m
[31m-  Toggle,[m
[31m-  Form,[m
[31m-  Stack,[m
[31m-  ToggleSkeleton,[m
[31m-  TextInputSkeleton,[m
[31m-  ButtonSkeleton,[m
[31m-  ButtonSet,[m
[31m-} from '@carbon/react';[m
[31m-[m
[31m-import {t} from 'translation';[m
[31m-import {addNotification} from 'notifications';[m
[31m-[m
[31m-import './ShareEntity.scss';[m
[31m-[m
[31m-interface ShareEntityProps {[m
[31m-  getSharedEntity: (resourceId: string) => Promise<string>;[m
[31m-  shareEntity: (resourceId: string) => Promise<string>;[m
[31m-  revokeEntitySharing: (id: string) => Promise<void>;[m
[31m-  resourceId: string;[m
[31m-  type: string;[m
[31m-  filter?: ProcessFilter[];[m
[31m-  defaultFilter?: ProcessFilter;[m
[31m-}[m
[31m-[m
[31m-export default function ShareEntity({[m
[31m-  getSharedEntity,[m
[31m-  shareEntity,[m
[31m-  revokeEntitySharing,[m
[31m-  resourceId,[m
[31m-  type,[m
[31m-  filter,[m
[31m-  defaultFilter,[m
[31m-}: ShareEntityProps) {[m
[31m-  const [loaded, setLoaded] = useState(false);[m
[31m-  const [isShared, setIsShared] = useState(false);[m
[31m-  const [includeFilters, setIncludeFilters] = useState(false);[m
[31m-  const [id, setId] = useState('');[m
[31m-[m
[31m-  useEffect(() => {[m
[31m-    const fetchData = async () => {[m
[31m-      const sharedId = await getSharedEntity(resourceId);[m
[31m-      setId(sharedId);[m
[31m-      setIsShared(!!sharedId);[m
[31m-      setLoaded(true);[m
[31m-    };[m
[31m-    fetchData();[m
[31m-  }, [getSharedEntity, resourceId]);[m
[31m-[m
[31m-  const toggleValue = async (checked: boolean) => {[m
[31m-    setIsShared(checked);[m
[31m-[m
[31m-    if (checked) {[m
[31m-      const sharedId = await shareEntity(resourceId);[m
[31m-      setId(sharedId);[m
[31m-    } else {[m
[31m-      await revokeEntitySharing(id);[m
[31m-      setId('');[m
[31m-    }[m
[31m-  };[m
[31m-[m
[31m-  const buildShareLink = (params: {mode?: string} = {}) => {[m
[31m-    if (!id) {[m
[31m-      return '';[m
[31m-    }[m
[31m-[m
[31m-    const currentUrl = window.location.href;[m
[31m-    const query = new URLSearchParams();[m
[31m-    for (const [key, value] of Object.entries(params)) {[m
[31m-      query.set(key, value);[m
[31m-    }[m
[31m-    if (includeFilters) {[m
[31m-      query.set('filter', JSON.stringify(filter));[m
[31m-    } else if (defaultFilter) {[m
[31m-      query.set('filter', JSON.stringify(defaultFilter));[m
[31m-    }[m
[31m-    const queryString = query.toString();[m
[31m-[m
[31m-    return `${currentUrl.substring(0, currentUrl.indexOf('#'))}external/#/share/${type}/${id}${[m
[31m-      queryString && '?' + queryString[m
[31m-    }`;[m
[31m-  };[m
[31m-[m
[31m-  const buildShareLinkForEmbedding = () => {[m
[31m-    if (id) {[m
[31m-      return `<iframe src="${buildShareLink({[m
[31m-        mode: 'embed',[m
[31m-      })}" frameborder="0" style="width: 1000px; height: 700px; allowtransparency; overflow: scroll"></iframe>`;[m
[31m-    } else {[m
[31m-      return '';[m
[31m-    }[m
[31m-  };[m
[31m-[m
[31m-  const showCopyMessage = () => {[m
[31m-    addNotification(t('common.sharing.notification').toString());[m
[31m-  };[m
[31m-[m
[31m-  if (!loaded) {[m
[31m-    return ([m
[31m-      <div className="ShareEntity">[m
[31m-        <Stack gap={6}>[m
[31m-          <ToggleSkeleton />[m
[31m-          <TextInputSkeleton />[m
[31m-          <div>[m
[31m-            <ButtonSkeleton />[m
[31m-            <ButtonSkeleton />[m
[31m-          </div>[m
[31m-        </Stack>[m
[31m-      </div>[m
[31m-    );[m
[31m-  }[m
[31m-[m
[31m-  return ([m
[31m-    <Form className="ShareEntity">[m
[31m-      <Stack gap={6}>[m
[31m-        <Toggle[m
[31m-          id="sharingToggle"[m
[31m-          toggled={isShared}[m
[31m-          size="sm"[m
[31m-          labelText={t('common.sharing.popoverTitle').toString()}[m
[31m-          onToggle={toggleValue}[m
[31m-        />[m
[31m-        <TextInput[m
[31m-          id="sharingLinkText"[m
[31m-          placeholder={t('common.sharing.inputPlaceholder').toString()}[m
[31m-          labelText={t('common.link')}[m
[31m-          value={buildShareLink()}[m
[31m-          disabled={!isShared}[m
[31m-          readOnly[m
[31m-        />[m
[31m-        {filter && ([m
[31m-          <Checkbox[m
[31m-            id="shareFilterCheckbox"[m
[31m-            disabled={!isShared}[m
[31m-            checked={includeFilters}[m
[31m-            onChange={(evt) => {[m
[31m-              setIncludeFilters(evt.target.checked);[m
[31m-            }}[m
[31m-            labelText={t('common.sharing.filtersLabel')}[m
[31m-          />[m
[31m-        )}[m
[31m-[m
[31m-        <ButtonSet aria-disabled={!isShared}>[m
[31m-          <CopyToClipboard disabled={!isShared} value={buildShareLink()} onCopy={showCopyMessage}>[m
[31m-            {t('common.sharing.copyLabel')}[m
[31m-          </CopyToClipboard>[m
[31m-          <CopyToClipboard[m
[31m-            disabled={!isShared}[m
[31m-            value={buildShareLinkForEmbedding()}[m
[31m-            onCopy={showCopyMessage}[m
[31m-            kind="secondary"[m
[31m-          >[m
[31m-            {t('common.sharing.embedLabel')}[m
[31m-          </CopyToClipboard>[m
[31m-        </ButtonSet>[m
[31m-      </Stack>[m
[31m-    </Form>[m
[31m-  );[m
[31m-}[m
[1mdiff --git a/client/src/modules/components/ShareEntity/index.tsx b/client/src/modules/components/ShareEntity/index.js[m
[1msimilarity index 100%[m
[1mrename from client/src/modules/components/ShareEntity/index.tsx[m
[1mrename to client/src/modules/components/ShareEntity/index.js[m
[1mdiff --git a/client/src/modules/components/Tabs/Tabs.tsx b/client/src/modules/components/Tabs/Tabs.tsx[m
[1mindex 309d3de69b..e150eb005e 100644[m
[1m--- a/client/src/modules/components/Tabs/Tabs.tsx[m
[1m+++ b/client/src/modules/components/Tabs/Tabs.tsx[m
[36m@@ -5,10 +5,10 @@[m
  * except in compliance with the proprietary license.[m
  */[m
 [m
[31m-import {useState, useEffect, ComponentPropsWithoutRef, ReactNode} from 'react';[m
[32m+[m[32mimport {useState, useEffect, ComponentPropsWithoutRef, ReactNode, Children} from 'react';[m
 import {Tabs as CarbonTabs, TabList, Tab, TabPanels, TabPanel} from '@carbon/react';[m
 [m
[31m-import {ignoreFragments} from 'services';[m
[32m+[m[32mimport {isReactElement} from 'services';[m
 [m
 import './Tabs.scss';[m
 [m
[36m@@ -32,7 +32,7 @@[m [mexport default function Tabs<T extends string | number>({[m
   children,[m
   showButtons = true,[m
 }: TabsProps<T>) {[m
[31m-  const tabs = ignoreFragments(children);[m
[32m+[m[32m  const tabs = Children.toArray(children).filter(isReactElement<TabProps<T>>);[m
   const values = tabs.map<T>(({props: {value}}, idx) => (value || idx) as T);[m
   const [selected, setSelected] = useState<T>(value);[m
 [m
[36m@@ -51,8 +51,8 @@[m [mexport default function Tabs<T extends string | number>({[m
     >[m
       {showButtons && ([m
         <TabList aria-label="tabs">[m
[31m-          {tabs.map(({props: {value, title, disabled, ...rest}}, idx) => ([m
[31m-            <Tab {...rest} key={getIndex(values, value || idx)} disabled={disabled}>[m
[32m+[m[32m          {tabs.map(({props: {value, title, disabled}}, idx) => ([m
[32m+[m[32m            <Tab key={getIndex(values, value || idx)} disabled={disabled}>[m
               {title}[m
             </Tab>[m
           ))}[m
[1mdiff --git a/client/src/modules/components/TemplateModal/DashboardTemplateModal.js b/client/src/modules/components/TemplateModal/DashboardTemplateModal.js[m
[1mindex e5c0dd32e9..08ab9a65b9 100644[m
[1m--- a/client/src/modules/components/TemplateModal/DashboardTemplateModal.js[m
[1m+++ b/client/src/modules/components/TemplateModal/DashboardTemplateModal.js[m
[36m@@ -11,13 +11,14 @@[m [mimport {t} from 'translation';[m
 import {getOptimizeProfile} from 'config';[m
 [m
 import TemplateModal from './TemplateModal';[m
[31m-[m
[31m-import processPerformance from './images/processPerformance.png';[m
[31m-import humanPerformance from './images/humanPerformance.png';[m
[31m-import humanBottleneckAnalysis from './images/humanBottleneckAnalysis.png';[m
[31m-import portfolioPerformance from './images/portfolioPerformance.png';[m
[31m-import operationsMonitoring from './images/operationsMonitoring.png';[m
[31m-import instantPreviewDashboard from './images/instantPreviewDashboard.png';[m
[32m+[m[32mimport {[m
[32m+[m[32m  accelerationDashboardTemplate,[m
[32m+[m[32m  efficiencyDashboardTemplate,[m
[32m+[m[32m  operationsMonitoringDashboardTemplate,[m
[32m+[m[32m  portfolioPerformanceDashboardTemplate,[m
[32m+[m[32m  processDashboardTemplate,[m
[32m+[m[32m  productivityDashboardTemplate,[m
[32m+[m[32m} from './templates';[m
 [m
 export default function DashboardTemplateModal({[m
   onClose,[m
[36m@@ -43,2223 +44,20 @@[m [mexport default function DashboardTemplateModal({[m
     {[m
       name: 'singleProcessGroup',[m
       templates: [[m
[31m-        {[m
[31m-          name: 'instantPreviewDashboard',[m
[31m-          disabled: (definitions) => definitions.length > 1,[m
[31m-          disableDescription: true,[m
[31m-          img: instantPreviewDashboard,[m
[31m-          config: [[m
[31m-            {[m
[31m-              position: {[m
[31m-                x: 3,[m
[31m-                y: 2,[m
[31m-              },[m
[31m-              dimensions: {[m
[31m-                width: 5,[m
[31m-                height: 2,[m
[31m-              },[m
[31m-              type: 'optimize_report',[m
[31m-              report: {[m
[31m-                name: t('instantDashboard.report.IP_TileText_BusinessOperations_Report1'),[m
[31m-                data: {[m
[31m-                  configuration: {[m
[31m-                    aggregationTypes: [[m
[31m-                      {[m
[31m-                        type: 'avg',[m
[31m-                        value: null,[m
[31m-                      },[m
[31m-                    ],[m
[31m-                    userTaskDurationTimes: ['total'],[m
[31m-                    sorting: {[m
[31m-                      by: 'key',[m
[31m-                      order: 'desc',[m
[31m-                    },[m
[31m-                  },[m
[31m-                  filter: [[m
[31m-                    {[m
[31m-                      type: 'runningInstancesOnly',[m
[31m-                      data: null,[m
[31m-                      filterLevel: 'instance',[m
[31m-                      appliedTo: ['all'],[m
[31m-                    },[m
[31m-                  ],[m
[31m-                  view: {[m
[31m-                    entity: 'processInstance',[m
[31m-                    properties: ['frequency'],[m
[31m-                  },[m
[31m-                  groupBy: {[m
[31m-                    type: 'none',[m
[31m-                    value: null,[m
[31m-                  },[m
[31m-                  visualization: 'number',[m
[31m-                },[m
[31m-              },[m
[31m-            },[m
[31m-            {[m
[31m-              position: {[m
[31m-                x: 8,[m
[31m-                y: 2,[m
[31m-              },[m
[31m-              dimensions: {[m
[31m-                width: 5,[m
[31m-                height: 2,[m
[31m-              },[m
[31m-              type: 'optimize_report',[m
[31m-              report: {[m
[31m-                name: t('instantDashboard.report.IP_TileText_BusinessOperations_Report2'),[m
[31m-                data: {[m
[31m-                  configuration: {[m
[31m-                    color: '#1991c8',[m
[31m-                    aggregationTypes: [[m
[31m-                      {[m
[31m-                        type: 'avg',[m
[31m-                        value: null,[m
[31m-                      },[m
[31m-                    ],[m
[31m-                    userTaskDurationTimes: ['total'],[m
[31m-                  },[m
[31m-                  filter: [[m
[31m-                    {[m
[31m-                      type: 'instanceStartDate',[m
[31m-                      data: {[m
[31m-                        type: 'rolling',[m
[31m-                        start: {[m
[31m-                          value: 7,[m
[31m-                          unit: 'days',[m
[31m-                        },[m
[31m-                        end: null,[m
[31m-                        includeUndefined: false,[m
[31m-                        excludeUndefined: false,[m
[31m-                      },[m
[31m-                      filterLevel: 'instance',[m
[31m-                      appliedTo: ['all'],[m
[31m-                    },[m
[31m-                  ],[m
[31m-                  view: {[m
[31m-                    entity: 'processInstance',[m
[31m-                    properties: ['frequency'],[m
[31m-                  },[m
[31m-                  groupBy: {[m
[31m-                    type: 'none',[m
[31m-                    value: null,[m
[31m-                  },[m
[31m-                  visualization: 'number',[m
[31m-                },[m
[31m-              },[m
[31m-            },[m
[31m-            {[m
[31m-              position: {[m
[31m-                x: 13,[m
[31m-                y: 2,[m
[31m-              },[m
[31m-              dimensions: {[m
[31m-                width: 5,[m
[31m-                height: 2,[m
[31m-              },[m
[31m-              type: 'optimize_report',[m
[31m-              report: {[m
[31m-                name: t('instantDashboard.report.IP_TileText_BusinessOperations_Report3'),[m
[31m-                data: {[m
[31m-                  configuration: {[m
[31m-                    aggregationTypes: [[m
[31m-                      {[m
[31m-                        type: 'sum',[m
[31m-                        value: null,[m
[31m-                      },[m
[31m-                      {[m
[31m-                        type: 'percentile',[m
[31m-                        value: 75.0,[m
[31m-                      },[m
[31m-                    ],[m
[31m-                    userTaskDurationTimes: ['total'],[m
[31m-                    precision: 1,[m
[31m-                  },[m
[31m-                  filter: [[m
[31m-                    {[m
[31m-                      type: 'instanceEndDate',[m
[31m-                      data: {[m
[31m-                        type: 'rolling',[m
[31m-                        start: {[m
[31m-                          value: 7,[m
[31m-                          unit: 'days',[m
[31m-                        },[m
[31m-                        end: null,[m
[31m-                        includeUndefined: false,[m
[31m-                        excludeUndefined: false,[m
[31m-                      },[m
[31m-                      filterLevel: 'instance',[m
[31m-                      appliedTo: ['all'],[m
[31m-                    },[m
[31m-                  ],[m
[31m-                  view: {[m
[31m-                    entity: 'processInstance',[m
[31m-                    properties: ['frequency'],[m
[31m-                  },[m
[31m-                  groupBy: {[m
[31m-                    type: 'none',[m
[31m-                    value: null,[m
[31m-                  },[m
[31m-                  visualization: 'number',[m
[31m-                },[m
[31m-              },[m
[31m-            },[m
[31m-            {[m
[31m-              position: {[m
[31m-                x: 13,[m
[31m-                y: 4,[m
[31m-              },[m
[31m-              dimensions: {[m
[31m-                width: 5,[m
[31m-                height: 2,[m
[31m-              },[m
[31m-              type: 'optimize_report',[m
[31m-              report: {[m
[31m-                name: t('instantDashboard.report.IP_TileText_BusinessOperations_Report5'),[m
[31m-                data: {[m
[31m-                  configuration: {[m
[31m-                    color: '#1991c8',[m
[31m-                    aggregationTypes: [[m
[31m-                      {[m
[31m-                        type: 'avg',[m
[31m-                        value: null,[m
[31m-                      },[m
[31m-                    ],[m
[31m-                    userTaskDurationTimes: ['total'],[m
[31m-                  },[m
[31m-                  filter: [[m
[31m-                    {[m
[31m-                      type: 'runningInstancesOnly',[m
[31m-                      data: null,[m
[31m-                      filterLevel: 'instance',[m
[31m-                      appliedTo: ['all'],[m
[31m-                    },[m
[31m-                  ],[m
[31m-                  view: {[m
[31m-                    entity: 'incident',[m
[31m-                    properties: ['frequency'],[m
[31m-                  },[m
[31m-                  groupBy: {[m
[31m-                    type: 'none',[m
[31m-                    value: null,[m
[31m-                  },[m
[31m-                  visualization: 'number',[m
[31m-                },[m
[31m-              },[m
[31m-            },[m
[31m-            {[m
[31m-              position: {[m
[31m-                x: 3,[m
[31m-                y: 4,[m
[31m-              },[m
[31m-              dimensions: {[m
[31m-                width: 10,[m
[31m-                height: 3,[m
[31m-              },[m
[31m-              type: 'optimize_report',[m
[31m-              report: {[m
[31m-                name: t('instantDashboard.report.IP_TileText_BusinessOperations_Report4'),[m
[31m-                data: {[m
[31m-                  configuration: {[m
[31m-                    aggregationTypes: [[m
[31m-                      {[m
[31m-                        type: 'avg',[m
[31m-                        value: null,[m
[31m-                      },[m
[31m-                    ],[m
[31m-                    userTaskDurationTimes: ['total'],[m
[31m-                  },[m
[31m-                  view: {[m
[31m-                    entity: 'incident',[m
[31m-                    properties: ['frequency'],[m
[31m-                  },[m
[31m-                  groupBy: {[m
[31m-                    type: 'flowNodes',[m
[31m-                    value: null,[m
[31m-                  },[m
[31m-                  visualization: 'heat',[m
[31m-                },[m
[31m-              },[m
[31m-            },[m
[31m-            {[m
[31m-              position: {[m
[31m-                x: 3,[m
[31m-                y: 7,[m
[31m-              },[m
[31m-              dimensions: {[m
[31m-                width: 10,[m
[31m-                height: 2,[m
[31m-              },[m
[31m-              type: 'optimize_report',[m
[31m-              report: {[m
[31m-                name: t('instantDashboard.report.IP_TileText_BusinessOperations_Report6'),[m
[31m-                data: {[m
[31m-                  configuration: {[m
[31m-                    color: '#DB3E00',[m
[31m-                    aggregationTypes: [[m
[31m-                      {[m
[31m-                        type: 'avg',[m
[31m-                        value: null,[m
[31m-                      },[m
[31m-                    ],[m
[31m-                    userTaskDurationTimes: ['total'],[m
[31m-                  },[m
[31m-                  filter: [[m
[31m-                    {[m
[31m-                      type: 'instanceStartDate',[m
[31m-                      data: {[m
[31m-                        type: 'rolling',[m
[31m-                        start: {[m
[31m-                          value: 7,[m
[31m-                          unit: 'days',[m
[31m-                        },[m
[31m-                        end: null,[m
[31m-                        includeUndefined: false,[m
[31m-                        excludeUndefined: false,[m
[31m-                      },[m
[31m-                      filterLevel: 'instance',[m
[31m-                      appliedTo: ['all'],[m
[31m-                    },[m
[31m-                  ],[m
[31m-                  view: {[m
[31m-                    entity: 'processInstance',[m
[31m-                    properties: ['frequency'],[m
[31m-                  },[m
[31m-                  groupBy: {[m
[31m-                    type: 'startDate',[m
[31m-                    value: {[m
[31m-                      unit: 'day',[m
[31m-                    },[m
[31m-                  },[m
[31m-                  visualization: 'line',[m
[31m-                },[m
[31m-              },[m
[31m-            },[m
[31m-            {[m
[31m-              position: {[m
[31m-                x: 3,[m
[31m-                y: 10,[m
[31m-              },[m
[31m-              dimensions: {[m
[31m-                width: 10,[m
[31m-                height: 4,[m
[31m-              },[m
[31m-              type: 'optimize_report',[m
[31m-              report: {[m
[31m-                name: t('instantDashboard.report.IP_TileText_BusinessReporting_Report1'),[m
[31m-                data: {[m
[31m-                  configuration: {[m
[31m-                    color: '#1991c8',[m
[31m-                    aggregationTypes: [[m
[31m-                      {[m
[31m-                        type: 'avg',[m
[31m-                        value: null,[m
[31m-                      },[m
[31m-                    ],[m
[31m-                    userTaskDurationTimes: ['total'],[m
[31m-                    sorting: {[m
[31m-                      by: 'key',[m
[31m-                      order: 'asc',[m
[31m-                    },[m
[31m-                  },[m
[31m-                  filter: [[m
[31m-                    {[m
[31m-                      type: 'instanceEndDate',[m
[31m-                      data: {[m
[31m-                        type: 'rolling',[m
[31m-                        start: {[m
[31m-                          value: 1,[m
[31m-                          unit: 'years',[m
[31m-                        },[m
[31m-                        end: null,[m
[31m-                        includeUndefined: false,[m
[31m-                        excludeUndefined: false,[m
[31m-                      },[m
[31m-                      filterLevel: 'instance',[m
[31m-                      appliedTo: ['all'],[m
[31m-                    },[m
[31m-                  ],[m
[31m-                  view: {[m
[31m-                    entity: 'processInstance',[m
[31m-                    properties: ['frequency'],[m
[31m-                  },[m
[31m-                  groupBy: {[m
[31m-                    type: 'endDate',[m
[31m-                    value: {[m
[31m-                      unit: 'month',[m
[31m-                    },[m
[31m-                  },[m
[31m-                  visualization: 'bar',[m
[31m-                },[m
[31m-              },[m
[31m-            },[m
[31m-            {[m
[31m-              position: {[m
[31m-                x: 3,[m
[31m-                y: 15,[m
[31m-              },[m
[31m-              dimensions: {[m
[31m-                width: 10,[m
[31m-                height: 4,[m
[31m-              },[m
[31m-              type: 'optimize_report',[m
[31m-              report: {[m
[31m-                name: t('instantDashboard.report.IP_TileText_ProcessImprovement_Report1'),[m
[31m-                data: {[m
[31m-                  configuration: {[m
[31m-                    aggregationTypes: [[m
[31m-                      {[m
[31m-                        type: 'percentile',[m
[31m-                        value: 75.0,[m
[31m-                      },[m
[31m-                    ],[m
[31m-                    userTaskDurationTimes: ['total'],[m
[31m-                  },[m
[31m-                  view: {[m
[31m-                    entity: 'flowNode',[m
[31m-                    properties: ['duration'],[m
[31m-                  },[m
[31m-                  groupBy: {[m
[31m-                    type: 'flowNodes',[m
[31m-                    value: null,[m
[31m-                  },[m
[31m-                  visualization: 'heat',[m
[31m-                },[m
[31m-              },[m
[31m-            },[m
[31m-            {[m
[31m-              position: {[m
[31m-                x: 0,[m
[31m-                y: 0,[m
[31m-              },[m
[31m-              dimensions: {[m
[31m-                width: 18,[m
[31m-                height: 1,[m
[31m-              },[m
[31m-              type: 'text',[m
[31m-              configuration: {[m
[31m-                text: {[m
[31m-                  root: {[m
[31m-                    children: [[m
[31m-                      {[m
[31m-                        children: [[m
[31m-                          {[m
[31m-                            altText: 'https://i.postimg.cc/jSwfwDKW/OPT_Logo.png',[m
[31m-                            src: 'https://i.postimg.cc/jSwfwDKW/OPT_Logo.png',[m
[31m-                            width: 0,[m
[31m-                            caption: {[m
[31m-                              editorState: {[m
[31m-                                root: {[m
[31m-                                  children: [],[m
[31m-                                  indent: 0,[m
[31m-                                  format: '',[m
[31m-                                  type: 'root',[m
[31m-                                  version: 1,[m
[31m-                                  direction: null,[m
[31m-                                },[m
[31m-                              },[m
[31m-                            },[m
[31m-                            showCaption: false,[m
[31m-                            type: 'image',[m
[31m-                            version: 1,[m
[31m-                            height: 0,[m
[31m-                            maxWidth: 500,[m
[31m-                          },[m
[31m-                        ],[m
[31m-                        format: '',[m
[31m-                        type: 'paragraph',[m
[31m-                        version: 1,[m
[31m-                        direction: null,[m
[31m-                      },[m
[31m-                    ],[m
[31m-                    indent: 0,[m
[31m-                    format: '',[m
[31m-                    type: 'root',[m
[31m-                    version: 1,[m
[31m-                    direction: null,[m
[31m-                  },[m
[31m-                },[m
[31m-              },[m
[31m-            },[m
[31m-            {[m
[31m-              position: {[m
[31m-                x: 0,[m
[31m-                y: 1,[m
[31m-              },[m
[31m-              dimensions: {[m
[31m-                width: 18,[m
[31m-                height: 1,[m
[31m-              },[m
[31m-              type: 'text',[m
[31m-              configuration: {[m
[31m-                text: {[m
[31m-                  root: {[m
[31m-                    children: [[m
[31m-                      {[m
[31m-                        children: [[m
[31m-                          {[m
[31m-                            altText: 'https://i.postimg.cc/vZNphSpq/OPT_Business_Operations.png',[m
[31m-                            src: 'https://i.postimg.cc/vZNphSpq/OPT_Business_Operations.png',[m
[31m-                            width: 0,[m
[31m-                            caption: {[m
[31m-                              editorState: {[m
[31m-                                root: {[m
[31m-                                  children: [],[m
[31m-                                  indent: 0,[m
[31m-                                  format: '',[m
[31m-                                  type: 'root',[m
[31m-                                  version: 1,[m
[31m-                                  direction: null,[m
[31m-                                },[m
[31m-                              },[m
[31m-                            },[m
[31m-                            showCaption: false,[m
[31m-                            type: 'image',[m
[31m-                            version: 1,[m
[31m-                            height: 0,[m
[31m-                            maxWidth: 500,[m
[31m-                          },[m
[31m-                        ],[m
[31m-                        format: '',[m
[31m-                        type: 'paragraph',[m
[31m-                        version: 1,[m
[31m-                        direction: null,[m
[31m-                      },[m
[31m-                    ],[m
[31m-                    indent: 0,[m
[31m-                    format: '',[m
[31m-                    type: 'root',[m
[31m-                    version: 1,[m
[31m-                    direction: null,[m
[31m-                  },[m
[31m-                },[m
[31m-              },[m
[31m-            },[m
[31m-            {[m
[31m-              position: {[m
[31m-                x: 0,[m
[31m-                y: 2,[m
[31m-              },[m
[31m-              dimensions: {[m
[31m-                width: 3,[m
[31m-                height: 7,[m
[31m-              },[m
[31m-              type: 'text',[m
[31m-              configuration: {[m
[31m-                text: {[m
[31m-                  root: {[m
[31m-                    children: [[m
[31m-                      {[m
[31m-                        children: [[m
[31m-                          {[m
[31m-                            mode: 'normal',[m
[31m-                            format: 0,[m
[31m-                            style: '',[m
[31m-                            detail: 0,[m
[31m-                            text: t('instantDashboard.IP_TileText_BusinessOperations'),[m
[31m-                            type: 'text',[m
[31m-                            version: 1,[m
[31m-                          },[m
[31m-                        ],[m
[31m-                        format: '',[m
[31m-                        type: 'paragraph',[m
[31m-                        version: 1,[m
[31m-                        direction: 'ltr',[m
[31m-                      },[m
[31m-                      {[m
[31m-                        children: [[m
[31m-                          {[m
[31m-                            altText:[m
[31m-                              'https://i.postimg.cc/QC6JkvH0/OPT_Logo_Business_Operations.png',[m
[31m-                            src: 'https://i.postimg.cc/QC6JkvH0/OPT_Logo_Business_Operations.png',[m
[31m-                            width: 0,[m
[31m-                            caption: {[m
[31m-                              editorState: {[m
[31m-                                root: {[m
[31m-                                  children: [],[m
[31m-                                  indent: 0,[m
[31m-                                  format: '',[m
[31m-                                  type: 'root',[m
[31m-                                  version: 1,[m
[31m-                                  direction: null,[m
[31m-                                },[m
[31m-                              },[m
[31m-                            },[m
[31m-                            showCaption: false,[m
[31m-                            type: 'image',[m
[31m-                            version: 1,[m
[31m-                            height: 0,[m
[31m-                            maxWidth: 500,[m
[31m-                          },[m
[31m-                        ],[m
[31m-                        indent: 0,[m
[31m-                        format: '',[m
[31m-                        type: 'paragraph',[m
[31m-                        version: 1,[m
[31m-                        direction: null,[m
[31m-                      },[m
[31m-                    ],[m
[31m-                    indent: 0,[m
[31m-                    format: '',[m
[31m-                    type: 'root',[m
[31m-                    version: 1,[m
[31m-                    direction: 'ltr',[m
[31m-                  },[m
[31m-                },[m
[31m-              },[m
[31m-            },[m
[31m-            {[m
[31m-              position: {[m
[31m-                x: 13,[m
[31m-                y: 6,[m
[31m-              },[m
[31m-              dimensions: {[m
[31m-                width: 5,[m
[31m-                height: 3,[m
[31m-              },[m
[31m-              type: 'text',[m
[31m-              configuration: {[m
[31m-                text: {[m
[31m-                  root: {[m
[31m-                    children: [[m
[31m-                      {[m
[31m-                        children: [[m
[31m-                          {[m
[31m-                            mode: 'normal',[m
[31m-                            format: 0,[m
[31m-                            style: '',[m
[31m-                            detail: 0,[m
[31m-                            text: t('instantDashboard.IP_TileText_BusinessOperations_Details_1'),[m
[31m-                            type: 'text',[m
[31m-                            version: 1,[m
[31m-                          },[m
[31m-                        ],[m
[31m-                        indent: 0,[m
[31m-                        format: '',[m
[31m-                        type: 'paragraph',[m
[31m-                        version: 1,[m
[31m-                        direction: 'ltr',[m
[31m-                      },[m
[31m-                      {[m
[31m-                        children: [],[m
[31m-                        indent: 0,[m
[31m-                        format: '',[m
[31m-                        type: 'paragraph',[m
[31m-                        version: 1,[m
[31m-                        direction: 'ltr',[m
[31m-                      },[m
[31m-                      {[m
[31m-                        children: [[m
[31m-                          {[m
[31m-                            mode: 'normal',[m
[31m-                            format: 1,[m
[31m-                            style: '',[m
[31m-                            detail: 0,[m
[31m-                            text: t('instantDashboard.IP_TileText_BusinessOperations_Details_2'),[m
[31m-                            type: 'text',[m
[31m-                            version: 1,[m
[31m-                          },[m
[31m-                        ],[m
[31m-                        format: '',[m
[31m-                        type: 'paragraph',[m
[31m-                        version: 1,[m
[31m-                        direction: 'ltr',[m
[31m-                      },[m
[31m-                      {[m
[31m-                        children: [[m
[31m-                          {[m
[31m-                            mode: 'normal',[m
[31m-                            format: 0,[m
[31m-                            style: '',[m
[31m-                            detail: 0,[m
[31m-                            text: t('instantDashboard.IP_TileText_BusinessOperations_Details_3'),[m
[31m-                            type: 'text',[m
[31m-                            version: 1,[m
[31m-                          },[m
[31m-                        ],[m
[31m-                        indent: 0,[m
[31m-                        format: '',[m
[31m-                        type: 'paragraph',[m
[31m-                        version: 1,[m
[31m-                        direction: 'ltr',[m
[31m-                      },[m
[31m-                    ],[m
[31m-                    indent: 0,[m
[31m-                    format: '',[m
[31m-                    type: 'root',[m
[31m-                    version: 1,[m
[31m-                    direction: 'ltr',[m
[31m-                  },[m
[31m-                },[m
[31m-              },[m
[31m-            },[m
[31m-            {[m
[31m-              position: {[m
[31m-                x: 0,[m
[31m-                y: 10,[m
[31m-              },[m
[31m-              dimensions: {[m
[31m-                width: 3,[m
[31m-                height: 4,[m
[31m-              },[m
[31m-              type: 'text',[m
[31m-              configuration: {[m
[31m-                text: {[m
[31m-                  root: {[m
[31m-                    children: [[m
[31m-                      {[m
[31m-                        children: [[m
[31m-                          {[m
[31m-                            mode: 'normal',[m
[31m-                            format: 0,[m
[31m-                            style: '',[m
[31m-                            detail: 0,[m
[31m-                            text: t('instantDashboard.IP_TileText_BusinessReporting'),[m
[31m-                            type: 'text',[m
[31m-                            version: 1,[m
[31m-                          },[m
[31m-                        ],[m
[31m-                        format: '',[m
[31m-                        type: 'paragraph',[m
[31m-                        version: 1,[m
[31m-                        direction: 'ltr',[m
[31m-                      },[m
[31m-                      {[m
[31m-                        children: [[m
[31m-                          {[m
[31m-                            altText:[m
[31m-                              'https://i.postimg.cc/g0Cpk7YM/OPT_Logo_Business_Reporting.png',[m
[31m-                            src: 'https://i.postimg.cc/g0Cpk7YM/OPT_Logo_Business_Reporting.png',[m
[31m-                            width: 0,[m
[31m-                            caption: {[m
[31m-                              editorState: {[m
[31m-                                root: {[m
[31m-                                  children: [],[m
[31m-                                  indent: 0,[m
[31m-                                  format: '',[m
[31m-                                  type: 'root',[m
[31m-                                  version: 1,[m
[31m-                                  direction: null,[m
[31m-                                },[m
[31m-                              },[m
[31m-                            },[m
[31m-                            showCaption: false,[m
[31m-                            type: 'image',[m
[31m-                            version: 1,[m
[31m-                            height: 0,[m
[31m-                            maxWidth: 500,[m
[31m-                          },[m
[31m-                        ],[m
[31m-                        indent: 0,[m
[31m-                        format: '',[m
[31m-                        type: 'paragraph',[m
[31m-                        version: 1,[m
[31m-                        direction: null,[m
[31m-                      },[m
[31m-                    ],[m
[31m-                    indent: 0,[m
[31m-                    format: '',[m
[31m-                    type: 'root',[m
[31m-                    version: 1,[m
[31m-                    direction: 'ltr',[m
[31m-                  },[m
[31m-                },[m
[31m-              },[m
[31m-            },[m
[31m-            {[m
[31m-              position: {[m
[31m-                x: 0,[m
[31m-                y: 9,[m
[31m-              },[m
[31m-              dimensions: {[m
[31m-                width: 18,[m
[31m-                height: 1,[m
[31m-              },[m
[31m-              type: 'text',[m
[31m-              configuration: {[m
[31m-                text: {[m
[31m-                  root: {[m
[31m-                    children: [[m
[31m-                      {[m
[31m-                        children: [[m
[31m-                          {[m
[31m-                            altText: 'https://i.postimg.cc/prph7MzS/OPT_Business_Reporting.png',[m
[31m-                            src: 'https://i.postimg.cc/prph7MzS/OPT_Business_Reporting.png',[m
[31m-                            width: 0,[m
[31m-                            caption: {[m
[31m-                              editorState: {[m
[31m-                                root: {[m
[31m-                                  children: [],[m
[31m-                                  indent: 0,[m
[31m-                                  format: '',[m
[31m-                                  type: 'root',[m
[31m-                                  version: 1,[m
[31m-                                  direction: null,[m
[31m-                                },[m
[31m-                              },[m
[31m-                            },[m
[31m-                            showCaption: false,[m
[31m-                            type: 'image',[m
[31m-                            version: 1,[m
[31m-                            height: 0,[m
[31m-                            maxWidth: 500,[m
[31m-                          },[m
[31m-                        ],[m
[31m-                        format: '',[m
[31m-                        type: 'paragraph',[m
[31m-                        version: 1,[m
[31m-                        direction: null,[m
[31m-                      },[m
[31m-                    ],[m
[31m-                    indent: 0,[m
[31m-                    format: '',[m
[31m-                    type: 'root',[m
[31m-                    version: 1,[m
[31m-                    direction: null,[m
[31m-                  },[m
[31m-                },[m
[31m-              },[m
[31m-            },[m
[31m-            {[m
[31m-              position: {[m
[31m-                x: 13,[m
[31m-                y: 10,[m
[31m-              },[m
[31m-              dimensions: {[m
[31m-                width: 5,[m
[31m-                height: 4,[m
[31m-              },[m
[31m-              type: 'text',[m
[31m-              configuration: {[m
[31m-                text: {[m
[31m-                  root: {[m
[31m-                    children: [[m
[31m-                      {[m
[31m-                        children: [[m
[31m-                          {[m
[31m-                            mode: 'normal',[m
[31m-                            format: 0,[m
[31m-                            style: '',[m
[31m-                            detail: 0,[m
[31m-                            text: t('instantDashboard.IP_TileText_BusinessReporting_Details_1'),[m
[31m-                            type: 'text',[m
[31m-                            version: 1,[m
[31m-                          },[m
[31m-                        ],[m
[31m-                        indent: 0,[m
[31m-                        format: '',[m
[31m-                        type: 'paragraph',[m
[31m-                        version: 1,[m
[31m-                        direction: 'ltr',[m
[31m-                      },[m
[31m-                      {[m
[31m-                        children: [],[m
[31m-                        indent: 0,[m
[31m-                        format: '',[m
[31m-                        type: 'paragraph',[m
[31m-                        version: 1,[m
[31m-                        direction: 'ltr',[m
[31m-                      },[m
[31m-                      {[m
[31m-                        children: [[m
[31m-                          {[m
[31m-                            mode: 'normal',[m
[31m-                            format: 1,[m
[31m-                            style: '',[m
[31m-                            detail: 0,[m
[31m-                            text: t('instantDashboard.IP_TileText_BusinessReporting_Details_2'),[m
[31m-                            type: 'text',[m
[31m-                            version: 1,[m
[31m-                          },[m
[31m-                        ],[m
[31m-                        format: '',[m
[31m-                        type: 'paragraph',[m
[31m-                        version: 1,[m
[31m-                        direction: 'ltr',[m
[31m-                      },[m
[31m-                      {[m
[31m-                        children: [[m
[31m-                          {[m
[31m-                            mode: 'normal',[m
[31m-                            format: 0,[m
[31m-                            style: '',[m
[31m-                            detail: 0,[m
[31m-                            text: t('instantDashboard.IP_TileText_BusinessReporting_Details_3'),[m
[31m-                            type: 'text',[m
[31m-                            version: 1,[m
[31m-                          },[m
[31m-                        ],[m
[31m-                        indent: 0,[m
[31m-                        format: '',[m
[31m-                        type: 'paragraph',[m
[31m-                        version: 1,[m
[31m-                        direction: 'ltr',[m
[31m-                      },[m
[31m-                      {[m
[31m-                        children: [[m
[31m-                          {[m
[31m-                            mode: 'normal',[m
[31m-                            format: 0,[m
[31m-                            style: '',[m
[31m-                            detail: 0,[m
[31m-                            text: t('instantDashboard.IP_TileText_BusinessReporting_Details_4'),[m
[31m-                            type: 'text',[m
[31m-                            version: 1,[m
[31m-                          },[m
[31m-                        ],[m
[31m-                        indent: 0,[m
[31m-                        format: '',[m
[31m-                        type: 'paragraph',[m
[31m-                        version: 1,[m
[31m-                        direction: 'ltr',[m
[31m-                      },[m
[31m-                      {[m
[31m-                        children: [[m
[31m-                          {[m
[31m-                            mode: 'normal',[m
[31m-                            format: 0,[m
[31m-                            style: '',[m
[31m-                            detail: 0,[m
[31m-                            text: t('instantDashboard.IP_TileText_BusinessReporting_Details_5'),[m
[31m-                            type: 'text',[m
[31m-                            version: 1,[m
[31m-                          },[m
[31m-                        ],[m
[31m-                        indent: 0,[m
[31m-                        format: '',[m
[31m-                        type: 'paragraph',[m
[31m-                        version: 1,[m
[31m-                        direction: 'ltr',[m
[31m-                      },[m
[31m-                    ],[m
[31m-                    indent: 0,[m
[31m-                    format: '',[m
[31m-                    type: 'root',[m
[31m-                    version: 1,[m
[31m-                    direction: 'ltr',[m
[31m-                  },[m
[31m-                },[m
[31m-              },[m
[31m-            },[m
[31m-            {[m
[31m-              position: {[m
[31m-                x: 0,[m
[31m-                y: 14,[m
[31m-              },[m
[31m-              dimensions: {[m
[31m-                width: 18,[m
[31m-                height: 1,[m
[31m-              },[m
[31m-              type: 'text',[m
[31m-              configuration: {[m
[31m-                text: {[m
[31m-                  root: {[m
[31m-                    children: [[m
[31m-                      {[m
[31m-                        children: [[m
[31m-                          {[m
[31m-                            altText: 'https://i.postimg.cc/pT05qLh8/OPT_Process_Improvement.png',[m
[31m-                            src: 'https://i.postimg.cc/pT05qLh8/OPT_Process_Improvement.png',[m
[31m-                            width: 0,[m
[31m-                            caption: {[m
[31m-                              editorState: {[m
[31m-                                root: {[m
[31m-                                  children: [],[m
[31m-                                  indent: 0,[m
[31m-                                  format: '',[m
[31m-                                  type: 'root',[m
[31m-                                  version: 1,[m
[31m-                                  direction: null,[m
[31m-                                },[m
[31m-                              },[m
[31m-                            },[m
[31m-                            showCaption: false,[m
[31m-                            type: 'image',[m
[31m-                            version: 1,[m
[31m-                            height: 0,[m
[31m-                            maxWidth: 500,[m
[31m-                          },[m
[31m-                        ],[m
[31m-                        format: '',[m
[31m-                        type: 'paragraph',[m
[31m-                        version: 1,[m
[31m-                        direction: null,[m
[31m-                      },[m
[31m-                    ],[m
[31m-                    indent: 0,[m
[31m-                    format: '',[m
[31m-                    type: 'root',[m
[31m-                    version: 1,[m
[31m-                    direction: null,[m
[31m-                  },[m
[31m-                },[m
[31m-              },[m
[31m-            },[m
[31m-            {[m
[31m-              position: {[m
[31m-                x: 0,[m
[31m-                y: 15,[m
[31m-              },[m
[31m-              dimensions: {[m
[31m-                width: 3,[m
[31m-                height: 4,[m
[31m-              },[m
[31m-              type: 'text',[m
[31m-              configuration: {[m
[31m-                text: {[m
[31m-                  root: {[m
[31m-                    children: [[m
[31m-                      {[m
[31m-                        children: [[m
[31m-                          {[m
[31m-                            mode: 'normal',[m
[31m-                            format: 0,[m
[31m-                            style: '',[m
[31m-                            detail: 0,[m
[31m-                            text: t('instantDashboard.IP_TileText_ProcessImprovement'),[m
[31m-                            type: 'text',[m
[31m-                            version: 1,[m
[31m-                          },[m
[31m-                        ],[m
[31m-                        format: '',[m
[31m-                        type: 'paragraph',[m
[31m-                        version: 1,[m
[31m-                        direction: 'ltr',[m
[31m-                      },[m
[31m-                      {[m
[31m-                        children: [[m
[31m-                          {[m
[31m-                            altText:[m
[31m-                              'https://i.postimg.cc/j2qhfRdD/OPT_Logo_Process_Improvement.png',[m
[31m-                            src: 'https://i.postimg.cc/j2qhfRdD/OPT_Logo_Process_Improvement.png',[m
[31m-                            width: 0,[m
[31m-                            caption: {[m
[31m-                              editorState: {[m
[31m-                                root: {[m
[31m-                                  children: [],[m
[31m-                                  indent: 0,[m
[31m-                                  format: '',[m
[31m-                                  type: 'root',[m
[31m-                                  version: 1,[m
[31m-                                  direction: null,[m
[31m-                                },[m
[31m-                              },[m
[31m-                            },[m
[31m-                            showCaption: false,[m
[31m-                            type: 'image',[m
[31m-                            version: 1,[m
[31m-                            height: 0,[m
[31m-                            maxWidth: 500,[m
[31m-                          },[m
[31m-                        ],[m
[31m-                        indent: 0,[m
[31m-                        format: '',[m
[31m-                        type: 'paragraph',[m
[31m-                        version: 1,[m
[31m-                        direction: null,[m
[31m-                      },[m
[31m-                    ],[m
[31m-                    indent: 0,[m
[31m-                    format: '',[m
[31m-                    type: 'root',[m
[31m-                    version: 1,[m
[31m-                    direction: 'ltr',[m
[31m-                  },[m
[31m-                },[m
[31m-              },[m
[31m-            },[m
[31m-            {[m
[31m-              position: {[m
[31m-                x: 13,[m
[31m-                y: 15,[m
[31m-              },[m
[31m-              dimensions: {[m
[31m-                width: 5,[m
[31m-                height: 4,[m
[31m-              },[m
[31m-              type: 'text',[m
[31m-              configuration: {[m
[31m-                text: {[m
[31m-                  root: {[m
[31m-                    children: [[m
[31m-                      {[m
[31m-                        children: [[m
[31m-                          {[m
[31m-                            mode: 'normal',[m
[31m-                            format: 0,[m
[31m-                            style: '',[m
[31m-                            detail: 0,[m
[31m-                            text: t('instantDashboard.IP_TileText_ProcessImprovement_Details_1'),[m
[31m-                            type: 'text',[m
[31m-                            version: 1,[m
[31m-                          },[m
[31m-                        ],[m
[31m-                        format: '',[m
[31m-                        type: 'paragraph',[m
[31m-                        version: 1,[m
[31m-                        direction: 'ltr',[m
[31m-                      },[m
[31m-                      {[m
[31m-                        children: [],[m
[31m-                        indent: 0,[m
[31m-                        format: '',[m
[31m-                        type: 'paragraph',[m
[31m-                        version: 1,[m
[31m-                        direction: 'ltr',[m
[31m-                      },[m
[31m-                      {[m
[31m-                        children: [[m
[31m-                          {[m
[31m-                            mode: 'normal',[m
[31m-                            format: 1,[m
[31m-                            style: '',[m
[31m-                            detail: 0,[m
[31m-                            text: t('instantDashboard.IP_TileText_ProcessImprovement_Details_2'),[m
[31m-                            type: 'text',[m
[31m-                            version: 1,[m
[31m-                          },[m
[31m-                        ],[m
[31m-                        indent: 0,[m
[31m-                        format: '',[m
[31m-                        type: 'paragraph',[m
[31m-                        version: 1,[m
[31m-                        direction: 'ltr',[m
[31m-                      },[m
[31m-                      {[m
[31m-                        children: [[m
[31m-                          {[m
[31m-                            mode: 'normal',[m
[31m-                            format: 0,[m
[31m-                            style: '',[m
[31m-                            detail: 0,[m
[31m-                            text: t('instantDashboard.IP_TileText_ProcessImprovement_Details_3'),[m
[31m-                            type: 'text',[m
[31m-                            version: 1,[m
[31m-                          },[m
[31m-                        ],[m
[31m-                        indent: 0,[m
[31m-                        format: '',[m
[31m-                        type: 'paragraph',[m
[31m-                        version: 1,[m
[31m-                        direction: 'ltr',[m
[31m-                      },[m
[31m-                      {[m
[31m-                        children: [[m
[31m-                          {[m
[31m-                            mode: 'normal',[m
[31m-                            format: 0,[m
[31m-                            style: '',[m
[31m-                            detail: 0,[m
[31m-                            text: t('instantDashboard.IP_TileText_ProcessImprovement_Details_4'),[m
[31m-                            type: 'text',[m
[31m-                            version: 1,[m
[31m-                          },[m
[31m-                        ],[m
[31m-                        indent: 0,[m
[31m-                        format: '',[m
[31m-                        type: 'paragraph',[m
[31m-                        version: 1,[m
[31m-                        direction: 'ltr',[m
[31m-                      },[m
[31m-                      {[m
[31m-                        children: [[m
[31m-                          {[m
[31m-                            mode: 'normal',[m
[31m-                            format: 0,[m
[31m-                            style: '',[m
[31m-                            detail: 0,[m
[31m-                            text: t('instantDashboard.IP_TileText_ProcessImprovement_Details_5'),[m
[31m-                            type: 'text',[m
[31m-                            version: 1,[m
[31m-                          },[m
[31m-                        ],[m
[31m-                        indent: 0,[m
[31m-                        format: '',[m
[31m-                        type: 'paragraph',[m
[31m-                        version: 1,[m
[31m-                        direction: 'ltr',[m
[31m-                      },[m
[31m-                    ],[m
[31m-                    indent: 0,[m
[31m-                    format: '',[m
[31m-                    type: 'root',[m
[31m-                    version: 1,[m
[31m-                    direction: 'ltr',[m
[31m-                  },[m
[31m-                },[m
[31m-              },[m
[31m-            },[m
[31m-          ],[m
[31m-        },[m
[31m-        {[m
[31m-          name: 'processPerformance',[m
[31m-          disableDescription: true,[m
[31m-          hasSubtitle: true,[m
[31m-          img: processPerformance,[m
[31m-          disabled: (definitions) => definitions.length > 1,[m
[31m-          config: [[m
[31m-            {[m
[31m-              position: {x: 0, y: 0},[m
[31m-              dimensions: {height: 2, width: 3},[m
[31m-              report: {[m
[31m-                name: t('dashboard.templates.30DayThroughput'),[m
[31m-                data: {[m
[31m-                  view: {entity: 'processInstance', properties: ['frequency']},[m
[31m-                  groupBy: {type: 'none', value: null},[m
[31m-                  visualization: 'number',[m
[31m-                  filter: [[m
[31m-                    {[m
[31m-                      type: 'instanceEndDate',[m
[31m-                      data: {[m
[31m-                        type: 'rolling',[m
[31m-                        start: {[m
[31m-                          value: 30,[m
[31m-                          unit: 'days',[m
[31m-                        },[m
[31m-                      },[m
[31m-                      filterLevel: 'instance',[m
[31m-                      appliedTo: ['all'],[m
[31m-                    },[m
[31m-                  ],[m
[31m-                  configuration: {[m
[31m-                    targetValue: {[m
[31m-                      active: true,[m
[31m-                      isKpi: true,[m
[31m-                      countProgress: {[m
[31m-                        target: '200',[m
[31m-                      },[m
[31m-                    },[m
[31m-                  },[m
[31m-                },[m
[31m-              },[m
[31m-              type: 'optimize_report',[m
[31m-            },[m
[31m-            {[m
[31m-              position: {x: 3, y: 0},[m
[31m-              dimensions: {height: 2, width: 4},[m
[31m-              report: {[m
[31m-                name: t('dashboard.templates.p75Duration'),[m
[31m-                data: {[m
[31m-                  view: {entity: 'processInstance', properties: ['duration']},[m
[31m-                  groupBy: {type: 'none', value: null},[m
[31m-                  visualization: 'number',[m
[31m-                  configuration: {[m
[31m-                    aggregationTypes: [[m
[31m-                      {[m
[31m-                        type: 'percentile',[m
[31m-                        value: 75,[m
[31m-                      },[m
[31m-                    ],[m
[31m-                    precision: 1,[m
[31m-                    targetValue: {[m
[31m-                      active: true,[m
[31m-                      isKpi: true,[m
[31m-                      durationProgress: {[m
[31m-                        target: {[m
[31m-                          unit: 'hours',[m
[31m-                          value: '24',[m
[31m-                          isBelow: true,[m
[31m-                        },[m
[31m-                      },[m
[31m-                    },[m
[31m-                  },[m
[31m-                },[m
[31m-              },[m
[31m-              type: 'optimize_report',[m
[31m-            },[m
[31m-            {[m
[31m-              position: {x: 7, y: 0},[m
[31m-              dimensions: {height: 2, width: 4},[m
[31m-              report: {[m
[31m-                name: t('dashboard.templates.p99Duration'),[m
[31m-                data: {[m
[31m-                  view: {entity: 'processInstance', properties: ['duration']},[m
[31m-                  groupBy: {type: 'none', value: null},[m
[31m-                  visualization: 'number',[m
[31m-                  configuration: {[m
[31m-                    aggregationTypes: [[m
[31m-                      {[m
[31m-                        type: 'percentile',[m
[31m-                        value: 99,[m
[31m-                      },[m
[31m-                    ],[m
[31m-                    precision: 1,[m
[31m-                    targetValue: {[m
[31m-                      active: true,[m
[31m-                      isKpi: true,[m
[31m-                      durationProgress: {[m
[31m-                        target: {[m
[31m-                          unit: 'days',[m
[31m-                          value: '7',[m
[31m-                          isBelow: true,[m
[31m-                        },[m
[31m-                      },[m
[31m-                    },[m
[31m-                  },[m
[31m-                },[m
[31m-              },[m
[31m-              type: 'optimize_report',[m
[31m-            },[m
[31m-            {[m
[31m-              position: {x: 11, y: 0},[m
[31m-              dimensions: {height: 2, width: 3},[m
[31m-              report: {[m
[31m-                name: t('dashboard.templates.percentSLAMet'),[m
[31m-                data: {[m
[31m-                  view: {entity: 'processInstance', properties: ['percentage']},[m
[31m-                  groupBy: {type: 'none', value: null},[m
[31m-                  visualization: 'number',[m
[31m-                  configuration: {[m
[31m-                    targetValue: {[m
[31m-                      active: true,[m
[31m-                      isKpi: true,[m
[31m-                      countProgress: {[m
[31m-                        baseline: '0',[m
[31m-                        target: '99',[m
[31m-                      },[m
[31m-                    },[m
[31m-                  },[m
[31m-                  filter: [[m
[31m-                    {[m
[31m-                      type: 'processInstanceDuration',[m
[31m-                      data: {[m
[31m-                        value: 7,[m
[31m-                        unit: 'days',[m
[31m-                        operator: '<',[m
[31m-                        includeNull: false,[m
[31m-                      },[m
[31m-                      filterLevel: 'instance',[m
[31m-                      appliedTo: ['all'],[m
[31m-                    },[m
[31m-                  ],[m
[31m-                },[m
[31m-              },[m
[31m-              type: 'optimize_report',[m
[31m-            },[m
[31m-            {[m
[31m-              position: {x: 14, y: 0},[m
[31m-              dimensions: {height: 2, width: 4},[m
[31m-              report: {[m
[31m-                name: t('dashboard.templates.percentNoIncidents'),[m
[31m-                data: {[m
[31m-                  view: {entity: 'processInstance', properties: ['percentage']},[m
[31m-                  groupBy: {type: 'none', value: null},[m
[31m-                  visualization: 'number',[m
[31m-                  configuration: {[m
[31m-                    targetValue: {[m
[31m-                      active: true,[m
[31m-                      isKpi: true,[m
[31m-                      countProgress: {[m
[31m-                        baseline: '0',[m
[31m-                        target: '99',[m
[31m-                      },[m
[31m-                    },[m
[31m-                  },[m
[31m-                  filter: [[m
[31m-                    {[m
[31m-                      type: 'doesNotIncludeIncident',[m
[31m-                      data: null,[m
[31m-                      filterLevel: 'instance',[m
[31m-                      appliedTo: ['all'],[m
[31m-                    },[m
[31m-                  ],[m
[31m-                },[m
[31m-              },[m
[31m-              type: 'optimize_report',[m
[31m-            },[m
[31m-            {[m
[31m-              position: {x: 0, y: 2},[m
[31m-              dimensions: {height: 5, width: 9},[m
[31m-              report: {[m
[31m-                name: t('dashboard.templates.flownodeDuration'),[m
[31m-                data: {[m
[31m-                  view: {entity: 'flowNode', properties: ['duration']},[m
[31m-                  groupBy: {type: 'flowNodes', value: null},[m
[31m-                  visualization: 'heat',[m
[31m-                  configuration: {[m
[31m-                    aggregationTypes: [[m
[31m-                      {type: 'avg', value: null},[m
[31m-                      {type: 'percentile', value: 50},[m
[31m-                      {type: 'max', value: null},[m
[31m-                    ],[m
[31m-                  },[m
[31m-                },[m
[31m-              },[m
[31m-              type: 'optimize_report',[m
[31m-            },[m
[31m-            {[m
[31m-              position: {x: 9, y: 2},[m
[31m-              dimensions: {height: 5, width: 9},[m
[31m-              report: {[m
[31m-                name: t('dashboard.templates.controlChart'),[m
[31m-                data: {[m
[31m-                  view: {entity: 'processInstance', properties: ['duration']},[m
[31m-                  groupBy: {type: 'startDate', value: {unit: 'week'}},[m
[31m-                  visualization: 'line',[m
[31m-                  configuration: {[m
[31m-                    aggregationTypes: [[m
[31m-                      {type: 'percentile', value: 99},[m
[31m-                      {type: 'percentile', value: 90},[m
[31m-                      {type: 'percentile', value: 75},[m
[31m-                      {type: 'percentile', value: 50},[m
[31m-                    ],[m
[31m-                  },[m
[31m-                },[m
[31m-              },[m
[31m-              type: 'optimize_report',[m
[31m-            },[m
[31m-            {[m
[31m-              position: {x: 0, y: 7},[m
[31m-              dimensions: {height: 5, width: 9},[m
[31m-              report: {[m
[31m-                name: t('dashboard.templates.flownodeFrequency'),[m
[31m-                data: {[m
[31m-                  view: {entity: 'flowNode', properties: ['frequency']},[m
[31m-                  groupBy: {type: 'flowNodes', value: null},[m
[31m-                  visualization: 'heat',[m
[31m-                },[m
[31m-              },[m
[31m-              type: 'optimize_report',[m
[31m-            },[m
[31m-            {[m
[31m-              position: {x: 9, y: 7},[m
[31m-              dimensions: {height: 5, width: 9},[m
[31m-              report: {[m
[31m-                name: t('dashboard.templates.instanceTrends'),[m
[31m-                data: {[m
[31m-                  view: {entity: 'processInstance', properties: ['frequency']},[m
[31m-                  groupBy: {type: 'startDate', value: {unit: 'week'}},[m
[31m-                  visualization: 'bar',[m
[31m-                  configuration: {[m
[31m-                    xLabel: t('report.groupBy.startDate'),[m
[31m-                    yLabel: t('report.view.pi') + ' ' + t('report.view.count'),[m
[31m-                  },[m
[31m-                },[m
[31m-              },[m
[31m-              type: 'optimize_report',[m
[31m-            },[m
[31m-            {[m
[31m-              position: {x: 0, y: 12},[m
[31m-              dimensions: {height: 5, width: 9},[m
[31m-              report: {[m
[31m-                name: t('dashboard.templates.activeIncidentsHeatmap'),[m
[31m-                data: {[m
[31m-                  view: {entity: 'incident', properties: ['frequency']},[m
[31m-                  groupBy: {type: 'flowNodes', value: null},[m
[31m-                  visualization: 'heat',[m
[31m-                },[m
[31m-              },[m
[31m-              type: 'optimize_report',[m
[31m-            },[m
[31m-            {[m
[31m-              position: {x: 9, y: 12},[m
[31m-              dimensions: {height: 5, width: 9},[m
[31m-              report: {[m
[31m-                name: t('dashboard.templates.incidentDurationHeatmap'),[m
[31m-                data: {[m
[31m-                  view: {entity: 'incident', properties: ['duration']},[m
[31m-                  groupBy: {type: 'flowNodes', value: null},[m
[31m-                  visualization: 'heat',[m
[31m-                  configuration: {[m
[31m-                    aggregationTypes: [[m
[31m-                      {type: 'avg', value: null},[m
[31m-                      {type: 'percentile', value: 50},[m
[31m-                      {type: 'max', value: null},[m
[31m-                    ],[m
[31m-                  },[m
[31m-                },[m
[31m-              },[m
[31m-              type: 'optimize_report',[m
[31m-            },[m
[31m-            {[m
[31m-              position: {x: 0, y: 17},[m
[31m-              dimensions: {height: 5, width: 18},[m
[31m-              report: {[m
[31m-                name: t('dashboard.templates.incidentDurationTrend'),[m
[31m-                data: {[m
[31m-                  view: {entity: 'processInstance', properties: ['frequency', 'duration']},[m
[31m-                  groupBy: {type: 'startDate', value: {unit: 'week'}},[m
[31m-                  visualization: 'barLine',[m
[31m-                  filter: [[m
[31m-                    {[m
[31m-                      appliedTo: ['all'],[m
[31m-                      filterLevel: 'instance',[m
[31m-                      type: 'includesResolvedIncident',[m
[31m-                    },[m
[31m-                  ],[m
[31m-                },[m
[31m-              },[m
[31m-              type: 'optimize_report',[m
[31m-            },[m
[31m-          ],[m
[31m-        },[m
[32m+[m[32m        processDashboardTemplate(),[m
[32m+[m[32m        productivityDashboardTemplate(),[m
[32m+[m[32m        efficiencyDashboardTemplate(),[m
[32m+[m[32m        accelerationDashboardTemplate(),[m
       ],[m
     },[m
     {[m
       name: 'multiProcessGroup',[m
[31m-      templates: [[m
[31m-        {[m
[31m-          name: 'operationsMonitoring',[m
[31m-          disableDescription: true,[m
[31m-          hasSubtitle: true,[m
[31m-          img: operationsMonitoring,[m
[31m-          disabled: (definitions) => definitions.length < 2,[m
[31m-          config: [[m
[31m-            {[m
[31m-              position: {x: 0, y: 0},[m
[31m-              dimensions: {height: 3, width: 4},[m
[31m-              report: {[m
[31m-                name: t('dashboard.templates.completedProcesses'),[m
[31m-                data: {[m
[31m-                  view: {entity: 'processInstance', properties: ['frequency']},[m
[31m-                  groupBy: {type: 'none', value: null},[m
[31m-                  visualization: 'number',[m
[31m-                  filter: [[m
[31m-                    {[m
[31m-                      appliedTo: ['all'],[m
[31m-                      data: null,[m
[31m-                      filterLevel: 'instance',[m
[31m-                      type: 'completedInstancesOnly',[m
[31m-                    },[m
[31m-                  ],[m
[31m-                },[m
[31m-              },[m
[31m-              type: 'optimize_report',[m
[31m-            },[m
[31m-            {[m
[31m-              position: {x: 4, y: 0},[m
[31m-              dimensions: {height: 3, width: 5},[m
[31m-              report: {[m
[31m-                name: t('dashboard.templates.longRunningProcesses'),[m
[31m-                data: {[m
[31m-                  view: {entity: 'processInstance', properties: ['frequency']},[m
[31m-                  groupBy: {type: 'none', value: null},[m
[31m-                  distributedBy: {type: 'none', value: null},[m
[31m-                  visualization: 'number',[m
[31m-                  filter: [[m
[31m-                    {[m
[31m-                      appliedTo: ['all'],[m
[31m-                      data: null,[m
[31m-                      filterLevel: 'instance',[m
[31m-                      type: 'runningInstancesOnly',[m
[31m-                    },[m
[31m-                    {[m
[31m-                      appliedTo: ['all'],[m
[31m-                      data: {value: 1, unit: 'days', operator: '>', includeNull: false},[m
[31m-                      filterLevel: 'instance',[m
[31m-                      type: 'processInstanceDuration',[m
[31m-                    },[m
[31m-                  ],[m
[31m-                },[m
[31m-              },[m
[31m-              type: 'optimize_report',[m
[31m-            },[m
[31m-            {[m
[31m-              position: {x: 9, y: 0},[m
[31m-              dimensions: {height: 3, width: 4},[m
[31m-              report: {[m
[31m-                name: t('dashboard.templates.activeIncidents'),[m
[31m-                data: {[m
[31m-                  view: {entity: 'incident', properties: ['frequency']},[m
[31m-                  groupBy: {type: 'none', value: null},[m
[31m-                  visualization: 'number',[m
[31m-                  filter: [[m
[31m-                    {[m
[31m-                      appliedTo: ['all'],[m
[31m-                      data: null,[m
[31m-                      filterLevel: 'instance',[m
[31m-                      type: 'includesOpenIncident',[m
[31m-                    },[m
[31m-                  ],[m
[31m-                },[m
[31m-              },[m
[31m-              type: 'optimize_report',[m
[31m-            },[m
[31m-            {[m
[31m-              position: {x: 13, y: 0},[m
[31m-              dimensions: {height: 3, width: 5},[m
[31m-              report: {[m
[31m-                name: t('dashboard.templates.activeIncidentsByProcess'),[m
[31m-                data: {[m
[31m-                  view: {entity: 'processInstance', properties: ['frequency']},[m
[31m-                  groupBy: {type: 'none', value: null},[m
[31m-                  distributedBy: {type: 'process', value: null},[m
[31m-                  visualization: 'pie',[m
[31m-                  filter: [[m
[31m-                    {[m
[31m-                      appliedTo: ['all'],[m
[31m-                      data: null,[m
[31m-                      filterLevel: 'instance',[m
[31m-                      type: 'includesOpenIncident',[m
[31m-                    },[m
[31m-                  ],[m
[31m-                },[m
[31m-              },[m
[31m-              type: 'optimize_report',[m
[31m-            },[m
[31m-            {[m
[31m-              position: {x: 0, y: 3},[m
[31m-              dimensions: {height: 5, width: 9},[m
[31m-              report: {[m
[31m-                name: t('dashboard.templates.processSnapshot'),[m
[31m-                data: {[m
[31m-                  view: {entity: 'flowNode', properties: ['frequency', 'duration']},[m
[31m-                  groupBy: {type: 'flowNodes', value: null},[m
[31m-                  distributedBy: {type: 'none', value: null},[m
[31m-                  visualization: 'barLine',[m
[31m-                  filter: [[m
[31m-                    {[m
[31m-                      appliedTo: ['all'],[m
[31m-                      data: null,[m
[31m-                      filterLevel: 'view',[m
[31m-                      type: 'runningFlowNodesOnly',[m
[31m-                    },[m
[31m-                  ],[m
[31m-                  configuration: {[m
[31m-                    measureVisualizations: {frequency: 'bar', duration: 'line'},[m
[31m-                    showInstanceCount: true,[m
[31m-                    stackedBar: true,[m
[31m-                  },[m
[31m-                },[m
[31m-              },[m
[31m-              type: 'optimize_report',[m
[31m-            },[m
[31m-            {[m
[31m-              position: {x: 9, y: 3},[m
[31m-              dimensions: {height: 5, width: 9},[m
[31m-              report: {[m
[31m-                name: t('dashboard.templates.incidentSnapshot'),[m
[31m-                data: {[m
[31m-                  view: {entity: 'incident', properties: ['frequency', 'duration']},[m
[31m-                  groupBy: {type: 'flowNodes', value: null},[m
[31m-                  distributedBy: {type: 'none', value: null},[m
[31m-                  visualization: 'barLine',[m
[31m-                  filter: [[m
[31m-                    {[m
[31m-                      appliedTo: ['all'],[m
[31m-                      data: null,[m
[31m-                      filterLevel: 'instance',[m
[31m-                      type: 'includesOpenIncident',[m
[31m-                    },[m
[31m-                    {[m
[31m-                      appliedTo: ['all'],[m
[31m-                      data: null,[m
[31m-                      filterLevel: 'view',[m
[31m-                      type: 'includesOpenIncident',[m
[31m-                    },[m
[31m-                  ],[m
[31m-                  configuration: {[m
[31m-                    measureVisualizations: {frequency: 'bar', duration: 'line'},[m
[31m-                    showInstanceCount: true,[m
[31m-                  },[m
[31m-                },[m
[31m-              },[m
[31m-              type: 'optimize_report',[m
[31m-            },[m
[31m-            {[m
[31m-              position: {x: 0, y: 8},[m
[31m-              dimensions: {height: 5, width: 9},[m
[31m-              report: {[m
[31m-                name: t('dashboard.templates.processHistory'),[m
[31m-                data: {[m
[31m-                  view: {entity: 'processInstance', properties: ['frequency', 'duration']},[m
[31m-                  groupBy: {type: 'startDate', value: {unit: 'week'}},[m
[31m-                  distributedBy: {type: 'process', value: null},[m
[31m-                  visualization: 'barLine',[m
[31m-                  filter: [[m
[31m-                    {[m
[31m-                      appliedTo: ['all'],[m
[31m-                      data: null,[m
[31m-                      filterLevel: 'instance',[m
[31m-                      type: 'completedInstancesOnly',[m
[31m-                    },[m
[31m-                  ],[m
[31m-                  configuration: {[m
[31m-                    measureVisualizations: {frequency: 'bar', duration: 'line'},[m
[31m-                    stackedBar: true,[m
[31m-                  },[m
[31m-                },[m
[31m-              },[m
[31m-              type: 'optimize_report',[m
[31m-            },[m
[31m-            {[m
[31m-              position: {x: 9, y: 8},[m
[31m-              dimensions: {height: 5, width: 9},[m
[31m-              report: {[m
[31m-                name: t('dashboard.templates.incidentHistory'),[m
[31m-                data: {[m
[31m-                  view: {entity: 'processInstance', properties: ['frequency', 'duration']},[m
[31m-                  groupBy: {type: 'startDate', value: {unit: 'week'}},[m
[31m-                  distributedBy: {type: 'process', value: null},[m
[31m-                  visualization: 'barLine',[m
[31m-                  filter: [[m
[31m-                    {[m
[31m-                      appliedTo: ['all'],[m
[31m-                      data: null,[m
[31m-                      filterLevel: 'instance',[m
[31m-                      type: 'includesResolvedIncident',[m
[31m-                    },[m
[31m-                  ],[m
[31m-                  configuration: {[m
[31m-                    measureVisualizations: {frequency: 'bar', duration: 'line'},[m
[31m-                    stackedBar: true,[m
[31m-                    aggregationTypes: [[m
[31m-                      {type: 'avg', value: null},[m
[31m-                      {type: 'max', value: null},[m
[31m-                    ],[m
[31m-                  },[m
[31m-                },[m
[31m-              },[m
[31m-              type: 'optimize_report',[m
[31m-            },[m
[31m-            {[m
[31m-              position: {x: 0, y: 13},[m
[31m-              dimensions: {height: 5, width: 18},[m
[31m-              report: {[m
[31m-                name: t('dashboard.templates.durationSLI'),[m
[31m-                data: {[m
[31m-                  view: {entity: 'processInstance', properties: ['duration']},[m
[31m-                  groupBy: {type: 'startDate', value: {unit: 'week'}},[m
[31m-                  distributedBy: {type: 'process', value: null},[m
[31m-                  visualization: 'line',[m
[31m-                  configuration: {[m
[31m-                    aggregationTypes: [{type: 'max', value: null}],[m
[31m-                    targetValue: {[m
[31m-                      active: true,[m
[31m-                      isKpi: true,[m
[31m-                      durationChart: {unit: 'hours', isBelow: true, value: '4'},[m
[31m-                    },[m
[31m-                  },[m
[31m-                },[m
[31m-              },[m
[31m-              type: 'optimize_report',[m
[31m-            },[m
[31m-          ],[m
[31m-        },[m
[31m-      ],[m
[32m+[m[32m      templates: [operationsMonitoringDashboardTemplate()],[m
     },[m
   ];[m
 [m
   if (optimizeProfile === 'platform') {[m
[31m-    templateGroups[1].templates.push([m
[31m-      {[m
[31m-        name: 'humanPerformance',[m
[31m-        disableDescription: true,[m
[31m-        hasSubtitle: true,[m
[31m-        img: humanPerformance,[m
[31m-        disabled: (definitions) => definitions.length > 1,[m
[31m-        config: [[m
[31m-          {[m
[31m-            position: {x: 0, y: 0},[m
[31m-            dimensions: {height: 5, width: 9},[m
[31m-            report: {[m
[31m-              name: t('dashboard.templates.idleTime'),[m
[31m-              data: {[m
[31m-                view: {entity: 'userTask', properties: ['duration']},[m
[31m-                groupBy: {type: 'userTasks', value: null},[m
[31m-                visualization: 'heat',[m
[31m-                configuration: {userTaskDurationTimes: ['idle']},[m
[31m-              },[m
[31m-            },[m
[31m-            type: 'optimize_report',[m
[31m-          },[m
[31m-          {[m
[31m-            position: {x: 9, y: 0},[m
[31m-            dimensions: {height: 5, width: 9},[m
[31m-            report: {[m
[31m-              name: t('dashboard.templates.tasksStarted'),[m
[31m-              data: {[m
[31m-                view: {entity: 'userTask', properties: ['frequency']},[m
[31m-                groupBy: {type: 'startDate', value: {unit: 'month'}},[m
[31m-                visualization: 'bar',[m
[31m-                distributedBy: {type: 'assignee', value: null},[m
[31m-                configuration: {[m
[31m-                  xLabel: t('report.groupBy.startDate'),[m
[31m-                  yLabel: t('report.view.userTask') + ' ' + t('report.view.count'),[m
[31m-                },[m
[31m-              },[m
[31m-            },[m
[31m-            type: 'optimize_report',[m
[31m-          },[m
[31m-          {[m
[31m-            position: {x: 0, y: 5},[m
[31m-            dimensions: {height: 5, width: 9},[m
[31m-            report: {[m
[31m-              name: t('dashboard.templates.workTime'),[m
[31m-              data: {[m
[31m-                view: {entity: 'userTask', properties: ['duration']},[m
[31m-                groupBy: {type: 'userTasks', value: null},[m
[31m-                visualization: 'heat',[m
[31m-                configuration: {userTaskDurationTimes: ['work']},[m
[31m-              },[m
[31m-            },[m
[31m-            type: 'optimize_report',[m
[31m-          },[m
[31m-          {[m
[31m-            position: {x: 9, y: 5},[m
[31m-            dimensions: {height: 5, width: 9},[m
[31m-            report: {[m
[31m-              name: t('dashboard.templates.tasksCompleted'),[m
[31m-              data: {[m
[31m-                view: {entity: 'userTask', properties: ['frequency']},[m
[31m-                groupBy: {type: 'endDate', value: {unit: 'month'}},[m
[31m-                visualization: 'bar',[m
[31m-                distributedBy: {type: 'assignee', value: null},[m
[31m-                configuration: {[m
[31m-                  xLabel: t('report.groupBy.endDate'),[m
[31m-                  yLabel: t('report.view.userTask') + ' ' + t('report.view.count'),[m
[31m-                },[m
[31m-              },[m
[31m-            },[m
[31m-            type: 'optimize_report',[m
[31m-          },[m
[31m-        ],[m
[31m-      },[m
[31m-      {[m
[31m-        name: 'humanBottleneckAnalysis',[m
[31m-        disableDescription: true,[m
[31m-        hasSubtitle: true,[m
[31m-        img: humanBottleneckAnalysis,[m
[31m-        disabled: (definitions) => definitions.length > 1,[m
[31m-        config: [[m
[31m-          {[m
[31m-            position: {x: 0, y: 0},[m
[31m-            dimensions: {height: 4, width: 9},[m
[31m-            report: {[m
[31m-              name: t('dashboard.templates.bottleneckLocation'),[m
[31m-              data: {[m
[31m-                view: {entity: 'userTask', properties: ['frequency']},[m
[31m-                groupBy: {type: 'userTasks', value: null},[m
[31m-                visualization: 'heat',[m
[31m-                filter: [[m
[31m-                  {[m
[31m-                    appliedTo: ['definition'],[m
[31m-                    data: {operator: 'in', values: [null]},[m
[31m-                    filterLevel: 'view',[m
[31m-                    type: 'assignee',[m
[31m-                  },[m
[31m-                ],[m
[31m-              },[m
[31m-            },[m
[31m-            type: 'optimize_report',[m
[31m-          },[m
[31m-          {[m
[31m-            position: {x: 9, y: 0},[m
[31m-            dimensions: {height: 4, width: 9},[m
[31m-            report: {[m
[31m-              name: t('dashboard.templates.bottleneckSeverity'),[m
[31m-              data: {[m
[31m-                view: {entity: 'userTask', properties: ['duration']},[m
[31m-                groupBy: {type: 'userTasks', value: null},[m
[31m-                visualization: 'heat',[m
[31m-                configuration: {[m
[31m-                  aggregationTypes: [{type: 'avg', value: null}],[m
[31m-                  userTaskDurationTimes: ['total', 'work', 'idle'],[m
[31m-                },[m
[31m-              },[m
[31m-            },[m
[31m-            type: 'optimize_report',[m
[31m-          },[m
[31m-          {[m
[31m-            position: {x: 0, y: 4},[m
[31m-            dimensions: {height: 4, width: 6},[m
[31m-            report: {[m
[31m-              name: t('dashboard.templates.assigneeVariation'),[m
[31m-              data: {[m
[31m-                view: {entity: 'userTask', properties: ['duration']},[m
[31m-                groupBy: {type: 'assignee', value: null},[m
[31m-                distributedBy: {type: 'userTask', value: null},[m
[31m-                filter: [[m
[31m-                  {[m
[31m-                    appliedTo: ['definition'],[m
[31m-                    data: {operator: 'not in', values: [null]},[m
[31m-                    filterLevel: 'view',[m
[31m-                    type: 'assignee',[m
[31m-                  },[m
[31m-                ],[m
[31m-                visualization: 'bar',[m
[31m-                configuration: {[m
[31m-                  aggregationTypes: [{type: 'avg', value: null}],[m
[31m-                  userTaskDurationTimes: ['total'],[m
[31m-                  stackedBar: true,[m
[31m-                },[m
[31m-              },[m
[31m-            },[m
[31m-            type: 'optimize_report',[m
[31m-          },[m
[31m-          {[m
[31m-            position: {x: 6, y: 4},[m
[31m-            dimensions: {height: 4, width: 6},[m
[31m-            report: {[m
[31m-              name: t('dashboard.templates.userTaskImprovement'),[m
[31m-              data: {[m
[31m-                view: {entity: 'userTask', properties: ['duration']},[m
[31m-                groupBy: {type: 'endDate', value: {unit: 'week'}},[m
[31m-                distributedBy: {type: 'userTask', value: null},[m
[31m-                visualization: 'bar',[m
[31m-                configuration: {[m
[31m-                  aggregationTypes: [{type: 'avg', value: null}],[m
[31m-                  userTaskDurationTimes: ['work', 'idle'],[m
[31m-                  stackedBar: true,[m
[31m-                },[m
[31m-              },[m
[31m-            },[m
[31m-            type: 'optimize_report',[m
[31m-          },[m
[31m-          {[m
[31m-            position: {x: 12, y: 4},[m
[31m-            dimensions: {height: 4, width: 3},[m
[31m-            report: {[m
[31m-              name: t('dashboard.templates.upstreamWork'),[m
[31m-              data: {[m
[31m-                view: {entity: 'processInstance', properties: ['frequency']},[m
[31m-                groupBy: {type: 'none', value: null},[m
[31m-                visualization: 'number',[m
[31m-                filter: [[m
[31m-                  {[m
[31m-                    appliedTo: ['definition'],[m
[31m-                    data: {values: ['StartEvent_1']},[m
[31m-                    filterLevel: 'instance',[m
[31m-                    type: 'executingFlowNodes',[m
[31m-                  },[m
[31m-                  {[m
[31m-                    appliedTo: ['all'],[m
[31m-                    data: null,[m
[31m-                    filterLevel: 'instance',[m
[31m-                    type: 'runningInstancesOnly',[m
[31m-                  },[m
[31m-                ],[m
[31m-                configuration: {[m
[31m-                  aggregationTypes: [{type: 'avg', value: null}],[m
[31m-                  userTaskDurationTimes: ['work', 'idle'],[m
[31m-                  stackedBar: true,[m
[31m-                },[m
[31m-              },[m
[31m-            },[m
[31m-            type: 'optimize_report',[m
[31m-          },[m
[31m-          {[m
[31m-            position: {x: 15, y: 4},[m
[31m-            dimensions: {height: 4, width: 3},[m
[31m-            report: {[m
[31m-              name: t('dashboard.templates.bottleneckQueue'),[m
[31m-              data: {[m
[31m-                view: {entity: 'processInstance', properties: ['frequency']},[m
[31m-                groupBy: {type: 'none', value: null},[m
[31m-                visualization: 'number',[m
[31m-                filter: [[m
[31m-                  {[m
[31m-                    appliedTo: ['definition'],[m
[31m-                    data: {values: ['StartEvent_1']},[m
[31m-                    filterLevel: 'instance',[m
[31m-                    type: 'executingFlowNodes',[m
[31m-                  },[m
[31m-                  {[m
[31m-                    appliedTo: ['definition'],[m
[31m-                    data: {operator: 'in', values: [null]},[m
[31m-                    filterLevel: 'view',[m
[31m-                    type: 'assignee',[m
[31m-                  },[m
[31m-                ],[m
[31m-                configuration: {[m
[31m-                  aggregationTypes: [{type: 'avg', value: null}],[m
[31m-                  userTaskDurationTimes: ['work', 'idle'],[m
[31m-                  stackedBar: true,[m
[31m-                },[m
[31m-              },[m
[31m-            },[m
[31m-            type: 'optimize_report',[m
[31m-          },[m
[31m-          {[m
[31m-            position: {x: 0, y: 8},[m
[31m-            dimensions: {height: 4, width: 6},[m
[31m-            report: {[m
[31m-              name: t('dashboard.templates.durationImprovement'),[m
[31m-              data: {[m
[31m-                view: {entity: 'processInstance', properties: ['duration']},[m
[31m-                groupBy: {type: 'endDate', value: {unit: 'week'}},[m
[31m-                visualization: 'line',[m
[31m-                configuration: {[m
[31m-                  aggregationTypes: [[m
[31m-                    {type: 'avg', value: null},[m
[31m-                    {type: 'percentile', value: 50},[m
[31m-                    {type: 'max', value: null},[m
[31m-                  ],[m
[31m-                  userTaskDurationTimes: ['total'],[m
[31m-                },[m
[31m-              },[m
[31m-            },[m
[31m-            type: 'optimize_report',[m
[31m-          },[m
[31m-          {[m
[31m-            position: {x: 6, y: 8},[m
[31m-            dimensions: {height: 4, width: 6},[m
[31m-            report: {[m
[31m-              name: t('dashboard.templates.workerProductivity'),[m
[31m-              data: {[m
[31m-                view: {entity: 'userTask', properties: ['frequency']},[m
[31m-                groupBy: {type: 'assignee', value: null},[m
[31m-                distributedBy: {type: 'userTask', value: null},[m
[31m-                visualization: 'bar',[m
[31m-                filter: [[m
[31m-                  {[m
[31m-                    appliedTo: ['all'],[m
[31m-                    data: null,[m
[31m-                    filterLevel: 'view',[m
[31m-                    type: 'completedFlowNodesOnly',[m
[31m-                  },[m
[31m-                ],[m
[31m-                configuration: {[m
[31m-                  stackedBar: true,[m
[31m-                },[m
[31m-              },[m
[31m-            },[m
[31m-            type: 'optimize_report',[m
[31m-          },[m
[31m-          {[m
[31m-            position: {x: 12, y: 8},[m
[31m-            dimensions: {height: 4, width: 6},[m
[31m-            report: {[m
[31m-              name: t('dashboard.templates.workDuration'),[m
[31m-              data: {[m
[31m-                view: {entity: 'userTask', properties: ['duration']},[m
[31m-                groupBy: {type: 'endDate', value: {unit: 'week'}},[m
[31m-                distributedBy: {type: 'userTask', value: null},[m
[31m-                visualization: 'line',[m
[31m-                filter: [[m
[31m-                  {[m
[31m-                    appliedTo: ['all'],[m
[31m-                    data: null,[m
[31m-                    filterLevel: 'view',[m
[31m-                    type: 'completedFlowNodesOnly',[m
[31m-                  },[m
[31m-                ],[m
[31m-                configuration: {[m
[31m-                  aggregationTypes: [{type: 'avg', value: null}],[m
[31m-                  userTaskDurationTimes: ['work'],[m
[31m-                },[m
[31m-              },[m
[31m-            },[m
[31m-            type: 'optimize_report',[m
[31m-          },[m
[31m-        ],[m
[31m-      }[m
[31m-    );[m
[31m-    templateGroups[2].templates.unshift({[m
[31m-      name: 'portfolioPerformance',[m
[31m-      disableDescription: true,[m
[31m-      hasSubtitle: true,[m
[31m-      img: portfolioPerformance,[m
[31m-      disabled: (definitions) => definitions.length < 2,[m
[31m-      config: [[m
[31m-        {[m
[31m-          position: {x: 0, y: 0},[m
[31m-          dimensions: {height: 3, width: 3},[m
[31m-          report: {[m
[31m-            name: t('dashboard.templates.completedProcesses'),[m
[31m-            data: {[m
[31m-              view: {entity: 'processInstance', properties: ['frequency']},[m
[31m-              groupBy: {type: 'none', value: null},[m
[31m-              visualization: 'number',[m
[31m-              filter: [[m
[31m-                {[m
[31m-                  appliedTo: ['all'],[m
[31m-                  data: null,[m
[31m-                  filterLevel: 'instance',[m
[31m-                  type: 'completedInstancesOnly',[m
[31m-                },[m
[31m-              ],[m
[31m-            },[m
[31m-          },[m
[31m-          type: 'optimize_report',[m
[31m-        },[m
[31m-        {[m
[31m-          position: {x: 3, y: 0},[m
[31m-          dimensions: {height: 3, width: 3},[m
[31m-          report: {[m
[31m-            name: t('dashboard.templates.activeIncidents'),[m
[31m-            data: {[m
[31m-              view: {entity: 'incident', properties: ['frequency']},[m
[31m-              groupBy: {type: 'none', value: null},[m
[31m-              visualization: 'number',[m
[31m-              filter: [[m
[31m-                {[m
[31m-                  appliedTo: ['all'],[m
[31m-                  data: null,[m
[31m-                  filterLevel: 'instance',[m
[31m-                  type: 'includesOpenIncident',[m
[31m-                },[m
[31m-              ],[m
[31m-            },[m
[31m-          },[m
[31m-          type: 'optimize_report',[m
[31m-        },[m
[31m-        {[m
[31m-          position: {x: 6, y: 0},[m
[31m-          dimensions: {height: 3, width: 6},[m
[31m-          report: {[m
[31m-            name: t('dashboard.templates.runningProcesses'),[m
[31m-            data: {[m
[31m-              view: {entity: 'processInstance', properties: ['frequency']},[m
[31m-              groupBy: {type: 'none', value: null},[m
[31m-              distributedBy: {type: 'process', value: null},[m
[31m-              visualization: 'bar',[m
[31m-              filter: [[m
[31m-                {[m
[31m-                  appliedTo: ['all'],[m
[31m-                  data: null,[m
[31m-                  filterLevel: 'instance',[m
[31m-                  type: 'runningInstancesOnly',[m
[31m-                },[m
[31m-              ],[m
[31m-            },[m
[31m-          },[m
[31m-          type: 'optimize_report',[m
[31m-        },[m
[31m-        {[m
[31m-          position: {x: 12, y: 0},[m
[31m-          dimensions: {height: 3, width: 6},[m
[31m-          report: {[m
[31m-            name: t('dashboard.templates.runningTasks'),[m
[31m-            data: {[m
[31m-              view: {entity: 'userTask', properties: ['frequency']},[m
[31m-              groupBy: {type: 'userTasks', value: null},[m
[31m-              visualization: 'pie',[m
[31m-              filter: [[m
[31m-                {[m
[31m-                  appliedTo: ['all'],[m
[31m-                  data: null,[m
[31m-                  filterLevel: 'view',[m
[31m-                  type: 'runningFlowNodesOnly',[m
[31m-                },[m
[31m-              ],[m
[31m-            },[m
[31m-          },[m
[31m-          type: 'optimize_report',[m
[31m-        },[m
[31m-        {[m
[31m-          position: {x: 0, y: 3},[m
[31m-          dimensions: {height: 5, width: 9},[m
[31m-          report: {[m
[31m-            name: t('dashboard.templates.processTotal'),[m
[31m-            data: {[m
[31m-              view: {entity: 'processInstance', properties: ['frequency']},[m
[31m-              groupBy: {type: 'startDate', value: {unit: 'month'}},[m
[31m-              distributedBy: {type: 'process', value: null},[m
[31m-              visualization: 'bar',[m
[31m-              configuration: {[m
[31m-                stackedBar: true,[m
[31m-              },[m
[31m-            },[m
[31m-          },[m
[31m-          type: 'optimize_report',[m
[31m-        },[m
[31m-        {[m
[31m-          position: {x: 9, y: 3},[m
[31m-          dimensions: {height: 5, width: 9},[m
[31m-          report: {[m
[31m-            name: t('dashboard.templates.laborSavings'),[m
[31m-            data: {[m
[31m-              view: {entity: 'userTask', properties: ['duration']},[m
[31m-              groupBy: {type: 'startDate', value: {unit: 'month'}},[m
[31m-              distributedBy: {type: 'process', value: null},[m
[31m-              visualization: 'bar',[m
[31m-              filter: [[m
[31m-                {[m
[31m-                  appliedTo: ['all'],[m
[31m-                  data: null,[m
[31m-                  filterLevel: 'instance',[m
[31m-                  type: 'completedInstancesOnly',[m
[31m-                },[m
[31m-              ],[m
[31m-              configuration: {[m
[31m-                aggregationTypes: [{type: 'sum', value: null}],[m
[31m-                userTaskDurationTimes: ['work'],[m
[31m-                stackedBar: true,[m
[31m-              },[m
[31m-            },[m
[31m-          },[m
[31m-          type: 'optimize_report',[m
[31m-        },[m
[31m-        {[m
[31m-          position: {x: 0, y: 8},[m
[31m-          dimensions: {height: 5, width: 9},[m
[31m-          report: {[m
[31m-            name: t('dashboard.templates.processAcceleration'),[m
[31m-            data: {[m
[31m-              view: {entity: 'processInstance', properties: ['duration']},[m
[31m-              groupBy: {type: 'startDate', value: {unit: 'month'}},[m
[31m-              distributedBy: {type: 'process', value: null},[m
[31m-              visualization: 'line',[m
[31m-            },[m
[31m-          },[m
[31m-          type: 'optimize_report',[m
[31m-        },[m
[31m-        {[m
[31m-          position: {x: 9, y: 8},[m
[31m-          dimensions: {height: 5, width: 9},[m
[31m-          report: {[m
[31m-            name: t('dashboard.templates.taskAutomation'),[m
[31m-            data: {[m
[31m-              view: {entity: 'userTask', properties: ['frequency']},[m
[31m-              groupBy: {type: 'startDate', value: {unit: 'month'}},[m
[31m-              distributedBy: {type: 'process', value: null},[m
[31m-              visualization: 'bar',[m
[31m-              configuration: {[m
[31m-                aggregationTypes: [{type: 'sum', value: null}],[m
[31m-                userTaskDurationTimes: ['work'],[m
[31m-                stackedBar: true,[m
[31m-              },[m
[31m-            },[m
[31m-          },[m
[31m-          type: 'optimize_report',[m
[31m-        },[m
[31m-        {[m
[31m-          position: {x: 0, y: 13},[m
[31m-          dimensions: {height: 5, width: 9},[m
[31m-          report: {[m
[31m-            name: t('dashboard.templates.incidentHandling'),[m
[31m-            data: {[m
[31m-              view: {entity: 'incident', properties: ['duration']},[m
[31m-              groupBy: {type: 'flowNodes', value: null},[m
[31m-              visualization: 'bar',[m
[31m-              filter: [[m
[31m-                {[m
[31m-                  appliedTo: ['all'],[m
[31m-                  data: null,[m
[31m-                  filterLevel: 'view',[m
[31m-                  type: 'includesResolvedIncident',[m
[31m-                },[m
[31m-              ],[m
[31m-              configuration: {[m
[31m-                aggregationTypes: [{type: 'avg', value: null}],[m
[31m-                targetValue: {[m
[31m-                  active: true,[m
[31m-                  isKpi: true,[m
[31m-                  durationChart: {unit: 'hours', isBelow: true, value: '1'},[m
[31m-                },[m
[31m-              },[m
[31m-            },[m
[31m-          },[m
[31m-          type: 'optimize_report',[m
[31m-        },[m
[31m-        {[m
[31m-          position: {x: 9, y: 13},[m
[31m-          dimensions: {height: 5, width: 9},[m
[31m-          report: {[m
[31m-            name: t('dashboard.templates.taskLifecycle'),[m
[31m-            data: {[m
[31m-              view: {entity: 'userTask', properties: ['duration']},[m
[31m-              groupBy: {type: 'userTasks', value: null},[m
[31m-              visualization: 'bar',[m
[31m-              configuration: {[m
[31m-                userTaskDurationTimes: ['work', 'idle'],[m
[31m-              },[m
[31m-            },[m
[31m-          },[m
[31m-          type: 'optimize_report',[m
[31m-        },[m
[31m-      ],[m
[31m-    });[m
[32m+[m[32m    templateGroups[2].templates.unshift(portfolioPerformanceDashboardTemplate());[m
   }[m
 [m
   if (!optimizeProfileLoaded) {[m
[1mdiff --git a/client/src/modules/components/TemplateModal/TemplateModal.test.js b/client/src/modules/components/TemplateModal/TemplateModal.test.js[m
[1mindex d40879bf02..653dd0d00d 100644[m
[1m--- a/client/src/modules/components/TemplateModal/TemplateModal.test.js[m
[1m+++ b/client/src/modules/components/TemplateModal/TemplateModal.test.js[m
[36m@@ -170,11 +170,11 @@[m [mit('should show templates with subTitles', () => {[m
       templateGroups={[[m
         {[m
           name: 'singleProcessGroup',[m
[31m-          templates: [{name: 'processPerformance', disableDescription: true, hasSubtitle: true}],[m
[32m+[m[32m          templates: [{name: 'portfolioPerformance', disableDescription: true, hasSubtitle: true}],[m
         },[m
         {[m
           name: 'multiProcessGroup',[m
[31m-          templates: [{name: 'humanPerformance', disableDescription: true, hasSubtitle: true}],[m
[32m+[m[32m          templates: [{name: 'operationsMonitoring', disableDescription: true, hasSubtitle: true}],[m
         },[m
       ]}[m
     />[m
[1mdiff --git a/client/src/modules/components/TemplateModal/images/acceleration.png b/client/src/modules/components/TemplateModal/images/acceleration.png[m
[1mnew file mode 100644[m
[1mindex 0000000000..b41424ca20[m
Binary files /dev/null and b/client/src/modules/components/TemplateModal/images/acceleration.png differ
[1mdiff --git a/client/src/modules/components/TemplateModal/images/efficiency.png b/client/src/modules/components/TemplateModal/images/efficiency.png[m
[1mnew file mode 100644[m
[1mindex 0000000000..f519bd4d66[m
Binary files /dev/null and b/client/src/modules/components/TemplateModal/images/efficiency.png differ
[1mdiff --git a/client/src/modules/components/TemplateModal/images/humanBottleneckAnalysis.png b/client/src/modules/components/TemplateModal/images/humanBottleneckAnalysis.png[m
[1mdeleted file mode 100644[m
[1mindex 4ebb0df2e0..0000000000[m
Binary files a/client/src/modules/components/TemplateModal/images/humanBottleneckAnalysis.png and /dev/null differ
[1mdiff --git a/client/src/modules/components/TemplateModal/images/humanPerformance.png b/client/src/modules/components/TemplateModal/images/humanPerformance.png[m
[1mdeleted file mode 100644[m
[1mindex 13b489f6e5..0000000000[m
Binary files a/client/src/modules/components/TemplateModal/images/humanPerformance.png and /dev/null differ
[1mdiff --git a/client/src/modules/components/TemplateModal/images/processDashboard.png b/client/src/modules/components/TemplateModal/images/processDashboard.png[m
[1mnew file mode 100644[m
[1mindex 0000000000..18e5196ce7[m
Binary files /dev/null and b/client/src/modules/components/TemplateModal/images/processDashboard.png differ
[1mdiff --git a/client/src/modules/components/TemplateModal/images/processPerformance.png b/client/src/modules/components/TemplateModal/images/processPerformance.png[m
[1mdeleted file mode 100644[m
[1mindex 060c48b0f8..0000000000[m
Binary files a/client/src/modules/components/TemplateModal/images/processPerformance.png and /dev/null differ
[1mdiff --git a/client/src/modules/components/TemplateModal/images/productivity.png b/client/src/modules/components/TemplateModal/images/productivity.png[m
[1mnew file mode 100644[m
[1mindex 0000000000..200678fd48[m
Binary files /dev/null and b/client/src/modules/components/TemplateModal/images/productivity.png differ
[1mdiff --git a/client/src/modules/components/TemplateModal/templates/accelerationDashboardTemplate.ts b/client/src/modules/components/TemplateModal/templates/accelerationDashboardTemplate.ts[m
[1mnew file mode 100644[m
[1mindex 0000000000..7b0faf4b6a[m
[1m--- /dev/null[m
[1m+++ b/client/src/modules/components/TemplateModal/templates/accelerationDashboardTemplate.ts[m
[36m@@ -0,0 +1,783 @@[m
[32m+[m[32m/*[m
[32m+[m[32m * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH[m
[32m+[m[32m * under one or more contributor license agreements. Licensed under a proprietary license.[m
[32m+[m[32m * See the License.txt file for more information. You may not use this file[m
[32m+[m[32m * except in compliance with the proprietary license.[m
[32m+[m[32m */[m
[32m+[m
[32m+[m[32mimport {t} from 'translation';[m
[32m+[m
[32m+[m[32mimport acceleration from '../images/acceleration.png';[m
[32m+[m
[32m+[m[32mexport function accelerationDashboardTemplate() {[m
[32m+[m[32m  return {[m
[32m+[m[32m    name: 'acceleration',[m
[32m+[m[32m    disabled: (definitions: unknown[]) => definitions.length > 1,[m
[32m+[m[32m    img: acceleration,[m
[32m+[m[32m    config: [[m
[32m+[m[32m      {[m
[32m+[m[32m        position: {x: 0, y: 0},[m
[32m+[m[32m        dimensions: {width: 18, height: 1},[m
[32m+[m[32m        type: 'text',[m
[32m+[m[32m        configuration: {[m
[32m+[m[32m          text: {[m
[32m+[m[32m            root: {[m
[32m+[m[32m              children: [[m
[32m+[m[32m                {[m
[32m+[m[32m                  children: [[m
[32m+[m[32m                    {[m
[32m+[m[32m                      altText: '/external/static/templates/acc_cycle_time.png',[m
[32m+[m[32m                      src: '/external/static/templates/acc_cycle_time.png',[m
[32m+[m[32m                      width: 0,[m
[32m+[m[32m                      caption: {[m
[32m+[m[32m                        editorState: {[m
[32m+[m[32m                          root: {[m
[32m+[m[32m                            children: [],[m
[32m+[m[32m                            indent: 0,[m
[32m+[m[32m                            format: '',[m
[32m+[m[32m                            type: 'root',[m
[32m+[m[32m                            version: 1,[m
[32m+[m[32m                            direction: null,[m
[32m+[m[32m                          },[m
[32m+[m[32m                        },[m
[32m+[m[32m                      },[m
[32m+[m[32m                      showCaption: false,[m
[32m+[m[32m                      type: 'image',[m
[32m+[m[32m                      version: 1,[m
[32m+[m[32m                      height: 0,[m
[32m+[m[32m                      maxWidth: 500,[m
[32m+[m[32m                    },[m
[32m+[m[32m                  ],[m
[32m+[m[32m                  format: '',[m
[32m+[m[32m                  type: 'paragraph',[m
[32m+[m[32m                  version: 1,[m
[32m+[m[32m                  direction: null,[m
[32m+[m[32m                },[m
[32m+[m[32m              ],[m
[32m+[m[32m              indent: 0,[m
[32m+[m[32m              format: '',[m
[32m+[m[32m              type: 'root',[m
[32m+[m[32m              version: 1,[m
[32m+[m[32m              direction: null,[m
[32m+[m[32m            },[m
[32m+[m[32m          },[m
[32m+[m[32m        },[m
[32m+[m[32m      },[m
[32m+[m[32m      {[m
[32m+[m[32m        position: {x: 0, y: 5},[m
[32m+[m[32m        dimensions: {width: 18, height: 1},[m
[32m+[m[32m        type: 'text',[m
[32m+[m[32m        configuration: {[m
[32m+[m[32m          text: {[m
[32m+[m[32m            root: {[m
[32m+[m[32m              children: [[m
[32m+[m[32m                {[m
[32m+[m[32m                  children: [[m
[32m+[m[32m                    {[m
[32m+[m[32m                      altText: '/external/static/templates/acc_task_duration.png',[m
[32m+[m[32m                      src: '/external/static/templates/acc_task_duration.png',[m
[32m+[m[32m                      width: 0,[m
[32m+[m[32m                      caption: {[m
[32m+[m[32m                        editorState: {[m
[32m+[m[32m                          root: {[m
[32m+[m[32m                            children: [],[m
[32m+[m[32m                            indent: 0,[m
[32m+[m[32m                            format: '',[m
[32m+[m[32m                            type: 'root',[m
[32m+[m[32m                            version: 1,[m
[32m+[m[32m                            direction: null,[m
[32m+[m[32m                          },[m
[32m+[m[32m                        },[m
[32m+[m[32m                      },[m
[32m+[m[32m                      showCaption: false,[m
[32m+[m[32m                      type: 'image',[m
[32m+[m[32m                      version: 1,[m
[32m+[m[32m                      height: 0,[m
[32m+[m[32m                      maxWidth: 500,[m
[32m+[m[32m                    },[m
[32m+[m[32m                  ],[m
[32m+[m[32m                  format: '',[m
[32m+[m[32m                  type: 'paragraph',[m
[32m+[m[32m                  version: 1,[m
[32m+[m[32m                  direction: null,[m
[32m+[m[32m                },[m
[32m+[m[32m              ],[m
[32m+[m[32m              indent: 0,[m
[32m+[m[32m              format: '',[m
[32m+[m[32m              type: 'root',[m
[32m+[m[32m              version: 1,[m
[32m+[m[32m              direction: null,[m
[32m+[m[32m            },[m
[32m+[m[32m          },[m
[32m+[m[32m        },[m
[32m+[m[32m      },[m
[32m+[m[32m      {[m
[32m+[m[32m        position: {x: 4, y: 1},[m
[32m+[m[32m        dimensions: {width: 9, height: 4},[m
[32m+[m[32m        type: 'optimize_report',[m
[32m+[m[32m        report: {[m
[32m+[m[32m          name: t('dashboard.templates.acceleration_cycleTimeLastWeeks'),[m
[32m+[m[32m          description: t('dashboard.templates.acceleration_cycleTimeLastWeeks-description'),[m
[32m+[m[32m          data: {[m
[32m+[m[32m            configuration: {[m
[32m+[m[32m              color: '#008B02',[m
[32m+[m[32m              precision: 2,[m
[32m+[m[32m              alwaysShowAbsolute: true,[m
[32m+[m[32m              targetValue: {[m
[32m+[m[32m                active: true,[m
[32m+[m[32m                durationChart: {[m
[32m+[m[32m                  unit: 'hours',[m
[32m+[m[32m                  isBelow: true,[m
[32m+[m[32m                  value: '60',[m
[32m+[m[32m                },[m
[32m+[m[32m                isKpi: null,[m
[32m+[m[32m              },[m
[32m+[m[32m              sorting: {by: 'key', order: 'asc'},[m
[32m+[m[32m              xLabel: t('report.groupBy.endDate'),[m
[32m+[m[32m              yLabel: t('report.view.pi') + ' ' + t('report.view.duration'),[m
[32m+[m[32m            },[m
[32m+[m[32m            filter: [[m
[32m+[m[32m              {[m
[32m+[m[32m                type: 'instanceEndDate',[m
[32m+[m[32m                data: {[m
[32m+[m[32m                  type: 'rolling',[m
[32m+[m[32m                  start: {value: 8, unit: 'weeks'},[m
[32m+[m[32m                },[m
[32m+[m[32m                filterLevel: 'instance',[m
[32m+[m[32m                appliedTo: ['all'],[m
[32m+[m[32m              },[m
[32m+[m[32m            ],[m
[32m+[m[32m            view: {[m
[32m+[m[32m              entity: 'processInstance',[m
[32m+[m[32m              properties: ['duration'],[m
[32m+[m[32m            },[m
[32m+[m[32m            groupBy: {type: 'endDate', value: {unit: 'week'}},[m
[32m+[m[32m            visualization: 'line',[m
[32m+[m[32m          },[m
[32m+[m[32m        },[m
[32m+[m[32m      },[m
[32m+[m[32m      {[m
[32m+[m[32m        position: {x: 13, y: 1},[m
[32m+[m[32m        dimensions: {width: 5, height: 4},[m
[32m+[m[32m        type: 'text',[m
[32m+[m[32m        configuration: {[m
[32m+[m[32m          text: {[m
[32m+[m[32m            root: {[m
[32m+[m[32m              children: [[m
[32m+[m[32m                {[m
[32m+[m[32m                  children: [[m
[32m+[m[32m                    {[m
[32m+[m[32m                      mode: 'normal',[m
[32m+[m[32m                      format: 1,[m
[32m+[m[32m                      style: 'font-size: 20px;',[m
[32m+[m[32m                      detail: 0,[m
[32m+[m[32m                      text: t('dashboard.templates.acceleration_text1_line1'),[m
[32m+[m[32m                      type: 'text',[m
[32m+[m[32m                      version: 1,[m
[32m+[m[32m                    },[m
[32m+[m[32m                    {type: 'linebreak', version: 1},[m
[32m+[m[32m                  ],[m
[32m+[m[32m                  format: '',[m
[32m+[m[32m                  type: 'paragraph',[m
[32m+[m[32m                  version: 1,[m
[32m+[m[32m                  direction: 'ltr',[m
[32m+[m[32m                },[m
[32m+[m[32m                {[m
[32m+[m[32m                  children: [[m
[32m+[m[32m                    {[m
[32m+[m[32m                      altText: '/external/static/templates/Target.png',[m
[32m+[m[32m                      src: '/external/static/templates/Target.png',[m
[32m+[m[32m                      width: 0,[m
[32m+[m[32m                      caption: {[m
[32m+[m[32m                        editorState: {[m
[32m+[m[32m                          root: {[m
[32m+[m[32m                            children: [],[m
[32m+[m[32m                            indent: 0,[m
[32m+[m[32m                            format: '',[m
[32m+[m[32m                            type: 'root',[m
[32m+[m[32m                            version: 1,[m
[32m+[m[32m                            direction: null,[m
[32m+[m[32m                          },[m
[32m+[m[32m                        },[m
[32m+[m[32m                      },[m
[32m+[m[32m                      showCaption: false,[m
[32m+[m[32m                      type: 'image',[m
[32m+[m[32m                      version: 1,[m
[32m+[m[32m                      height: 0,[m
[32m+[m[32m                      maxWidth: 500,[m
[32m+[m[32m                    },[m
[32m+[m[32m                    {[m
[32m+[m[32m                      mode: 'normal',[m
[32m+[m[32m                      format: 3,[m
[32m+[m[32m                      style: '',[m
[32m+[m[32m                      detail: 0,[m
[32m+[m[32m                      text: t('dashboard.templates.acceleration_text1_line2'),[m
[32m+[m[32m                      type: 'text',[m
[32m+[m[32m                      version: 1,[m
[32m+[m[32m                    },[m
[32m+[m[32m                  ],[m
[32m+[m[32m                  indent: 0,[m
[32m+[m[32m                  format: '',[m
[32m+[m[32m                  type: 'paragraph',[m
[32m+[m[32m                  version: 1,[m
[32m+[m[32m                  direction: 'ltr',[m
[32m+[m[32m                },[m
[32m+[m[32m                {[m
[32m+[m[32m                  children: [[m
[32m+[m[32m                    {[m
[32m+[m[32m                      mode: 'normal',[m
[32m+[m[32m                      format: 0,[m
[32m+[m[32m                      style: '',[m
[32m+[m[32m                      detail: 0,[m
[32m+[m[32m                      text: t('dashboard.templates.acceleration_text1_line3'),[m
[32m+[m[32m                      type: 'text',[m
[32m+[m[32m                      version: 1,[m
[32m+[m[32m                    },[m
[32m+[m[32m                  ],[m
[32m+[m[32m                  indent: 0,[m
[32m+[m[32m                  format: '',[m
[32m+[m[32m                  type: 'paragraph',[m
[32m+[m[32m                  version: 1,[m
[32m+[m[32m                  direction: 'ltr',[m
[32m+[m[32m                },[m
[32m+[m[32m                {[m
[32m+[m[32m                  children: [],[m
[32m+[m[32m                  indent: 0,[m
[32m+[m[32m                  format: '',[m
[32m+[m[32m                  type: 'paragraph',[m
[32m+[m[32m                  version: 1,[m
[32m+[m[32m                  direction: 'ltr',[m
[32m+[m[32m                },[m
[32m+[m[32m                {[m
[32m+[m[32m                  children: [[m
[32m+[m[32m                    {[m
[32m+[m[32m                      altText: '/external/static/templates/customize.png',[m
[32m+[m[32m                      src: '/external/static/templates/customize.png',[m
[32m+[m[32m                      width: 0,[m
[32m+[m[32m                      caption: {[m
[32m+[m[32m                        editorState: {[m
[32m+[m[32m                          root: {[m
[32m+[m[32m                            children: [],[m
[32m+[m[32m                            indent: 0,[m
[32m+[m[32m                            format: '',[m
[32m+[m[32m                            type: 'root',[m
[32m+[m[32m                            version: 1,[m
[32m+[m[32m                            direction: null,[m
[32m+[m[32m                          },[m
[32m+[m[32m                        },[m
[32m+[m[32m                      },[m
[32m+[m[32m                      showCaption: false,[m
[32m+[m[32m                      type: 'image',[m
[32m+[m[32m                      version: 1,[m
[32m+[m[32m                      height: 0,[m
[32m+[m[32m                      maxWidth: 500,[m
[32m+[m[32m                    },[m
[32m+[m[32m                    {[m
[32m+[m[32m                      mode: 'normal',[m
[32m+[m[32m                      format: 3,[m
[32m+[m[32m                      style: '',[m
[32m+[m[32m                      detail: 0,[m
[32m+[m[32m                      text: t('dashboard.templates.acceleration_text1_line4'),[m
[32m+[m[32m                      type: 'text',[m
[32m+[m[32m                      version: 1,[m
[32m+[m[32m                    },[m
[32m+[m[32m                  ],[m
[32m+[m[32m                  indent: 0,[m
[32m+[m[32m                  format: '',[m
[32m+[m[32m                  type: 'paragraph',[m
[32m+[m[32m                  version: 1,[m
[32m+[m[32m                  direction: 'ltr',[m
[32m+[m[32m                },[m
[32m+[m[32m                {[m
[32m+[m[32m                  children: [[m
[32m+[m[32m                    {[m
[32m+[m[32m                      mode: 'normal',[m
[32m+[m[32m                      format: 0,[m
[32m+[m[32m                      style: '',[m
[32m+[m[32m                      detail: 0,[m
[32m+[m[32m                      text: '- ',[m
[32m+[m[32m                      type: 'text',[m
[32m+[m[32m                      version: 1,[m
[32m+[m[32m                    },[m
[32m+[m[32m                    {[m
[32m+[m[32m                      children: [[m
[32m+[m[32m                        {[m
[32m+[m[32m                          mode: 'normal',[m
[32m+[m[32m                          format: 0,[m
[32m+[m[32m                          style: '',[m
[32m+[m[32m                          detail: 0,[m
[32m+[m[32m                          text: t('dashboard.templates.acceleration_text1_line5'),[m
[32m+[m[32m                          type: 'text',[m
[32m+[m[32m                          version: 1,[m
[32m+[m[32m                        },[m
[32m+[m[32m                      ],[m
[32m+[m[32m                      indent: 0,[m
[32m+[m[32m                      format: '',[m
[32m+[m[32m                      rel: 'noopener norefereer',[m
[32m+[m[32m                      type: 'link',[m
[32m+[m[32m                      version: 1,[m
[32m+[m[32m                      url: 'https://docs.camunda.io/optimize/components/what-is-optimize/',[m
[32m+[m[32m                      direction: 'ltr',[m
[32m+[m[32m                      target: '_blank',[m
[32m+[m[32m                    },[m
[32m+[m[32m                    {[m
[32m+[m[32m                      mode: 'normal',[m
[32m+[m[32m                      format: 0,[m
[32m+[m[32m                      style: '',[m
[32m+[m[32m                      detail: 0,[m
[32m+[m[32m                      text: t('dashboard.templates.acceleration_text1_line6'),[m
[32m+[m[32m                      type: 'text',[m
[32m+[m[32m                      version: 1,[m
[32m+[m[32m                    },[m
[32m+[m[32m                    {[m
[32m+[m[32m                      mode: 'normal',[m
[32m+[m[32m                      format: 1,[m
[32m+[m[32m                      style: '',[m
[32m+[m[32m                      detail: 0,[m
[32m+[m[32m                      text: t('dashboard.templates.acceleration_text1_line7'),[m
[32m+[m[32m                      type: 'text',[m
[32m+[m[32m                      version: 1,[m
[32m+[m[32m                    },[m
[32m+[m[32m                    {[m
[32m+[m[32m                      mode: 'normal',[m
[32m+[m[32m                      format: 0,[m
[32m+[m[32m                      style: '',[m
[32m+[m[32m                      detail: 0,[m
[32m+[m[32m                      text: ' .',[m
[32m+[m[32m                      type: 'text',[m
[32m+[m[32m                      version: 1,[m
[32m+[m[32m                    },[m
[32m+[m[32m                  ],[m
[32m+[m[32m                  indent: 0,[m
[32m+[m[32m                  format: '',[m
[32m+[m[32m                  type: 'paragraph',[m
[32m+[m[32m                  version: 1,[m
[32m+[m[32m                  direction: 'ltr',[m
[32m+[m[32m                },[m
[32m+[m[32m                {[m
[32m+[m[32m                  children: [[m
[32m+[m[32m                    {[m
[32m+[m[32m                      mode: 'normal',[m
[32m+[m[32m                      format: 0,[m
[32m+[m[32m                      style: '',[m
[32m+[m[32m                      detail: 0,[m
[32m+[m[32m                      text: t('dashboard.templates.acceleration_text1_line8'),[m
[32m+[m[32m                      type: 'text',[m
[32m+[m[32m                      version: 1,[m
[32m+[m[32m                    },[m
[32m+[m[32m                    {[m
[32m+[m[32m                      children: [[m
[32m+[m[32m                        {[m
[32m+[m[32m                          mode: 'normal',[m
[32m+[m[32m                          format: 0,[m
[32m+[m[32m                          style: '',[m
[32m+[m[32m                          detail: 0,[m
[32m+[m[32m                          text: t('dashboard.templates.acceleration_text1_line9'),[m
[32m+[m[32m                          type: 'text',[m
[32m+[m[32m                          version: 1,[m
[32m+[m[32m                        },[m
[32m+[m[32m                      ],[m
[32m+[m[32m                      indent: 0,[m
[32m+[m[32m                      format: '',[m
[32m+[m[32m                      rel: 'noopener norefereer',[m
[32m+[m[32m                      type: 'link',[m
[32m+[m[32m                      version: 1,[m
[32m+[m[32m                      url: 'https://docs.camunda.io/optimize/components/userguide/process-analysis/flow-node-filters/#flow-node-selection',[m
[32m+[m[32m                      direction: 'ltr',[m
[32m+[m[32m                      target: '_blank',[m
[32m+[m[32m                    },[m
[32m+[m[32m                    {[m
[32m+[m[32m                      mode: 'normal',[m
[32m+[m[32m                      format: 0,[m
[32m+[m[32m                      style: '',[m
[32m+[m[32m                      detail: 0,[m
[32m+[m[32m                      text: t('dashboard.templates.acceleration_text1_line10'),[m
[32m+[m[32m                      type: 'text',[m
[32m+[m[32m                      version: 1,[m
[32m+[m[32m                    },[m
[32m+[m[32m                  ],[m
[32m+[m[32m                  indent: 0,[m
[32m+[m[32m                  format: '',[m
[32m+[m[32m                  type: 'paragraph',[m
[32m+[m[32m                  version: 1,[m
[32m+[m[32m                  direction: 'ltr',[m
[32m+[m[32m                },[m
[32m+[m[32m              ],[m
[32m+[m[32m              indent: 0,[m
[32m+[m[32m              format: '',[m
[32m+[m[32m              type: 'root',[m
[32m+[m[32m              version: 1,[m
[32m+[m[32m              direction: 'ltr',[m
[32m+[m[32m            },[m
[32m+[m[32m          },[m
[32m+[m[32m        },[m
[32m+[m[32m      },[m
[32m+[m[32m      {[m
[32m+[m[32m        position: {x: 7, y: 14},[m
[32m+[m[32m        dimensions: {width: 11, height: 3},[m
[32m+[m[32m        type: 'text',[m
[32m+[m[32m        configuration: {[m
[32m+[m[32m          text: {[m
[32m+[m[32m            root: {[m
[32m+[m[32m              children: [[m
[32m+[m[32m                {[m
[32m+[m[32m                  children: [[m
[32m+[m[32m                    {[m
[32m+[m[32m                      mode: 'normal',[m
[32m+[m[32m                      format: 1,[m
[32m+[m[32m                      style: 'font-size: 20px;',[m
[32m+[m[32m                      detail: 0,[m
[32m+[m[32m                      text: t('dashboard.templates.acceleration_text2_line1'),[m
[32m+[m[32m                      type: 'text',[m
[32m+[m[32m                      version: 1,[m
[32m+[m[32m                    },[m
[32m+[m[32m                  ],[m
[32m+[m[32m                  indent: 0,[m
[32m+[m[32m                  format: '',[m
[32m+[m[32m                  type: 'paragraph',[m
[32m+[m[32m                  version: 1,[m
[32m+[m[32m                  direction: 'ltr',[m
[32m+[m[32m                },[m
[32m+[m[32m                {[m
[32m+[m[32m                  children: [[m
[32m+[m[32m                    {type: 'linebreak', version: 1},[m
[32m+[m[32m                    {[m
[32m+[m[32m                      altText: '/external/static/templates/Target.png',[m
[32m+[m[32m                      src: '/external/static/templates/Target.png',[m
[32m+[m[32m                      width: 0,[m
[32m+[m[32m                      caption: {[m
[32m+[m[32m                        editorState: {[m
[32m+[m[32m                          root: {[m
[32m+[m[32m                            children: [],[m
[32m+[m[32m                            indent: 0,[m
[32m+[m[32m                            format: '',[m
[32m+[m[32m                            type: 'root',[m
[32m+[m[32m                            version: 1,[m
[32m+[m[32m                            direction: null,[m
[32m+[m[32m                          },[m
[32m+[m[32m                        },[m
[32m+[m[32m                      },[m
[32m+[m[32m                      showCaption: false,[m
[32m+[m[32m                      type: 'image',[m
[32m+[m[32m                      version: 1,[m
[32m+[m[32m                      height: 0,[m
[32m+[m[32m                      maxWidth: 500,[m
[32m+[m[32m                    },[m
[32m+[m[32m                    {[m
[32m+[m[32m                      mode: 'normal',[m
[32m+[m[32m                      format: 0,[m
[32m+[m[32m                      style: '',[m
[32m+[m[32m                      detail: 0,[m
[32m+[m[32m                      text: ' ',[m
[32m+[m[32m                      type: 'text',[m
[32m+[m[32m                      version: 1,[m
[32m+[m[32m                    },[m
[32m+[m[32m                    {[m
[32m+[m[32m                      mode: 'normal',[m
[32m+[m[32m                      format: 3,[m
[32m+[m[32m                      style: '',[m
[32m+[m[32m                      detail: 0,[m
[32m+[m[32m                      text: t('dashboard.templates.acceleration_text2_line2'),[m
[32m+[m[32m                      type: 'text',[m
[32m+[m[32m                      version: 1,[m
[32m+[m[32m                    },[m
[32m+[m[32m                  ],[m
[32m+[m[32m                  indent: 0,[m
[32m+[m[32m                  format: '',[m
[32m+[m[32m                  type: 'paragraph',[m
[32m+[m[32m                  version: 1,[m
[32m+[m[32m                  direction: 'ltr',[m
[32m+[m[32m                },[m
[32m+[m[32m                {[m
[32m+[m[32m                  children: [[m
[32m+[m[32m                    {[m
[32m+[m[32m                      mode: 'normal',[m
[32m+[m[32m                      format: 0,[m
[32m+[m[32m                      style: '',[m
[32m+[m[32m                      detail: 0,[m
[32m+[m[32m                      text: t('dashboard.templates.acceleration_text2_line3'),[m
[32m+[m[32m                      type: 'text',[m
[32m+[m[32m                      version: 1,[m
[32m+[m[32m                    },[m
[32m+[m[32m                  ],[m
[32m+[m[32m                  indent: 0,[m
[32m+[m[32m                  format: '',[m
[32m+[m[32m                  type: 'paragraph',[m
[32m+[m[32m                  version: 1,[m
[32m+[m[32m                  direction: 'ltr',[m
[32m+[m[32m                },[m
[32m+[m[32m              ],[m
[32m+[m[32m              indent: 0,[m
[32m+[m[32m              format: '',[m
[32m+[m[32m              type: 'root',[m
[32m+[m[32m              version: 1,[m
[32m+[m[32m              direction: 'ltr',[m
[32m+[m[32m            },[m
[32m+[m[32m          },[m
[32m+[m[32m        },[m
[32m+[m[32m      },[m
[32m+[m[32m      {[m
[32m+[m[32m        position: {x: 0, y: 1},[m
[32m+[m[32m        dimensions: {width: 4, height: 2},[m
[32m+[m[32m        type: 'optimize_report',[m
[32m+[m[32m        report: {[m
[32m+[m[32m          name: t('dashboard.templates.acceleration_cycleTimeLast7Days'),[m
[32m+[m[32m          description: t('dashboard.templates.acceleration_cycleTimeLast7Days-description'),[m
[32m+[m[32m          data: {[m
[32m+[m[32m            configuration: {[m
[32m+[m[32m              precision: 2,[m
[32m+[m[32m              targetValue: {[m
[32m+[m[32m                durationProgress: {[m
[32m+[m[32m                  baseline: {unit: 'hours', value: '0'},[m
[32m+[m[32m                  target: {[m
[32m+[m[32m                    unit: 'days',[m
[32m+[m[32m                    value: '2',[m
[32m+[m[32m                    isBelow: true,[m
[32m+[m[32m                  },[m
[32m+[m[32m                },[m
[32m+[m[32m                active: true,[m
[32m+[m[32m                isKpi: true,[m
[32m+[m[32m              },[m
[32m+[m[32m            },[m
[32m+[m[32m            filter: [[m
[32m+[m[32m              {[m
[32m+[m[32m                type: 'instanceEndDate',[m
[32m+[m[32m                data: {[m
[32m+[m[32m                  type: 'rolling',[m
[32m+[m[32m                  start: {value: 7, unit: 'days'},[m
[32m+[m[32m                },[m
[32m+[m[32m                filterLevel: 'instance',[m
[32m+[m[32m                appliedTo: ['all'],[m
[32m+[m[32m              },[m
[32m+[m[32m            ],[m
[32m+[m[32m            view: {[m
[32m+[m[32m              entity: 'processInstance',[m
[32m+[m[32m              properties: ['duration'],[m
[32m+[m[32m            },[m
[32m+[m[32m            groupBy: {type: 'none', value: null},[m
[32m+[m[32m            visualization: 'number',[m
[32m+[m[32m          },[m
[32m+[m[32m        },[m
[32m+[m[32m      },[m
[32m+[m[32m      {[m
[32m+[m[32m        position: {x: 0, y: 3},[m
[32m+[m[32m        dimensions: {width: 4, height: 2},[m
[32m+[m[32m        type: 'optimize_report',[m
[32m+[m[32m        report: {[m
[32m+[m[32m          name: t('dashboard.templates.acceleration_cycleTimeLast4Weeks'),[m
[32m+[m[32m          description: t('dashboard.templates.acceleration_cycleTimeLast4Weeks-description'),[m
[32m+[m[32m          data: {[m
[32m+[m[32m            configuration: {[m
[32m+[m[32m              precision: 2,[m
[32m+[m[32m              targetValue: {[m
[32m+[m[32m                durationProgress: {[m
[32m+[m[32m                  baseline: {unit: 'hours', value: '0'},[m
[32m+[m[32m                  target: {[m
[32m+[m[32m                    unit: 'days',[m
[32m+[m[32m                    value: '2',[m
[32m+[m[32m                    isBelow: true,[m
[32m+[m[32m                  },[m
[32m+[m[32m                },[m
[32m+[m[32m                active: true,[m
[32m+[m[32m              },[m
[32m+[m[32m            },[m
[32m+[m[32m            filter: [[m
[32m+[m[32m              {[m
[32m+[m[32m                type: 'instanceEndDate',[m
[32m+[m[32m                data: {[m
[32m+[m[32m                  type: 'rolling',[m
[32m+[m[32m                  start: {value: 4, unit: 'weeks'},[m
[32m+[m[32m                },[m
[32m+[m[32m                filterLevel: 'instance',[m
[32m+[m[32m                appliedTo: ['all'],[m
[32m+[m[32m              },[m
[32m+[m[32m            ],[m
[32m+[m[32m            view: {[m
[32m+[m[32m              entity: 'processInstance',[m
[32m+[m[32m              properties: ['duration'],[m
[32m+[m[32m            },[m
[32m+[m[32m            groupBy: {type: 'none', value: null},[m
[32m+[m[32m            visualization: 'number',[m
[32m+[m[32m          },[m
[32m+[m[32m        },[m
[32m+[m[32m      },[m
[32m+[m[32m      {[m
[32m+[m[32m        position: {x: 5, y: 6},[m
[32m+[m[32m        dimensions: {width: 13, height: 4},[m
[32m+[m[32m        type: 'optimize_report',[m
[32m+[m[32m        report: {[m
[32m+[m[32m          name: t('dashboard.templates.acceleration_deviationOfPlannedToAverageDuration'),[m
[32m+[m[32m          description: t([m
[32m+[m[32m            'dashboard.templates.acceleration_deviationOfPlannedToAverageDuration-description'[m
[32m+[m[32m          ),[m
[32m+[m[32m          data: {[m
[32m+[m[32m            configuration: {},[m
[32m+[m[32m            view: {entity: 'flowNode', properties: ['duration']},[m
[32m+[m[32m            groupBy: {type: 'flowNodes', value: null},[m
[32m+[m[32m            visualization: 'heat',[m
[32m+[m[32m          },[m
[32m+[m[32m        },[m
[32m+[m[32m      },[m
[32m+[m[32m      {[m
[32m+[m[32m        position: {x: 0, y: 10},[m
[32m+[m[32m        dimensions: {width: 7, height: 7},[m
[32m+[m[32m        type: 'optimize_report',[m
[32m+[m[32m        report: {[m
[32m+[m[32m          name: t('dashboard.templates.acceleration_durationOfCriticalTasksInLastMonth'),[m
[32m+[m[32m          description: t([m
[32m+[m[32m            'dashboard.templates.acceleration_durationOfCriticalTasksInLastMonth-description'[m
[32m+[m[32m          ),[m
[32m+[m[32m          data: {[m
[32m+[m[32m            configuration: {[m
[32m+[m[32m              aggregationTypes: [[m
[32m+[m[32m                {type: 'min', value: null},[m
[32m+[m[32m                {type: 'max', value: null},[m
[32m+[m[32m                {type: 'percentile', value: 95},[m
[32m+[m[32m              ],[m
[32m+[m[32m              sorting: {by: 'value', order: 'desc'},[m
[32m+[m[32m              horizontalBar: true,[m
[32m+[m[32m              logScale: true,[m
[32m+[m[32m              xLabel: t('report.groupBy.flowNodes'),[m
[32m+[m[32m              yLabel: t('report.view.fn') + ' ' + t('report.view.duration'),[m
[32m+[m[32m            },[m
[32m+[m[32m            filter: [[m
[32m+[m[32m              {[m
[32m+[m[32m                type: 'doesNotIncludeIncident',[m
[32m+[m[32m                data: null,[m
[32m+[m[32m                filterLevel: 'instance',[m
[32m+[m[32m                appliedTo: ['all'],[m
[32m+[m[32m              },[m
[32m+[m[32m              {[m
[32m+[m[32m                type: 'instanceEndDate',[m
[32m+[m[32m                data: {[m
[32m+[m[32m                  type: 'rolling',[m
[32m+[m[32m                  start: {value: 1, unit: 'months'},[m
[32m+[m[32m                },[m
[32m+[m[32m                filterLevel: 'instance',[m
[32m+[m[32m                appliedTo: ['all'],[m
[32m+[m[32m              },[m
[32m+[m[32m            ],[m
[32m+[m[32m            view: {entity: 'flowNode', properties: ['duration']},[m
[32m+[m[32m            groupBy: {type: 'flowNodes', value: null},[m
[32m+[m[32m            visualization: 'bar',[m
[32m+[m[32m          },[m
[32m+[m[32m        },[m
[32m+[m[32m      },[m
[32m+[m[32m      {[m
[32m+[m[32m        position: {x: 7, y: 10},[m
[32m+[m[32m        dimensions: {width: 11, height: 4},[m
[32m+[m[32m        type: 'optimize_report',[m
[32m+[m[32m        report: {[m
[32m+[m[32m          name: t('dashboard.templates.acceleration_taskBottlenecks'),[m
[32m+[m[32m          description: t('dashboard.templates.acceleration_taskBottlenecks-description'),[m
[32m+[m[32m          data: {[m
[32m+[m[32m            configuration: {},[m
[32m+[m[32m            view: {entity: 'flowNode', properties: ['duration']},[m
[32m+[m[32m            groupBy: {type: 'flowNodes', value: null},[m
[32m+[m[32m            visualization: 'heat',[m
[32m+[m[32m          },[m
[32m+[m[32m        },[m
[32m+[m[32m      },[m
[32m+[m[32m      {[m
[32m+[m[32m        position: {x: 0, y: 6},[m
[32m+[m[32m        dimensions: {width: 5, height: 4},[m
[32m+[m[32m        type: 'text',[m
[32m+[m[32m        configuration: {[m
[32m+[m[32m          text: {[m
[32m+[m[32m            root: {[m
[32m+[m[32m              children: [[m
[32m+[m[32m                {[m
[32m+[m[32m                  children: [[m
[32m+[m[32m                    {[m
[32m+[m[32m                      mode: 'normal',[m
[32m+[m[32m                      format: 1,[m
[32m+[m[32m                      style: 'font-size: 20px;',[m
[32m+[m[32m                      detail: 0,[m
[32m+[m[32m                      text: t('dashboard.templates.acceleration_text3_line1'),[m
[32m+[m[32m                      type: 'text',[m
[32m+[m[32m                      version: 1,[m
[32m+[m[32m                    },[m
[32m+[m[32m                  ],[m
[32m+[m[32m                  format: '',[m
[32m+[m[32m                  type: 'paragraph',[m
[32m+[m[32m                  version: 1,[m
[32m+[m[32m                  direction: 'ltr',[m
[32m+[m[32m                },[m
[32m+[m[32m                {[m
[32m+[m[32m                  children: [],[m
[32m+[m[32m                  indent: 0,[m
[32m+[m[32m                  format: '',[m
[32m+[m[32m                  type: 'paragraph',[m
[32m+[m[32m                  version: 1,[m
[32m+[m[32m                  direction: null,[m
[32m+[m[32m                },[m
[32m+[m[32m                {[m
[32m+[m[32m                  children: [[m
[32m+[m[32m                    {[m
[32m+[m[32m                      altText: '/external/static/templates/customize.png',[m
[32m+[m[32m                      src: '/external/static/templates/customize.png',[m
[32m+[m[32m                      width: 0,[m
[32m+[m[32m                      caption: {[m
[32m+[m[32m                        editorState: {[m
[32m+[m[32m                          root: {[m
[32m+[m[32m                            children: [],[m
[32m+[m[32m                            indent: 0,[m
[32m+[m[32m                            format: '',[m
[32m+[m[32m                            type: 'root',[m
[32m+[m[32m                            version: 1,[m
[32m+[m[32m                            direction: null,[m
[32m+[m[32m                          },[m
[32m+[m[32m                        },[m
[32m+[m[32m                      },[m
[32m+[m[32m                      showCaption: false,[m
[32m+[m[32m                      type: 'image',[m
[32m+[m[32m                      version: 1,[m
[32m+[m[32m                      height: 0,[m
[32m+[m[32m                      maxWidth: 500,[m
[32m+[m[32m                    },[m
[32m+[m[32m                    {[m
[32m+[m[32m                      mode: 'normal',[m
[32m+[m[32m                      format: 3,[m
[32m+[m[32m                      style: '',[m
[32m+[m[32m                      detail: 0,[m
[32m+[m[32m                      text: t('dashboard.templates.acceleration_text3_line2'),[m
[32m+[m[32m                      type: 'text',[m
[32m+[m[32m                      version: 1,[m
[32m+[m[32m                    },[m
[32m+[m[32m                  ],[m
[32m+[m[32m                  format: '',[m
[32m+[m[32m                  type: 'paragraph',[m
[32m+[m[32m                  version: 1,[m
[32m+[m[32m                  direction: 'ltr',[m
[32m+[m[32m                },[m
[32m+[m[32m                {[m
[32m+[m[32m                  children: [[m
[32m+[m[32m                    {[m
[32m+[m[32m                      mode: 'normal',[m
[32m+[m[32m                      format: 0,[m
[32m+[m[32m                      style: '',[m
[32m+[m[32m                      detail: 0,[m
[32m+[m[32m                      text: t('dashboard.templates.acceleration_text3_line3'),[m
[32m+[m[32m                      type: 'text',[m
[32m+[m[32m                      version: 1,[m
[32m+[m[32m                    },[m
[32m+[m[32m                  ],[m
[32m+[m[32m                  indent: 0,[m
[32m+[m[32m                  format: '',[m
[32m+[m[32m                  type: 'paragraph',[m
[32m+[m[32m                  version: 1,[m
[32m+[m[32m                  direction: 'ltr',[m
[32m+[m[32m                },[m
[32m+[m[32m              ],[m
[32m+[m[32m              indent: 0,[m
[32m+[m[32m              format: '',[m
[32m+[m[32m              type: 'root',[m
[32m+[m[32m              version: 1,[m
[32m+[m[32m              direction: 'ltr',[m
[32m+[m[32m            },[m
[32m+[m[32m          },[m
[32m+[m[32m        },[m
[32m+[m[32m      },[m
[32m+[m[32m    ],[m
[32m+[m[32m  };[m
[32m+[m[32m}[m
[1mdiff --git a/client/src/modules/components/TemplateModal/templates/efficiencyDashboardTemplate.ts b/client/src/modules/components/TemplateModal/templates/efficiencyDashboardTemplate.ts[m
[1mnew file mode 100644[m
[1mindex 0000000000..f43bf8e90b[m
[1m--- /dev/null[m
[1m+++ b/client/src/modules/components/TemplateModal/templates/efficiencyDashboardTemplate.ts[m
[36m@@ -0,0 +1,996 @@[m
[32m+[m[32m/*[m
[32m+[m[32m * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH[m
[32m+[m[32m * under one or more contributor license agreements. Licensed under a proprietary license.[m
[32m+[m[32m * See the License.txt file for more information. You may not use this file[m
[32m+[m[32m * except in compliance with the proprietary license.[m
[32m+[m[32m */[m
[32m+[m
[32m+[m[32mimport {t} from 'translation';[m
[32m+[m
[32m+[m[32mimport efficiency from '../images/efficiency.png';[m
[32m+[m
[32m+[m[32mexport function efficiencyDashboardTemplate() {[m
[32m+[m[32m  return {[m
[32m+[m[32m    name: 'efficiency',[m
[32m+[m[32m    disabled: (definitions: unknown[]) => definitions.length > 1,[m
[32m+[m[32m    img: efficiency,[m
[32m+[m[32m    config: [[m
[32m+[m[32m      {[m
[32m+[m[32m        position: {x: 0, y: 0},[m
[32m+[m[32m        dimensions: {width: 18, height: 1},[m
[32m+[m[32m        type: 'text',[m
[32m+[m[32m        configuration: {[m
[32m+[m[32m          text: {[m
[32m+[m[32m            root: {[m
[32m+[m[32m              children: [[m
[32m+[m[32m                {[m
[32m+[m[32m                  children: [[m
[32m+[m[32m                    {[m
[32m+[m[32m                      altText: '/external/static/templates/eff_outcome.png',[m
[32m+[m[32m                      src: '/external/static/templates/eff_outcome.png',[m
[32m+[m[32m                      width: 0,[m
[32m+[m[32m                      caption: {[m
[32m+[m[32m                        editorState: {[m
[32m+[m[32m                          root: {[m
[32m+[m[32m                            children: [],[m
[32m+[m[32m                            indent: 0,[m
[32m+[m[32m                            format: '',[m
[32m+[m[32m                            type: 'root',[m
[32m+[m[32m                            version: 1,[m
[32m+[m[32m                            direction: null,[m
[32m+[m[32m                          },[m
[32m+[m[32m                        },[m
[32m+[m[32m                      },[m
[32m+[m[32m                      showCaption: false,[m
[32m+[m[32m                      type: 'image',[m
[32m+[m[32m                      version: 1,[m
[32m+[m[32m                      height: 0,[m
[32m+[m[32m                      maxWidth: 500,[m
[32m+[m[32m                    },[m
[32m+[m[32m                  ],[m
[32m+[m[32m                  format: '',[m
[32m+[m[32m                  type: 'paragraph',[m
[32m+[m[32m                  version: 1,[m
[32m+[m[32m                  direction: null,[m
[32m+[m[32m                },[m
[32m+[m[32m              ],[m
[32m+[m[32m              indent: 0,[m
[32m+[m[32m              format: '',[m
[32m+[m[32m              type: 'root',[m
[32m+[m[32m              version: 1,[m
[32m+[m[32m              direction: null,[m
[32m+[m[32m            },[m
[32m+[m[32m          },[m
[32m+[m[32m        },[m
[32m+[m[32m      },[m
[32m+[m[32m      {[m
[32m+[m[32m        position: {x: 0, y: 12},[m
[32m+[m[32m        dimensions: {width: 18, height: 1},[m
[32m+[m[32m        type: 'text',[m
[32m+[m[32m        configuration: {[m
[32m+[m[32m          text: {[m
[32m+[m[32m            root: {[m
[32m+[m[32m              children: [[m
[32m+[m[32m                {[m
[32m+[m[32m                  children: [[m
[32m+[m[32m                    {[m
[32m+[m[32m                      altText: '/external/static/templates/eff_capability.png',[m
[32m+[m[32m                      src: '/external/static/templates/eff_capability.png',[m
[32m+[m[32m                      width: 0,[m
[32m+[m[32m                      caption: {[m
[32m+[m[32m                        editorState: {[m
[32m+[m[32m                          root: {[m
[32m+[m[32m                            children: [],[m
[32m+[m[32m                            indent: 0,[m
[32m+[m[32m                            format: '',[m
[32m+[m[32m                            type: 'root',[m
[32m+[m[32m                            version: 1,[m
[32m+[m[32m                            direction: null,[m
[32m+[m[32m                          },[m
[32m+[m[32m                        },[m
[32m+[m[32m                      },[m
[32m+[m[32m                      showCaption: false,[m
[32m+[m[32m                      type: 'image',[m
[32m+[m[32m                      version: 1,[m
[32m+[m[32m                      height: 0,[m
[32m+[m[32m                      maxWidth: 500,[m
[32m+[m[32m                    },[m
[32m+[m[32m                  ],[m
[32m+[m[32m                  format: '',[m
[32m+[m[32m                  type: 'paragraph',[m
[32m+[m[32m                  version: 1,[m
[32m+[m[32m                  direction: null,[m
[32m+[m[32m                },[m
[32m+[m[32m              ],[m
[32m+[m[32m              indent: 0,[m
[32m+[m[32m              format: '',[m
[32m+[m[32m              type: 'root',[m
[32m+[m[32m              version: 1,[m
[32m+[m[32m              direction: null,[m
[32m+[m[32m            },[m
[32m+[m[32m          },[m
[32m+[m[32m        },[m
[32m+[m[32m      },[m
[32m+[m[32m      {[m
[32m+[m[32m        position: {x: 0, y: 5},[m
[32m+[m[32m        dimensions: {width: 18, height: 1},[m
[32m+[m[32m        type: 'text',[m
[32m+[m[32m        configuration: {[m
[32m+[m[32m          text: {[m
[32m+[m[32m            root: {[m
[32m+[m[32m              children: [[m
[32m+[m[32m                {[m
[32m+[m[32m                  children: [[m
[32m+[m[32m                    {[m
[32m+[m[32m                      altText: '/external/static/templates/eff_error_rate.png',[m
[32m+[m[32m                      src: '/external/static/templates/eff_error_rate.png',[m
[32m+[m[32m                      width: 0,[m
[32m+[m[32m                      caption: {[m
[32m+[m[32m                        editorState: {[m
[32m+[m[32m                          root: {[m
[32m+[m[32m                            children: [],[m
[32m+[m[32m                            indent: 0,[m
[32m+[m[32m                            format: '',[m
[32m+[m[32m                            type: 'root',[m
[32m+[m[32m                            version: 1,[m
[32m+[m[32m                            direction: null,[m
[32m+[m[32m                          },[m
[32m+[m[32m                        },[m
[32m+[m[32m                      },[m
[32m+[m[32m                      showCaption: false,[m
[32m+[m[32m                      type: 'image',[m
[32m+[m[32m                      version: 1,[m
[32m+[m[32m                      height: 0,[m
[32m+[m[32m                      maxWidth: 500,[m
[32m+[m[32m                    },[m
[32m+[m[32m                  ],[m
[32m+[m[32m                  indent: 0,[m
[32m+[m[32m                  format: '',[m
[32m+[m[32m                  type: 'paragraph',[m
[32m+[m[32m                  version: 1,[m
[32m+[m[32m                  direction: null,[m
[32m+[m[32m                },[m
[32m+[m[32m              ],[m
[32m+[m[32m              indent: 0,[m
[32m+[m[32m              format: '',[m
[32m+[m[32m              type: 'root',[m
[32m+[m[32m              version: 1,[m
[32m+[m[32m              direction: null,[m
[32m+[m[32m            },[m
[32m+[m[32m          },[m
[32m+[m[32m        },[m
[32m+[m[32m      },[m
[32m+[m[32m      {[m
[32m+[m[32m        position: {x: 8, y: 1},[m
[32m+[m[32m        dimensions: {width: 6, height: 4},[m
[32m+[m[32m        type: 'optimize_report',[m
[32m+[m[32m        report: {[m
[32m+[m[32m          name: t('dashboard.templates.efficiency_outcomeInLast4Weeks'),[m
[32m+[m[32m          description: t('dashboard.templates.efficiency_outcomeInLast4Weeks-description'),[m
[32m+[m[32m          data: {[m
[32m+[m[32m            configuration: {[m
[32m+[m[32m              color: '#008B02',[m
[32m+[m[32m              targetValue: {[m
[32m+[m[32m                countChart: {isBelow: false, value: '45'},[m
[32m+[m[32m                active: true,[m
[32m+[m[32m              },[m
[32m+[m[32m              sorting: {by: 'key', order: 'asc'},[m
[32m+[m[32m              stackedBar: true,[m
[32m+[m[32m              xLabel: t('report.groupBy.endDate'),[m
[32m+[m[32m              yLabel: t('report.view.pi') + ' ' + t('report.view.count'),[m
[32m+[m[32m            },[m
[32m+[m[32m            filter: [[m
[32m+[m[32m              {[m
[32m+[m[32m                type: 'instanceEndDate',[m
[32m+[m[32m                data: {[m
[32m+[m[32m                  type: 'rolling',[m
[32m+[m[32m                  start: {value: 4, unit: 'weeks'},[m
[32m+[m[32m                  end: null,[m
[32m+[m[32m                  includeUndefined: false,[m
[32m+[m[32m                  excludeUndefined: false,[m
[32m+[m[32m                },[m
[32m+[m[32m                filterLevel: 'instance',[m
[32m+[m[32m                appliedTo: ['all'],[m
[32m+[m[32m              },[m
[32m+[m[32m            ],[m
[32m+[m[32m            view: {entity: 'processInstance', properties: ['frequency']},[m
[32m+[m[32m            groupBy: {type: 'endDate', value: {unit: 'week'}},[m
[32m+[m[32m            visualization: 'bar',[m
[32m+[m[32m          },[m
[32m+[m[32m        },[m
[32m+[m[32m      },[m
[32m+[m[32m      {[m
[32m+[m[32m        position: {x: 14, y: 6},[m
[32m+[m[32m        dimensions: {width: 4, height: 6},[m
[32m+[m[32m        type: 'text',[m
[32m+[m[32m        configuration: {[m
[32m+[m[32m          text: {[m
[32m+[m[32m            root: {[m
[32m+[m[32m              children: [[m
[32m+[m[32m                {[m
[32m+[m[32m                  children: [[m
[32m+[m[32m                    {[m
[32m+[m[32m                      mode: 'normal',[m
[32m+[m[32m                      format: 1,[m
[32m+[m[32m                      style: 'font-size: 20px;',[m
[32m+[m[32m                      detail: 0,[m
[32m+[m[32m                      text: t('dashboard.templates.efficiency_text1_line1'),[m
[32m+[m[32m                      type: 'text',[m
[32m+[m[32m                      version: 1,[m
[32m+[m[32m                    },[m
[32m+[m[32m                  ],[m
[32m+[m[32m                  indent: 0,[m
[32m+[m[32m                  format: '',[m
[32m+[m[32m                  type: 'paragraph',[m
[32m+[m[32m                  version: 1,[m
[32m+[m[32m                  direction: 'ltr',[m
[32m+[m[32m                },[m
[32m+[m[32m                {[m
[32m+[m[32m                  children: [],[m
[32m+[m[32m                  indent: 0,[m
[32m+[m[32m                  format: '',[m
[32m+[m[32m                  type: 'paragraph',[m
[32m+[m[32m                  version: 1,[m
[32m+[m[32m                  direction: 'ltr',[m
[32m+[m[32m                },[m
[32m+[m[32m                {[m
[32m+[m[32m                  children: [[m
[32m+[m[32m                    {[m
[32m+[m[32m                      altText: '/external/static/templates/Target.png',[m
[32m+[m[32m                      src: '/external/static/templates/Target.png',[m
[32m+[m[32m                      width: 0,[m
[32m+[m[32m                      caption: {[m
[32m+[m[32m                        editorState: {[m
[32m+[m[32m                          root: {[m
[32m+[m[32m                            children: [],[m
[32m+[m[32m                            indent: 0,[m
[32m+[m[32m                            format: '',[m
[32m+[m[32m                            type: 'root',[m
[32m+[m[32m                            version: 1,[m
[32m+[m[32m                            direction: null,[m
[32m+[m[32m                          },[m
[32m+[m[32m                        },[m
[32m+[m[32m                      },[m
[32m+[m[32m                      showCaption: false,[m
[32m+[m[32m                      type: 'image',[m
[32m+[m[32m                      version: 1,[m
[32m+[m[32m                      height: 0,[m
[32m+[m[32m                      maxWidth: 500,[m
[32m+[m[32m                    },[m
[32m+[m[32m                    {[m
[32m+[m[32m                      mode: 'normal',[m
[32m+[m[32m                      format: 2,[m
[32m+[m[32m                      style: '',[m
[32m+[m[32m                      detail: 0,[m
[32m+[m[32m                      text: t('dashboard.templates.efficiency_text1_line2'),[m
[32m+[m[32m                      type: 'text',[m
[32m+[m[32m                      version: 1,[m
[32m+[m[32m                    },[m
[32m+[m[32m                  ],[m
[32m+[m[32m                  indent: 0,[m
[32m+[m[32m                  format: '',[m
[32m+[m[32m                  type: 'paragraph',[m
[32m+[m[32m                  version: 1,[m
[32m+[m[32m                  direction: 'ltr',[m
[32m+[m[32m                },[m
[32m+[m[32m                {[m
[32m+[m[32m                  children: [[m
[32m+[m[32m                    {[m
[32m+[m[32m                      mode: 'normal',[m
[32m+[m[32m                      format: 0,[m
[32m+[m[32m                      style: '',[m
[32m+[m[32m                      detail: 0,[m
[32m+[m[32m                      text: t('dashboard.templates.efficiency_text1_line3'),[m
[32m+[m[32m                      type: 'text',[m
[32m+[m[32m                      version: 1,[m
[32m+[m[32m                    },[m
[32m+[m[32m                  ],[m
[32m+[m[32m                  indent: 0,[m
[32m+[m[32m                  format: '',[m
[32m+[m[32m                  type: 'paragraph',[m
[32m+[m[32m                  version: 1,[m
[32m+[m[32m                  direction: 'ltr',[m
[32m+[m[32m                },[m
[32m+[m[32m              ],[m
[32m+[m[32m              indent: 0,[m
[32m+[m[32m              format: '',[m
[32m+[m[32m              type: 'root',[m
[32m+[m[32m              version: 1,[m
[32m+[m[32m              direction: 'ltr',[m
[32m+[m[32m            },[m
[32m+[m[32m          },[m
[32m+[m[32m        },[m
[32m+[m[32m      },[m
[32m+[m[32m      {[m
[32m+[m[32m        position: {x: 14, y: 1},[m
[32m+[m[32m        dimensions: {width: 4, height: 4},[m
[32m+[m[32m        type: 'text',[m
[32m+[m[32m        configuration: {[m
[32m+[m[32m          text: {[m
[32m+[m[32m            root: {[m
[32m+[m[32m              children: [[m
[32m+[m[32m                {[m
[32m+[m[32m                  children: [[m
[32m+[m[32m                    {[m
[32m+[m[32m                      mode: 'normal',[m
[32m+[m[32m                      format: 1,[m
[32m+[m[32m                      style: 'font-size: 20px;',[m
[32m+[m[32m                      detail: 0,[m
[32m+[m[32m                      text: t('dashboard.templates.efficiency_text2_line1'),[m
[32m+[m[32m                      type: 'text',[m
[32m+[m[32m                      version: 1,[m
[32m+[m[32m                    },[m
[32m+[m[32m                  ],[m
[32m+[m[32m                  indent: 0,[m
[32m+[m[32m                  format: '',[m
[32m+[m[32m                  type: 'paragraph',[m
[32m+[m[32m                  version: 1,[m
[32m+[m[32m                  direction: 'ltr',[m
[32m+[m[32m                },[m
[32m+[m[32m                {[m
[32m+[m[32m                  children: [],[m
[32m+[m[32m                  indent: 0,[m
[32m+[m[32m                  format: '',[m
[32m+[m[32m                  type: 'paragraph',[m
[32m+[m[32m                  version: 1,[m
[32m+[m[32m                  direction: null,[m
[32m+[m[32m                },[m
[32m+[m[32m                {[m
[32m+[m[32m                  children: [[m
[32m+[m[32m                    {[m
[32m+[m[32m                      altText: '/external/static/templates/Target.png',[m
[32m+[m[32m                      src: '/external/static/templates/Target.png',[m
[32m+[m[32m                      width: 0,[m
[32m+[m[32m                      caption: {[m
[32m+[m[32m                        editorState: {[m
[32m+[m[32m                          root: {[m
[32m+[m[32m                            children: [],[m
[32m+[m[32m                            indent: 0,[m
[32m+[m[32m                            format: '',[m
[32m+[m[32m                            type: 'root',[m
[32m+[m[32m                            version: 1,[m
[32m+[m[32m                            direction: null,[m
[32m+[m[32m                          },[m
[32m+[m[32m                        },[m
[32m+[m[32m                      },[m
[32m+[m[32m                      showCaption: false,[m
[32m+[m[32m                      type: 'image',[m
[32m+[m[32m                      version: 1,[m
[32m+[m[32m                      height: 0,[m
[32m+[m[32m                      maxWidth: 500,[m
[32m+[m[32m                    },[m
[32m+[m[32m                    {[m
[32m+[m[32m                      mode: 'normal',[m
[32m+[m[32m                      format: 2,[m
[32m+[m[32m                      style: '',[m
[32m+[m[32m                      detail: 0,[m
[32m+[m[32m                      text: t('dashboard.templates.efficiency_text2_line2'),[m
[32m+[m[32m                      type: 'text',[m
[32m+[m[32m                      version: 1,[m
[32m+[m[32m                    },[m
[32m+[m[32m                  ],[m
[32m+[m[32m                  indent: 0,[m
[32m+[m[32m                  format: '',[m
[32m+[m[32m                  type: 'paragraph',[m
[32m+[m[32m                  version: 1,[m
[32m+[m[32m                  direction: 'ltr',[m
[32m+[m[32m                },[m
[32m+[m[32m                {[m
[32m+[m[32m                  children: [[m
[32m+[m[32m                    {[m
[32m+[m[32m                      mode: 'normal',[m
[32m+[m[32m                      format: 0,[m
[32m+[m[32m                      style: '',[m
[32m+[m[32m                      detail: 0,[m
[32m+[m[32m                      text: t('dashboard.templates.efficiency_text2_line3'),[m
[32m+[m[32m                      type: 'text',[m
[32m+[m[32m                      version: 1,[m
[32m+[m[32m                    },[m
[32m+[m[32m                  ],[m
[32m+[m[32m                  indent: 0,[m
[32m+[m[32m                  format: '',[m
[32m+[m[32m                  type: 'paragraph',[m
[32m+[m[32m                  version: 1,[m
[32m+[m[32m                  direction: 'ltr',[m
[32m+[m[32m                },[m
[32m+[m[32m                {[m
[32m+[m[32m                  children: [],[m
[32m+[m[32m                  indent: 0,[m
[32m+[m[32m                  format: '',[m
[32m+[m[32m                  type: 'paragraph',[m
[32m+[m[32m                  version: 1,[m
[32m+[m[32m                  direction: 'ltr',[m
[32m+[m[32m                },[m
[32m+[m[32m                {[m
[32m+[m[32m                  children: [[m
[32m+[m[32m                    {[m
[32m+[m[32m                      altText: '/external/static/templates/customize.png',[m
[32m+[m[32m                      src: '/external/static/templates/customize.png',[m
[32m+[m[32m                      width: 0,[m
[32m+[m[32m                      caption: {[m
[32m+[m[32m                        editorState: {[m
[32m+[m[32m                          root: {[m
[32m+[m[32m                            children: [],[m
[32m+[m[32m                            indent: 0,[m
[32m+[m[32m                            format: '',[m
[32m+[m[32m                            type: 'root',[m
[32m+[m[32m                            version: 1,[m
[32m+[m[32m                            direction: null,[m
[32m+[m[32m                          },[m
[32m+[m[32m                        },[m
[32m+[m[32m                      },[m
[32m+[m[32m                      showCaption: false,[m
[32m+[m[32m                      type: 'image',[m
[32m+[m[32m                      version: 1,[m
[32m+[m[32m                      height: 0,[m
[32m+[m[32m                      maxWidth: 500,[m
[32m+[m[32m                    },[m
[32m+[m[32m                    {[m
[32m+[m[32m                      mode: 'normal',[m
[32m+[m[32m                      format: 2,[m
[32m+[m[32m                      style: '',[m
[32m+[m[32m                      detail: 0,[m
[32m+[m[32m                      text: t('dashboard.templates.efficiency_text2_line4'),[m
[32m+[m[32m                      type: 'text',[m
[32m+[m[32m                      version: 1,[m
[32m+[m[32m                    },[m
[32m+[m[32m                  ],[m
[32m+[m[32m                  format: '',[m
[32m+[m[32m                  type: 'paragraph',[m
[32m+[m[32m                  version: 1,[m
[32m+[m[32m                  direction: 'ltr',[m
[32m+[m[32m                },[m
[32m+[m[32m                {[m
[32m+[m[32m                  children: [[m
[32m+[m[32m                    {[m
[32m+[m[32m                      mode: 'normal',[m
[32m+[m[32m                      format: 0,[m
[32m+[m[32m                      style: '',[m
[32m+[m[32m                      detail: 0,[m
[32m+[m[32m                      text: t('dashboard.templates.efficiency_text2_line5'),[m
[32m+[m[32m                      type: 'text',[m
[32m+[m[32m                      version: 1,[m
[32m+[m[32m                    },[m
[32m+[m[32m                    {[m
[32m+[m[32m                      children: [[m
[32m+[m[32m                        {[m
[32m+[m[32m                          mode: 'normal',[m
[32m+[m[32m                          format: 0,[m
[32m+[m[32m                          style: '',[m
[32m+[m[32m                          detail: 0,[m
[32m+[m[32m                          text: t('dashboard.templates.efficiency_text2_line6'),[m
[32m+[m[32m                          type: 'text',[m
[32m+[m[32m                          version: 1,[m
[32m+[m[32m                        },[m
[32m+[m[32m                      ],[m
[32m+[m[32m                      indent: 0,[m
[32m+[m[32m                      format: '',[m
[32m+[m[32m                      rel: 'noopener norefereer',[m
[32m+[m[32m                      type: 'link',[m
[32m+[m[32m                      version: 1,[m
[32m+[m[32m                      url: 'https://docs.camunda.io/optimize/components/userguide/process-analysis/flow-node-filters/#flow-node-selection',[m
[32m+[m[32m                      direction: 'ltr',[m
[32m+[m[32m                      target: '_blank',[m
[32m+[m[32m                    },[m
[32m+[m[32m                    {[m
[32m+[m[32m                      mode: 'normal',[m
[32m+[m[32m                      format: 0,[m
[32m+[m[32m                      style: '',[m
[32m+[m[32m                      detail: 0,[m
[32m+[m[32m                      text: t('dashboard.templates.efficiency_text2_line7'),[m
[32m+[m[32m                      type: 'text',[m
[32m+[m[32m                      version: 1,[m
[32m+[m[32m                    },[m
[32m+[m[32m                  ],[m
[32m+[m[32m                  indent: 0,[m
[32m+[m[32m                  format: '',[m
[32m+[m[32m                  type: 'paragraph',[m
[32m+[m[32m                  version: 1,[m
[32m+[m[32m                  direction: 'ltr',[m
[32m+[m[32m                },[m
[32m+[m[32m              ],[m
[32m+[m[32m              indent: 0,[m
[32m+[m[32m              format: '',[m
[32m+[m[32m              type: 'root',[m
[32m+[m[32m              version: 1,[m
[32m+[m[32m              direction: 'ltr',[m
[32m+[m[32m            },[m
[32m+[m[32m          },[m
[32m+[m[32m        },[m
[32m+[m[32m      },[m
[32m+[m[32m      {[m
[32m+[m[32m        position: {x: 0, y: 13},[m
[32m+[m[32m        dimensions: {width: 5, height: 4},[m
[32m+[m[32m        type: 'optimize_report',[m
[32m+[m[32m        report: {[m
[32m+[m[32m          name: t('dashboard.templates.efficiency_unwantedOutcomeLastWeek'),[m
[32m+[m[32m          description: t('dashboard.templates.efficiency_unwantedOutcomeLastWeek-description'),[m
[32m+[m[32m          data: {[m
[32m+[m[32m            configuration: {[m
[32m+[m[32m              sorting: {by: 'value', order: 'desc'},[m
[32m+[m[32m            },[m
[32m+[m[32m            filter: [[m
[32m+[m[32m              {[m
[32m+[m[32m                type: 'instanceEndDate',[m
[32m+[m[32m                data: {[m
[32m+[m[32m                  type: 'rolling',[m
[32m+[m[32m                  start: {value: 1, unit: 'weeks'},[m
[32m+[m[32m                },[m
[32m+[m[32m                filterLevel: 'instance',[m
[32m+[m[32m                appliedTo: ['all'],[m
[32m+[m[32m              },[m
[32m+[m[32m            ],[m
[32m+[m[32m            view: {entity: 'flowNode', properties: ['frequency']},[m
[32m+[m[32m            groupBy: {type: 'flowNodes', value: null},[m
[32m+[m[32m            visualization: 'pie',[m
[32m+[m[32m          },[m
[32m+[m[32m        },[m
[32m+[m[32m      },[m
[32m+[m[32m      {[m
[32m+[m[32m        position: {x: 0, y: 8},[m
[32m+[m[32m        dimensions: {width: 14, height: 4},[m
[32m+[m[32m        type: 'optimize_report',[m
[32m+[m[32m        report: {[m
[32m+[m[32m          name: t('dashboard.templates.efficiency_incidentsInLast3Months'),[m
[32m+[m[32m          description: t('dashboard.templates.efficiency_incidentsInLast3Months-description'),[m
[32m+[m[32m          data: {[m
[32m+[m[32m            configuration: {[m
[32m+[m[32m              tableColumns: {[m
[32m+[m[32m                includeNewVariables: true,[m
[32m+[m[32m                excludedColumns: [],[m
[32m+[m[32m                includedColumns: [],[m
[32m+[m[32m                columnOrder: ['Incidents by Flow Node', 'Count', 'Relative Frequency '],[m
[32m+[m[32m              },[m
[32m+[m[32m            },[m
[32m+[m[32m            filter: [[m
[32m+[m[32m              {[m
[32m+[m[32m                type: 'instanceStartDate',[m
[32m+[m[32m                data: {[m
[32m+[m[32m                  type: 'rolling',[m
[32m+[m[32m                  start: {value: 3, unit: 'months'},[m
[32m+[m[32m                },[m
[32m+[m[32m                filterLevel: 'instance',[m
[32m+[m[32m                appliedTo: ['all'],[m
[32m+[m[32m              },[m
[32m+[m[32m            ],[m
[32m+[m[32m            view: {entity: 'incident', properties: ['frequency']},[m
[32m+[m[32m            groupBy: {type: 'flowNodes', value: null},[m
[32m+[m[32m            visualization: 'table',[m
[32m+[m[32m          },[m
[32m+[m[32m        },[m
[32m+[m[32m      },[m
[32m+[m[32m      {[m
[32m+[m[32m        position: {x: 5, y: 13},[m
[32m+[m[32m        dimensions: {width: 9, height: 4},[m
[32m+[m[32m        type: 'optimize_report',[m
[32m+[m[32m        report: {[m
[32m+[m[32m          name: t('dashboard.templates.efficiency_processScattering'),[m
[32m+[m[32m          description: t('dashboard.templates.efficiency_processScattering-description'),[m
[32m+[m[32m          data: {[m
[32m+[m[32m            configuration: {[m
[32m+[m[32m              alwaysShowAbsolute: true,[m
[32m+[m[32m            },[m
[32m+[m[32m            view: {entity: 'flowNode', properties: ['frequency']},[m
[32m+[m[32m            groupBy: {type: 'flowNodes', value: null},[m
[32m+[m[32m            visualization: 'heat',[m
[32m+[m[32m          },[m
[32m+[m[32m        },[m
[32m+[m[32m      },[m
[32m+[m[32m      {[m
[32m+[m[32m        position: {x: 0, y: 1},[m
[32m+[m[32m        dimensions: {width: 4, height: 2},[m
[32m+[m[32m        type: 'optimize_report',[m
[32m+[m[32m        report: {[m
[32m+[m[32m          name: t('dashboard.templates.efficiency_outcomeThisWeek'),[m
[32m+[m[32m          description: t('dashboard.templates.efficiency_outcomeThisWeek-description'),[m
[32m+[m[32m          data: {[m
[32m+[m[32m            configuration: {[m
[32m+[m[32m              targetValue: {[m
[32m+[m[32m                active: true,[m
[32m+[m[32m                countProgress: {baseline: '0', target: '50', isBelow: false},[m
[32m+[m[32m                isKpi: true,[m
[32m+[m[32m              },[m
[32m+[m[32m            },[m
[32m+[m[32m            filter: [[m
[32m+[m[32m              {[m
[32m+[m[32m                type: 'instanceEndDate',[m
[32m+[m[32m                data: {[m
[32m+[m[32m                  type: 'relative',[m
[32m+[m[32m                  start: {value: 0, unit: 'weeks'},[m
[32m+[m[32m                },[m
[32m+[m[32m                filterLevel: 'instance',[m
[32m+[m[32m                appliedTo: ['all'],[m
[32m+[m[32m              },[m
[32m+[m[32m            ],[m
[32m+[m[32m            view: {entity: 'processInstance', properties: ['frequency']},[m
[32m+[m[32m            groupBy: {type: 'none', value: null},[m
[32m+[m[32m            visualization: 'number',[m
[32m+[m[32m          },[m
[32m+[m[32m        },[m
[32m+[m[32m      },[m
[32m+[m[32m      {[m
[32m+[m[32m        position: {x: 0, y: 3},[m
[32m+[m[32m        dimensions: {width: 4, height: 2},[m
[32m+[m[32m        type: 'optimize_report',[m
[32m+[m[32m        report: {[m
[32m+[m[32m          name: t('dashboard.templates.efficiency_unwantedOutcomeThisWeek'),[m
[32m+[m[32m          description: t('dashboard.templates.efficiency_unwantedOutcomeThisWeek-description'),[m
[32m+[m[32m          data: {[m
[32m+[m[32m            configuration: {[m
[32m+[m[32m              targetValue: {[m
[32m+[m[32m                active: true,[m
[32m+[m[32m                countProgress: {baseline: '0', target: '5', isBelow: true},[m
[32m+[m[32m                isKpi: false,[m
[32m+[m[32m              },[m
[32m+[m[32m            },[m
[32m+[m[32m            filter: [[m
[32m+[m[32m              {[m
[32m+[m[32m                type: 'instanceEndDate',[m
[32m+[m[32m                data: {[m
[32m+[m[32m                  type: 'relative',[m
[32m+[m[32m                  start: {value: 0, unit: 'weeks'},[m
[32m+[m[32m                },[m
[32m+[m[32m                filterLevel: 'instance',[m
[32m+[m[32m                appliedTo: ['all'],[m
[32m+[m[32m              },[m
[32m+[m[32m            ],[m
[32m+[m[32m            groupBy: {type: 'none', value: null},[m
[32m+[m[32m            view: {entity: 'processInstance', properties: ['percentage']},[m
[32m+[m[32m            visualization: 'number',[m
[32m+[m[32m          },[m
[32m+[m[32m        },[m
[32m+[m[32m      },[m
[32m+[m[32m      {[m
[32m+[m[32m        position: {x: 4, y: 3},[m
[32m+[m[32m        dimensions: {width: 4, height: 2},[m
[32m+[m[32m        type: 'optimize_report',[m
[32m+[m[32m        report: {[m
[32m+[m[32m          name: t('dashboard.templates.efficiency_unwantedOutcomeLastWeek'),[m
[32m+[m[32m          description: t('dashboard.templates.efficiency_unwantedOutcomeLastWeek-description'),[m
[32m+[m[32m          data: {[m
[32m+[m[32m            configuration: {[m
[32m+[m[32m              targetValue: {[m
[32m+[m[32m                active: true,[m
[32m+[m[32m                countProgress: {baseline: '0', target: '5', isBelow: true},[m
[32m+[m[32m                isKpi: true,[m
[32m+[m[32m              },[m
[32m+[m[32m            },[m
[32m+[m[32m            filter: [[m
[32m+[m[32m              {[m
[32m+[m[32m                type: 'instanceEndDate',[m
[32m+[m[32m                data: {[m
[32m+[m[32m                  type: 'relative',[m
[32m+[m[32m                  start: {value: 1, unit: 'weeks'},[m
[32m+[m[32m                },[m
[32m+[m[32m                filterLevel: 'instance',[m
[32m+[m[32m                appliedTo: ['all'],[m
[32m+[m[32m              },[m
[32m+[m[32m            ],[m
[32m+[m[32m            groupBy: {type: 'none', value: null},[m
[32m+[m[32m            view: {entity: 'processInstance', properties: ['percentage']},[m
[32m+[m[32m            visualization: 'number',[m
[32m+[m[32m          },[m
[32m+[m[32m        },[m
[32m+[m[32m      },[m
[32m+[m[32m      {[m
[32m+[m[32m        position: {x: 4, y: 1},[m
[32m+[m[32m        dimensions: {width: 4, height: 2},[m
[32m+[m[32m        type: 'optimize_report',[m
[32m+[m[32m        report: {[m
[32m+[m[32m          name: t('dashboard.templates.efficiency_outcomeLastWeek'),[m
[32m+[m[32m          description: t('dashboard.templates.efficiency_outcomeLastWeek-description'),[m
[32m+[m[32m          data: {[m
[32m+[m[32m            configuration: {[m
[32m+[m[32m              targetValue: {[m
[32m+[m[32m                active: true,[m
[32m+[m[32m                countProgress: {baseline: '0', target: '45', isBelow: false},[m
[32m+[m[32m                isKpi: true,[m
[32m+[m[32m              },[m
[32m+[m[32m            },[m
[32m+[m[32m            filter: [[m
[32m+[m[32m              {[m
[32m+[m[32m                type: 'instanceEndDate',[m
[32m+[m[32m                data: {[m
[32m+[m[32m                  type: 'relative',[m
[32m+[m[32m                  start: {value: 1, unit: 'weeks'},[m
[32m+[m[32m                },[m
[32m+[m[32m                filterLevel: 'instance',[m
[32m+[m[32m                appliedTo: ['all'],[m
[32m+[m[32m              },[m
[32m+[m[32m            ],[m
[32m+[m[32m            groupBy: {type: 'none', value: null},[m
[32m+[m[32m            view: {entity: 'processInstance', properties: ['frequency']},[m
[32m+[m[32m            visualization: 'number',[m
[32m+[m[32m          },[m
[32m+[m[32m        },[m
[32m+[m[32m      },[m
[32m+[m[32m      {[m
[32m+[m[32m        position: {x: 14, y: 13},[m
[32m+[m[32m        dimensions: {width: 4, height: 7},[m
[32m+[m[32m        type: 'text',[m
[32m+[m[32m        configuration: {[m
[32m+[m[32m          text: {[m
[32m+[m[32m            root: {[m
[32m+[m[32m              children: [[m
[32m+[m[32m                {[m
[32m+[m[32m                  children: [[m
[32m+[m[32m                    {[m
[32m+[m[32m                      mode: 'normal',[m
[32m+[m[32m                      format: 1,[m
[32m+[m[32m                      style: 'font-size: 20px;',[m
[32m+[m[32m                      detail: 0,[m
[32m+[m[32m                      text: t('dashboard.templates.efficiency_text3_line1'),[m
[32m+[m[32m                      type: 'text',[m
[32m+[m[32m                      version: 1,[m
[32m+[m[32m                    },[m
[32m+[m[32m                  ],[m
[32m+[m[32m                  indent: 0,[m
[32m+[m[32m                  format: '',[m
[32m+[m[32m                  type: 'paragraph',[m
[32m+[m[32m                  version: 1,[m
[32m+[m[32m                  direction: 'ltr',[m
[32m+[m[32m                },[m
[32m+[m[32m                {[m
[32m+[m[32m                  children: [[m
[32m+[m[32m                    {type: 'linebreak', version: 1},[m
[32m+[m[32m                    {[m
[32m+[m[32m                      altText: '/external/static/templates/Target.png',[m
[32m+[m[32m                      src: '/external/static/templates/Target.png',[m
[32m+[m[32m                      width: 0,[m
[32m+[m[32m                      caption: {[m
[32m+[m[32m                        editorState: {[m
[32m+[m[32m                          root: {[m
[32m+[m[32m                            children: [],[m
[32m+[m[32m                            indent: 0,[m
[32m+[m[32m                            format: '',[m
[32m+[m[32m                            type: 'root',[m
[32m+[m[32m                            version: 1,[m
[32m+[m[32m                            direction: null,[m
[32m+[m[32m                          },[m
[32m+[m[32m                        },[m
[32m+[m[32m                      },[m
[32m+[m[32m                      showCaption: false,[m
[32m+[m[32m                      type: 'image',[m
[32m+[m[32m                      version: 1,[m
[32m+[m[32m                      height: 0,[m
[32m+[m[32m                      maxWidth: 500,[m
[32m+[m[32m                    },[m
[32m+[m[32m                    {[m
[32m+[m[32m                      mode: 'normal',[m
[32m+[m[32m                      format: 2,[m
[32m+[m[32m                      style: '',[m
[32m+[m[32m                      detail: 0,[m
[32m+[m[32m                      text: t('dashboard.templates.efficiency_text3_line2'),[m
[32m+[m[32m                      type: 'text',[m
[32m+[m[32m                      version: 1,[m
[32m+[m[32m                    },[m
[32m+[m[32m                  ],[m
[32m+[m[32m                  indent: 0,[m
[32m+[m[32m                  format: '',[m
[32m+[m[32m                  type: 'paragraph',[m
[32m+[m[32m                  version: 1,[m
[32m+[m[32m                  direction: 'ltr',[m
[32m+[m[32m                },[m
[32m+[m[32m                {[m
[32m+[m[32m                  children: [[m
[32m+[m[32m                    {[m
[32m+[m[32m                      mode: 'normal',[m
[32m+[m[32m                      format: 0,[m
[32m+[m[32m                      style: '',[m
[32m+[m[32m                      detail: 0,[m
[32m+[m[32m                      text: t('dashboard.templates.efficiency_text3_line3'),[m
[32m+[m[32m                      type: 'text',[m
[32m+[m[32m                      version: 1,[m
[32m+[m[32m                    },[m
[32m+[m[32m                  ],[m
[32m+[m[32m                  indent: 0,[m
[32m+[m[32m                  format: '',[m
[32m+[m[32m                  type: 'paragraph',[m
[32m+[m[32m                  version: 1,[m
[32m+[m[32m                  direction: 'ltr',[m
[32m+[m[32m                },[m
[32m+[m[32m                {[m
[32m+[m[32m                  children: [],[m
[32m+[m[32m                  indent: 0,[m
[32m+[m[32m                  format: '',[m
[32m+[m[32m                  type: 'paragraph',[m
[32m+[m[32m                  version: 1,[m
[32m+[m[32m                  direction: 'ltr',[m
[32m+[m[32m                },[m
[32m+[m[32m                {[m
[32m+[m[32m                  children: [[m
[32m+[m[32m                    {[m
[32m+[m[32m                      altText: '/external/static/templates/customize.png',[m
[32m+[m[32m                      src: '/external/static/templates/customize.png',[m
[32m+[m[32m                      width: 0,[m
[32m+[m[32m                      caption: {[m
[32m+[m[32m                        editorState: {[m
[32m+[m[32m                          root: {[m
[32m+[m[32m                            children: [],[m
[32m+[m[32m                            indent: 0,[m
[32m+[m[32m                            format: '',[m
[32m+[m[32m                            type: 'root',[m
[32m+[m[32m                            version: 1,[m
[32m+[m[32m                            direction: null,[m
[32m+[m[32m                          },[m
[32m+[m[32m                        },[m
[32m+[m[32m                      },[m
[32m+[m[32m                      showCaption: false,[m
[32m+[m[32m                      type: 'image',[m
[32m+[m[32m                      version: 1,[m
[32m+[m[32m                      height: 0,[m
[32m+[m[32m                      maxWidth: 500,[m
[32m+[m[32m                    },[m
[32m+[m[32m                    {[m
[32m+[m[32m                      mode: 'normal',[m
[32m+[m[32m                      format: 2,[m
[32m+[m[32m                      style: '',[m
[32m+[m[32m                      detail: 0,[m
[32m+[m[32m                      text: t('dashboard.templates.efficiency_text3_line4'),[m
[32m+[m[32m                      type: 'text',[m
[32m+[m[32m                      version: 1,[m
[32m+[m[32m                    },[m
[32m+[m[32m                  ],[m
[32m+[m[32m                  indent: 0,[m
[32m+[m[32m                  format: '',[m
[32m+[m[32m                  type: 'paragraph',[m
[32m+[m[32m                  version: 1,[m
[32m+[m[32m                  direction: 'ltr',[m
[32m+[m[32m                },[m
[32m+[m[32m                {[m
[32m+[m[32m                  children: [[m
[32m+[m[32m                    {[m
[32m+[m[32m                      mode: 'normal',[m
[32m+[m[32m                      format: 0,[m
[32m+[m[32m                      style: '',[m
[32m+[m[32m                      detail: 0,[m
[32m+[m[32m                      text: t('dashboard.templates.efficiency_text3_line5'),[m
[32m+[m[32m                      type: 'text',[m
[32m+[m[32m                      version: 1,[m
[32m+[m[32m                    },[m
[32m+[m[32m                    {[m
[32m+[m[32m                      children: [[m
[32m+[m[32m                        {[m
[32m+[m[32m                          mode: 'normal',[m
[32m+[m[32m                          format: 0,[m
[32m+[m[32m                          style: '',[m
[32m+[m[32m                          detail: 0,[m
[32m+[m[32m                          text: t('dashboard.templates.efficiency_text3_line6'),[m
[32m+[m[32m                          type: 'text',[m
[32m+[m[32m                          version: 1,[m
[32m+[m[32m                        },[m
[32m+[m[32m                      ],[m
[32m+[m[32m                      indent: 0,[m
[32m+[m[32m                      format: '',[m
[32m+[m[32m                      rel: 'noopener norefereer',[m
[32m+[m[32m                      type: 'link',[m
[32m+[m[32m                      version: 1,[m
[32m+[m[32m                      url: 'https://docs.camunda.io/optimize/components/userguide/process-analysis/flow-node-filters/#flow-node-selection',[m
[32m+[m[32m                      direction: 'ltr',[m
[32m+[m[32m                      target: '_blank',[m
[32m+[m[32m                    },[m
[32m+[m[32m                    {[m
[32m+[m[32m                      mode: 'normal',[m
[32m+[m[32m                      format: 0,[m
[32m+[m[32m                      style: '',[m
[32m+[m[32m                      detail: 0,[m
[32m+[m[32m                      text: t('dashboard.templates.efficiency_text3_line7'),[m
[32m+[m[32m                      type: 'text',[m
[32m+[m[32m                      version: 1,[m
[32m+[m[32m                    },[m
[32m+[m[32m                  ],[m
[32m+[m[32m                  indent: 0,[m
[32m+[m[32m                  format: '',[m
[32m+[m[32m                  type: 'paragraph',[m
[32m+[m[32m                  version: 1,[m
[32m+[m[32m                  direction: 'ltr',[m
[32m+[m[32m                },[m
[32m+[m[32m              ],[m
[32m+[m[32m              indent: 0,[m
[32m+[m[32m              format: '',[m
[32m+[m[32m              type: 'root',[m
[32m+[m[32m              version: 1,[m
[32m+[m[32m              direction: 'ltr',[m
[32m+[m[32m            },[m
[32m+[m[32m          },[m
[32m+[m[32m        },[m
[32m+[m[32m      },[m
[32m+[m[32m      {[m
[32m+[m[32m        position: {x: 7, y: 6},[m
[32m+[m[32m        dimensions: {width: 7, height: 2},[m
[32m+[m[32m        type: 'optimize_report',[m
[32m+[m[32m        report: {[m
[32m+[m[32m          name: t('dashboard.templates.efficiency_nodesCausingIncidentsInLast3Months'),[m
[32m+[m[32m          description: t([m
[32m+[m[32m            'dashboard.templates.efficiency_nodesCausingIncidentsInLast3Months-description'[m
[32m+[m[32m          ),[m
[32m+[m[32m          data: {[m
[32m+[m[32m            configuration: {[m
[32m+[m[32m              precision: 2,[m
[32m+[m[32m              alwaysShowAbsolute: true,[m
[32m+[m[32m            },[m
[32m+[m[32m            filter: [[m
[32m+[m[32m              {[m
[32m+[m[32m                type: 'instanceStartDate',[m
[32m+[m[32m                data: {[m
[32m+[m[32m                  type: 'rolling',[m
[32m+[m[32m                  start: {value: 3, unit: 'months'},[m
[32m+[m[32m                },[m
[32m+[m[32m                filterLevel: 'instance',[m
[32m+[m[32m                appliedTo: ['all'],[m
[32m+[m[32m              },[m
[32m+[m[32m            ],[m
[32m+[m[32m            view: {entity: 'incident', properties: ['duration']},[m
[32m+[m[32m            groupBy: {type: 'flowNodes', value: null},[m
[32m+[m[32m            visualization: 'heat',[m
[32m+[m[32m          },[m
[32m+[m[32m        },[m
[32m+[m[32m      },[m
[32m+[m[32m      {[m
[32m+[m[32m        position: {x: 0, y: 17},[m
[32m+[m[32m        dimensions: {width: 14, height: 3},[m
[32m+[m[32m        type: 'optimize_report',[m
[32m+[m[32m        report: {[m
[32m+[m[32m          name: t('dashboard.templates.efficiency_typesOfUnwantedOutcomeLas4tWeeks'),[m
[32m+[m[32m          description: t([m
[32m+[m[32m            'dashboard.templates.efficiency_typesOfUnwantedOutcomeLas4tWeeks-description'[m
[32m+[m[32m          ),[m
[32m+[m[32m          data: {[m
[32m+[m[32m            configuration: {[m
[32m+[m[32m              sorting: {by: 'key', order: 'asc'},[m
[32m+[m[32m              stackedBar: true,[m
[32m+[m[32m              xLabel: t('report.groupBy.startDate'),[m
[32m+[m[32m              yLabel: t('report.view.fn') + ' ' + t('report.view.count'),[m
[32m+[m[32m            },[m
[32m+[m[32m            filter: [[m
[32m+[m[32m              {[m
[32m+[m[32m                type: 'instanceEndDate',[m
[32m+[m[32m                data: {[m
[32m+[m[32m                  type: 'rolling',[m
[32m+[m[32m                  start: {value: 4, unit: 'weeks'},[m
[32m+[m[32m                },[m
[32m+[m[32m                filterLevel: 'instance',[m
[32m+[m[32m                appliedTo: ['all'],[m
[32m+[m[32m              },[m
[32m+[m[32m            ],[m
[32m+[m[32m            view: {entity: 'flowNode', properties: ['frequency']},[m
[32m+[m[32m            groupBy: {type: 'startDate', value: {unit: 'week'}},[m
[32m+[m[32m            distributedBy: {type: 'flowNode', value: null},[m
[32m+[m[32m            visualization: 'bar',[m
[32m+[m[32m          },[m
[32m+[m[32m        },[m
[32m+[m[32m      },[m
[32m+[m[32m      {[m
[32m+[m[32m        position: {x: 0, y: 6},[m
[32m+[m[32m        dimensions: {width: 7, height: 2},[m
[32m+[m[32m        type: 'optimize_report',[m
[32m+[m[32m        report: {[m
[32m+[m[32m          name: t('dashboard.templates.efficiency_incidentFreeRateInLast3Months'),[m
[32m+[m[32m          description: t([m
[32m+[m[32m            'dashboard.templates.efficiency_incidentFreeRateInLast3Months-description'[m
[32m+[m[32m          ),[m
[32m+[m[32m          data: {[m
[32m+[m[32m            configuration: {[m
[32m+[m[32m              targetValue: {[m
[32m+[m[32m                active: true,[m
[32m+[m[32m                countProgress: {baseline: '0', target: '95', isBelow: false},[m
[32m+[m[32m                isKpi: true,[m
[32m+[m[32m              },[m
[32m+[m[32m            },[m
[32m+[m[32m            filter: [[m
[32m+[m[32m              {[m
[32m+[m[32m                type: 'doesNotIncludeIncident',[m
[32m+[m[32m                data: null,[m
[32m+[m[32m                filterLevel: 'instance',[m
[32m+[m[32m                appliedTo: ['all'],[m
[32m+[m[32m              },[m
[32m+[m[32m            ],[m
[32m+[m[32m            groupBy: {type: 'none', value: null},[m
[32m+[m[32m            view: {entity: 'processInstance', properties: ['percentage']},[m
[32m+[m[32m            visualization: 'number',[m
[32m+[m[32m          },[m
[32m+[m[32m        },[m
[32m+[m[32m      },[m
[32m+[m[32m    ],[m
[32m+[m[32m  };[m
[32m+[m[32m}[m
[1mdiff --git a/client/src/modules/components/TemplateModal/templates/index.ts b/client/src/modules/components/TemplateModal/templates/index.ts[m
[1mnew file mode 100644[m
[1mindex 0000000000..49350e0db2[m
[1m--- /dev/null[m
[1m+++ b/client/src/modules/components/TemplateModal/templates/index.ts[m
[36m@@ -0,0 +1,13 @@[m
[32m+[m[32m/*[m
[32m+[m[32m * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH[m
[32m+[m[32m * under one or more contributor license agreements. Licensed under a proprietary license.[m
[32m+[m[32m * See the License.txt file for more information. You may not use this file[m
[32m+[m[32m * except in compliance with the proprietary license.[m
[32m+[m[32m */[m
[32m+[m
[32m+[m[32mexport {productivityDashboardTemplate} from './productivityDashboardTemplate';[m
[32m+[m[32mexport {efficiencyDashboardTemplate} from './efficiencyDashboardTemplate';[m
[32m+[m[32mexport {accelerationDashboardTemplate} from './accelerationDashboardTemplate';[m
[32m+[m[32mexport {processDashboardTemplate} from './processDashboardTemplate';[m
[32m+[m[32mexport {portfolioPerformanceDashboardTemplate} from './portfolioPerformanceDashboardTemplate';[m
[32m+[m[32mexport {operationsMonitoringDashboardTemplate} from './operationsMonitoringDashboardTemplate';[m
[1mdiff --git a/client/src/modules/components/TemplateModal/templates/operationsMonitoringDashboardTemplate.ts b/client/src/modules/components/TemplateModal/templates/operationsMonitoringDashboardTemplate.ts[m
[1mnew file mode 100644[m
[1mindex 0000000000..7c62df5df6[m
[1m--- /dev/null[m
[1m+++ b/client/src/modules/components/TemplateModal/templates/operationsMonitoringDashboardTemplate.ts[m
[36m@@ -0,0 +1,251 @@[m
[32m+[m[32m/*[m
[32m+[m[32m * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH[m
[32m+[m[32m * under one or more contributor license agreements. Licensed under a proprietary license.[m
[32m+[m[32m * See the License.txt file for more information. You may not use this file[m
[32m+[m[32m * except in compliance with the proprietary license.[m
[32m+[m[32m */[m
[32m+[m
[32m+[m[32mimport {t} from 'translation';[m
[32m+[m
[32m+[m[32mimport operationsMonitoring from '../images/operationsMonitoring.png';[m
[32m+[m
[32m+[m[32mexport function operationsMonitoringDashboardTemplate() {[m
[32m+[m[32m  return {[m
[32m+[m[32m    name: 'operationsMonitoring',[m
[32m+[m[32m    disableDescription: true,[m
[32m+[m[32m    hasSubtitle: true,[m
[32m+[m[32m    img: operationsMonitoring,[m
[32m+[m[32m    disabled: (definitions: unknown[]) => definitions.length < 2,[m
[32m+[m[32m    config: [[m
[32m+[m[32m      {[m
[32m+[m[32m        position: {x: 0, y: 0},[m
[32m+[m[32m        dimensions: {height: 3, width: 4},[m
[32m+[m[32m        report: {[m
[32m+[m[32m          name: t('dashboard.templates.completedProcesses'),[m
[32m+[m[32m          data: {[m
[32m+[m[32m            view: {entity: 'processInstance', properties: ['frequency']},[m
[32m+[m[32m            groupBy: {type: 'none', value: null},[m
[32m+[m[32m            visualization: 'number',[m
[32m+[m[32m            filter: [[m
[32m+[m[32m              {[m
[32m+[m[32m                appliedTo: ['all'],[m
[32m+[m[32m                data: null,[m
[32m+[m[32m                filterLevel: 'instance',[m
[32m+[m[32m                type: 'completedInstancesOnly',[m
[32m+[m[32m              },[m
[32m+[m[32m            ],[m
[32m+[m[32m          },[m
[32m+[m[32m        },[m
[32m+[m[32m        type: 'optimize_report',[m
[32m+[m[32m      },[m
[32m+[m[32m      {[m
[32m+[m[32m        position: {x: 4, y: 0},[m
[32m+[m[32m        dimensions: {height: 3, width: 5},[m
[32m+[m[32m        report: {[m
[32m+[m[32m          name: t('dashboard.templates.longRunningProcesses'),[m
[32m+[m[32m          data: {[m
[32m+[m[32m            view: {entity: 'processInstance', properties: ['frequency']},[m
[32m+[m[32m            groupBy: {type: 'none', value: null},[m
[32m+[m[32m            distributedBy: {type: 'none', value: null},[m
[32m+[m[32m            visualization: 'number',[m
[32m+[m[32m            filter: [[m
[32m+[m[32m              {[m
[32m+[m[32m                appliedTo: ['all'],[m
[32m+[m[32m                data: null,[m
[32m+[m[32m                filterLevel: 'instance',[m
[32m+[m[32m                type: 'runningInstancesOnly',[m
[32m+[m[32m              },[m
[32m+[m[32m              {[m
[32m+[m[32m                appliedTo: ['all'],[m
[32m+[m[32m                data: {value: 1, unit: 'days', operator: '>', includeNull: false},[m
[32m+[m[32m                filterLevel: 'instance',[m
[32m+[m[32m                type: 'processInstanceDuration',[m
[32m+[m[32m              },[m
[32m+[m[32m            ],[m
[32m+[m[32m          },[m
[32m+[m[32m        },[m
[32m+[m[32m        type: 'optimize_report',[m
[32m+[m[32m      },[m
[32m+[m[32m      {[m
[32m+[m[32m        position: {x: 9, y: 0},[m
[32m+[m[32m        dimensions: {height: 3, width: 4},[m
[32m+[m[32m        report: {[m
[32m+[m[32m          name: t('dashboard.templates.activeIncidents'),[m
[32m+[m[32m          data: {[m
[32m+[m[32m            view: {entity: 'incident', properties: ['frequency']},[m
[32m+[m[32m            groupBy: {type: 'none', value: null},[m
[32m+[m[32m            visualization: 'number',[m
[32m+[m[32m            filter: [[m
[32m+[m[32m              {[m
[32m+[m[32m                appliedTo: ['all'],[m
[32m+[m[32m                data: null,[m
[32m+[m[32m                filterLevel: 'instance',[m
[32m+[m[32m                type: 'includesOpenIncident',[m
[32m+[m[32m              },[m
[32m+[m[32m            ],[m
[32m+[m[32m          },[m
[32m+[m[32m        },[m
[32m+[m[32m        type: 'optimize_report',[m
[32m+[m[32m      },[m
[32m+[m[32m      {[m
[32m+[m[32m        position: {x: 13, y: 0},[m
[32m+[m[32m        dimensions: {height: 3, width: 5},[m
[32m+[m[32m        report: {[m
[32m+[m[32m          name: t('dashboard.templates.activeIncidentsByProcess'),[m
[32m+[m[32m          data: {[m
[32m+[m[32m            view: {entity: 'processInstance', properties: ['frequency']},[m
[32m+[m[32m            groupBy: {type: 'none', value: null},[m
[32m+[m[32m            distributedBy: {type: 'process', value: null},[m
[32m+[m[32m            visualization: 'pie',[m
[32m+[m[32m            filter: [[m
[32m+[m[32m              {[m
[32m+[m[32m                appliedTo: ['all'],[m
[32m+[m[32m                data: null,[m
[32m+[m[32m                filterLevel: 'instance',[m
[32m+[m[32m                type: 'includesOpenIncident',[m
[32m+[m[32m              },[m
[32m+[m[32m            ],[m
[32m+[m[32m          },[m
[32m+[m[32m        },[m
[32m+[m[32m        type: 'optimize_report',[m
[32m+[m[32m      },[m
[32m+[m[32m      {[m
[32m+[m[32m        position: {x: 0, y: 3},[m
[32m+[m[32m        dimensions: {height: 5, width: 9},[m
[32m+[m[32m        report: {[m
[32m+[m[32m          name: t('dashboard.templates.processSnapshot'),[m
[32m+[m[32m          data: {[m
[32m+[m[32m            view: {entity: 'flowNode', properties: ['frequency', 'duration']},[m
[32m+[m[32m            groupBy: {type: 'flowNodes', value: null},[m
[32m+[m[32m            distributedBy: {type: 'none', value: null},[m
[32m+[m[32m            visualization: 'barLine',[m
[32m+[m[32m            filter: [[m
[32m+[m[32m              {[m
[32m+[m[32m                appliedTo: ['all'],[m
[32m+[m[32m                data: null,[m
[32m+[m[32m                filterLevel: 'view',[m
[32m+[m[32m                type: 'runningFlowNodesOnly',[m
[32m+[m[32m              },[m
[32m+[m[32m            ],[m
[32m+[m[32m            configuration: {[m
[32m+[m[32m              measureVisualizations: {frequency: 'bar', duration: 'line'},[m
[32m+[m[32m              showInstanceCount: true,[m
[32m+[m[32m              stackedBar: true,[m
[32m+[m[32m            },[m
[32m+[m[32m          },[m
[32m+[m[32m        },[m
[32m+[m[32m        type: 'optimize_report',[m
[32m+[m[32m      },[m
[32m+[m[32m      {[m
[32m+[m[32m        position: {x: 9, y: 3},[m
[32m+[m[32m        dimensions: {height: 5, width: 9},[m
[32m+[m[32m        report: {[m
[32m+[m[32m          name: t('dashboard.templates.incidentSnapshot'),[m
[32m+[m[32m          data: {[m
[32m+[m[32m            view: {entity: 'incident', properties: ['frequency', 'duration']},[m
[32m+[m[32m            groupBy: {type: 'flowNodes', value: null},[m
[32m+[m[32m            distributedBy: {type: 'none', value: null},[m
[32m+[m[32m            visualization: 'barLine',[m
[32m+[m[32m            filter: [[m
[32m+[m[32m              {[m
[32m+[m[32m                appliedTo: ['all'],[m
[32m+[m[32m                data: null,[m
[32m+[m[32m                filterLevel: 'instance',[m
[32m+[m[32m                type: 'includesOpenIncident',[m
[32m+[m[32m              },[m
[32m+[m[32m              {[m
[32m+[m[32m                appliedTo: ['all'],[m
[32m+[m[32m                data: null,[m
[32m+[m[32m                filterLevel: 'view',[m
[32m+[m[32m                type: 'includesOpenIncident',[m
[32m+[m[32m              },[m
[32m+[m[32m            ],[m
[32m+[m[32m            configuration: {[m
[32m+[m[32m              measureVisualizations: {frequency: 'bar', duration: 'line'},[m
[32m+[m[32m              showInstanceCount: true,[m
[32m+[m[32m            },[m
[32m+[m[32m          },[m
[32m+[m[32m        },[m
[32m+[m[32m        type: 'optimize_report',[m
[32m+[m[32m      },[m
[32m+[m[32m      {[m
[32m+[m[32m        position: {x: 0, y: 8},[m
[32m+[m[32m        dimensions: {height: 5, width: 9},[m
[32m+[m[32m        report: {[m
[32m+[m[32m          name: t('dashboard.templates.processHistory'),[m
[32m+[m[32m          data: {[m
[32m+[m[32m            view: {entity: 'processInstance', properties: ['frequency', 'duration']},[m
[32m+[m[32m            groupBy: {type: 'startDate', value: {unit: 'week'}},[m
[32m+[m[32m            distributedBy: {type: 'process', value: null},[m
[32m+[m[32m            visualization: 'barLine',[m
[32m+[m[32m            filter: [[m
[32m+[m[32m              {[m
[32m+[m[32m                appliedTo: ['all'],[m
[32m+[m[32m                data: null,[m
[32m+[m[32m                filterLevel: 'instance',[m
[32m+[m[32m                type: 'completedInstancesOnly',[m
[32m+[m[32m              },[m
[32m+[m[32m            ],[m
[32m+[m[32m            configuration: {[m
[32m+[m[32m              measureVisualizations: {frequency: 'bar', duration: 'line'},[m
[32m+[m[32m              stackedBar: true,[m
[32m+[m[32m            },[m
[32m+[m[32m          },[m
[32m+[m[32m        },[m
[32m+[m[32m        type: 'optimize_report',[m
[32m+[m[32m      },[m
[32m+[m[32m      {[m
[32m+[m[32m        position: {x: 9, y: 8},[m
[32m+[m[32m        dimensions: {height: 5, width: 9},[m
[32m+[m[32m        report: {[m
[32m+[m[32m          name: t('dashboard.templates.incidentHistory'),[m
[32m+[m[32m          data: {[m
[32m+[m[32m            view: {entity: 'processInstance', properties: ['frequency', 'duration']},[m
[32m+[m[32m            groupBy: {type: 'startDate', value: {unit: 'week'}},[m
[32m+[m[32m            distributedBy: {type: 'process', value: null},[m
[32m+[m[32m            visualization: 'barLine',[m
[32m+[m[32m            filter: [[m
[32m+[m[32m              {[m
[32m+[m[32m                appliedTo: ['all'],[m
[32m+[m[32m                data: null,[m
[32m+[m[32m                filterLevel: 'instance',[m
[32m+[m[32m                type: 'includesResolvedIncident',[m
[32m+[m[32m              },[m
[32m+[m[32m            ],[m
[32m+[m[32m            configuration: {[m
[32m+[m[32m              measureVisualizations: {frequency: 'bar', duration: 'line'},[m
[32m+[m[32m              stackedBar: true,[m
[32m+[m[32m              aggregationTypes: [[m
[32m+[m[32m                {type: 'avg', value: null},[m
[32m+[m[32m                {type: 'max', value: null},[m
[32m+[m[32m              ],[m
[32m+[m[32m            },[m
[32m+[m[32m          },[m
[32m+[m[32m        },[m
[32m+[m[32m        type: 'optimize_report',[m
[32m+[m[32m      },[m
[32m+[m[32m      {[m
[32m+[m[32m        position: {x: 0, y: 13},[m
[32m+[m[32m        dimensions: {height: 5, width: 18},[m
[32m+[m[32m        report: {[m
[32m+[m[32m          name: t('dashboard.templates.durationSLI'),[m
[32m+[m[32m          data: {[m
[32m+[m[32m            view: {entity: 'processInstance', properties: ['duration']},[m
[32m+[m[32m            groupBy: {type: 'startDate', value: {unit: 'week'}},[m
[32m+[m[32m            distributedBy: {type: 'process', value: null},[m
[32m+[m[32m            visualization: 'line',[m
[32m+[m[32m            configuration: {[m
[32m+[m[32m              aggregationTypes: [{type: 'max', value: null}],[m
[32m+[m[32m              targetValue: {[m
[32m+[m[32m                active: true,[m
[32m+[m[32m                isKpi: true,[m
[32m+[m[32m                durationChart: {unit: 'hours', isBelow: true, value: '4'},[m
[32m+[m[32m              },[m
[32m+[m[32m            },[m
[32m+[m[32m          },[m
[32m+[m[32m        },[m
[32m+[m[32m        type: 'optimize_report',[m
[32m+[m[32m      },[m
[32m+[m[32m    ],[m
[32m+[m[32m  };[m
[32m+[m[32m}[m
[1mdiff --git a/client/src/modules/components/TemplateModal/templates/portfolioPerformanceDashboardTemplate.ts b/client/src/modules/components/TemplateModal/templates/portfolioPerformanceDashboardTemplate.ts[m
[1mnew file mode 100644[m
[1mindex 0000000000..da448e0a5b[m
[1m--- /dev/null[m
[1m+++ b/client/src/modules/components/TemplateModal/templates/portfolioPerformanceDashboardTemplate.ts[m
[36m@@ -0,0 +1,229 @@[m
[32m+[m[32m/*[m
[32m+[m[32m * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH[m
[32m+[m[32m * under one or more contributor license agreements. Licensed under a proprietary license.[m
[32m+[m[32m * See the License.txt file for more information. You may not use this file[m
[32m+[m[32m * except in compliance with the proprietary license.[m
[32m+[m[32m */[m
[32m+[m
[32m+[m[32mimport {t} from 'translation';[m
[32m+[m
[32m+[m[32mimport portfolioPerformance from '../images/portfolioPerformance.png';[m
[32m+[m
[32m+[m[32mexport function portfolioPerformanceDashboardTemplate() {[m
[32m+[m[32m  return {[m
[32m+[m[32m    name: 'portfolioPerformance',[m
[32m+[m[32m    disableDescription: true,[m
[32m+[m[32m    hasSubtitle: true,[m
[32m+[m[32m    img: portfolioPerformance,[m
[32m+[m[32m    disabled: (definitions: unknown[]) => definitions.length < 2,[m
[32m+[m[32m    config: [[m
[32m+[m[32m      {[m
[32m+[m[32m        position: {x: 0, y: 0},[m
[32m+[m[32m        dimensions: {height: 3, width: 3},[m
[32m+[m[32m        report: {[m
[32m+[m[32m          name: t('dashboard.templates.completedProcesses'),[m
[32m+[m[32m          data: {[m
[32m+[m[32m            view: {entity: 'processInstance', properties: ['frequency']},[m
[32m+[m[32m            groupBy: {type: 'none', value: null},[m
[32m+[m[32m            visualization: 'number',[m
[32m+[m[32m            filter: [[m
[32m+[m[32m              {[m
[32m+[m[32m                appliedTo: ['all'],[m
[32m+[m[32m                data: null,[m
[32m+[m[32m                filterLevel: 'instance',[m
[32m+[m[32m                type: 'completedInstancesOnly',[m
[32m+[m[32m              },[m
[32m+[m[32m            ],[m
[32m+[m[32m          },[m
[32m+[m[32m        },[m
[32m+[m[32m        type: 'optimize_report',[m
[32m+[m[32m      },[m
[32m+[m[32m      {[m
[32m+[m[32m        position: {x: 3, y: 0},[m
[32m+[m[32m        dimensions: {height: 3, width: 3},[m
[32m+[m[32m        report: {[m
[32m+[m[32m          name: t('dashboard.templates.activeIncidents'),[m
[32m+[m[32m          data: {[m
[32m+[m[32m            view: {entity: 'incident', properties: ['frequency']},[m
[32m+[m[32m            groupBy: {type: 'none', value: null},[m
[32m+[m[32m            visualization: 'number',[m
[32m+[m[32m            filter: [[m
[32m+[m[32m              {[m
[32m+[m[32m                appliedTo: ['all'],[m
[32m+[m[32m                data: null,[m
[32m+[m[32m                filterLevel: 'instance',[m
[32m+[m[32m                type: 'includesOpenIncident',[m
[32m+[m[32m              },[m
[32m+[m[32m            ],[m
[32m+[m[32m          },[m
[32m+[m[32m        },[m
[32m+[m[32m        type: 'optimize_report',[m
[32m+[m[32m      },[m
[32m+[m[32m      {[m
[32m+[m[32m        position: {x: 6, y: 0},[m
[32m+[m[32m        dimensions: {height: 3, width: 6},[m
[32m+[m[32m        report: {[m
[32m+[m[32m          name: t('dashboard.templates.runningProcesses'),[m
[32m+[m[32m          data: {[m
[32m+[m[32m            view: {entity: 'processInstance', properties: ['frequency']},[m
[32m+[m[32m            groupBy: {type: 'none', value: null},[m
[32m+[m[32m            distributedBy: {type: 'process', value: null},[m
[32m+[m[32m            visualization: 'bar',[m
[32m+[m[32m            filter: [[m
[32m+[m[32m              {[m
[32m+[m[32m                appliedTo: ['all'],[m
[32m+[m[32m                data: null,[m
[32m+[m[32m                filterLevel: 'instance',[m
[32m+[m[32m                type: 'runningInstancesOnly',[m
[32m+[m[32m              },[m
[32m+[m[32m            ],[m
[32m+[m[32m          },[m
[32m+[m[32m        },[m
[32m+[m[32m        type: 'optimize_report',[m
[32m+[m[32m      },[m
[32m+[m[32m      {[m
[32m+[m[32m        position: {x: 12, y: 0},[m
[32m+[m[32m        dimensions: {height: 3, width: 6},[m
[32m+[m[32m        report: {[m
[32m+[m[32m          name: t('dashboard.templates.runningTasks'),[m
[32m+[m[32m          data: {[m
[32m+[m[32m            view: {entity: 'userTask', properties: ['frequency']},[m
[32m+[m[32m            groupBy: {type: 'userTasks', value: null},[m
[32m+[m[32m            visualization: 'pie',[m
[32m+[m[32m            filter: [[m
[32m+[m[32m              {[m
[32m+[m[32m                appliedTo: ['all'],[m
[32m+[m[32m                data: null,[m
[32m+[m[32m                filterLevel: 'view',[m
[32m+[m[32m                type: 'runningFlowNodesOnly',[m
[32m+[m[32m              },[m
[32m+[m[32m            ],[m
[32m+[m[32m          },[m
[32m+[m[32m        },[m
[32m+[m[32m        type: 'optimize_report',[m
[32m+[m[32m      },[m
[32m+[m[32m      {[m
[32m+[m[32m        position: {x: 0, y: 3},[m
[32m+[m[32m        dimensions: {height: 5, width: 9},[m
[32m+[m[32m        report: {[m
[32m+[m[32m          name: t('dashboard.templates.processTotal'),[m
[32m+[m[32m          data: {[m
[32m+[m[32m            view: {entity: 'processInstance', properties: ['frequency']},[m
[32m+[m[32m            groupBy: {type: 'startDate', value: {unit: 'month'}},[m
[32m+[m[32m            distributedBy: {type: 'process', value: null},[m
[32m+[m[32m            visualization: 'bar',[m
[32m+[m[32m            configuration: {[m
[32m+[m[32m              stackedBar: true,[m
[32m+[m[32m            },[m
[32m+[m[32m          },[m
[32m+[m[32m        },[m
[32m+[m[32m        type: 'optimize_report',[m
[32m+[m[32m      },[m
[32m+[m[32m      {[m
[32m+[m[32m        position: {x: 9, y: 3},[m
[32m+[m[32m        dimensions: {height: 5, width: 9},[m
[32m+[m[32m        report: {[m
[32m+[m[32m          name: t('dashboard.templates.laborSavings'),[m
[32m+[m[32m          data: {[m
[32m+[m[32m            view: {entity: 'userTask', properties: ['duration']},[m
[32m+[m[32m            groupBy: {type: 'startDate', value: {unit: 'month'}},[m
[32m+[m[32m            distributedBy: {type: 'process', value: null},[m
[32m+[m[32m            visualization: 'bar',[m
[32m+[m[32m            filter: [[m
[32m+[m[32m              {[m
[32m+[m[32m                appliedTo: ['all'],[m
[32m+[m[32m                data: null,[m
[32m+[m[32m                filterLevel: 'instance',[m
[32m+[m[32m                type: 'completedInstancesOnly',[m
[32m+[m[32m              },[m
[32m+[m[32m            ],[m
[32m+[m[32m            configuration: {[m
[32m+[m[32m              aggregationTypes: [{type: 'sum', value: null}],[m
[32m+[m[32m              userTaskDurationTimes: ['work'],[m
[32m+[m[32m              stackedBar: true,[m
[32m+[m[32m            },[m
[32m+[m[32m          },[m
[32m+[m[32m        },[m
[32m+[m[32m        type: 'optimize_report',[m
[32m+[m[32m      },[m
[32m+[m[32m      {[m
[32m+[m[32m        position: {x: 0, y: 8},[m
[32m+[m[32m        dimensions: {height: 5, width: 9},[m
[32m+[m[32m        report: {[m
[32m+[m[32m          name: t('dashboard.templates.processAcceleration'),[m
[32m+[m[32m          data: {[m
[32m+[m[32m            view: {entity: 'processInstance', properties: ['duration']},[m
[32m+[m[32m            groupBy: {type: 'startDate', value: {unit: 'month'}},[m
[32m+[m[32m            distributedBy: {type: 'process', value: null},[m
[32m+[m[32m            visualization: 'line',[m
[32m+[m[32m          },[m
[32m+[m[32m        },[m
[32m+[m[32m        type: 'optimize_report',[m
[32m+[m[32m      },[m
[32m+[m[32m      {[m
[32m+[m[32m        position: {x: 9, y: 8},[m
[32m+[m[32m        dimensions: {height: 5, width: 9},[m
[32m+[m[32m        report: {[m
[32m+[m[32m          name: t('dashboard.templates.taskAutomation'),[m
[32m+[m[32m          data: {[m
[32m+[m[32m            view: {entity: 'userTask', properties: ['frequency']},[m
[32m+[m[32m            groupBy: {type: 'startDate', value: {unit: 'month'}},[m
[32m+[m[32m            distributedBy: {type: 'process', value: null},[m
[32m+[m[32m            visualization: 'bar',[m
[32m+[m[32m            configuration: {[m
[32m+[m[32m              aggregationTypes: [{type: 'sum', value: null}],[m
[32m+[m[32m              userTaskDurationTimes: ['work'],[m
[32m+[m[32m              stackedBar: true,[m
[32m+[m[32m            },[m
[32m+[m[32m          },[m
[32m+[m[32m        },[m
[32m+[m[32m        type: 'optimize_report',[m
[32m+[m[32m      },[m
[32m+[m[32m      {[m
[32m+[m[32m        position: {x: 0, y: 13},[m
[32m+[m[32m        dimensions: {height: 5, width: 9},[m
[32m+[m[32m        report: {[m
[32m+[m[32m          name: t('dashboard.templates.incidentHandling'),[m
[32m+[m[32m          data: {[m
[32m+[m[32m            view: {entity: 'incident', properties: ['duration']},[m
[32m+[m[32m            groupBy: {type: 'flowNodes', value: null},[m
[32m+[m[32m            visualization: 'bar',[m
[32m+[m[32m            filter: [[m
[32m+[m[32m              {[m
[32m+[m[32m                appliedTo: ['all'],[m
[32m+[m[32m                data: null,[m
[32m+[m[32m                filterLevel: 'view',[m
[32m+[m[32m                type: 'includesResolvedIncident',[m
[32m+[m[32m              },[m
[32m+[m[32m            ],[m
[32m+[m[32m            configuration: {[m
[32m+[m[32m              aggregationTypes: [{type: 'avg', value: null}],[m
[32m+[m[32m              targetValue: {[m
[32m+[m[32m                active: true,[m
[32m+[m[32m                isKpi: true,[m
[32m+[m[32m                durationChart: {unit: 'hours', isBelow: true, value: '1'},[m
[32m+[m[32m              },[m
[32m+[m[32m            },[m
[32m+[m[32m          },[m
[32m+[m[32m        },[m
[32m+[m[32m        type: 'optimize_report',[m
[32m+[m[32m      },[m
[32m+[m[32m      {[m
[32m+[m[32m        position: {x: 9, y: 13},[m
[32m+[m[32m        dimensions: {height: 5, width: 9},[m
[32m+[m[32m        report: {[m
[32m+[m[32m          name: t('dashboard.templates.taskLifecycle'),[m
[32m+[m[32m          data: {[m
[32m+[m[32m            view: {entity: 'userTask', properties: ['duration']},[m
[32m+[m[32m            groupBy: {type: 'userTasks', value: null},[m
[32m+[m[32m            visualization: 'bar',[m
[32m+[m[32m            configuration: {[m
[32m+[m[32m              userTaskDurationTimes: ['work', 'idle'],[m
[32m+[m[32m            },[m
[32m+[m[32m          },[m
[32m+[m[32m        },[m
[32m+[m[32m        type: 'optimize_report',[m
[32m+[m[32m      },[m
[32m+[m[32m    ],[m
[32m+[m[32m  };[m
[32m+[m[32m}[m
[1mdiff --git a/client/src/modules/components/TemplateModal/templates/processDashboardTemplate.ts b/client/src/modules/components/TemplateModal/templates/processDashboardTemplate.ts[m
[1mnew file mode 100644[m
[1mindex 0000000000..211c0ed5bc[m
[1m--- /dev/null[m
[1m+++ b/client/src/modules/components/TemplateModal/templates/processDashboardTemplate.ts[m
[36m@@ -0,0 +1,680 @@[m
[32m+[m[32m/*[m
[32m+[m[32m * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH[m
[32m+[m[32m * under one or more contributor license agreements. Licensed under a proprietary license.[m
[32m+[m[32m * See the License.txt file for more information. You may not use this file[m
[32m+[m[32m * except in compliance with the proprietary license.[m
[32m+[m[32m */[m
[32m+[m
[32m+[m[32mimport {t} from 'translation';[m
[32m+[m
[32m+[m[32mimport processDashboard from '../images/processDashboard.png';[m
[32m+[m
[32m+[m[32mexport function processDashboardTemplate() {[m
[32m+[m[32m  return {[m
[32m+[m[32m    name: 'processDashboard',[m
[32m+[m[32m    disabled: (definitions: unknown[]) => definitions.length > 1,[m
[32m+[m[32m    img: processDashboard,[m
[32m+[m[32m    config: [[m
[32m+[m[32m      {[m
[32m+[m[32m        position: {x: 0, y: 0},[m
[32m+[m[32m        dimensions: {width: 18, height: 1},[m
[32m+[m[32m        type: 'text',[m
[32m+[m[32m        configuration: {[m
[32m+[m[32m          text: {[m
[32m+[m[32m            root: {[m
[32m+[m[32m              children: [[m
[32m+[m[32m                {[m
[32m+[m[32m                  children: [[m
[32m+[m[32m                    {[m
[32m+[m[32m                      altText:[m
[32m+[m[32m                        '/external/static/instant_preview_dashboards/prod_business_reporting.png',[m
[32m+[m[32m                      src: '/external/static/instant_preview_dashboards/prod_business_reporting.png',[m
[32m+[m[32m                      width: 0,[m
[32m+[m[32m                      caption: {[m
[32m+[m[32m                        editorState: {[m
[32m+[m[32m                          root: {[m
[32m+[m[32m                            children: [],[m
[32m+[m[32m                            indent: 0,[m
[32m+[m[32m                            format: '',[m
[32m+[m[32m                            type: 'root',[m
[32m+[m[32m                            version: 1,[m
[32m+[m[32m                            direction: null,[m
[32m+[m[32m                          },[m
[32m+[m[32m                        },[m
[32m+[m[32m                      },[m
[32m+[m[32m                      showCaption: false,[m
[32m+[m[32m                      type: 'image',[m
[32m+[m[32m                      version: 1,[m
[32m+[m[32m                      height: 0,[m
[32m+[m[32m                      maxWidth: 500,[m
[32m+[m[32m                    },[m
[32m+[m[32m                  ],[m
[32m+[m[32m                  format: '',[m
[32m+[m[32m                  type: 'paragraph',[m
[32m+[m[32m                  version: 1,[m
[32m+[m[32m                  direction: null,[m
[32m+[m[32m                },[m
[32m+[m[32m              ],[m
[32m+[m[32m              indent: 0,[m
[32m+[m[32m              format: '',[m
[32m+[m[32m              type: 'root',[m
[32m+[m[32m              version: 1,[m
[32m+[m[32m              direction: null,[m
[32m+[m[32m            },[m
[32m+[m[32m          },[m
[32m+[m[32m        },[m
[32m+[m[32m      },[m
[32m+[m[32m      {[m
[32m+[m[32m        position: {x: 5, y: 6},[m
[32m+[m[32m        dimensions: {width: 4, height: 2},[m
[32m+[m[32m        type: 'optimize_report',[m
[32m+[m[32m        report: {[m
[32m+[m[32m          name: t('instantDashboard.report.processDashboard_currentlyInProgress'),[m
[32m+[m[32m          description: t([m
[32m+[m[32m            'instantDashboard.report.processDashboard_currentlyInProgress-description'[m
[32m+[m[32m          ),[m
[32m+[m[32m          data: {[m
[32m+[m[32m            configuration: {},[m
[32m+[m[32m            filter: [[m
[32m+[m[32m              {[m
[32m+[m[32m                type: 'runningInstancesOnly',[m
[32m+[m[32m                data: null,[m
[32m+[m[32m                filterLevel: 'instance',[m
[32m+[m[32m                appliedTo: ['all'],[m
[32m+[m[32m              },[m
[32m+[m[32m              {[m
[32m+[m[32m                type: 'doesNotIncludeIncident',[m
[32m+[m[32m                data: null,[m
[32m+[m[32m                filterLevel: 'instance',[m
[32m+[m[32m                appliedTo: ['all'],[m
[32m+[m[32m              },[m
[32m+[m[32m            ],[m
[32m+[m[32m            view: {[m
[32m+[m[32m              entity: 'processInstance',[m
[32m+[m[32m              properties: ['frequency'],[m
[32m+[m[32m            },[m
[32m+[m[32m            groupBy: {type: 'none', value: null},[m
[32m+[m[32m            visualization: 'number',[m
[32m+[m[32m          },[m
[32m+[m[32m        },[m
[32m+[m[32m      },[m
[32m+[m[32m      {[m
[32m+[m[32m        position: {x: 0, y: 1},[m
[32m+[m[32m        dimensions: {width: 18, height: 5},[m
[32m+[m[32m        type: 'optimize_report',[m
[32m+[m[32m        report: {[m
[32m+[m[32m          name: t('instantDashboard.report.processDashboard_currentlyRunningProcesses'),[m
[32m+[m[32m          description: t([m
[32m+[m[32m            'instantDashboard.report.processDashboard_currentlyRunningProcesses-description'[m
[32m+[m[32m          ),[m
[32m+[m[32m          data: {[m
[32m+[m[32m            configuration: {[m
[32m+[m[32m              alwaysShowAbsolute: true,[m
[32m+[m[32m            },[m
[32m+[m[32m            filter: [[m
[32m+[m[32m              {[m
[32m+[m[32m                type: 'runningFlowNodesOnly',[m
[32m+[m[32m                data: null,[m
[32m+[m[32m                filterLevel: 'view',[m
[32m+[m[32m                appliedTo: ['all'],[m
[32m+[m[32m              },[m
[32m+[m[32m            ],[m
[32m+[m[32m            view: {entity: 'flowNode', properties: ['frequency']},[m
[32m+[m[32m            groupBy: {type: 'flowNodes', value: null},[m
[32m+[m[32m            visualization: 'heat',[m
[32m+[m[32m          },[m
[32m+[m[32m        },[m
[32m+[m[32m      },[m
[32m+[m[32m      {[m
[32m+[m[32m        position: {x: 4, y: 8},[m
[32m+[m[32m        dimensions: {width: 14, height: 4},[m
[32m+[m[32m        type: 'optimize_report',[m
[32m+[m[32m        report: {[m
[32m+[m[32m          name: t('instantDashboard.report.processDashboard_currentlyOpenIncidents'),[m
[32m+[m[32m          description: t([m
[32m+[m[32m            'instantDashboard.report.processDashboard_currentlyOpenIncidents-description'[m
[32m+[m[32m          ),[m
[32m+[m[32m          data: {[m
[32m+[m[32m            configuration: {[m
[32m+[m[32m              alwaysShowAbsolute: true,[m
[32m+[m[32m            },[m
[32m+[m[32m            filter: [[m
[32m+[m[32m              {[m
[32m+[m[32m                type: 'runningFlowNodesOnly',[m
[32m+[m[32m                data: null,[m
[32m+[m[32m                filterLevel: 'view',[m
[32m+[m[32m                appliedTo: ['all'],[m
[32m+[m[32m              },[m
[32m+[m[32m            ],[m
[32m+[m[32m            view: {entity: 'incident', properties: ['frequency']},[m
[32m+[m[32m            groupBy: {type: 'flowNodes', value: null},[m
[32m+[m[32m            visualization: 'heat',[m
[32m+[m[32m          },[m
[32m+[m[32m        },[m
[32m+[m[32m      },[m
[32m+[m[32m      {[m
[32m+[m[32m        position: {x: 0, y: 6},[m
[32m+[m[32m        dimensions: {width: 5, height: 2},[m
[32m+[m[32m        type: 'optimize_report',[m
[32m+[m[32m        report: {[m
[32m+[m[32m          name: t('instantDashboard.report.processDashboard_incomingInLast7Days'),[m
[32m+[m[32m          description: t([m
[32m+[m[32m            'instantDashboard.report.processDashboard_incomingInLast7Days-description'[m
[32m+[m[32m          ),[m
[32m+[m[32m          data: {[m
[32m+[m[32m            configuration: {},[m
[32m+[m[32m            filter: [[m
[32m+[m[32m              {[m
[32m+[m[32m                type: 'instanceStartDate',[m
[32m+[m[32m                data: {[m
[32m+[m[32m                  type: 'rolling',[m
[32m+[m[32m                  start: {value: 7, unit: 'days'},[m
[32m+[m[32m                },[m
[32m+[m[32m                filterLevel: 'instance',[m
[32m+[m[32m                appliedTo: ['all'],[m
[32m+[m[32m              },[m
[32m+[m[32m            ],[m
[32m+[m[32m            view: {[m
[32m+[m[32m              entity: 'processInstance',[m
[32m+[m[32m              properties: ['frequency'],[m
[32m+[m[32m            },[m
[32m+[m[32m            groupBy: {type: 'none', value: null},[m
[32m+[m[32m            visualization: 'number',[m
[32m+[m[32m          },[m
[32m+[m[32m        },[m
[32m+[m[32m      },[m
[32m+[m[32m      {[m
[32m+[m[32m        position: {x: 9, y: 6},[m
[32m+[m[32m        dimensions: {width: 5, height: 2},[m
[32m+[m[32m        type: 'optimize_report',[m
[32m+[m[32m        report: {[m
[32m+[m[32m          name: t('instantDashboard.report.processDashboard_endedInLast7Days'),[m
[32m+[m[32m          description: t('instantDashboard.report.processDashboard_endedInLast7Days-description'),[m
[32m+[m[32m          data: {[m
[32m+[m[32m            configuration: {},[m
[32m+[m[32m            filter: [[m
[32m+[m[32m              {[m
[32m+[m[32m                type: 'instanceEndDate',[m
[32m+[m[32m                data: {[m
[32m+[m[32m                  type: 'rolling',[m
[32m+[m[32m                  start: {value: 7, unit: 'days'},[m
[32m+[m[32m                },[m
[32m+[m[32m                filterLevel: 'instance',[m
[32m+[m[32m                appliedTo: ['all'],[m
[32m+[m[32m              },[m
[32m+[m[32m            ],[m
[32m+[m[32m            view: {[m
[32m+[m[32m              entity: 'processInstance',[m
[32m+[m[32m              properties: ['frequency'],[m
[32m+[m[32m            },[m
[32m+[m[32m            groupBy: {type: 'none', value: null},[m
[32m+[m[32m            visualization: 'number',[m
[32m+[m[32m          },[m
[32m+[m[32m        },[m
[32m+[m[32m      },[m
[32m+[m[32m      {[m
[32m+[m[32m        position: {x: 0, y: 12},[m
[32m+[m[32m        dimensions: {width: 18, height: 1},[m
[32m+[m[32m        type: 'text',[m
[32m+[m[32m        configuration: {[m
[32m+[m[32m          text: {[m
[32m+[m[32m            root: {[m
[32m+[m[32m              children: [[m
[32m+[m[32m                {[m
[32m+[m[32m                  children: [[m
[32m+[m[32m                    {[m
[32m+[m[32m                      altText:[m
[32m+[m[32m                        '/external/static/instant_preview_dashboards/prod_business_operations.png',[m
[32m+[m[32m                      src: '/external/static/instant_preview_dashboards/prod_business_operations.png',[m
[32m+[m[32m                      width: 0,[m
[32m+[m[32m                      caption: {[m
[32m+[m[32m                        editorState: {[m
[32m+[m[32m                          root: {[m
[32m+[m[32m                            children: [],[m
[32m+[m[32m                            indent: 0,[m
[32m+[m[32m                            format: '',[m
[32m+[m[32m                            type: 'root',[m
[32m+[m[32m                            version: 1,[m
[32m+[m[32m                            direction: null,[m
[32m+[m[32m                          },[m
[32m+[m[32m                        },[m
[32m+[m[32m                      },[m
[32m+[m[32m                      showCaption: false,[m
[32m+[m[32m                      type: 'image',[m
[32m+[m[32m                      version: 1,[m
[32m+[m[32m                      height: 0,[m
[32m+[m[32m                      maxWidth: 500,[m
[32m+[m[32m                    },[m
[32m+[m[32m                  ],[m
[32m+[m[32m                  format: '',[m
[32m+[m[32m                  type: 'paragraph',[m
[32m+[m[32m                  version: 1,[m
[32m+[m[32m                  direction: null,[m
[32m+[m[32m                },[m
[32m+[m[32m              ],[m
[32m+[m[32m              indent: 0,[m
[32m+[m[32m              format: '',[m
[32m+[m[32m              type: 'root',[m
[32m+[m[32m              version: 1,[m
[32m+[m[32m              direction: null,[m
[32m+[m[32m            },[m
[32m+[m[32m          },[m
[32m+[m[32m        },[m
[32m+[m[32m      },[m
[32m+[m[32m      {[m
[32m+[m[32m        position: {x: 0, y: 17},[m
[32m+[m[32m        dimensions: {width: 18, height: 1},[m
[32m+[m[32m        type: 'text',[m
[32m+[m[32m        configuration: {[m
[32m+[m[32m          text: {[m
[32m+[m[32m            root: {[m
[32m+[m[32m              children: [[m
[32m+[m[32m                {[m
[32m+[m[32m                  children: [[m
[32m+[m[32m                    {[m
[32m+[m[32m                      altText:[m
[32m+[m[32m                        '/external/static/instant_preview_dashboards/prod_process_improvement.png',[m
[32m+[m[32m                      src: '/external/static/instant_preview_dashboards/prod_process_improvement.png',[m
[32m+[m[32m                      width: 0,[m
[32m+[m[32m                      caption: {[m
[32m+[m[32m                        editorState: {[m
[32m+[m[32m                          root: {[m
[32m+[m[32m                            children: [],[m
[32m+[m[32m                            indent: 0,[m
[32m+[m[32m                            format: '',[m
[32m+[m[32m                            type: 'root',[m
[32m+[m[32m                            version: 1,[m
[32m+[m[32m                            direction: null,[m
[32m+[m[32m                          },[m
[32m+[m[32m                        },[m
[32m+[m[32m                      },[m
[32m+[m[32m                      showCaption: false,[m
[32m+[m[32m                      type: 'image',[m
[32m+[m[32m                      version: 1,[m
[32m+[m[32m                      height: 0,[m
[32m+[m[32m                      maxWidth: 500,[m
[32m+[m[32m                    },[m
[32m+[m[32m                  ],[m
[32m+[m[32m                  format: '',[m
[32m+[m[32m                  type: 'paragraph',[m
[32m+[m[32m                  version: 1,[m
[32m+[m[32m                  direction: null,[m
[32m+[m[32m                },[m
[32m+[m[32m              ],[m
[32m+[m[32m              indent: 0,[m
[32m+[m[32m              format: '',[m
[32m+[m[32m              type: 'root',[m
[32m+[m[32m              version: 1,[m
[32m+[m[32m              direction: null,[m
[32m+[m[32m            },[m
[32m+[m[32m          },[m
[32m+[m[32m        },[m
[32m+[m[32m      },[m
[32m+[m[32m      {[m
[32m+[m[32m        position: {x: 4, y: 13},[m
[32m+[m[32m        dimensions: {width: 14, height: 4},[m
[32m+[m[32m        type: 'optimize_report',[m
[32m+[m[32m        report: {[m
[32m+[m[32m          name: t('instantDashboard.report.processDashboard_processEndedGroupedByMonth'),[m
[32m+[m[32m          description: t([m
[32m+[m[32m            'instantDashboard.report.processDashboard_processEndedGroupedByMonth-description'[m
[32m+[m[32m          ),[m
[32m+[m[32m          data: {[m
[32m+[m[32m            configuration: {[m
[32m+[m[32m              sorting: {by: 'key', order: 'asc'},[m
[32m+[m[32m              xLabel: t('report.groupBy.endDate'),[m
[32m+[m[32m              yLabel: t('report.view.pi') + ' ' + t('report.view.count'),[m
[32m+[m[32m            },[m
[32m+[m[32m            filter: [[m
[32m+[m[32m              {[m
[32m+[m[32m                type: 'instanceEndDate',[m
[32m+[m[32m                data: {[m
[32m+[m[32m                  type: 'rolling',[m
[32m+[m[32m                  start: {value: 6, unit: 'months'},[m
[32m+[m[32m                },[m
[32m+[m[32m                filterLevel: 'instance',[m
[32m+[m[32m                appliedTo: ['all'],[m
[32m+[m[32m              },[m
[32m+[m[32m            ],[m
[32m+[m[32m            view: {[m
[32m+[m[32m              entity: 'processInstance',[m
[32m+[m[32m              properties: ['frequency'],[m
[32m+[m[32m            },[m
[32m+[m[32m            groupBy: {[m
[32m+[m[32m              type: 'endDate',[m
[32m+[m[32m              value: {unit: 'month'},[m
[32m+[m[32m            },[m
[32m+[m[32m            visualization: 'bar',[m
[32m+[m[32m          },[m
[32m+[m[32m        },[m
[32m+[m[32m      },[m
[32m+[m[32m      {[m
[32m+[m[32m        position: {x: 0, y: 13},[m
[32m+[m[32m        dimensions: {width: 4, height: 4},[m
[32m+[m[32m        type: 'text',[m
[32m+[m[32m        configuration: {[m
[32m+[m[32m          text: {[m
[32m+[m[32m            root: {[m
[32m+[m[32m              children: [[m
[32m+[m[32m                {[m
[32m+[m[32m                  children: [[m
[32m+[m[32m                    {[m
[32m+[m[32m                      mode: 'normal',[m
[32m+[m[32m                      format: 1,[m
[32m+[m[32m                      style: 'font-size: 20px;',[m
[32m+[m[32m                      detail: 0,[m
[32m+[m[32m                      text: t('instantDashboard.processDashboard_text1_line1'),[m
[32m+[m[32m                      type: 'text',[m
[32m+[m[32m                      version: 1,[m
[32m+[m[32m                    },[m
[32m+[m[32m                  ],[m
[32m+[m[32m                  indent: 0,[m
[32m+[m[32m                  format: '',[m
[32m+[m[32m                  type: 'paragraph',[m
[32m+[m[32m                  version: 1,[m
[32m+[m[32m                  direction: 'ltr',[m
[32m+[m[32m                },[m
[32m+[m[32m                {[m
[32m+[m[32m                  children: [[m
[32m+[m[32m                    {[m
[32m+[m[32m                      mode: 'normal',[m
[32m+[m[32m                      format: 0,[m
[32m+[m[32m                      style: '',[m
[32m+[m[32m                      detail: 0,[m
[32m+[m[32m                      text: t('instantDashboard.processDashboard_text1_line2'),[m
[32m+[m[32m                      type: 'text',[m
[32m+[m[32m                      version: 1,[m
[32m+[m[32m                    },[m
[32m+[m[32m                  ],[m
[32m+[m[32m                  indent: 0,[m
[32m+[m[32m                  format: '',[m
[32m+[m[32m                  type: 'paragraph',[m
[32m+[m[32m                  version: 1,[m
[32m+[m[32m                  direction: 'ltr',[m
[32m+[m[32m                },[m
[32m+[m[32m                {[m
[32m+[m[32m                  children: [],[m
[32m+[m[32m                  indent: 0,[m
[32m+[m[32m                  format: '',[m
[32m+[m[32m                  type: 'paragraph',[m
[32m+[m[32m                  version: 1,[m
[32m+[m[32m                  direction: 'ltr',[m
[32m+[m[32m                },[m
[32m+[m[32m                {[m
[32m+[m[32m                  children: [[m
[32m+[m[32m                    {[m
[32m+[m[32m                      children: [[m
[32m+[m[32m                        {[m
[32m+[m[32m                          mode: 'normal',[m
[32m+[m[32m                          format: 0,[m
[32m+[m[32m                          style: '',[m
[32m+[m[32m                          detail: 0,[m
[32m+[m[32m                          text: t('instantDashboard.processDashboard_text1_line3'),[m
[32m+[m[32m                          type: 'text',[m
[32m+[m[32m                          version: 1,[m
[32m+[m[32m                        },[m
[32m+[m[32m                      ],[m
[32m+[m[32m                      indent: 0,[m
[32m+[m[32m                      format: '',[m
[32m+[m[32m                      rel: 'noopener norefereer',[m
[32m+[m[32m                      type: 'link',[m
[32m+[m[32m                      version: 1,[m
[32m+[m[32m                      url: 'https://docs.camunda.io/optimize/components/userguide/process-dashboards/#configuring-process-owner-and-digests',[m
[32m+[m[32m                      direction: 'ltr',[m
[32m+[m[32m                      target: '_blank',[m
[32m+[m[32m                    },[m
[32m+[m[32m                  ],[m
[32m+[m[32m                  indent: 0,[m
[32m+[m[32m                  format: '',[m
[32m+[m[32m                  type: 'paragraph',[m
[32m+[m[32m                  version: 1,[m
[32m+[m[32m                  direction: 'ltr',[m
[32m+[m[32m                },[m
[32m+[m[32m              ],[m
[32m+[m[32m              indent: 0,[m
[32m+[m[32m              format: '',[m
[32m+[m[32m              type: 'root',[m
[32m+[m[32m              version: 1,[m
[32m+[m[32m              direction: 'ltr',[m
[32m+[m[32m            },[m
[32m+[m[32m          },[m
[32m+[m[32m        },[m
[32m+[m[32m      },[m
[32m+[m[32m      {[m
[32m+[m[32m        position: {x: 0, y: 18},[m
[32m+[m[32m        dimensions: {width: 4, height: 5},[m
[32m+[m[32m        type: 'text',[m
[32m+[m[32m        configuration: {[m
[32m+[m[32m          text: {[m
[32m+[m[32m            root: {[m
[32m+[m[32m              children: [[m
[32m+[m[32m                {[m
[32m+[m[32m                  children: [[m
[32m+[m[32m                    {[m
[32m+[m[32m                      mode: 'normal',[m
[32m+[m[32m                      format: 1,[m
[32m+[m[32m                      style: 'font-size: 20px;',[m
[32m+[m[32m                      detail: 0,[m
[32m+[m[32m                      text: t('instantDashboard.processDashboard_text2_line1'),[m
[32m+[m[32m                      type: 'text',[m
[32m+[m[32m                      version: 1,[m
[32m+[m[32m                    },[m
[32m+[m[32m                  ],[m
[32m+[m[32m                  indent: 0,[m
[32m+[m[32m                  format: '',[m
[32m+[m[32m                  type: 'paragraph',[m
[32m+[m[32m                  version: 1,[m
[32m+[m[32m                  direction: 'ltr',[m
[32m+[m[32m                },[m
[32m+[m[32m                {[m
[32m+[m[32m                  children: [[m
[32m+[m[32m                    {[m
[32m+[m[32m                      mode: 'normal',[m
[32m+[m[32m                      format: 0,[m
[32m+[m[32m                      style: '',[m
[32m+[m[32m                      detail: 0,[m
[32m+[m[32m                      text: t('instantDashboard.processDashboard_text2_line2'),[m
[32m+[m[32m                      type: 'text',[m
[32m+[m[32m                      version: 1,[m
[32m+[m[32m                    },[m
[32m+[m[32m                  ],[m
[32m+[m[32m                  indent: 0,[m
[32m+[m[32m                  format: '',[m
[32m+[m[32m                  type: 'paragraph',[m
[32m+[m[32m                  version: 1,[m
[32m+[m[32m                  direction: 'ltr',[m
[32m+[m[32m                },[m
[32m+[m[32m                {[m
[32m+[m[32m                  children: [],[m
[32m+[m[32m                  indent: 0,[m
[32m+[m[32m                  format: '',[m
[32m+[m[32m                  type: 'paragraph',[m
[32m+[m[32m                  version: 1,[m
[32m+[m[32m                  direction: null,[m
[32m+[m[32m                },[m
[32m+[m[32m                {[m
[32m+[m[32m                  children: [[m
[32m+[m[32m                    {[m
[32m+[m[32m                      children: [[m
[32m+[m[32m                        {[m
[32m+[m[32m                          mode: 'normal',[m
[32m+[m[32m                          format: 0,[m
[32m+[m[32m                          style: '',[m
[32m+[m[32m                          detail: 0,[m
[32m+[m[32m                          text: t('instantDashboard.processDashboard_text2_line3'),[m
[32m+[m[32m                          type: 'text',[m
[32m+[m[32m                          version: 1,[m
[32m+[m[32m                        },[m
[32m+[m[32m                      ],[m
[32m+[m[32m                      indent: 0,[m
[32m+[m[32m                      format: '',[m
[32m+[m[32m                      rel: 'noopener norefereer',[m
[32m+[m[32m                      type: 'link',[m
[32m+[m[32m                      version: 1,[m
[32m+[m[32m                      url: 'https://docs.camunda.io/optimize/components/userguide/process-analysis/outlier-analysis/',[m
[32m+[m[32m                      direction: 'ltr',[m
[32m+[m[32m                      target: '_blank',[m
[32m+[m[32m                    },[m
[32m+[m[32m                  ],[m
[32m+[m[32m                  indent: 0,[m
[32m+[m[32m                  format: '',[m
[32m+[m[32m                  type: 'paragraph',[m
[32m+[m[32m                  version: 1,[m
[32m+[m[32m                  direction: 'ltr',[m
[32m+[m[32m                },[m
[32m+[m[32m              ],[m
[32m+[m[32m              indent: 0,[m
[32m+[m[32m              format: '',[m
[32m+[m[32m              type: 'root',[m
[32m+[m[32m              version: 1,[m
[32m+[m[32m              direction: 'ltr',[m
[32m+[m[32m            },[m
[32m+[m[32m          },[m
[32m+[m[32m        },[m
[32m+[m[32m      },[m
[32m+[m[32m      {[m
[32m+[m[32m        position: {x: 0, y: 8},[m
[32m+[m[32m        dimensions: {width: 4, height: 4},[m
[32m+[m[32m        type: 'text',[m
[32m+[m[32m        configuration: {[m
[32m+[m[32m          text: {[m
[32m+[m[32m            root: {[m
[32m+[m[32m              children: [[m
[32m+[m[32m                {[m
[32m+[m[32m                  children: [[m
[32m+[m[32m                    {[m
[32m+[m[32m                      mode: 'normal',[m
[32m+[m[32m                      format: 1,[m
[32m+[m[32m                      style: 'font-size: 20px;',[m
[32m+[m[32m                      detail: 0,[m
[32m+[m[32m                      text: t('instantDashboard.processDashboard_text3_line1'),[m
[32m+[m[32m                      type: 'text',[m
[32m+[m[32m                      version: 1,[m
[32m+[m[32m                    },[m
[32m+[m[32m                  ],[m
[32m+[m[32m                  indent: 0,[m
[32m+[m[32m                  format: '',[m
[32m+[m[32m                  type: 'paragraph',[m
[32m+[m[32m                  version: 1,[m
[32m+[m[32m                  direction: 'ltr',[m
[32m+[m[32m                },[m
[32m+[m[32m                {[m
[32m+[m[32m                  children: [[m
[32m+[m[32m                    {[m
[32m+[m[32m                      mode: 'normal',[m
[32m+[m[32m                      format: 0,[m
[32m+[m[32m                      style: '',[m
[32m+[m[32m                      detail: 0,[m
[32m+[m[32m                      text: t('instantDashboard.processDashboard_text3_line2'),[m
[32m+[m[32m                      type: 'text',[m
[32m+[m[32m                      version: 1,[m
[32m+[m[32m                    },[m
[32m+[m[32m                  ],[m
[32m+[m[32m                  indent: 0,[m
[32m+[m[32m                  format: '',[m
[32m+[m[32m                  type: 'paragraph',[m
[32m+[m[32m                  version: 1,[m
[32m+[m[32m                  direction: 'ltr',[m
[32m+[m[32m                },[m
[32m+[m[32m                {[m
[32m+[m[32m                  children: [],[m
[32m+[m[32m                  indent: 0,[m
[32m+[m[32m                  format: '',[m
[32m+[m[32m                  type: 'paragraph',[m
[32m+[m[32m                  version: 1,[m
[32m+[m[32m                  direction: 'ltr',[m
[32m+[m[32m                },[m
[32m+[m[32m                {[m
[32m+[m[32m                  children: [[m
[32m+[m[32m                    {[m
[32m+[m[32m                      children: [[m
[32m+[m[32m                        {[m
[32m+[m[32m                          mode: 'normal',[m
[32m+[m[32m                          format: 0,[m
[32m+[m[32m                          style: '',[m
[32m+[m[32m                          detail: 0,[m
[32m+[m[32m                          text: t('instantDashboard.processDashboard_text3_line3'),[m
[32m+[m[32m                          type: 'text',[m
[32m+[m[32m                          version: 1,[m
[32m+[m[32m                        },[m
[32m+[m[32m                      ],[m
[32m+[m[32m                      indent: 0,[m
[32m+[m[32m                      format: '',[m
[32m+[m[32m                      rel: 'noopener norefereer',[m
[32m+[m[32m                      type: 'link',[m
[32m+[m[32m                      version: 1,[m
[32m+[m[32m                      url: 'https://docs.camunda.io/optimize/components/userguide/creating-reports/#creating-a-single-report',[m
[32m+[m[32m                      direction: 'ltr',[m
[32m+[m[32m                      target: '_blank',[m
[32m+[m[32m                    },[m
[32m+[m[32m                  ],[m
[32m+[m[32m                  indent: 0,[m
[32m+[m[32m                  format: '',[m
[32m+[m[32m                  type: 'paragraph',[m
[32m+[m[32m                  version: 1,[m
[32m+[m[32m                  direction: 'ltr',[m
[32m+[m[32m                },[m
[32m+[m[32m              ],[m
[32m+[m[32m              indent: 0,[m
[32m+[m[32m              format: '',[m
[32m+[m[32m              type: 'root',[m
[32m+[m[32m              version: 1,[m
[32m+[m[32m              direction: 'ltr',[m
[32m+[m[32m            },[m
[32m+[m[32m          },[m
[32m+[m[32m        },[m
[32m+[m[32m      },[m
[32m+[m[32m      {[m
[32m+[m[32m        position: {x: 14, y: 6},[m
[32m+[m[32m        dimensions: {width: 4, height: 2},[m
[32m+[m[32m        type: 'optimize_report',[m
[32m+[m[32m        report: {[m
[32m+[m[32m          name: t('instantDashboard.report.processDashboard_openIncidents'),[m
[32m+[m[32m          description: t('instantDashboard.report.processDashboard_openIncidents-description'),[m
[32m+[m[32m          data: {[m
[32m+[m[32m            configuration: {},[m
[32m+[m[32m            filter: [[m
[32m+[m[32m              {[m
[32m+[m[32m                type: 'includesOpenIncident',[m
[32m+[m[32m                data: null,[m
[32m+[m[32m                filterLevel: 'view',[m
[32m+[m[32m                appliedTo: ['all'],[m
[32m+[m[32m              },[m
[32m+[m[32m            ],[m
[32m+[m[32m            view: {entity: 'incident', properties: ['frequency']},[m
[32m+[m[32m            groupBy: {type: 'none', value: null},[m
[32m+[m[32m            visualization: 'number',[m
[32m+[m[32m          },[m
[32m+[m[32m        },[m
[32m+[m[32m      },[m
[32m+[m[32m      {[m
[32m+[m[32m        position: {x: 4, y: 18},[m
[32m+[m[32m        dimensions: {width: 14, height: 5},[m
[32m+[m[32m        type: 'optimize_report',[m
[32m+[m[32m        report: {[m
[32m+[m[32m          name: t('instantDashboard.report.processDashboard_bottlenecksInTheProcess'),[m
[32m+[m[32m          description: t([m
[32m+[m[32m            'instantDashboard.report.processDashboard_bottlenecksInTheProcess-description'[m
[32m+[m[32m          ),[m
[32m+[m[32m          data: {[m
[32m+[m[32m            configuration: {},[m
[32m+[m[32m            filter: [[m
[32m+[m[32m              {[m
[32m+[m[32m                type: 'instanceEndDate',[m
[32m+[m[32m                data: {[m
[32m+[m[32m                  type: 'rolling',[m
[32m+[m[32m                  start: {value: 6, unit: 'months'},[m
[32m+[m[32m                },[m
[32m+[m[32m                filterLevel: 'instance',[m
[32m+[m[32m                appliedTo: ['all'],[m
[32m+[m[32m              },[m
[32m+[m[32m            ],[m
[32m+[m[32m            view: {entity: 'flowNode', properties: ['duration']},[m
[32m+[m[32m            groupBy: {type: 'flowNodes', value: null},[m
[32m+[m[32m            visualization: 'heat',[m
[32m+[m[32m          },[m
[32m+[m[32m        },[m
[32m+[m[32m      },[m
[32m+[m[32m    ],[m
[32m+[m[32m  };[m
[32m+[m[32m}[m
[1mdiff --git a/client/src/modules/components/TemplateModal/templates/productivityDashboardTemplate.ts b/client/src/modules/components/TemplateModal/templates/productivityDashboardTemplate.ts[m
[1mnew file mode 100644[m
[1mindex 0000000000..9802d0c90e[m
[1m--- /dev/null[m
[1m+++ b/client/src/modules/components/TemplateModal/templates/productivityDashboardTemplate.ts[m
[36m@@ -0,0 +1,1196 @@[m
[32m+[m[32m/*[m
[32m+[m[32m * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH[m
[32m+[m[32m * under one or more contributor license agreements. Licensed under a proprietary license.[m
[32m+[m[32m * See the License.txt file for more information. You may not use this file[m
[32m+[m[32m * except in compliance with the proprietary license.[m
[32m+[m[32m */[m
[32m+[m
[32m+[m[32mimport {t} from 'translation';[m
[32m+[m
[32m+[m[32mimport productivity from '../images/productivity.png';[m
[32m+[m
[32m+[m[32mexport function productivityDashboardTemplate() {[m
[32m+[m[32m  return {[m
[32m+[m[32m    name: 'productivity',[m
[32m+[m[32m    disabled: (definitions: unknown[]) => definitions.length > 1,[m
[32m+[m[32m    img: productivity,[m
[32m+[m[32m    config: [[m
[32m+[m[32m      {[m
[32m+[m[32m        position: {x: 0, y: 0},[m
[32m+[m[32m        dimensions: {width: 18, height: 1},[m
[32m+[m[32m        type: 'text',[m
[32m+[m[32m        configuration: {[m
[32m+[m[32m          text: {[m
[32m+[m[32m            root: {[m
[32m+[m[32m              children: [[m
[32m+[m[32m                {[m
[32m+[m[32m                  children: [[m
[32m+[m[32m                    {[m
[32m+[m[32m                      altText: '/external/static/templates/pro_input_rate.png',[m
[32m+[m[32m                      src: '/external/static/templates/pro_input_rate.png',[m
[32m+[m[32m                      width: 0,[m
[32m+[m[32m                      caption: {[m
[32m+[m[32m                        editorState: {[m
[32m+[m[32m                          root: {[m
[32m+[m[32m                            children: [],[m
[32m+[m[32m                            indent: 0,[m
[32m+[m[32m                            format: '',[m
[32m+[m[32m                            type: 'root',[m
[32m+[m[32m                            version: 1,[m
[32m+[m[32m                            direction: null,[m
[32m+[m[32m                          },[m
[32m+[m[32m                        },[m
[32m+[m[32m                      },[m
[32m+[m[32m                      showCaption: false,[m
[32m+[m[32m                      type: 'image',[m
[32m+[m[32m                      version: 1,[m
[32m+[m[32m                      height: 0,[m
[32m+[m[32m                      maxWidth: 500,[m
[32m+[m[32m                    },[m
[32m+[m[32m                  ],[m
[32m+[m[32m                  format: '',[m
[32m+[m[32m                  type: 'paragraph',[m
[32m+[m[32m                  version: 1,[m
[32m+[m[32m                  direction: null,[m
[32m+[m[32m                },[m
[32m+[m[32m              ],[m
[32m+[m[32m              indent: 0,[m
[32m+[m[32m              format: '',[m
[32m+[m[32m              type: 'root',[m
[32m+[m[32m              version: 1,[m
[32m+[m[32m              direction: null,[m
[32m+[m[32m            },[m
[32m+[m[32m          },[m
[32m+[m[32m        },[m
[32m+[m[32m      },[m
[32m+[m[32m      {[m
[32m+[m[32m        position: {x: 12, y: 15},[m
[32m+[m[32m        dimensions: {width: 6, height: 6},[m
[32m+[m[32m        type: 'text',[m
[32m+[m[32m        configuration: {[m
[32m+[m[32m          text: {[m
[32m+[m[32m            root: {[m
[32m+[m[32m              children: [[m
[32m+[m[32m                {[m
[32m+[m[32m                  children: [[m
[32m+[m[32m                    {[m
[32m+[m[32m                      mode: 'normal',[m
[32m+[m[32m                      format: 1,[m
[32m+[m[32m                      style: 'font-size: 20px;',[m
[32m+[m[32m                      detail: 0,[m
[32m+[m[32m                      text: t('dashboard.templates.productivity_text3_line1'),[m
[32m+[m[32m                      type: 'text',[m
[32m+[m[32m                      version: 1,[m
[32m+[m[32m                    },[m
[32m+[m[32m                  ],[m
[32m+[m[32m                  indent: 0,[m
[32m+[m[32m                  format: '',[m
[32m+[m[32m                  type: 'paragraph',[m
[32m+[m[32m                  version: 1,[m
[32m+[m[32m                  direction: 'ltr',[m
[32m+[m[32m                },[m
[32m+[m[32m                {[m
[32m+[m[32m                  children: [],[m
[32m+[m[32m                  indent: 0,[m
[32m+[m[32m                  format: '',[m
[32m+[m[32m                  type: 'paragraph',[m
[32m+[m[32m                  version: 1,[m
[32m+[m[32m                  direction: null,[m
[32m+[m[32m                },[m
[32m+[m[32m                {[m
[32m+[m[32m                  children: [[m
[32m+[m[32m                    {[m
[32m+[m[32m                      altText: '/external/static/templates/Target.png',[m
[32m+[m[32m                      src: '/external/static/templates/Target.png',[m
[32m+[m[32m                      width: 0,[m
[32m+[m[32m                      caption: {[m
[32m+[m[32m                        editorState: {[m
[32m+[m[32m                          root: {[m
[32m+[m[32m                            children: [],[m
[32m+[m[32m                            indent: 0,[m
[32m+[m[32m                            format: '',[m
[32m+[m[32m                            type: 'root',[m
[32m+[m[32m                            version: 1,[m
[32m+[m[32m                            direction: null,[m
[32m+[m[32m                          },[m
[32m+[m[32m                        },[m
[32m+[m[32m                      },[m
[32m+[m[32m                      showCaption: false,[m
[32m+[m[32m                      type: 'image',[m
[32m+[m[32m                      version: 1,[m
[32m+[m[32m                      height: 0,[m
[32m+[m[32m                      maxWidth: 500,[m
[32m+[m[32m                    },[m
[32m+[m[32m                    {[m
[32m+[m[32m                      mode: 'normal',[m
[32m+[m[32m                      format: 3,[m
[32m+[m[32m                      style: '',[m
[32m+[m[32m                      detail: 0,[m
[32m+[m[32m                      text: t('dashboard.templates.productivity_text3_line2'),[m
[32m+[m[32m                      type: 'text',[m
[32m+[m[32m                      version: 1,[m
[32m+[m[32m                    },[m
[32m+[m[32m                  ],[m
[32m+[m[32m                  indent: 0,[m
[32m+[m[32m                  format: '',[m
[32m+[m[32m                  type: 'paragraph',[m
[32m+[m[32m                  version: 1,[m
[32m+[m[32m                  direction: 'ltr',[m
[32m+[m[32m                },[m
[32m+[m[32m                {[m
[32m+[m[32m                  children: [[m
[32m+[m[32m                    {[m
[32m+[m[32m                      mode: 'normal',[m
[32m+[m[32m                      format: 0,[m
[32m+[m[32m                      style: '',[m
[32m+[m[32m                      detail: 0,[m
[32m+[m[32m                      text: t('dashboard.templates.productivity_text3_line3'),[m
[32m+[m[32m                      type: 'text',[m
[32m+[m[32m                      version: 1,[m
[32m+[m[32m                    },[m
[32m+[m[32m                  ],[m
[32m+[m[32m                  indent: 0,[m
[32m+[m[32m                  format: '',[m
[32m+[m[32m                  type: 'paragraph',[m
[32m+[m[32m                  version: 1,[m
[32m+[m[32m                  direction: 'ltr',[m
[32m+[m[32m                },[m
[32m+[m[32m                {[m
[32m+[m[32m                  children: [],[m
[32m+[m[32m                  indent: 0,[m
[32m+[m[32m                  format: '',[m
[32m+[m[32m                  type: 'paragraph',[m
[32m+[m[32m                  version: 1,[m
[32m+[m[32m                  direction: 'ltr',[m
[32m+[m[32m                },[m
[32m+[m[32m                {[m
[32m+[m[32m                  children: [[m
[32m+[m[32m                    {[m
[32m+[m[32m                      altText: '/external/static/templates/customize.png',[m
[32m+[m[32m                      src: '/external/static/templates/customize.png',[m
[32m+[m[32m                      width: 0,[m
[32m+[m[32m                      caption: {[m
[32m+[m[32m                        editorState: {[m
[32m+[m[32m                          root: {[m
[32m+[m[32m                            children: [],[m
[32m+[m[32m                            indent: 0,[m
[32m+[m[32m                            format: '',[m
[32m+[m[32m                            type: 'root',[m
[32m+[m[32m                            version: 1,[m
[32m+[m[32m                            direction: null,[m
[32m+[m[32m                          },[m
[32m+[m[32m                        },[m
[32m+[m[32m                      },[m
[32m+[m[32m                      showCaption: false,[m
[32m+[m[32m                      type: 'image',[m
[32m+[m[32m                      version: 1,[m
[32m+[m[32m                      height: 0,[m
[32m+[m[32m                      maxWidth: 500,[m
[32m+[m[32m                    },[m
[32m+[m[32m                    {[m
[32m+[m[32m                      mode: 'normal',[m
[32m+[m[32m                      format: 3,[m
[32m+[m[32m                      style: '',[m
[32m+[m[32m                      detail: 0,[m
[32m+[m[32m                      text: t('dashboard.templates.productivity_text3_line4'),[m
[32m+[m[32m                      type: 'text',[m
[32m+[m[32m                      version: 1,[m
[32m+[m[32m                    },[m
[32m+[m[32m                  ],[m
[32m+[m[32m                  indent: 0,[m
[32m+[m[32m                  format: '',[m
[32m+[m[32m                  type: 'paragraph',[m
[32m+[m[32m                  version: 1,[m
[32m+[m[32m                  direction: 'ltr',[m
[32m+[m[32m                },[m
[32m+[m[32m                {[m
[32m+[m[32m                  children: [[m
[32m+[m[32m                    {[m
[32m+[m[32m                      mode: 'normal',[m
[32m+[m[32m                      format: 0,[m
[32m+[m[32m                      style: '',[m
[32m+[m[32m                      detail: 0,[m
[32m+[m[32m                      text: '- ',[m
[32m+[m[32m                      type: 'text',[m
[32m+[m[32m                      version: 1,[m
[32m+[m[32m                    },[m
[32m+[m[32m                    {[m
[32m+[m[32m                      children: [[m
[32m+[m[32m                        {[m
[32m+[m[32m                          mode: 'normal',[m
[32m+[m[32m                          format: 0,[m
[32m+[m[32m                          style: '',[m
[32m+[m[32m                          detail: 0,[m
[32m+[m[32m                          text: t('dashboard.templates.productivity_text3_line5'),[m
[32m+[m[32m                          type: 'text',[m
[32m+[m[32m                          version: 1,[m
[32m+[m[32m                        },[m
[32m+[m[32m                      ],[m
[32m+[m[32m                      indent: 0,[m
[32m+[m[32m                      format: '',[m
[32m+[m[32m                      rel: 'noopener norefereer',[m
[32m+[m[32m                      type: 'link',[m
[32m+[m[32m                      version: 1,[m
[32m+[m[32m                      url: 'https://docs.camunda.io/optimize/components/what-is-optimize/',[m
[32m+[m[32m                      direction: 'ltr',[m
[32m+[m[32m                      target: '_blank',[m
[32m+[m[32m                    },[m
[32m+[m[32m                    {[m
[32m+[m[32m                      mode: 'normal',[m
[32m+[m[32m                      format: 0,[m
[32m+[m[32m                      style: '',[m
[32m+[m[32m                      detail: 0,[m
[32m+[m[32m                      text: t('dashboard.templates.productivity_text3_line6'),[m
[32m+[m[32m                      type: 'text',[m
[32m+[m[32m                      version: 1,[m
[32m+[m[32m                    },[m
[32m+[m[32m                  ],[m
[32m+[m[32m                  indent: 0,[m
[32m+[m[32m                  format: '',[m
[32m+[m[32m                  type: 'paragraph',[m
[32m+[m[32m                  version: 1,[m
[32m+[m[32m                  direction: 'ltr',[m
[32m+[m[32m                },[m
[32m+[m[32m                {[m
[32m+[m[32m                  children: [[m
[32m+[m[32m                    {[m
[32m+[m[32m                      mode: 'normal',[m
[32m+[m[32m                      format: 0,[m
[32m+[m[32m                      style: '',[m
[32m+[m[32m                      detail: 0,[m
[32m+[m[32m                      text: t('dashboard.templates.productivity_text3_line7'),[m
[32m+[m[32m                      type: 'text',[m
[32m+[m[32m                      version: 1,[m
[32m+[m[32m                    },[m
[32m+[m[32m                  ],[m
[32m+[m[32m                  indent: 0,[m
[32m+[m[32m                  format: '',[m
[32m+[m[32m                  type: 'paragraph',[m
[32m+[m[32m                  version: 1,[m
[32m+[m[32m                  direction: 'ltr',[m
[32m+[m[32m                },[m
[32m+[m[32m              ],[m
[32m+[m[32m              indent: 0,[m
[32m+[m[32m              format: '',[m
[32m+[m[32m              type: 'root',[m
[32m+[m[32m              version: 1,[m
[32m+[m[32m              direction: 'ltr',[m
[32m+[m[32m            },[m
[32m+[m[32m          },[m
[32m+[m[32m        },[m
[32m+[m[32m      },[m
[32m+[m[32m      {[m
[32m+[m[32m        position: {x: 0, y: 14},[m
[32m+[m[32m        dimensions: {width: 18, height: 1},[m
[32m+[m[32m        type: 'text',[m
[32m+[m[32m        configuration: {[m
[32m+[m[32m          text: {[m
[32m+[m[32m            root: {[m
[32m+[m[32m              children: [[m
[32m+[m[32m                {[m
[32m+[m[32m                  children: [[m
[32m+[m[32m                    {[m
[32m+[m[32m                      altText: '/external/static/templates/pro_completion.png',[m
[32m+[m[32m                      src: '/external/static/templates/pro_completion.png',[m
[32m+[m[32m                      width: 0,[m
[32m+[m[32m                      caption: {[m
[32m+[m[32m                        editorState: {[m
[32m+[m[32m                          root: {[m
[32m+[m[32m                            children: [],[m
[32m+[m[32m                            indent: 0,[m
[32m+[m[32m                            format: '',[m
[32m+[m[32m                            type: 'root',[m
[32m+[m[32m                            version: 1,[m
[32m+[m[32m                            direction: null,[m
[32m+[m[32m                          },[m
[32m+[m[32m                        },[m
[32m+[m[32m                      },[m
[32m+[m[32m                      showCaption: false,[m
[32m+[m[32m                      type: 'image',[m
[32m+[m[32m                      version: 1,[m
[32m+[m[32m                      height: 0,[m
[32m+[m[32m                      maxWidth: 500,[m
[32m+[m[32m                    },[m
[32m+[m[32m                  ],[m
[32m+[m[32m                  format: '',[m
[32m+[m[32m                  type: 'paragraph',[m
[32m+[m[32m                  version: 1,[m
[32m+[m[32m                  direction: null,[m
[32m+[m[32m                },[m
[32m+[m[32m              ],[m
[32m+[m[32m              indent: 0,[m
[32m+[m[32m              format: '',[m
[32m+[m[32m              type: 'root',[m
[32m+[m[32m              version: 1,[m
[32m+[m[32m              direction: null,[m
[32m+[m[32m            },[m
[32m+[m[32m          },[m
[32m+[m[32m        },[m
[32m+[m[32m      },[m
[32m+[m[32m      {[m
[32m+[m[32m        position: {x: 0, y: 7},[m
[32m+[m[32m        dimensions: {width: 18, height: 1},[m
[32m+[m[32m        type: 'text',[m
[32m+[m[32m        configuration: {[m
[32m+[m[32m          text: {[m
[32m+[m[32m            root: {[m
[32m+[m[32m              children: [[m
[32m+[m[32m                {[m
[32m+[m[32m                  children: [[m
[32m+[m[32m                    {[m
[32m+[m[32m                      altText: '/external/static/templates/pro_work_in_progress.png',[m
[32m+[m[32m                      src: '/external/static/templates/pro_work_in_progress.png',[m
[32m+[m[32m                      width: 0,[m
[32m+[m[32m                      caption: {[m
[32m+[m[32m                        editorState: {[m
[32m+[m[32m                          root: {[m
[32m+[m[32m                            children: [],[m
[32m+[m[32m                            indent: 0,[m
[32m+[m[32m                            format: '',[m
[32m+[m[32m                            type: 'root',[m
[32m+[m[32m                            version: 1,[m
[32m+[m[32m                            direction: null,[m
[32m+[m[32m                          },[m
[32m+[m[32m                        },[m
[32m+[m[32m                      },[m
[32m+[m[32m                      showCaption: false,[m
[32m+[m[32m                      type: 'image',[m
[32m+[m[32m                      version: 1,[m
[32m+[m[32m                      height: 0,[m
[32m+[m[32m                      maxWidth: 500,[m
[32m+[m[32m                    },[m
[32m+[m[32m                  ],[m
[32m+[m[32m                  format: '',[m
[32m+[m[32m                  type: 'paragraph',[m
[32m+[m[32m                  version: 1,[m
[32m+[m[32m                  direction: null,[m
[32m+[m[32m                },[m
[32m+[m[32m              ],[m
[32m+[m[32m              indent: 0,[m
[32m+[m[32m              format: '',[m
[32m+[m[32m              type: 'root',[m
[32m+[m[32m              version: 1,[m
[32m+[m[32m              direction: null,[m
[32m+[m[32m            },[m
[32m+[m[32m          },[m
[32m+[m[32m        },[m
[32m+[m[32m      },[m
[32m+[m[32m      {[m
[32m+[m[32m        position: {x: 0, y: 10},[m
[32m+[m[32m        dimensions: {width: 12, height: 4},[m
[32m+[m[32m        type: 'optimize_report',[m
[32m+[m[32m        report: {[m
[32m+[m[32m          name: t('dashboard.templates.productivity_maxNumberOfItemsInProgress'),[m
[32m+[m[32m          description: t('dashboard.templates.productivity_maxNumberOfItemsInProgress-description'),[m
[32m+[m[32m          data: {[m
[32m+[m[32m            configuration: {[m
[32m+[m[32m              color: '#008B02',[m
[32m+[m[32m              alwaysShowAbsolute: true,[m
[32m+[m[32m              targetValue: {[m
[32m+[m[32m                countChart: {isBelow: true, value: '20'},[m
[32m+[m[32m                active: true,[m
[32m+[m[32m              },[m
[32m+[m[32m              xLabel: t('report.groupBy.runningDate'),[m
[32m+[m[32m              yLabel: t('report.view.pi') + ' ' + t('report.view.count'),[m
[32m+[m[32m            },[m
[32m+[m[32m            filter: [[m
[32m+[m[32m              {[m
[32m+[m[32m                type: 'instanceStartDate',[m
[32m+[m[32m                data: {[m
[32m+[m[32m                  type: 'rolling',[m
[32m+[m[32m                  start: {value: 1, unit: 'weeks'},[m
[32m+[m[32m                },[m
[32m+[m[32m                filterLevel: 'instance',[m
[32m+[m[32m                appliedTo: ['all'],[m
[32m+[m[32m              },[m
[32m+[m[32m            ],[m
[32m+[m[32m            view: {[m
[32m+[m[32m              entity: 'processInstance',[m
[32m+[m[32m              properties: ['frequency'],[m
[32m+[m[32m            },[m
[32m+[m[32m            groupBy: {[m
[32m+[m[32m              type: 'runningDate',[m
[32m+[m[32m              value: {unit: 'day'},[m
[32m+[m[32m            },[m
[32m+[m[32m            visualization: 'bar',[m
[32m+[m[32m          },[m
[32m+[m[32m        },[m
[32m+[m[32m      },[m
[32m+[m[32m      {[m
[32m+[m[32m        position: {x: 12, y: 8},[m
[32m+[m[32m        dimensions: {width: 6, height: 6},[m
[32m+[m[32m        type: 'text',[m
[32m+[m[32m        configuration: {[m
[32m+[m[32m          text: {[m
[32m+[m[32m            root: {[m
[32m+[m[32m              children: [[m
[32m+[m[32m                {[m
[32m+[m[32m                  children: [[m
[32m+[m[32m                    {[m
[32m+[m[32m                      mode: 'normal',[m
[32m+[m[32m                      format: 1,[m
[32m+[m[32m                      style: 'font-size: 20px;',[m
[32m+[m[32m                      detail: 0,[m
[32m+[m[32m                      text: t('dashboard.templates.productivity_text2_line1'),[m
[32m+[m[32m                      type: 'text',[m
[32m+[m[32m                      version: 1,[m
[32m+[m[32m                    },[m
[32m+[m[32m                  ],[m
[32m+[m[32m                  indent: 0,[m
[32m+[m[32m                  format: '',[m
[32m+[m[32m                  type: 'paragraph',[m
[32m+[m[32m                  version: 1,[m
[32m+[m[32m                  direction: 'ltr',[m
[32m+[m[32m                },[m
[32m+[m[32m                {[m
[32m+[m[32m                  children: [],[m
[32m+[m[32m                  indent: 0,[m
[32m+[m[32m                  format: '',[m
[32m+[m[32m                  type: 'paragraph',[m
[32m+[m[32m                  version: 1,[m
[32m+[m[32m                  direction: null,[m
[32m+[m[32m                },[m
[32m+[m[32m                {[m
[32m+[m[32m                  children: [[m
[32m+[m[32m                    {[m
[32m+[m[32m                      altText: '/external/static/templates/Target.png',[m
[32m+[m[32m                      src: '/external/static/templates/Target.png',[m
[32m+[m[32m                      width: 0,[m
[32m+[m[32m                      caption: {[m
[32m+[m[32m                        editorState: {[m
[32m+[m[32m                          root: {[m
[32m+[m[32m                            children: [],[m
[32m+[m[32m                            indent: 0,[m
[32m+[m[32m                            format: '',[m
[32m+[m[32m                            type: 'root',[m
[32m+[m[32m                            version: 1,[m
[32m+[m[32m                            direction: null,[m
[32m+[m[32m                          },[m
[32m+[m[32m                        },[m
[32m+[m[32m                      },[m
[32m+[m[32m                      showCaption: false,[m
[32m+[m[32m                      type: 'image',[m
[32m+[m[32m                      version: 1,[m
[32m+[m[32m                      height: 0,[m
[32m+[m[32m                      maxWidth: 500,[m
[32m+[m[32m                    },[m
[32m+[m[32m                    {[m
[32m+[m[32m                      mode: 'normal',[m
[32m+[m[32m                      format: 3,[m
[32m+[m[32m                      style: '',[m
[32m+[m[32m                      detail: 0,[m
[32m+[m[32m                      text: t('dashboard.templates.productivity_text2_line2'),[m
[32m+[m[32m                      type: 'text',[m
[32m+[m[32m                      version: 1,[m
[32m+[m[32m                    },[m
[32m+[m[32m                  ],[m
[32m+[m[32m                  indent: 0,[m
[32m+[m[32m                  format: '',[m
[32m+[m[32m                  type: 'paragraph',[m
[32m+[m[32m                  version: 1,[m
[32m+[m[32m                  direction: 'ltr',[m
[32m+[m[32m                },[m
[32m+[m[32m                {[m
[32m+[m[32m                  children: [[m
[32m+[m[32m                    {[m
[32m+[m[32m                      mode: 'normal',[m
[32m+[m[32m                      format: 0,[m
[32m+[m[32m                      style: '',[m
[32m+[m[32m                      detail: 0,[m
[32m+[m[32m                      text: t('dashboard.templates.productivity_text2_line3'),[m
[32m+[m[32m                      type: 'text',[m
[32m+[m[32m                      version: 1,[m
[32m+[m[32m                    },[m
[32m+[m[32m                  ],[m
[32m+[m[32m                  indent: 0,[m
[32m+[m[32m                  format: '',[m
[32m+[m[32m                  type: 'paragraph',[m
[32m+[m[32m                  version: 1,[m
[32m+[m[32m                  direction: 'ltr',[m
[32m+[m[32m                },[m
[32m+[m[32m                {[m
[32m+[m[32m                  children: [],[m
[32m+[m[32m                  indent: 0,[m
[32m+[m[32m                  format: '',[m
[32m+[m[32m                  type: 'paragraph',[m
[32m+[m[32m                  version: 1,[m
[32m+[m[32m                  direction: 'ltr',[m
[32m+[m[32m                },[m
[32m+[m[32m                {[m
[32m+[m[32m                  children: [[m
[32m+[m[32m                    {[m
[32m+[m[32m                      altText: '/external/static/templates/customize.png',[m
[32m+[m[32m                      src: '/external/static/templates/customize.png',[m
[32m+[m[32m                      width: 0,[m
[32m+[m[32m                      caption: {[m
[32m+[m[32m                        editorState: {[m
[32m+[m[32m                          root: {[m
[32m+[m[32m                            children: [],[m
[32m+[m[32m                            indent: 0,[m
[32m+[m[32m                            format: '',[m
[32m+[m[32m                            type: 'root',[m
[32m+[m[32m                            version: 1,[m
[32m+[m[32m                            direction: null,[m
[32m+[m[32m                          },[m
[32m+[m[32m                        },[m
[32m+[m[32m                      },[m
[32m+[m[32m                      showCaption: false,[m
[32m+[m[32m                      type: 'image',[m
[32m+[m[32m                      version: 1,[m
[32m+[m[32m                      height: 0,[m
[32m+[m[32m                      maxWidth: 500,[m
[32m+[m[32m                    },[m
[32m+[m[32m                    {[m
[32m+[m[32m                      mode: 'normal',[m
[32m+[m[32m                      format: 3,[m
[32m+[m[32m                      style: '',[m
[32m+[m[32m                      detail: 0,[m
[32m+[m[32m                      text: t('dashboard.templates.productivity_text2_line4'),[m
[32m+[m[32m                      type: 'text',[m
[32m+[m[32m                      version: 1,[m
[32m+[m[32m                    },[m
[32m+[m[32m                  ],[m
[32m+[m[32m                  format: '',[m
[32m+[m[32m                  type: 'paragraph',[m
[32m+[m[32m                  version: 1,[m
[32m+[m[32m                  direction: 'ltr',[m
[32m+[m[32m                },[m
[32m+[m[32m                {[m
[32m+[m[32m                  children: [[m
[32m+[m[32m                    {[m
[32m+[m[32m                      mode: 'normal',[m
[32m+[m[32m                      format: 0,[m
[32m+[m[32m                      style: '',[m
[32m+[m[32m                      detail: 0,[m
[32m+[m[32m                      text: t('dashboard.templates.productivity_text2_line5'),[m
[32m+[m[32m                      type: 'text',[m
[32m+[m[32m                      version: 1,[m
[32m+[m[32m                    },[m
[32m+[m[32m                    {[m
[32m+[m[32m                      children: [[m
[32m+[m[32m                        {[m
[32m+[m[32m                          mode: 'normal',[m
[32m+[m[32m                          format: 0,[m
[32m+[m[32m                          style: '',[m
[32m+[m[32m                          detail: 0,[m
[32m+[m[32m                          text: t('dashboard.templates.productivity_text2_line6'),[m
[32m+[m[32m                          type: 'text',[m
[32m+[m[32m                          version: 1,[m
[32m+[m[32m                        },[m
[32m+[m[32m                      ],[m
[32m+[m[32m                      indent: 0,[m
[32m+[m[32m                      format: '',[m
[32m+[m[32m                      rel: 'noopener norefereer',[m
[32m+[m[32m                      type: 'link',[m
[32m+[m[32m                      version: 1,[m
[32m+[m[32m                      url: 'https://docs.camunda.io/optimize/components/what-is-optimize/',[m
[32m+[m[32m                      direction: 'ltr',[m
[32m+[m[32m                      target: '_blank',[m
[32m+[m[32m                    },[m
[32m+[m[32m                  ],[m
[32m+[m[32m                  indent: 0,[m
[32m+[m[32m                  format: '',[m
[32m+[m[32m                  type: 'paragraph',[m
[32m+[m[32m                  version: 1,[m
[32m+[m[32m                  direction: 'ltr',[m
[32m+[m[32m                },[m
[32m+[m[32m                {[m
[32m+[m[32m                  children: [[m
[32m+[m[32m                    {[m
[32m+[m[32m                      mode: 'normal',[m
[32m+[m[32m                      format: 0,[m
[32m+[m[32m                      style: '',[m
[32m+[m[32m                      detail: 0,[m
[32m+[m[32m                      text: t('dashboard.templates.productivity_text2_line7'),[m
[32m+[m[32m                      type: 'text',[m
[32m+[m[32m                      version: 1,[m
[32m+[m[32m                    },[m
[32m+[m[32m                    {[m
[32m+[m[32m                      children: [[m
[32m+[m[32m                        {[m
[32m+[m[32m                          mode: 'normal',[m
[32m+[m[32m                          format: 0,[m
[32m+[m[32m                          style: '',[m
[32m+[m[32m                          detail: 0,[m
[32m+[m[32m                          text: t('dashboard.templates.productivity_text2_line8'),[m
[32m+[m[32m                          type: 'text',[m
[32m+[m[32m                          version: 1,[m
[32m+[m[32m                        },[m
[32m+[m[32m                      ],[m
[32m+[m[32m                      indent: 0,[m
[32m+[m[32m                      format: '',[m
[32m+[m[32m                      rel: 'noopener norefereer',[m
[32m+[m[32m                      type: 'link',[m
[32m+[m[32m                      version: 1,[m
[32m+[m[32m                      url: '/analysis',[m
[32m+[m[32m                      direction: 'ltr',[m
[32m+[m[32m                      target: '_blank',[m
[32m+[m[32m                    },[m
[32m+[m[32m                    {[m
[32m+[m[32m                      mode: 'normal',[m
[32m+[m[32m                      format: 0,[m
[32m+[m[32m                      style: '',[m
[32m+[m[32m                      detail: 0,[m
[32m+[m[32m                      text: t('dashboard.templates.productivity_text2_line9'),[m
[32m+[m[32m                      type: 'text',[m
[32m+[m[32m                      version: 1,[m
[32m+[m[32m                    },[m
[32m+[m[32m                    {[m
[32m+[m[32m                      children: [[m
[32m+[m[32m                        {[m
[32m+[m[32m                          mode: 'normal',[m
[32m+[m[32m                          format: 0,[m
[32m+[m[32m                          style: '',[m
[32m+[m[32m                          detail: 0,[m
[32m+[m[32m                          text: t('dashboard.templates.productivity_text2_line10'),[m
[32m+[m[32m                          type: 'text',[m
[32m+[m[32m                          version: 1,[m
[32m+[m[32m                        },[m
[32m+[m[32m                      ],[m
[32m+[m[32m                      indent: 0,[m
[32m+[m[32m                      format: '',[m
[32m+[m[32m                      rel: 'noopener norefereer',[m
[32m+[m[32m                      type: 'link',[m
[32m+[m[32m                      version: 1,[m
[32m+[m[32m                      url: '/analysis',[m
[32m+[m[32m                      direction: 'ltr',[m
[32m+[m[32m                      target: '_blank',[m
[32m+[m[32m                    },[m
[32m+[m[32m                  ],[m
[32m+[m[32m                  indent: 0,[m
[32m+[m[32m                  format: '',[m
[32m+[m[32m                  type: 'paragraph',[m
[32m+[m[32m                  version: 1,[m
[32m+[m[32m                  direction: 'ltr',[m
[32m+[m[32m                },[m
[32m+[m[32m              ],[m
[32m+[m[32m              indent: 0,[m
[32m+[m[32m              format: '',[m
[32m+[m[32m              type: 'root',[m
[32m+[m[32m              version: 1,[m
[32m+[m[32m              direction: 'ltr',[m
[32m+[m[32m            },[m
[32m+[m[32m          },[m
[32m+[m[32m        },[m
[32m+[m[32m      },[m
[32m+[m[32m      {[m
[32m+[m[32m        position: {x: 0, y: 3},[m
[32m+[m[32m        dimensions: {width: 12, height: 4},[m
[32m+[m[32m        type: 'optimize_report',[m
[32m+[m[32m        report: {[m
[32m+[m[32m          name: t('dashboard.templates.productivity_incomingInLast2Weeks'),[m
[32m+[m[32m          description: t('dashboard.templates.productivity_incomingInLast2Weeks-description'),[m
[32m+[m[32m          data: {[m
[32m+[m[32m            configuration: {[m
[32m+[m[32m              color: '#008B02',[m
[32m+[m[32m              alwaysShowAbsolute: true,[m
[32m+[m[32m              targetValue: {[m
[32m+[m[32m                countChart: {isBelow: false, value: '10'},[m
[32m+[m[32m                active: true,[m
[32m+[m[32m              },[m
[32m+[m[32m              xLabel: t('report.groupBy.startDate'),[m
[32m+[m[32m              yLabel: t('report.view.pi') + ' ' + t('report.view.count'),[m
[32m+[m[32m            },[m
[32m+[m[32m            filter: [[m
[32m+[m[32m              {[m
[32m+[m[32m                type: 'instanceStartDate',[m
[32m+[m[32m                data: {[m
[32m+[m[32m                  type: 'rolling',[m
[32m+[m[32m                  start: {value: 2, unit: 'weeks'},[m
[32m+[m[32m                },[m
[32m+[m[32m                filterLevel: 'instance',[m
[32m+[m[32m                appliedTo: ['all'],[m
[32m+[m[32m              },[m
[32m+[m[32m            ],[m
[32m+[m[32m            view: {[m
[32m+[m[32m              entity: 'processInstance',[m
[32m+[m[32m              properties: ['frequency'],[m
[32m+[m[32m            },[m
[32m+[m[32m            groupBy: {[m
[32m+[m[32m              type: 'startDate',[m
[32m+[m[32m              value: {unit: 'day'},[m
[32m+[m[32m            },[m
[32m+[m[32m            visualization: 'bar',[m
[32m+[m[32m          },[m
[32m+[m[32m        },[m
[32m+[m[32m      },[m
[32m+[m[32m      {[m
[32m+[m[32m        position: {x: 12, y: 1},[m
[32m+[m[32m        dimensions: {width: 6, height: 6},[m
[32m+[m[32m        type: 'text',[m
[32m+[m[32m        configuration: {[m
[32m+[m[32m          text: {[m
[32m+[m[32m            root: {[m
[32m+[m[32m              children: [[m
[32m+[m[32m                {[m
[32m+[m[32m                  children: [[m
[32m+[m[32m                    {[m
[32m+[m[32m                      mode: 'normal',[m
[32m+[m[32m                      format: 1,[m
[32m+[m[32m                      style: 'font-size: 20px;',[m
[32m+[m[32m                      detail: 0,[m
[32m+[m[32m                      text: t('dashboard.templates.productivity_text1_line1'),[m
[32m+[m[32m                      type: 'text',[m
[32m+[m[32m                      version: 1,[m
[32m+[m[32m                    },[m
[32m+[m[32m                  ],[m
[32m+[m[32m                  indent: 0,[m
[32m+[m[32m                  format: '',[m
[32m+[m[32m                  type: 'paragraph',[m
[32m+[m[32m                  version: 1,[m
[32m+[m[32m                  direction: 'ltr',[m
[32m+[m[32m                },[m
[32m+[m[32m                {[m
[32m+[m[32m                  children: [[m
[32m+[m[32m                    {[m
[32m+[m[32m                      altText: '/external/static/templates/Target.png',[m
[32m+[m[32m                      src: '/external/static/templates/Target.png',[m
[32m+[m[32m                      width: 0,[m
[32m+[m[32m                      caption: {[m
[32m+[m[32m                        editorState: {[m
[32m+[m[32m                          root: {[m
[32m+[m[32m                            children: [],[m
[32m+[m[32m                            indent: 0,[m
[32m+[m[32m                            format: '',[m
[32m+[m[32m                            type: 'root',[m
[32m+[m[32m                            version: 1,[m
[32m+[m[32m                            direction: null,[m
[32m+[m[32m                          },[m
[32m+[m[32m                        },[m
[32m+[m[32m                      },[m
[32m+[m[32m                      showCaption: false,[m
[32m+[m[32m                      type: 'image',[m
[32m+[m[32m                      version: 1,[m
[32m+[m[32m                      height: 0,[m
[32m+[m[32m                      maxWidth: 500,[m
[32m+[m[32m                    },[m
[32m+[m[32m                    {[m
[32m+[m[32m                      mode: 'normal',[m
[32m+[m[32m                      format: 3,[m
[32m+[m[32m                      style: '',[m
[32m+[m[32m                      detail: 0,[m
[32m+[m[32m                      text: t('dashboard.templates.productivity_text1_line2'),[m
[32m+[m[32m                      type: 'text',[m
[32m+[m[32m                      version: 1,[m
[32m+[m[32m                    },[m
[32m+[m[32m                  ],[m
[32m+[m[32m                  indent: 0,[m
[32m+[m[32m                  format: '',[m
[32m+[m[32m                  type: 'paragraph',[m
[32m+[m[32m                  version: 1,[m
[32m+[m[32m                  direction: 'ltr',[m
[32m+[m[32m                },[m
[32m+[m[32m                {[m
[32m+[m[32m                  children: [[m
[32m+[m[32m                    {[m
[32m+[m[32m                      mode: 'normal',[m
[32m+[m[32m                      format: 0,[m
[32m+[m[32m                      style: '',[m
[32m+[m[32m                      detail: 0,[m
[32m+[m[32m                      text: t('dashboard.templates.productivity_text1_line3'),[m
[32m+[m[32m                      type: 'text',[m
[32m+[m[32m                      version: 1,[m
[32m+[m[32m                    },[m
[32m+[m[32m                  ],[m
[32m+[m[32m                  indent: 0,[m
[32m+[m[32m                  format: '',[m
[32m+[m[32m                  type: 'paragraph',[m
[32m+[m[32m                  version: 1,[m
[32m+[m[32m                  direction: 'ltr',[m
[32m+[m[32m                },[m
[32m+[m[32m                {[m
[32m+[m[32m                  children: [],[m
[32m+[m[32m                  indent: 0,[m
[32m+[m[32m                  format: '',[m
[32m+[m[32m                  type: 'paragraph',[m
[32m+[m[32m                  version: 1,[m
[32m+[m[32m                  direction: 'ltr',[m
[32m+[m[32m                },[m
[32m+[m[32m                {[m
[32m+[m[32m                  children: [[m
[32m+[m[32m                    {[m
[32m+[m[32m                      altText: '/external/static/templates/customize.png',[m
[32m+[m[32m                      src: '/external/static/templates/customize.png',[m
[32m+[m[32m                      width: 0,[m
[32m+[m[32m                      caption: {[m
[32m+[m[32m                        editorState: {[m
[32m+[m[32m                          root: {[m
[32m+[m[32m                            children: [],[m
[32m+[m[32m                            indent: 0,[m
[32m+[m[32m                            format: '',[m
[32m+[m[32m                            type: 'root',[m
[32m+[m[32m                            version: 1,[m
[32m+[m[32m                            direction: null,[m
[32m+[m[32m                          },[m
[32m+[m[32m                        },[m
[32m+[m[32m                      },[m
[32m+[m[32m                      showCaption: false,[m
[32m+[m[32m                      type: 'image',[m
[32m+[m[32m                      version: 1,[m
[32m+[m[32m                      height: 0,[m
[32m+[m[32m                      maxWidth: 500,[m
[32m+[m[32m                    },[m
[32m+[m[32m                    {[m
[32m+[m[32m                      mode: 'normal',[m
[32m+[m[32m                      format: 3,[m
[32m+[m[32m                      style: '',[m
[32m+[m[32m                      detail: 0,[m
[32m+[m[32m                      text: t('dashboard.templates.productivity_text1_line4'),[m
[32m+[m[32m                      type: 'text',[m
[32m+[m[32m                      version: 1,[m
[32m+[m[32m                    },[m
[32m+[m[32m                  ],[m
[32m+[m[32m                  format: '',[m
[32m+[m[32m                  type: 'paragraph',[m
[32m+[m[32m                  version: 1,[m
[32m+[m[32m                  direction: 'ltr',[m
[32m+[m[32m                },[m
[32m+[m[32m                {[m
[32m+[m[32m                  children: [[m
[32m+[m[32m                    {[m
[32m+[m[32m                      mode: 'normal',[m
[32m+[m[32m                      format: 0,[m
[32m+[m[32m                      style: '',[m
[32m+[m[32m                      detail: 0,[m
[32m+[m[32m                      text: t('dashboard.templates.productivity_text1_line5'),[m
[32m+[m[32m                      type: 'text',[m
[32m+[m[32m                      version: 1,[m
[32m+[m[32m                    },[m
[32m+[m[32m                    {[m
[32m+[m[32m                      children: [[m
[32m+[m[32m                        {[m
[32m+[m[32m                          mode: 'normal',[m
[32m+[m[32m                          format: 0,[m
[32m+[m[32m                          style: '',[m
[32m+[m[32m                          detail: 0,[m
[32m+[m[32m                          text: t('dashboard.templates.productivity_text1_line6'),[m
[32m+[m[32m                          type: 'text',[m
[32m+[m[32m                          version: 1,[m
[32m+[m[32m                        },[m
[32m+[m[32m                      ],[m
[32m+[m[32m                      indent: 0,[m
[32m+[m[32m                      format: '',[m
[32m+[m[32m                      rel: 'noopener norefereer',[m
[32m+[m[32m                      type: 'link',[m
[32m+[m[32m                      version: 1,[m
[32m+[m[32m                      url: '/analysis',[m
[32m+[m[32m                      direction: 'ltr',[m
[32m+[m[32m                      target: '_blank',[m
[32m+[m[32m                    },[m
[32m+[m[32m                  ],[m
[32m+[m[32m                  indent: 0,[m
[32m+[m[32m                  format: '',[m
[32m+[m[32m                  type: 'paragraph',[m
[32m+[m[32m                  version: 1,[m
[32m+[m[32m                  direction: 'ltr',[m
[32m+[m[32m                },[m
[32m+[m[32m                {[m
[32m+[m[32m                  children: [[m
[32m+[m[32m                    {[m
[32m+[m[32m                      mode: 'normal',[m
[32m+[m[32m                      format: 0,[m
[32m+[m[32m                      style: '',[m
[32m+[m[32m                      detail: 0,[m
[32m+[m[32m                      text: t('dashboard.templates.productivity_text1_line7'),[m
[32m+[m[32m                      type: 'text',[m
[32m+[m[32m                      version: 1,[m
[32m+[m[32m                    },[m
[32m+[m[32m                    {[m
[32m+[m[32m                      children: [[m
[32m+[m[32m                        {[m
[32m+[m[32m                          mode: 'normal',[m
[32m+[m[32m                          format: 0,[m
[32m+[m[32m                          style: '',[m
[32m+[m[32m                          detail: 0,[m
[32m+[m[32m                          text: t('dashboard.templates.productivity_text1_line8'),[m
[32m+[m[32m                          type: 'text',[m
[32m+[m[32m                          version: 1,[m
[32m+[m[32m                        },[m
[32m+[m[32m                      ],[m
[32m+[m[32m                      indent: 0,[m
[32m+[m[32m                      format: '',[m
[32m+[m[32m                      rel: 'noopener norefereer',[m
[32m+[m[32m                      type: 'link',[m
[32m+[m[32m                      version: 1,[m
[32m+[m[32m                      url: '/analysis',[m
[32m+[m[32m                      direction: 'ltr',[m
[32m+[m[32m                      target: '_blank',[m
[32m+[m[32m                    },[m
[32m+[m[32m                    {[m
[32m+[m[32m                      mode: 'normal',[m
[32m+[m[32m                      format: 0,[m
[32m+[m[32m                      style: '',[m
[32m+[m[32m                      detail: 0,[m
[32m+[m[32m                      text: t('dashboard.templates.productivity_text1_line9'),[m
[32m+[m[32m                      type: 'text',[m
[32m+[m[32m                      version: 1,[m
[32m+[m[32m                    },[m
[32m+[m[32m                    {[m
[32m+[m[32m                      children: [[m
[32m+[m[32m                        {[m
[32m+[m[32m                          mode: 'normal',[m
[32m+[m[32m                          format: 0,[m
[32m+[m[32m                          style: '',[m
[32m+[m[32m                          detail: 0,[m
[32m+[m[32m                          text: t('dashboard.templates.productivity_text1_line10'),[m
[32m+[m[32m                          type: 'text',[m
[32m+[m[32m                          version: 1,[m
[32m+[m[32m                        },[m
[32m+[m[32m                      ],[m
[32m+[m[32m                      indent: 0,[m
[32m+[m[32m                      format: '',[m
[32m+[m[32m                      rel: 'noopener norefereer',[m
[32m+[m[32m                      type: 'link',[m
[32m+[m[32m                      version: 1,[m
[32m+[m[32m                      url: '/analysis',[m
[32m+[m[32m                      direction: 'ltr',[m
[32m+[m[32m                      target: '_blank',[m
[32m+[m[32m                    },[m
[32m+[m[32m                  ],[m
[32m+[m[32m                  indent: 0,[m
[32m+[m[32m                  format: '',[m
[32m+[m[32m                  type: 'paragraph',[m
[32m+[m[32m                  version: 1,[m
[32m+[m[32m                  direction: 'ltr',[m
[32m+[m[32m                },[m
[32m+[m[32m              ],[m
[32m+[m[32m              indent: 0,[m
[32m+[m[32m              format: '',[m
[32m+[m[32m              type: 'root',[m
[32m+[m[32m              version: 1,[m
[32m+[m[32m              direction: 'ltr',[m
[32m+[m[32m            },[m
[32m+[m[32m          },[m
[32m+[m[32m        },[m
[32m+[m[32m      },[m
[32m+[m[32m      {[m
[32m+[m[32m        position: {x: 0, y: 17},[m
[32m+[m[32m        dimensions: {width: 12, height: 4},[m
[32m+[m[32m        type: 'optimize_report',[m
[32m+[m[32m        report: {[m
[32m+[m[32m          name: t('dashboard.templates.productivity_finishedInLast2Weeks'),[m
[32m+[m[32m          description: t('dashboard.templates.productivity_finishedInLast2Weeks-description'),[m
[32m+[m[32m          data: {[m
[32m+[m[32m            configuration: {[m
[32m+[m[32m              color: '#008B02',[m
[32m+[m[32m              alwaysShowAbsolute: true,[m
[32m+[m[32m              targetValue: {[m
[32m+[m[32m                countChart: {isBelow: false, value: '10'},[m
[32m+[m[32m                active: true,[m
[32m+[m[32m              },[m
[32m+[m[32m              xLabel: t('report.groupBy.endDate'),[m
[32m+[m[32m              yLabel: t('report.view.pi') + ' ' + t('report.view.count'),[m
[32m+[m[32m            },[m
[32m+[m[32m            filter: [[m
[32m+[m[32m              {[m
[32m+[m[32m                type: 'instanceEndDate',[m
[32m+[m[32m                data: {[m
[32m+[m[32m                  type: 'rolling',[m
[32m+[m[32m                  start: {value: 2, unit: 'weeks'},[m
[32m+[m[32m                },[m
[32m+[m[32m                filterLevel: 'instance',[m
[32m+[m[32m                appliedTo: ['all'],[m
[32m+[m[32m              },[m
[32m+[m[32m            ],[m
[32m+[m[32m            view: {[m
[32m+[m[32m              entity: 'processInstance',[m
[32m+[m[32m              properties: ['frequency'],[m
[32m+[m[32m            },[m
[32m+[m[32m            groupBy: {type: 'endDate', value: {unit: 'day'}},[m
[32m+[m[32m            visualization: 'bar',[m
[32m+[m[32m          },[m
[32m+[m[32m        },[m
[32m+[m[32m      },[m
[32m+[m[32m      {[m
[32m+[m[32m        position: {x: 0, y: 1},[m
[32m+[m[32m        dimensions: {width: 6, height: 2},[m
[32m+[m[32m        type: 'optimize_report',[m
[32m+[m[32m        report: {[m
[32m+[m[32m          name: t('dashboard.templates.productivity_incomingToday'),[m
[32m+[m[32m          description: t('dashboard.templates.productivity_incomingToday-description'),[m
[32m+[m[32m          data: {[m
[32m+[m[32m            configuration: {[m
[32m+[m[32m              targetValue: {[m
[32m+[m[32m                active: true,[m
[32m+[m[32m                countProgress: {[m
[32m+[m[32m                  baseline: '0',[m
[32m+[m[32m                  target: '10',[m
[32m+[m[32m                  isBelow: false,[m
[32m+[m[32m                },[m
[32m+[m[32m              },[m
[32m+[m[32m            },[m
[32m+[m[32m            filter: [[m
[32m+[m[32m              {[m
[32m+[m[32m                type: 'instanceStartDate',[m
[32m+[m[32m                data: {[m
[32m+[m[32m                  type: 'relative',[m
[32m+[m[32m                  start: {value: 0, unit: 'days'},[m
[32m+[m[32m                },[m
[32m+[m[32m                filterLevel: 'instance',[m
[32m+[m[32m                appliedTo: ['all'],[m
[32m+[m[32m              },[m
[32m+[m[32m            ],[m
[32m+[m[32m            view: {[m
[32m+[m[32m              entity: 'processInstance',[m
[32m+[m[32m              properties: ['frequency'],[m
[32m+[m[32m            },[m
[32m+[m[32m            groupBy: {type: 'none', value: null},[m
[32m+[m[32m            visualization: 'number',[m
[32m+[m[32m          },[m
[32m+[m[32m        },[m
[32m+[m[32m      },[m
[32m+[m[32m      {[m
[32m+[m[32m        position: {x: 6, y: 1},[m
[32m+[m[32m        dimensions: {width: 6, height: 2},[m
[32m+[m[32m        type: 'optimize_report',[m
[32m+[m[32m        report: {[m
[32m+[m[32m          name: t('dashboard.templates.productivity_incomingThisWeek'),[m
[32m+[m[32m          description: t('dashboard.templates.productivity_incomingThisWeek-description'),[m
[32m+[m[32m          data: {[m
[32m+[m[32m            configuration: {[m
[32m+[m[32m              targetValue: {[m
[32m+[m[32m                active: true,[m
[32m+[m[32m                countProgress: {[m
[32m+[m[32m                  baseline: '0',[m
[32m+[m[32m                  target: '50',[m
[32m+[m[32m                  isBelow: false,[m
[32m+[m[32m                },[m
[32m+[m[32m                isKpi: true,[m
[32m+[m[32m              },[m
[32m+[m[32m            },[m
[32m+[m[32m            filter: [[m
[32m+[m[32m              {[m
[32m+[m[32m                type: 'instanceStartDate',[m
[32m+[m[32m                data: {[m
[32m+[m[32m                  type: 'relative',[m
[32m+[m[32m                  start: {value: 0, unit: 'weeks'},[m
[32m+[m[32m                },[m
[32m+[m[32m                filterLevel: 'instance',[m
[32m+[m[32m                appliedTo: ['all'],[m
[32m+[m[32m              },[m
[32m+[m[32m            ],[m
[32m+[m[32m            view: {[m
[32m+[m[32m              entity: 'processInstance',[m
[32m+[m[32m              properties: ['frequency'],[m
[32m+[m[32m            },[m
[32m+[m[32m            groupBy: {type: 'none', value: null},[m
[32m+[m[32m            visualization: 'number',[m
[32m+[m[32m          },[m
[32m+[m[32m        },[m
[32m+[m[32m      },[m
[32m+[m[32m      {[m
[32m+[m[32m        position: {x: 0, y: 8},[m
[32m+[m[32m        dimensions: {width: 12, height: 2},[m
[32m+[m[32m        type: 'optimize_report',[m
[32m+[m[32m        report: {[m
[32m+[m[32m          name: t('dashboard.templates.productivity_currentlyInProgress'),[m
[32m+[m[32m          description: t('dashboard.templates.productivity_currentlyInProgress-description'),[m
[32m+[m[32m          data: {[m
[32m+[m[32m            configuration: {[m
[32m+[m[32m              targetValue: {[m
[32m+[m[32m                active: true,[m
[32m+[m[32m                countProgress: {[m
[32m+[m[32m                  baseline: '0',[m
[32m+[m[32m                  target: '20',[m
[32m+[m[32m                  isBelow: true,[m
[32m+[m[32m                },[m
[32m+[m[32m                isKpi: true,[m
[32m+[m[32m              },[m
[32m+[m[32m            },[m
[32m+[m[32m            filter: [[m
[32m+[m[32m              {[m
[32m+[m[32m                type: 'runningInstancesOnly',[m
[32m+[m[32m                data: null,[m
[32m+[m[32m                filterLevel: 'instance',[m
[32m+[m[32m                appliedTo: ['all'],[m
[32m+[m[32m              },[m
[32m+[m[32m            ],[m
[32m+[m[32m            view: {[m
[32m+[m[32m              entity: 'processInstance',[m
[32m+[m[32m              properties: ['frequency'],[m
[32m+[m[32m            },[m
[32m+[m[32m            groupBy: {type: 'none', value: null},[m
[32m+[m[32m            visualization: 'number',[m
[32m+[m[32m          },[m
[32m+[m[32m        },[m
[32m+[m[32m      },[m
[32m+[m[32m      {[m
[32m+[m[32m        position: {x: 0, y: 15},[m
[32m+[m[32m        dimensions: {width: 6, height: 2},[m
[32m+[m[32m        type: 'optimize_report',[m
[32m+[m[32m        report: {[m
[32m+[m[32m          name: t('dashboard.templates.productivity_finishedYesterday'),[m
[32m+[m[32m          description: t('dashboard.templates.productivity_finishedYesterday-description'),[m
[32m+[m[32m          data: {[m
[32m+[m[32m            configuration: {[m
[32m+[m[32m              targetValue: {[m
[32m+[m[32m                active: true,[m
[32m+[m[32m                countProgress: {[m
[32m+[m[32m                  baseline: '0',[m
[32m+[m[32m                  target: '10',[m
[32m+[m[32m                  isBelow: false,[m
[32m+[m[32m                },[m
[32m+[m[32m              },[m
[32m+[m[32m            },[m
[32m+[m[32m            filter: [[m
[32m+[m[32m              {[m
[32m+[m[32m                type: 'instanceEndDate',[m
[32m+[m[32m                data: {[m
[32m+[m[32m                  type: 'relative',[m
[32m+[m[32m                  start: {value: 1, unit: 'days'},[m
[32m+[m[32m                },[m
[32m+[m[32m                filterLevel: 'instance',[m
[32m+[m[32m                appliedTo: ['all'],[m
[32m+[m[32m              },[m
[32m+[m[32m            ],[m
[32m+[m[32m            view: {[m
[32m+[m[32m              entity: 'processInstance',[m
[32m+[m[32m              properties: ['frequency'],[m
[32m+[m[32m            },[m
[32m+[m[32m            groupBy: {type: 'none', value: null},[m
[32m+[m[32m            visualization: 'number',[m
[32m+[m[32m          },[m
[32m+[m[32m        },[m
[32m+[m[32m      },[m
[32m+[m[32m      {[m
[32m+[m[32m        position: {x: 6, y: 15},[m
[32m+[m[32m        dimensions: {width: 6, height: 2},[m
[32m+[m[32m        type: 'optimize_report',[m
[32m+[m[32m        report: {[m
[32m+[m[32m          name: t('dashboard.templates.productivity_finishedThisWeek'),[m
[32m+[m[32m          description: t('dashboard.templates.productivity_finishedThisWeek-description'),[m
[32m+[m[32m          data: {[m
[32m+[m[32m            configuration: {[m
[32m+[m[32m              targetValue: {[m
[32m+[m[32m                active: true,[m
[32m+[m[32m                countProgress: {[m
[32m+[m[32m                  baseline: '0',[m
[32m+[m[32m                  target: '50',[m
[32m+[m[32m                  isBelow: false,[m
[32m+[m[32m                },[m
[32m+[m[32m                isKpi: true,[m
[32m+[m[32m              },[m
[32m+[m[32m            },[m
[32m+[m[32m            filter: [[m
[32m+[m[32m              {[m
[32m+[m[32m                type: 'instanceEndDate',[m
[32m+[m[32m                data: {[m
[32m+[m[32m                  type: 'relative',[m
[32m+[m[32m                  start: {value: 0, unit: 'weeks'},[m
[32m+[m[32m                },[m
[32m+[m[32m                filterLevel: 'instance',[m
[32m+[m[32m                appliedTo: ['all'],[m
[32m+[m[32m              },[m
[32m+[m[32m            ],[m
[32m+[m[32m            view: {[m
[32m+[m[32m              entity: 'processInstance',[m
[32m+[m[32m              properties: ['frequency'],[m
[32m+[m[32m            },[m
[32m+[m[32m            groupBy: {type: 'none', value: null},[m
[32m+[m[32m            visualization: 'number',[m
[32m+[m[32m          },[m
[32m+[m[32m        },[m
[32m+[m[32m      },[m
[32m+[m[32m    ],[m
[32m+[m[32m  };[m
[32m+[m[32m}[m
[1mdiff --git a/client/src/modules/components/TenantInfo/TenantInfo.scss b/client/src/modules/components/TenantInfo/TenantInfo.scss[m
[1mnew file mode 100644[m
[1mindex 0000000000..b9f9377299[m
[1m--- /dev/null[m
[1m+++ b/client/src/modules/components/TenantInfo/TenantInfo.scss[m
[36m@@ -0,0 +1,40 @@[m
[32m+[m[32m.TenantInfo {[m
[32m+[m[32m  margin: 0 10px;[m
[32m+[m
[32m+[m[32m  &:last-child {[m
[32m+[m[32m    margin-right: 0;[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  &:not(.useCarbonVariant) .tenantName {[m
[32m+[m[32m    width: 120px;[m
[32m+[m[32m    font-size: 14px;[m
[32m+[m[32m    margin: 0;[m
[32m+[m[32m    padding: 6px;[m
[32m+[m[32m    border-radius: 3px;[m
[32m+[m[32m    color: var(--grey-darken-23);[m
[32m+[m[32m    background-color: var(--silver-base-97);[m
[32m+[m[32m    border: 1px solid var(--silver-base-97);[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  &.useCarbonVariant {[m
[32m+[m[32m    background-color: var(--cds-field);[m
[32m+[m[32m    color: var(--cds-text-primary, #161616);[m
[32m+[m[32m    height: 2rem;[m
[32m+[m[32m    max-height: 2rem;[m
[32m+[m
[32m+[m[32m    .tenantName {[m
[32m+[m[32m      margin: 0;[m
[32m+[m[32m      width: 100%;[m
[32m+[m[32m      height: calc(100% + 1px);[m
[32m+[m[32m      background-color: var(--cds-field-02, #ffffff);[m
[32m+[m[32m      position: relative;[m
[32m+[m[32m      display: inline-flex;[m
[32m+[m[32m      overflow: hidden;[m
[32m+[m[32m      align-items: center;[m
[32m+[m[32m      padding: 0 1rem;[m
[32m+[m[32m      outline: none;[m
[32m+[m[32m      text-overflow: ellipsis;[m
[32m+[m[32m      white-space: nowrap;[m
[32m+[m[32m    }[m
[32m+[m[32m  }[m
[32m+[m[32m}[m
[1mdiff --git a/client/src/modules/components/TenantInfo/TenantInfo.tsx b/client/src/modules/components/TenantInfo/TenantInfo.tsx[m
[1mnew file mode 100644[m
[1mindex 0000000000..338ede3288[m
[1m--- /dev/null[m
[1m+++ b/client/src/modules/components/TenantInfo/TenantInfo.tsx[m
[36m@@ -0,0 +1,33 @@[m
[32m+[m[32m/*[m
[32m+[m[32m * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH[m
[32m+[m[32m * under one or more contributor license agreements. Licensed under a proprietary license.[m
[32m+[m[32m * See the License.txt file for more information. You may not use this file[m
[32m+[m[32m * except in compliance with the proprietary license.[m
[32m+[m[32m */[m
[32m+[m
[32m+[m[32mimport classnames from 'classnames';[m
[32m+[m
[32m+[m[32mimport {Labeled} from 'components';[m
[32m+[m[32mimport {t} from 'translation';[m
[32m+[m[32mimport {formatters} from 'services';[m
[32m+[m
[32m+[m[32mimport './TenantInfo.scss';[m
[32m+[m
[32m+[m[32mexport default function TenantInfo({[m
[32m+[m[32m  tenant,[m
[32m+[m[32m  useCarbonVariant,[m
[32m+[m[32m}: {[m
[32m+[m[32m  tenant: {id: string; name?: string};[m
[32m+[m[32m  useCarbonVariant: boolean;[m
[32m+[m[32m}) {[m
[32m+[m[32m  return ([m
[32m+[m[32m    <div className={classnames('TenantInfo', {useCarbonVariant})}>[m
[32m+[m[32m      {useCarbonVariant ? ([m
[32m+[m[32m        <div className="cds--label">{t('common.tenant.label')}</div>[m
[32m+[m[32m      ) : ([m
[32m+[m[32m        <Labeled label={t('common.tenant.label')} />[m
[32m+[m[32m      )}[m
[32m+[m[32m      <p className="tenantName">{formatters.formatTenantName(tenant)}</p>[m
[32m+[m[32m    </div>[m
[32m+[m[32m  );[m
[32m+[m[32m}[m
[1mdiff --git a/client/src/modules/components/MenuButton/index.tsx b/client/src/modules/components/TenantInfo/index.tsx[m
[1msimilarity index 85%[m
[1mrename from client/src/modules/components/MenuButton/index.tsx[m
[1mrename to client/src/modules/components/TenantInfo/index.tsx[m
[1mindex 05e9c8237a..0edae2ca83 100644[m
[1m--- a/client/src/modules/components/MenuButton/index.tsx[m
[1m+++ b/client/src/modules/components/TenantInfo/index.tsx[m
[36m@@ -5,4 +5,4 @@[m
  * except in compliance with the proprietary license.[m
  */[m
 [m
[31m-export {default as MenuButton} from './MenuButton';[m
[32m+[m[32mexport {default as TenantInfo} from './TenantInfo';[m
[1mdiff --git a/client/src/modules/components/TextEditor/TextEditor.tsx b/client/src/modules/components/TextEditor/TextEditor.tsx[m
[1mindex 3909f883c7..ab70f00ba7 100644[m
[1m--- a/client/src/modules/components/TextEditor/TextEditor.tsx[m
[1m+++ b/client/src/modules/components/TextEditor/TextEditor.tsx[m
[36m@@ -92,7 +92,6 @@[m [mexport default function TextEditor({onChange, simpleEditor, initialValue, limit}[m
             error: isTextTileTooLong(initialValue?.length || 0, limit),[m
           })}[m
           onChange={(evt) => onChange(evt.target.value)}[m
[31m-          data-modal-primary-focus[m
         />[m
       ) : ([m
         <LexicalComposer initialConfig={initialConfig}>[m
[1mdiff --git a/client/src/modules/components/index.js b/client/src/modules/components/index.js[m
[1mindex 56e4f0aec8..1ada45b187 100644[m
[1m--- a/client/src/modules/components/index.js[m
[1m+++ b/client/src/modules/components/index.js[m
[36m@@ -12,7 +12,7 @@[m [mexport {MessageBox} from './MessageBox';[m
 export {Dropdown} from './Dropdown';[m
 export {Deleter} from './Deleter';[m
 export {Input} from './Input';[m
[31m-export {Select, CarbonSelect} from './Select';[m
[32m+[m[32mexport {Select} from './Select';[m
 export {ButtonGroup} from './ButtonGroup';[m
 export {BPMNDiagram, ClickBehavior, PartHighlight} from './BPMNDiagram';[m
 export {DMNDiagram} from './DMNDiagram';[m
[36m@@ -66,4 +66,4 @@[m [mexport {TextEditor} from './TextEditor';[m
 export {EntityDescription} from './EntityDescription';[m
 export {Popover} from './Popover';[m
 export {InstanceViewTable} from './InstanceViewTable';[m
[31m-export {MenuButton} from './MenuButton';[m
[32m+[m[32mexport {TenantInfo} from './TenantInfo';[m
[1mdiff --git a/client/src/modules/components/index.tsx b/client/src/modules/components/index.tsx[m
[1mindex 33abb0244b..3a485e0005 100644[m
[1m--- a/client/src/modules/components/index.tsx[m
[1m+++ b/client/src/modules/components/index.tsx[m
[36m@@ -20,7 +20,7 @@[m [mexport {Labeled} from './Labeled';[m
 export {Tooltip} from './Tooltip';[m
 export {Modal} from './Modal';[m
 export {Dropdown} from './Dropdown';[m
[31m-export {Select, CarbonSelect} from './Select';[m
[32m+[m[32mexport {Select} from './Select';[m
 export {TextEditor} from './TextEditor';[m
 export {PageTitle} from './PageTitle';[m
 export {EntityDescription} from './EntityDescription';[m
[36m@@ -45,10 +45,7 @@[m [mexport {DurationChart} from './DurationChart';[m
 export {ColorPicker} from './ColorPicker';[m
 export {Badge} from './Badge';[m
 export {Popover} from './Popover';[m
[31m-export {VersionPopover, TenantPopover} from './DefinitionSelection';[m
[31m-export {CopyToClipboard} from './CopyToClipboard';[m
[31m-export {ShareEntity} from './ShareEntity';[m
[31m-export {MenuButton} from './MenuButton';[m
[32m+[m[32mexport {TenantInfo} from './TenantInfo';[m
 [m
 export type {InputProps} from './Input';[m
 export type {LabeledProps} from './Labeled';[m
[1mdiff --git a/client/src/modules/components/navigation/SubNav/SubNav.js b/client/src/modules/components/navigation/SubNav/SubNav.js[m
[1mindex ff64d781ab..4c047b6cdd 100644[m
[1m--- a/client/src/modules/components/navigation/SubNav/SubNav.js[m
[1m+++ b/client/src/modules/components/navigation/SubNav/SubNav.js[m
[36m@@ -18,10 +18,4 @@[m [mexport default function SubNav(props) {[m
   );[m
 }[m
 [m
[31m-SubNav.Item = function SubNavItem(props) {[m
[31m-  return ([m
[31m-    <li>[m
[31m-      <NavItem {...props} />[m
[31m-    </li>[m
[31m-  );[m
[31m-};[m
[32m+[m[32mSubNav.Item = NavItem;[m
[1mdiff --git a/client/src/modules/components/navigation/SubNav/SubNav.scss b/client/src/modules/components/navigation/SubNav/SubNav.scss[m
[1mindex b380c9522a..5ca4cf07a9 100644[m
[1m--- a/client/src/modules/components/navigation/SubNav/SubNav.scss[m
[1m+++ b/client/src/modules/components/navigation/SubNav/SubNav.scss[m
[36m@@ -2,6 +2,7 @@[m
   position: fixed;[m
   top: 48px;[m
   left: 0;[m
[32m+[m[32m  margin: 0;[m
   width: 100%;[m
   padding-bottom: 11px;[m
   font-weight: 500;[m
[36m@@ -9,6 +10,10 @@[m
   font-size: 15px;[m
   display: flex;[m
 [m
[32m+[m[32m  li {[m
[32m+[m[32m    list-style: none;[m
[32m+[m[32m  }[m
[32m+[m
   .NavItem:first-child {[m
     border-left: none;[m
   }[m
[1mdiff --git a/client/src/modules/filter/FilterList.scss b/client/src/modules/filter/FilterList.scss[m
[1mindex 3a3eb79a62..cf5c078890 100644[m
[1m--- a/client/src/modules/filter/FilterList.scss[m
[1m+++ b/client/src/modules/filter/FilterList.scss[m
[36m@@ -5,6 +5,7 @@[m
   margin: 0;[m
 [m
   .listItem {[m
[32m+[m[32m    list-style-type: none;[m
     margin: 5px 0;[m
     width: 100%;[m
 [m
[36m@@ -42,6 +43,13 @@[m
       font-size: 11px;[m
     }[m
 [m
[32m+[m[32m    .previewList {[m
[32m+[m[32m      padding: 0;[m
[32m+[m[32m      .previewItem {[m
[32m+[m[32m        list-style-type: none;[m
[32m+[m[32m      }[m
[32m+[m[32m    }[m
[32m+[m
     .filterText {[m
       display: block;[m
     }[m
[36m@@ -53,6 +61,7 @@[m
   }[m
 [m
   .listItemConnector {[m
[32m+[m[32m    list-style-type: none;[m
     display: inline-block;[m
     margin: 0 0.5em;[m
   }[m
[1mdiff --git a/client/src/modules/filter/modals/node/NodeFilter.scss b/client/src/modules/filter/modals/node/NodeFilter.scss[m
[1mindex b2621652b0..4151980483 100644[m
[1m--- a/client/src/modules/filter/modals/node/NodeFilter.scss[m
[1m+++ b/client/src/modules/filter/modals/node/NodeFilter.scss[m
[36m@@ -24,9 +24,11 @@[m
 [m
       .previewList {[m
         display: inline;[m
[32m+[m[32m        padding: 0px;[m
         line-height: 30px;[m
 [m
         .previewItem {[m
[32m+[m[32m          list-style-type: none;[m
           display: inline-block;[m
 [m
           .previewItemOperator {[m
[1mdiff --git a/client/src/modules/hooks/useErrorHandling.tsx b/client/src/modules/hooks/useErrorHandling.tsx[m
[1mindex 2c361897f3..b26a7e2773 100644[m
[1m--- a/client/src/modules/hooks/useErrorHandling.tsx[m
[1m+++ b/client/src/modules/hooks/useErrorHandling.tsx[m
[36m@@ -7,30 +7,33 @@[m
 [m
 import {useCallback, useEffect, useRef, useState} from 'react';[m
 [m
[31m-export default function useErrorHandling() {[m
[32m+[m[32mexport default function useErrorHandling<T = any>() {[m
   const [error, setError] = useState<any>(undefined);[m
   const mounted = useRef<boolean>();[m
 [m
[31m-  const mightFail = useCallback(async function callback<T>([m
[31m-    retriever: Promise<T>,[m
[31m-    successHandler: ((response: T) => Promise<T | void> | T | void) | undefined,[m
[31m-    errorHandler?: ((error: any) => void) | undefined,[m
[31m-    finallyHandler?: () => void[m
[31m-  ) {[m
[31m-    try {[m
[31m-      const response = await retriever;[m
[31m-      if (mounted.current) {[m
[31m-        return successHandler?.(response);[m
[32m+[m[32m  const mightFail = useCallback([m
[32m+[m[32m    async ([m
[32m+[m[32m      retriever: Promise<T>,[m
[32m+[m[32m      successHandler: ((response: any) => T) | undefined,[m
[32m+[m[32m      errorHandler?: ((error: any) => void) | undefined,[m
[32m+[m[32m      finallyHandler?: () => void[m
[32m+[m[32m    ) => {[m
[32m+[m[32m      try {[m
[32m+[m[32m        const response = await retriever;[m
[32m+[m[32m        if (mounted.current) {[m
[32m+[m[32m          return successHandler?.(response);[m
[32m+[m[32m        }[m
[32m+[m[32m      } catch (error) {[m
[32m+[m[32m        if (mounted.current) {[m
[32m+[m[32m          errorHandler?.(error);[m
[32m+[m[32m          setError(error);[m
[32m+[m[32m        }[m
[32m+[m[32m      } finally {[m
[32m+[m[32m        finallyHandler?.();[m
       }[m
[31m-    } catch (error) {[m
[31m-      if (mounted.current) {[m
[31m-        errorHandler?.(error);[m
[31m-        setError(error);[m
[31m-      }[m
[31m-    } finally {[m
[31m-      finallyHandler?.();[m
[31m-    }[m
[31m-  }, []);[m
[32m+[m[32m    },[m
[32m+[m[32m    [][m
[32m+[m[32m  );[m
 [m
   const resetError = useCallback(() => {[m
     setError(undefined);[m
[1mdiff --git a/client/src/modules/services/collectionService.ts b/client/src/modules/services/collectionService.ts[m
[1mindex 192023437f..5aae8594b5 100644[m
[1m--- a/client/src/modules/services/collectionService.ts[m
[1m+++ b/client/src/modules/services/collectionService.ts[m
[36m@@ -5,9 +5,14 @@[m
  * except in compliance with the proprietary license.[m
  */[m
 [m
[31m-import {Source} from 'types';[m
 import {put} from 'request';[m
 [m
[32m+[m[32mtype Source = {[m
[32m+[m[32m  definitionKey: string;[m
[32m+[m[32m  definitionType: string;[m
[32m+[m[32m  tenants: (string | null)[];[m
[32m+[m[32m};[m
[32m+[m
 export async function addSources(collectionId: string, sources: Source[]) {[m
   return await put(`api/collection/${collectionId}/scope`, sources);[m
 }[m
[1mdiff --git a/client/src/modules/services/entityService.js b/client/src/modules/services/entityService.js[m
[1mindex 1cb1f2e62d..5877212815 100644[m
[1m--- a/client/src/modules/services/entityService.js[m
[1m+++ b/client/src/modules/services/entityService.js[m
[36m@@ -8,7 +8,16 @@[m
 import {del, get, post, put} from 'request';[m
 import {track} from 'tracking';[m
 [m
[31m-import {createEventName} from './entityService.ts';[m
[32m+[m[32mexport async function loadEntities(sortBy, sortOrder) {[m
[32m+[m[32m  const params = {};[m
[32m+[m[32m  if (sortBy && sortOrder) {[m
[32m+[m[32m    params.sortBy = sortBy;[m
[32m+[m[32m    params.sortOrder = sortOrder;[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  const response = await get('api/entities', params);[m
[32m+[m[32m  return await response.json();[m
[32m+[m[32m}[m
 [m
 export async function loadEntity(type, id, query) {[m
   const response = await get(`api/${type}/` + id, query);[m
[36m@@ -53,3 +62,12 @@[m [mexport async function loadReports(collection) {[m
   const response = await get(url);[m
   return await response.json();[m
 }[m
[32m+[m
[32m+[m[32mfunction createEventName(action, entityType) {[m
[32m+[m[32m  const type = getEntityType(entityType);[m
[32m+[m[32m  return action + type.charAt(0).toUpperCase() + type.slice(1);[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32mfunction getEntityType(entityType) {[m
[32m+[m[32m  return entityType === 'dashboard/instant' ? 'instantPreviewDashboard' : entityType;[m
[32m+[m[32m}[m
[1mdiff --git a/client/src/modules/services/entityService.ts b/client/src/modules/services/entityService.ts[m
[1mindex ef766b0d79..a82477c8d9 100644[m
[1m--- a/client/src/modules/services/entityService.ts[m
[1m+++ b/client/src/modules/services/entityService.ts[m
[36m@@ -6,7 +6,7 @@[m
  */[m
 [m
 import {get} from 'request';[m
[31m-import {GenericEntity, GenericReport} from 'types';[m
[32m+[m[32mimport {GenericReport} from 'types';[m
 [m
 export async function loadReports(collection?: string | null): Promise<GenericReport[]> {[m
   let url = 'api/report';[m
[36m@@ -16,26 +16,3 @@[m [mexport async function loadReports(collection?: string | null): Promise<GenericRe[m
   const response = await get(url);[m
   return await response.json();[m
 }[m
[31m-[m
[31m-export async function loadEntities<T extends Record<string, unknown>>([m
[31m-  sortBy?: string,[m
[31m-  sortOrder?: string[m
[31m-): Promise<GenericEntity<T>[]> {[m
[31m-  const params: Record<string, unknown> = {};[m
[31m-  if (sortBy && sortOrder) {[m
[31m-    params.sortBy = sortBy;[m
[31m-    params.sortOrder = sortOrder;[m
[31m-  }[m
[31m-[m
[31m-  const response = await get('api/entities', params);[m
[31m-  return await response.json();[m
[31m-}[m
[31m-[m
[31m-export function createEventName(action: string, entityType: string) {[m
[31m-  const type = getEntityType(entityType);[m
[31m-  return action + type.charAt(0).toUpperCase() + type.slice(1);[m
[31m-}[m
[31m-[m
[31m-function getEntityType(entityType: string) {[m
[31m-  return entityType === 'dashboard/instant' ? 'instantPreviewDashboard' : entityType;[m
[31m-}[m
[1mdiff --git a/client/src/modules/services/formatters.js b/client/src/modules/services/formatters.js[m
[1mindex d2e1c04f47..72d6df8f15 100644[m
[1m--- a/client/src/modules/services/formatters.js[m
[1m+++ b/client/src/modules/services/formatters.js[m
[36m@@ -190,7 +190,11 @@[m [mexport function formatVersions(versions) {[m
   return t('common.none');[m
 }[m
 [m
[31m-export function formatTenants(tenantIds, tenantInfo) {[m
[32m+[m[32mexport function formatTenants(tenantIds, tenantInfo, showOnlyTenant) {[m
[32m+[m[32m  if (showOnlyTenant) {[m
[32m+[m[32m    return formatTenantName(tenantInfo.find(({id}) => id === tenantIds[0]));[m
[32m+[m[32m  }[m
[32m+[m
   if (tenantIds.length === 0) {[m
     return t('common.none');[m
   }[m
[1mdiff --git a/client/src/modules/services/formatters.tsx b/client/src/modules/services/formatters.tsx[m
[1mindex f0d6144eba..e9d4779de8 100644[m
[1m--- a/client/src/modules/services/formatters.tsx[m
[1m+++ b/client/src/modules/services/formatters.tsx[m
[36m@@ -238,7 +238,7 @@[m [mexport function formatFileName(name: string) {[m
   return name.replace(/[^a-zA-Z0-9-_.]/gi, '_').toLowerCase();[m
 }[m
 [m
[31m-export function formatTenantName({id, name}: {id: string | null; name?: string}) {[m
[32m+[m[32mexport function formatTenantName({id, name}: {id?: string; name?: string}) {[m
   if (!id) {[m
     return t('common.definitionSelection.tenant.notDefined');[m
   }[m
[1mdiff --git a/client/src/modules/services/index.js b/client/src/modules/services/index.js[m
[1mindex 0fbf2ebf3a..3020b14c74 100644[m
[1m--- a/client/src/modules/services/index.js[m
[1m+++ b/client/src/modules/services/index.js[m
[36m@@ -21,6 +21,7 @@[m [mexport {getDiagramElementsBetween} from './diagramServices';[m
 export {default as getTooltipText} from './getTooltipText';[m
 export {default as getScreenBounds} from './getScreenBounds';[m
 export {[m
[32m+[m[32m  loadEntities,[m
   loadEntity,[m
   loadReports,[m
   createEntity,[m
[36m@@ -29,8 +30,6 @@[m [mexport {[m
   copyReport,[m
 } from './entityService';[m
 [m
[31m-export {loadEntities} from './entityService.ts';[m
[31m-[m
 export {[m
   evaluateReport,[m
   isDurationReport,[m
[1mdiff --git a/client/src/modules/services/index.ts b/client/src/modules/services/index.ts[m
[1mindex 332fb65b6a..ad11967b2f 100644[m
[1m--- a/client/src/modules/services/index.ts[m
[1m+++ b/client/src/modules/services/index.ts[m
[36m@@ -9,7 +9,7 @@[m [mexport function getRandomId() {[m
   return Math.random().toString(36).slice(2);[m
 }[m
 [m
[31m-export {loadReports, loadEntities} from './entityService';[m
[32m+[m[32mexport {loadReports} from './entityService';[m
 [m
 export * as formatters from './formatters';[m
 export {loadProcessDefinitionXml, loadDecisionDefinitionXml} from './dataLoaders';[m
[1mdiff --git a/client/src/modules/types.ts b/client/src/modules/types.ts[m
[1mindex c850550b4c..cab04dfcdc 100644[m
[1m--- a/client/src/modules/types.ts[m
[1m+++ b/client/src/modules/types.ts[m
[36m@@ -7,18 +7,6 @@[m
 [m
 import {SerializedEditorState} from 'lexical';[m
 [m
[31m-export type GenericEntity<D extends Record<string, unknown> = Record<string, unknown>> = {[m
[31m-  id: string | null;[m
[31m-  name: string;[m
[31m-  lastModified: string;[m
[31m-  created: string;[m
[31m-  owner: string;[m
[31m-  entityType: string;[m
[31m-  lastModifier: string;[m
[31m-  currentUserRole: string;[m
[31m-  data: D;[m
[31m-};[m
[31m-[m
 type ReportType = 'process' | 'decision';[m
 [m
 interface Report<Data> {[m
[36m@@ -36,7 +24,7 @@[m [minterface Report<Data> {[m
 [m
 type FilterFilterApplicationLevel = 'instance' | 'view';[m
 [m
[31m-export interface ProcessFilter<DATA = unknown> {[m
[32m+[m[32minterface ProcessFilter<DATA> {[m
   type:[m
     | 'assignee'[m
     | 'canceledFlowNodes'[m
[36m@@ -375,17 +363,8 @@[m [mexport interface Definition {[m
   tenantIds?: (string | null)[];[m
   versions?: string[];[m
   flowNodeIds?: string[];[m
[31m-  type?: string;[m
 }[m
 [m
[31m-export type Tenant = {id: string | null; name?: string};[m
[31m-[m
[31m-export type Source = {[m
[31m-  definitionKey: string;[m
[31m-  definitionType?: string;[m
[31m-  tenants: (string | null)[];[m
[31m-};[m
[31m-[m
 export type Variable = {id?: string; name: string; type: string; label?: string | null};[m
 [m
 export interface FilterData {[m
[1mdiff --git a/client/src/style.scss b/client/src/style.scss[m
[1mindex b71ea00b26..bd21d000b0 100644[m
[1m--- a/client/src/style.scss[m
[1m+++ b/client/src/style.scss[m
[36m@@ -91,16 +91,7 @@[m [ma:hover {[m
   text-decoration: underline;[m
 }[m
 [m
[31m-a:active {[m
[31m-  color: inherit;[m
[31m-}[m
[31m-[m
[31m-.focus-visible:not([m
[31m-    .cds--search-input,[m
[31m-    .cds--text-input,[m
[31m-    .textInput,[m
[31m-    .cds--number__input-wrapper > input[m
[31m-  ) {[m
[32m+[m[32m.focus-visible:not(.cds--search-input, .cds--text-input) {[m
   outline: none;[m
   border-radius: 3px;[m
   box-shadow:[m
[36m@@ -163,12 +154,6 @@[m [msection h1 {[m
   font-weight: bold;[m
 }[m
 [m
[31m-ul {[m
[31m-  list-style: none;[m
[31m-  padding: 0;[m
[31m-  margin: 0;[m
[31m-}[m
[31m-[m
 /* UTILITIES */[m
 [m
 .visually-hidden {[m
[36m@@ -180,11 +165,9 @@[m [ma[disabled] {[m
   pointer-events: none;[m
 }[m
 [m
[31m-.cds--number input[type='number'] {[m
[31m-  background-color: var(--cds-field-02, #f4f4f4);[m
[31m-}[m
[31m-[m
[31m-.cds--number__control-btn::before,[m
[31m-.cds--number__control-btn::after {[m
[31m-  background: inherit;[m
[32m+[m[32m// TODO: Remove this once carbon-inputs branch is merged into master[m
[32m+[m[32mul.cds--list-box__menu {[m
[32m+[m[32m  list-style: none;[m
[32m+[m[32m  padding: 0;[m
[32m+[m[32m  margin: 0;[m
 }[m
[1mdiff --git a/client/yarn.lock b/client/yarn.lock[m
[1mindex d1cae9f742..01ddf915e4 100644[m
[1m--- a/client/yarn.lock[m
[1m+++ b/client/yarn.lock[m
[36m@@ -1508,13 +1508,20 @@[m
     core-js-pure "^3.0.0"[m
     regenerator-runtime "^0.13.4"[m
 [m
[31m-"@babel/runtime@^7.1.2", "@babel/runtime@^7.10.2", "@babel/runtime@^7.11.2", "@babel/runtime@^7.12.13", "@babel/runtime@^7.12.5", "@babel/runtime@^7.14.8", "@babel/runtime@^7.16.3", "@babel/runtime@^7.18.3", "@babel/runtime@^7.18.9", "@babel/runtime@^7.21.0", "@babel/runtime@^7.8.4":[m
[32m+[m[32m"@babel/runtime@^7.1.2", "@babel/runtime@^7.10.2", "@babel/runtime@^7.11.2", "@babel/runtime@^7.12.13", "@babel/runtime@^7.14.8", "@babel/runtime@^7.16.3", "@babel/runtime@^7.18.3", "@babel/runtime@^7.18.9", "@babel/runtime@^7.21.0", "@babel/runtime@^7.8.4":[m
   version "7.22.11"[m
   resolved "https://registry.yarnpkg.com/@babel/runtime/-/runtime-7.22.11.tgz#7a9ba3bbe406ad6f9e8dd4da2ece453eb23a77a4"[m
   integrity sha512-ee7jVNlWN09+KftVOu9n7S8gQzD/Z6hN/I8VBRXW4P1+Xe7kJGXMwu8vds4aGIMHZnNbdpSWCfZZtinytpcAvA==[m
   dependencies:[m
     regenerator-runtime "^0.14.0"[m
 [m
[32m+[m[32m"@babel/runtime@^7.12.5":[m
[32m+[m[32m  version "7.22.15"[m
[32m+[m[32m  resolved "https://registry.yarnpkg.com/@babel/runtime/-/runtime-7.22.15.tgz#38f46494ccf6cf020bd4eed7124b425e83e523b8"[m
[32m+[m[32m  integrity sha512-T0O+aa+4w0u06iNmapipJXMV4HoUir03hpx3/YqXXhu9xim3w+dVphjFWl1OH8NbZHw5Lbm9k45drDkgq2VNNA==[m
[32m+[m[32m  dependencies:[m
[32m+[m[32m    regenerator-runtime "^0.14.0"[m
[32m+[m
 "@babel/template@^7.18.10":[m
   version "7.18.10"[m
   resolved "https://registry.yarnpkg.com/@babel/template/-/template-7.18.10.tgz#6f9134835970d1dbf0835c0d100c9f38de0c5e71"[m
[36m@@ -1686,11 +1693,6 @@[m
     jwt-decode "3.1.2"[m
     react-markdown "8.0.7"[m
 [m
[31m-"@camunda/camunda-optimize-composite-components@^0.0.13-rc3":[m
[31m-  version "0.0.13-rc3"[m
[31m-  resolved "https://registry.yarnpkg.com/@camunda/camunda-optimize-composite-components/-/camunda-optimize-composite-components-0.0.13-rc3.tgz#7c24d3550a37b2d50e2092f623fc797d805c525c"[m
[31m-  integrity sha512-fx6Sl40Ap8qPDG0H0etg7SSIk8ZMUhx5cn89iCb0BvvKEtuiSsadS/UiblvmupTtxa88PyHyf8CEKb39WAbRgQ==[m
[31m-[m
 "@carbon/colors@^11.19.0":[m
   version "11.19.0"[m
   resolved "https://registry.yarnpkg.com/@carbon/colors/-/colors-11.19.0.tgz#c5f062b9e2033bb390eac7915e451d82ece0d6c3"[m
[36m@@ -2433,159 +2435,159 @@[m
   resolved "https://registry.yarnpkg.com/@leichtgewicht/ip-codec/-/ip-codec-2.0.4.tgz#b2ac626d6cb9c8718ab459166d4bb405b8ffa78b"[m
   integrity sha512-Hcv+nVC0kZnQ3tD9GVu5xSMR4VVYOteQIr/hwFPVEvPdlXqgGEuRjiheChHgdM+JyqdgNcmzZOX/tnl0JOiI7A==[m
 [m
[31m-"@lexical/clipboard@0.12.0":[m
[31m-  version "0.12.0"[m
[31m-  resolved "https://registry.yarnpkg.com/@lexical/clipboard/-/clipboard-0.12.0.tgz#db81dfe883430186f710d18bfc4b55c78ddc664a"[m
[31m-  integrity sha512-nCoZku0G8OwzY92yeDBsEZW0BpbJoM/QtvzGAgLZ32+3dOR7JmcnWSXPGusm8ogCEOhMAL8aqqvGrFNZ++YFtg==[m
[32m+[m[32m"@lexical/clipboard@0.12.2":[m
[32m+[m[32m  version "0.12.2"[m
[32m+[m[32m  resolved "https://registry.yarnpkg.com/@lexical/clipboard/-/clipboard-0.12.2.tgz#cfa74da178673624ecd835eb9449545885cbefc7"[m
[32m+[m[32m  integrity sha512-RldmfZquuJJJCJ5WquCyoJ1/eZ+AnNgdksqvd+G+Yn/GyJl/+O3dnHM0QVaDSPvh/PynLFcCtz/57ySLo2kQxQ==[m
   dependencies:[m
[31m-    "@lexical/html" "0.12.0"[m
[31m-    "@lexical/list" "0.12.0"[m
[31m-    "@lexical/selection" "0.12.0"[m
[31m-    "@lexical/utils" "0.12.0"[m
[32m+[m[32m    "@lexical/html" "0.12.2"[m
[32m+[m[32m    "@lexical/list" "0.12.2"[m
[32m+[m[32m    "@lexical/selection" "0.12.2"[m
[32m+[m[32m    "@lexical/utils" "0.12.2"[m
 [m
[31m-"@lexical/code@0.12.0":[m
[31m-  version "0.12.0"[m
[31m-  resolved "https://registry.yarnpkg.com/@lexical/code/-/code-0.12.0.tgz#e0ae57ec7ed9008b410e77dbccd31f975d688b36"[m
[31m-  integrity sha512-Mdq1lTQV6KIrmF7O+LE9A57gI2T0PTfC1/uWZ7ikxVpSFVt10mn+8WSyAk7kO+ltEbL/aW7PJHEqMsuEfJH7kw==[m
[32m+[m[32m"@lexical/code@0.12.2":[m
[32m+[m[32m  version "0.12.2"[m
[32m+[m[32m  resolved "https://registry.yarnpkg.com/@lexical/code/-/code-0.12.2.tgz#2484511cb9c3688bb85f477d448444250939986d"[m
[32m+[m[32m  integrity sha512-w2JeJdnMUtYnC/Fx78sL3iJBt9Ug8pFSDOcI9ay/BkMQFQV8oqq1iyuLLBBJSG4FAM8b2DXrVdGklRQ+jTfTVw==[m
   dependencies:[m
[31m-    "@lexical/utils" "0.12.0"[m
[32m+[m[32m    "@lexical/utils" "0.12.2"[m
     prismjs "^1.27.0"[m
 [m
[31m-"@lexical/dragon@0.12.0":[m
[31m-  version "0.12.0"[m
[31m-  resolved "https://registry.yarnpkg.com/@lexical/dragon/-/dragon-0.12.0.tgz#67df1527f6d215fa52e00c219b243cadc000a59a"[m
[31m-  integrity sha512-3orn5Hq68i5MjcqA9cY3Ed1AMJDQGWkWlPv37gxgnTbpj0hhipwT2W7G2mVeWNfKvSd9OZLXnz6jYCHFmkBdww==[m
[32m+[m[32m"@lexical/dragon@0.12.2":[m
[32m+[m[32m  version "0.12.2"[m
[32m+[m[32m  resolved "https://registry.yarnpkg.com/@lexical/dragon/-/dragon-0.12.2.tgz#0ae209449a7ebe57c078584e28edb1b7354ecf99"[m
[32m+[m[32m  integrity sha512-Mt8NLzTOt+VgQtc2DKDbHBwKeRlvKqbLqRIMYUVk60gol+YV7NpVBsP1PAMuYYjrTQLhlckBSC32H1SUHZRavA==[m
 [m
[31m-"@lexical/hashtag@0.12.0":[m
[31m-  version "0.12.0"[m
[31m-  resolved "https://registry.yarnpkg.com/@lexical/hashtag/-/hashtag-0.12.0.tgz#ea4809da38a6c9053aa0859f1ffd42da416b4463"[m
[31m-  integrity sha512-qkryF9nCNCrJy2SjDAPxOfJl+SsvWLb8axrxMC9To3uC7RwJ1HsbaJ5oFK/6NCtkB+MjtYy7o6jGCfvdXDqi9g==[m
[32m+[m[32m"@lexical/hashtag@0.12.2":[m
[32m+[m[32m  version "0.12.2"[m
[32m+[m[32m  resolved "https://registry.yarnpkg.com/@lexical/hashtag/-/hashtag-0.12.2.tgz#d9c0f872b4a662b0393b289fa84515ec2c7cd624"[m
[32m+[m[32m  integrity sha512-2vYzIu5Ldf+eYdUrNA2m80c3N3MF3vJ0fIJzpl5QyX8OdViggEWl1bh+lKtw1Ju0H0CUyDIXdDLZ2apW3WDkTA==[m
   dependencies:[m
[31m-    "@lexical/utils" "0.12.0"[m
[32m+[m[32m    "@lexical/utils" "0.12.2"[m
 [m
[31m-"@lexical/history@0.12.0":[m
[31m-  version "0.12.0"[m
[31m-  resolved "https://registry.yarnpkg.com/@lexical/history/-/history-0.12.0.tgz#f7d62fedcc2c96dda5bf26f7af923ec1de4f68a6"[m
[31m-  integrity sha512-dK8jDnqF66BdEg1hrfLI1z4CGOIXmx7MBr1x8aC1u2pUaz+GsWV56UOvahAPmTwP6K1ZyMSYy8NM9BLxjRiEVg==[m
[32m+[m[32m"@lexical/history@0.12.2":[m
[32m+[m[32m  version "0.12.2"[m
[32m+[m[32m  resolved "https://registry.yarnpkg.com/@lexical/history/-/history-0.12.2.tgz#6870871c8120468a213e47c5b303f5b1dd378cba"[m
[32m+[m[32m  integrity sha512-PM/EDjnUyBPMWh1UiYb7T+FLbvTk14HwUWLXvZxn72S6Kj8ExH/PfLbWZWLCFL8RfzvbP407VwfSN8S0bF5H6g==[m
   dependencies:[m
[31m-    "@lexical/utils" "0.12.0"[m
[32m+[m[32m    "@lexical/utils" "0.12.2"[m
 [m
[31m-"@lexical/html@0.12.0":[m
[31m-  version "0.12.0"[m
[31m-  resolved "https://registry.yarnpkg.com/@lexical/html/-/html-0.12.0.tgz#008929ef2ee7114772c00bb1fd07df721f0e6e53"[m
[31m-  integrity sha512-90KKtMDMElS7AD3nYzknYe6eiu7/lw1neXFWc74XI4YLiYBD14Pb/FrEvGnQ+P1voGtr4sPk3KEf8huHdM9sJw==[m
[32m+[m[32m"@lexical/html@0.12.2":[m
[32m+[m[32m  version "0.12.2"[m
[32m+[m[32m  resolved "https://registry.yarnpkg.com/@lexical/html/-/html-0.12.2.tgz#6df09c362688b666da0f474d132d889415dbae8a"[m
[32m+[m[32m  integrity sha512-LWUO6OKhDtDZa9X1spHAqzsp+4EF01exis4cz5H9y2sHi7EofogXnRCadZ+fa07NVwPVTZWsStkk5qdSe/NEzg==[m
   dependencies:[m
[31m-    "@lexical/selection" "0.12.0"[m
[32m+[m[32m    "@lexical/selection" "0.12.2"[m
 [m
[31m-"@lexical/link@0.12.0":[m
[31m-  version "0.12.0"[m
[31m-  resolved "https://registry.yarnpkg.com/@lexical/link/-/link-0.12.0.tgz#6d5757ae0694d3e09cfac16b8220232ab29bc67a"[m
[31m-  integrity sha512-5oGvOgUi+IghnHtQ7bo0yPkgYW7FdT0YMPj2Ucsje8srt8BaZKgbrm7D/ZsXPV4XljVJZce7HLT46KJzs2SDYA==[m
[32m+[m[32m"@lexical/link@0.12.2":[m
[32m+[m[32m  version "0.12.2"[m
[32m+[m[32m  resolved "https://registry.yarnpkg.com/@lexical/link/-/link-0.12.2.tgz#33bf3ecdd98c2b27b2bdd67a8885649e1f528fc2"[m
[32m+[m[32m  integrity sha512-etOIONa7uyRDmwg8GN52kDlf8thD2Zk1LOFLeocHWz1V8fe3i2unGUek5s/rNPkc6ynpPpNsHdN1VEghOLCCmw==[m
   dependencies:[m
[31m-    "@lexical/utils" "0.12.0"[m
[32m+[m[32m    "@lexical/utils" "0.12.2"[m
 [m
[31m-"@lexical/list@0.12.0":[m
[31m-  version "0.12.0"[m
[31m-  resolved "https://registry.yarnpkg.com/@lexical/list/-/list-0.12.0.tgz#076a99f6a7541db49cf139d71fc5cd1b555d3b09"[m
[31m-  integrity sha512-l+5H753UQpmsqD8aEZ/LZd3YNysZ1SH693aEIgM1VIKmTftzd9+MTcqovnLNBzZQ98a5e4i1xgapOGIWkJ/MrQ==[m
[32m+[m[32m"@lexical/list@0.12.2":[m
[32m+[m[32m  version "0.12.2"[m
[32m+[m[32m  resolved "https://registry.yarnpkg.com/@lexical/list/-/list-0.12.2.tgz#7afdd13026f936144ff93d40382f21924e8e6908"[m
[32m+[m[32m  integrity sha512-3CyWtYQC+IlK4cK/oiD8Uz1gSXD8UcKGOF2vVsDXkMU06O6zvHNmHZOnVJqA0JVNgZAoR9dMR1fi2xd4iuCAiw==[m
   dependencies:[m
[31m-    "@lexical/utils" "0.12.0"[m
[32m+[m[32m    "@lexical/utils" "0.12.2"[m
 [m
[31m-"@lexical/mark@0.12.0":[m
[31m-  version "0.12.0"[m
[31m-  resolved "https://registry.yarnpkg.com/@lexical/mark/-/mark-0.12.0.tgz#49829cb5e5e30580f3b4a8d6f9994bf458c36518"[m
[31m-  integrity sha512-69OzKajOpR96tIBwaXQCaFaWh4thBTZmRa1tVcZ3CpA95OjP2715BGP2+k0yK5yaZVCA79WcyjMp3Xr88DXNkw==[m
[32m+[m[32m"@lexical/mark@0.12.2":[m
[32m+[m[32m  version "0.12.2"[m
[32m+[m[32m  resolved "https://registry.yarnpkg.com/@lexical/mark/-/mark-0.12.2.tgz#bfcfffc9f74505e5a6160679812b3d6bafea9c78"[m
[32m+[m[32m  integrity sha512-ub+37PDfmThsqAWipRTrwqpgE+83ckqJ5C3mKQUBZvhZfVZW1rEUXZnKjFh2Q3eZK6iT7zVgoVJWJS9ZgEEyag==[m
   dependencies:[m
[31m-    "@lexical/utils" "0.12.0"[m
[32m+[m[32m    "@lexical/utils" "0.12.2"[m
 [m
[31m-"@lexical/markdown@0.12.0":[m
[31m-  version "0.12.0"[m
[31m-  resolved "https://registry.yarnpkg.com/@lexical/markdown/-/markdown-0.12.0.tgz#fe6ce4e5316d7b97e19aec3001b5022fbc23058a"[m
[31m-  integrity sha512-Qx3ZjXVxH4Nsp87RYdOsmxZc007qN24DGursw9ljaJibZVatjIRP9VtgAPF0ybg0Y0fwUpVqE7qL4XkaiL8oxQ==[m
[32m+[m[32m"@lexical/markdown@0.12.2":[m
[32m+[m[32m  version "0.12.2"[m
[32m+[m[32m  resolved "https://registry.yarnpkg.com/@lexical/markdown/-/markdown-0.12.2.tgz#b11559590e8684525d4a11d2d78108c3498896b9"[m
[32m+[m[32m  integrity sha512-F2jTFtBp7Q+yoA11BeUOEcxhROzW+HUhUGdsn20pSLhuxsWRj3oUuryWFeNKFofpzTCVoqU6dwpaMNMI2mL/sQ==[m
   dependencies:[m
[31m-    "@lexical/code" "0.12.0"[m
[31m-    "@lexical/link" "0.12.0"[m
[31m-    "@lexical/list" "0.12.0"[m
[31m-    "@lexical/rich-text" "0.12.0"[m
[31m-    "@lexical/text" "0.12.0"[m
[31m-    "@lexical/utils" "0.12.0"[m
[32m+[m[32m    "@lexical/code" "0.12.2"[m
[32m+[m[32m    "@lexical/link" "0.12.2"[m
[32m+[m[32m    "@lexical/list" "0.12.2"[m
[32m+[m[32m    "@lexical/rich-text" "0.12.2"[m
[32m+[m[32m    "@lexical/text" "0.12.2"[m
[32m+[m[32m    "@lexical/utils" "0.12.2"[m
 [m
[31m-"@lexical/offset@0.12.0":[m
[31m-  version "0.12.0"[m
[31m-  resolved "https://registry.yarnpkg.com/@lexical/offset/-/offset-0.12.0.tgz#be6fb0ab81da7dc5dbf5064a3b76d43975869212"[m
[31m-  integrity sha512-ao9nJTaDIcpk7PFAFzJ+yJ1ILmlq1jHG7JocoEblzAu9BrGUcHn3aVoEL12vcuxjLTlyILAsoeIzTHJKw/NWQA==[m
[32m+[m[32m"@lexical/offset@0.12.2":[m
[32m+[m[32m  version "0.12.2"[m
[32m+[m[32m  resolved "https://registry.yarnpkg.com/@lexical/offset/-/offset-0.12.2.tgz#9e4a36508790de1d643d4328986c5c3a2d847de0"[m
[32m+[m[32m  integrity sha512-rZLZXfOBmpmM8A2UZsX3cr/CQYw5F/ou67AbaKI0WImb5sjnIgICZqzu9VFUnkKlVNUurEpplV3UG3D1YYh1OQ==[m
 [m
[31m-"@lexical/overflow@0.12.0":[m
[31m-  version "0.12.0"[m
[31m-  resolved "https://registry.yarnpkg.com/@lexical/overflow/-/overflow-0.12.0.tgz#31a6f5d39b8f0955c4453a27a3057be683545aec"[m
[31m-  integrity sha512-SDoWMn3QJI8eVi/V581EpmBcc4N/vTZ5eDtlaDGV8kzRhVNwdogcWfe/cSbp1A0prYPjB/AkFPTvXdyOARcVog==[m
[32m+[m[32m"@lexical/overflow@0.12.2":[m
[32m+[m[32m  version "0.12.2"[m
[32m+[m[32m  resolved "https://registry.yarnpkg.com/@lexical/overflow/-/overflow-0.12.2.tgz#b21ba828d6f02e99456d05df6c1d2771fb82aceb"[m
[32m+[m[32m  integrity sha512-UgE5j3ukO6qRFRpH4T7m/DvnodE9nCtImD7QinyGdsTa0hi5xlRnl0FUo605vH+vz7xEsUNAGwQXYPX9Sc/vig==[m
 [m
[31m-"@lexical/plain-text@0.12.0":[m
[31m-  version "0.12.0"[m
[31m-  resolved "https://registry.yarnpkg.com/@lexical/plain-text/-/plain-text-0.12.0.tgz#a21b6674f14e3cbde3003b959ab1877e2cbc5cec"[m
[31m-  integrity sha512-1cKzVO+76EgPKDJcq/tzy+6sigjkFKfinfmi46RjRfsglE7mxaCfSjHyBhMvxu+v1gXyMH8XxeJsfoSFOfltrw==[m
[32m+[m[32m"@lexical/plain-text@0.12.2":[m
[32m+[m[32m  version "0.12.2"[m
[32m+[m[32m  resolved "https://registry.yarnpkg.com/@lexical/plain-text/-/plain-text-0.12.2.tgz#87c51de239190d9202122a62aeaae04cb2477cda"[m
[32m+[m[32m  integrity sha512-Lcg6+ngRnX70//kz34azYhID3bvW66HSHCfu5UPhCXT+vQ/Jkd/InhRKajBwWXpaJxMM1huoi3sjzVDb3luNtw==[m
 [m
 "@lexical/react@^0.12.0":[m
[31m-  version "0.12.0"[m
[31m-  resolved "https://registry.yarnpkg.com/@lexical/react/-/react-0.12.0.tgz#db63895370087748a826f0595bad27093b77a4e8"[m
[31m-  integrity sha512-iH1SdO6XpvuNpQrVRKDIvtcskbIUuImi4abyjlwZqC2oE/jK261G9McQqzv/6b+IN9iKWGcoSnmVtnWGPHCfOw==[m
[31m-  dependencies:[m
[31m-    "@lexical/clipboard" "0.12.0"[m
[31m-    "@lexical/code" "0.12.0"[m
[31m-    "@lexical/dragon" "0.12.0"[m
[31m-    "@lexical/hashtag" "0.12.0"[m
[31m-    "@lexical/history" "0.12.0"[m
[31m-    "@lexical/link" "0.12.0"[m
[31m-    "@lexical/list" "0.12.0"[m
[31m-    "@lexical/mark" "0.12.0"[m
[31m-    "@lexical/markdown" "0.12.0"[m
[31m-    "@lexical/overflow" "0.12.0"[m
[31m-    "@lexical/plain-text" "0.12.0"[m
[31m-    "@lexical/rich-text" "0.12.0"[m
[31m-    "@lexical/selection" "0.12.0"[m
[31m-    "@lexical/table" "0.12.0"[m
[31m-    "@lexical/text" "0.12.0"[m
[31m-    "@lexical/utils" "0.12.0"[m
[31m-    "@lexical/yjs" "0.12.0"[m
[32m+[m[32m  version "0.12.2"[m
[32m+[m[32m  resolved "https://registry.yarnpkg.com/@lexical/react/-/react-0.12.2.tgz#336805af7a3d8e69d5b0ef3d0efd7bd4cd8f29fb"[m
[32m+[m[32m  integrity sha512-ZBUvf5xmhiYWBw8pPrhYmLAEwFWrbF/cd15y76TUKD9l/2zDwwPs6nJQxBzfz3ei65r2/nnavLDV8W3QfvxfUA==[m
[32m+[m[32m  dependencies:[m
[32m+[m[32m    "@lexical/clipboard" "0.12.2"[m
[32m+[m[32m    "@lexical/code" "0.12.2"[m
[32m+[m[32m    "@lexical/dragon" "0.12.2"[m
[32m+[m[32m    "@lexical/hashtag" "0.12.2"[m
[32m+[m[32m    "@lexical/history" "0.12.2"[m
[32m+[m[32m    "@lexical/link" "0.12.2"[m
[32m+[m[32m    "@lexical/list" "0.12.2"[m
[32m+[m[32m    "@lexical/mark" "0.12.2"[m
[32m+[m[32m    "@lexical/markdown" "0.12.2"[m
[32m+[m[32m    "@lexical/overflow" "0.12.2"[m
[32m+[m[32m    "@lexical/plain-text" "0.12.2"[m
[32m+[m[32m    "@lexical/rich-text" "0.12.2"[m
[32m+[m[32m    "@lexical/selection" "0.12.2"[m
[32m+[m[32m    "@lexical/table" "0.12.2"[m
[32m+[m[32m    "@lexical/text" "0.12.2"[m
[32m+[m[32m    "@lexical/utils" "0.12.2"[m
[32m+[m[32m    "@lexical/yjs" "0.12.2"[m
     react-error-boundary "^3.1.4"[m
 [m
[31m-"@lexical/rich-text@0.12.0":[m
[31m-  version "0.12.0"[m
[31m-  resolved "https://registry.yarnpkg.com/@lexical/rich-text/-/rich-text-0.12.0.tgz#6bbb8cccfd0a521bda3ea2f6200896823755cc07"[m
[31m-  integrity sha512-Rhz3tzzTQFZX5k5XJSlJgyy8BJPz+/Jmw7RuEXzVTGxniAcovEll9TLXbZQ7SJLeHkPmJ65PdXR0om29KhjFVg==[m
[32m+[m[32m"@lexical/rich-text@0.12.2":[m
[32m+[m[32m  version "0.12.2"[m
[32m+[m[32m  resolved "https://registry.yarnpkg.com/@lexical/rich-text/-/rich-text-0.12.2.tgz#9ef44e54777fc222ac8df344adb0d7428c784b25"[m
[32m+[m[32m  integrity sha512-igsEuv7CwBOAj5c8jeE41cnx6zkhI/Bkbu4W7shT6S6lNA/3cnyZpAMlgixwyK5RoqjGRCT+IJK5l6yBxQfNkw==[m
 [m
[31m-"@lexical/selection@0.12.0":[m
[31m-  version "0.12.0"[m
[31m-  resolved "https://registry.yarnpkg.com/@lexical/selection/-/selection-0.12.0.tgz#d8ffd95f6aa6c3ae74da89f9ecf416f01e9794d7"[m
[31m-  integrity sha512-0JpwYHwQ3wTsP98hR9xbx7GhWayERQ7rOvzmPOim7FRXQHEdqzxek5imxwyCPL4cTgHY5y+zrnCXluLeSLd57Q==[m
[32m+[m[32m"@lexical/selection@0.12.2":[m
[32m+[m[32m  version "0.12.2"[m
[32m+[m[32m  resolved "https://registry.yarnpkg.com/@lexical/selection/-/selection-0.12.2.tgz#87e30b953b02923d1691f61d5189eb1be81a19ae"[m
[32m+[m[32m  integrity sha512-h+g3oOnihHKIyLTyG6uLCEVR/DmUEVdCcZO1iAoGsuW7nwWiWNPWj6oZ3Cw5J1Mk5u62DHnkkVDQsVSZbAwmtg==[m
 [m
[31m-"@lexical/table@0.12.0":[m
[31m-  version "0.12.0"[m
[31m-  resolved "https://registry.yarnpkg.com/@lexical/table/-/table-0.12.0.tgz#5576fa60ee1c8f36ad6c207b896776056de674bd"[m
[31m-  integrity sha512-YVPuHJdE7yTi0vqzYiL6tjLy9aOixiSuGu+Tv4ohqpz4RMlG8ewoOrHy8losUdA26YHGPLGxwMN6QmtpW/8iPg==[m
[32m+[m[32m"@lexical/table@0.12.2":[m
[32m+[m[32m  version "0.12.2"[m
[32m+[m[32m  resolved "https://registry.yarnpkg.com/@lexical/table/-/table-0.12.2.tgz#59be2fd0413a9125017bb119aa950050bf92717b"[m
[32m+[m[32m  integrity sha512-tiAmTq6RKHDVER9v589Ajm9/RL+WTF1WschrH6HHVCtil6cfJfTJeJ+MF45+XEzB9fkqy2LfrScAfWxqLjVePA==[m
   dependencies:[m
[31m-    "@lexical/utils" "0.12.0"[m
[32m+[m[32m    "@lexical/utils" "0.12.2"[m
 [m
[31m-"@lexical/text@0.12.0":[m
[31m-  version "0.12.0"[m
[31m-  resolved "https://registry.yarnpkg.com/@lexical/text/-/text-0.12.0.tgz#ab14ebb4e8e89c9339252fe15c0a6b09f101b794"[m
[31m-  integrity sha512-kem90E1R+anQBePR/3KzUtmBgkmtmjTfSuozCfRbKR7otivciGPek4pc+J3MvqW0UVLCnDfptWSoj4+YRz1BRA==[m
[32m+[m[32m"@lexical/text@0.12.2":[m
[32m+[m[32m  version "0.12.2"[m
[32m+[m[32m  resolved "https://registry.yarnpkg.com/@lexical/text/-/text-0.12.2.tgz#623f8a9a56606e202febf4af80cfb5cf2da2a530"[m
[32m+[m[32m  integrity sha512-HyuIGuQvVi5djJKKBf+jYEBjK+0Eo9cKHf6WS7dlFozuCZvcCQEJkFy2yceWOwIVk+f2kptVQ5uO7aiZHExH2A==[m
 [m
[31m-"@lexical/utils@0.12.0":[m
[31m-  version "0.12.0"[m
[31m-  resolved "https://registry.yarnpkg.com/@lexical/utils/-/utils-0.12.0.tgz#0550f492baddf68a3ea70f2a6754953a7e684403"[m
[31m-  integrity sha512-ESAKn4GsSUyBXbebSWT0ZoSrLQ5RRdGXh3MERENystbr33cwSVZ1NEzHnQAy6KxCUZVuuFjUusQo7T/qQzLFYw==[m
[32m+[m[32m"@lexical/utils@0.12.2":[m
[32m+[m[32m  version "0.12.2"[m
[32m+[m[32m  resolved "https://registry.yarnpkg.com/@lexical/utils/-/utils-0.12.2.tgz#b8325f1a1a0d043fd2b40d59cd00c4d7c038474b"[m
[32m+[m[32m  integrity sha512-xW4y4l2Yd37+qLwkBvBGyzsKCA9wnh1ljphBJeR2vreT193i2gaIwuku2ZKlER14VHw4192qNJF7vUoAEmwurQ==[m
   dependencies:[m
[31m-    "@lexical/list" "0.12.0"[m
[31m-    "@lexical/selection" "0.12.0"[m
[31m-    "@lexical/table" "0.12.0"[m
[32m+[m[32m    "@lexical/list" "0.12.2"[m
[32m+[m[32m    "@lexical/selection" "0.12.2"[m
[32m+[m[32m    "@lexical/table" "0.12.2"[m
 [m
[31m-"@lexical/yjs@0.12.0":[m
[31m-  version "0.12.0"[m
[31m-  resolved "https://registry.yarnpkg.com/@lexical/yjs/-/yjs-0.12.0.tgz#551ffb0cad031e82bf240e33a18680dbe5c17c49"[m
[31m-  integrity sha512-3dV2GuBERiZPjSA5VyYIAAGQ0bVeihYsEBEF52SMwRanM9uqhUIHWMK808e8xDbk406dIIx8CSP2AUMaPW2lRg==[m
[32m+[m[32m"@lexical/yjs@0.12.2":[m
[32m+[m[32m  version "0.12.2"[m
[32m+[m[32m  resolved "https://registry.yarnpkg.com/@lexical/yjs/-/yjs-0.12.2.tgz#c0bebe1795ecb7e68d88d255dcbfcaa02740539d"[m
[32m+[m[32m  integrity sha512-OPJhkJD1Mp9W80mfLzASTB3OFWFMzJteUYA+eSyDgiX9zNi1VGxAqmIITTkDvnCMa+qvw4EfhGeGezpjx6Og4A==[m
   dependencies:[m
[31m-    "@lexical/offset" "0.12.0"[m
[32m+[m[32m    "@lexical/offset" "0.12.2"[m
 [m
 "@lezer/common@^1.0.0":[m
   version "1.0.4"[m
[36m@@ -3128,10 +3130,10 @@[m
   dependencies:[m
     "@types/istanbul-lib-report" "*"[m
 [m
[31m-"@types/jest@29.5.4":[m
[31m-  version "29.5.4"[m
[31m-  resolved "https://registry.yarnpkg.com/@types/jest/-/jest-29.5.4.tgz#9d0a16edaa009a71e6a71a999acd582514dab566"[m
[31m-  integrity sha512-PhglGmhWeD46FYOVLt3X7TiWjzwuVGW9wG/4qocPevXMjCmrIc5b6db9WjeGE4QYVpUAWMDv3v0IiBwObY289A==[m
[32m+[m[32m"@types/jest@29.5.5":[m
[32m+[m[32m  version "29.5.5"[m
[32m+[m[32m  resolved "https://registry.yarnpkg.com/@types/jest/-/jest-29.5.5.tgz#727204e06228fe24373df9bae76b90f3e8236a2a"[m
[32m+[m[32m  integrity sha512-ebylz2hnsWR9mYvmBFbXJXr+33UPc4+ZdxyDXh5w0FlPBTfCVN3wPL+kuOiQt3xvrK419v7XWeAs+AeOksafXg==[m
   dependencies:[m
     expect "^29.0.0"[m
     pretty-format "^29.0.0"[m
[36m@@ -3178,15 +3180,15 @@[m
   resolved "https://registry.yarnpkg.com/@types/ms/-/ms-0.7.31.tgz#31b7ca6407128a3d2bbc27fe2d21b345397f6197"[m
   integrity sha512-iiUgKzV9AuaEkZqkOLDIvlQiL6ltuZd9tGcW3gwpnX8JbuiuhFlEGmmFXEXkN50Cvq7Os88IY2v0dkDqXYWVgA==[m
 [m
[31m-"@types/node@*", "@types/node@^20.6.1":[m
[31m-  version "20.6.1"[m
[31m-  resolved "https://registry.yarnpkg.com/@types/node/-/node-20.6.1.tgz#8b589bba9b2af0128796461a0979764562687e6f"[m
[31m-  integrity sha512-4LcJvuXQlv4lTHnxwyHQZ3uR9Zw2j7m1C9DfuwoTFQQP4Pmu04O6IfLYgMmHoOCt0nosItLLZAH+sOrRE0Bo8g==[m
[32m+[m[32m"@types/node@*", "@types/node@^20.6.2":[m
[32m+[m[32m  version "20.6.5"[m
[32m+[m[32m  resolved "https://registry.yarnpkg.com/@types/node/-/node-20.6.5.tgz#4c6a79adf59a8e8193ac87a0e522605b16587258"[m
[32m+[m[32m  integrity sha512-2qGq5LAOTh9izcc0+F+dToFigBWiK1phKPt7rNhOqJSr35y8rlIBjDwGtFSgAI6MGIhjwOVNSQZVdJsZJ2uR1w==[m
 [m
 "@types/node@^12.20.10":[m
[31m-  version "12.20.13"[m
[31m-  resolved "https://registry.yarnpkg.com/@types/node/-/node-12.20.13.tgz#e743bae112bd779ac9650f907197dd2caa7f0364"[m
[31m-  integrity sha512-1x8W5OpxPq+T85OUsHRP6BqXeosKmeXRtjoF39STcdf/UWLqUsoehstZKOi0CunhVqHG17AyZgpj20eRVooK6A==[m
[32m+[m[32m  version "12.20.55"[m
[32m+[m[32m  resolved "https://registry.yarnpkg.com/@types/node/-/node-12.20.55.tgz#c329cbd434c42164f846b909bd6f85b5537f6240"[m
[32m+[m[32m  integrity sha512-J8xLz7q2OFulZ2cyGTLE1TbbZcjpno7FaN6zdJNrgAdrJ+DZzh/uFR6YrTb4C+nXakvud8Q4+rbhoIWlYQbUFQ==[m
 [m
 "@types/parse-json@^4.0.0":[m
   version "4.0.0"[m
[36m@@ -3194,24 +3196,24 @@[m
   integrity sha512-//oorEZjL6sbPcKUaCdIGlIUeH26mgzimjBB77G6XRgnDl/L5wOnpyBGRe/Mmf5CVW3PwEBE1NjiMZ/ssFh4wA==[m
 [m
 "@types/prettier@^2.1.5":[m
[31m-  version "2.7.1"[m
[31m-  resolved "https://registry.yarnpkg.com/@types/prettier/-/prettier-2.7.1.tgz#dfd20e2dc35f027cdd6c1908e80a5ddc7499670e"[m
[31m-  integrity sha512-ri0UmynRRvZiiUJdiz38MmIblKK+oH30MztdBVR95dv/Ubw6neWSb8u1XpRb72L4qsZOhz+L+z9JD40SJmfWow==[m
[32m+[m[32m  version "2.7.3"[m
[32m+[m[32m  resolved "https://registry.yarnpkg.com/@types/prettier/-/prettier-2.7.3.tgz#3e51a17e291d01d17d3fc61422015a933af7a08f"[m
[32m+[m[32m  integrity sha512-+68kP9yzs4LMp7VNh8gdzMSPZFL44MLGqiHWvttYJe+6qnuVr4Ek9wSBQoveqY/r+LwjCcU29kNVkidwim+kYA==[m
 [m
 "@types/prop-types@*", "@types/prop-types@^15.0.0":[m
[31m-  version "15.7.5"[m
[31m-  resolved "https://registry.yarnpkg.com/@types/prop-types/-/prop-types-15.7.5.tgz#5f19d2b85a98e9558036f6a3cacc8819420f05cf"[m
[31m-  integrity sha512-JCB8C6SnDoQf0cNycqd/35A7MjcnK+ZTqE7judS6o7utxUCg6imJg3QK2qzHKszlTjcj2cn+NwMB2i96ubpj7w==[m
[32m+[m[32m  version "15.7.7"[m
[32m+[m[32m  resolved "https://registry.yarnpkg.com/@types/prop-types/-/prop-types-15.7.7.tgz#f9361f7b87fd5d8188b2c998db0a1f47e9fb391a"[m
[32m+[m[32m  integrity sha512-FbtmBWCcSa2J4zL781Zf1p5YUBXQomPEcep9QZCfRfQgTxz3pJWiDFLebohZ9fFntX5ibzOkSsrJ0TEew8cAog==[m
 [m
 "@types/q@^1.5.1":[m
[31m-  version "1.5.2"[m
[31m-  resolved "https://registry.yarnpkg.com/@types/q/-/q-1.5.2.tgz#690a1475b84f2a884fd07cd797c00f5f31356ea8"[m
[31m-  integrity sha512-ce5d3q03Ex0sy4R14722Rmt6MT07Ua+k4FwDfdcToYJcMKNtRVQvJ6JCAPdAmAnbRb6CsX6aYb9m96NGod9uTw==[m
[32m+[m[32m  version "1.5.6"[m
[32m+[m[32m  resolved "https://registry.yarnpkg.com/@types/q/-/q-1.5.6.tgz#a6edffe8283910e46dc7a573621f928e6b47fa56"[m
[32m+[m[32m  integrity sha512-IKjZ8RjTSwD4/YG+2gtj7BPFRB/lNbWKTiSj3M7U/TD2B7HfYCxvp2Zz6xA2WIY7pAuL1QOUPw8gQRbUrrq4fQ==[m
 [m
 "@types/qs@*":[m
[31m-  version "6.9.7"[m
[31m-  resolved "https://registry.yarnpkg.com/@types/qs/-/qs-6.9.7.tgz#63bb7d067db107cc1e457c303bc25d511febf6cb"[m
[31m-  integrity sha512-FGa1F62FT09qcrueBA6qYTrJPVDzah9a+493+o2PCXsesWHIn27G98TsSMs3WPNbZIEj4+VJf6saSFpvD+3Zsw==[m
[32m+[m[32m  version "6.9.8"[m
[32m+[m[32m  resolved "https://registry.yarnpkg.com/@types/qs/-/qs-6.9.8.tgz#f2a7de3c107b89b441e071d5472e6b726b4adf45"[m
[32m+[m[32m  integrity sha512-u95svzDlTysU5xecFNTgfFG5RUWu1A9P0VzgpcIiGZA9iraHOdSzcxMxQ55DyeRaGCSxQi7LxXDI4rzq/MYfdg==[m
 [m
 "@types/range-parser@*":[m
   version "1.2.4"[m
[36m@@ -3258,9 +3260,9 @@[m
     "@types/react" "*"[m
 [m
 "@types/react@*", "@types/react@^18.0.11":[m
[31m-  version "18.2.21"[m
[31m-  resolved "https://registry.yarnpkg.com/@types/react/-/react-18.2.21.tgz#774c37fd01b522d0b91aed04811b58e4e0514ed9"[m
[31m-  integrity sha512-neFKG/sBAwGxHgXiIxnbm3/AAVQ/cMRS93hvBpg8xYRbeQSPVABp9U2bRnPf0iI4+Ucdv3plSxKK+3CW2ENJxA==[m
[32m+[m[32m  version "18.2.22"[m
[32m+[m[32m  resolved "https://registry.yarnpkg.com/@types/react/-/react-18.2.22.tgz#abe778a1c95a07fa70df40a52d7300a40b949ccb"[m
[32m+[m[32m  integrity sha512-60fLTOLqzarLED2O3UQImc/lsNRgG0jE/a1mPW9KjMemY0LMITWEsbS4VvZ4p6rorEHd5YKxxmMKSDK505GHpA==[m
   dependencies:[m
     "@types/prop-types" "*"[m
     "@types/scheduler" "*"[m
[36m@@ -10106,9 +10108,9 @@[m [mlevn@~0.3.0:[m
     type-check "~0.3.2"[m
 [m
 lexical@^0.12.0:[m
[31m-  version "0.12.0"[m
[31m-  resolved "https://registry.yarnpkg.com/lexical/-/lexical-0.12.0.tgz#b715fb061f6394814761a07ba5b4fd4c2aa3f9cd"[m
[31m-  integrity sha512-ixp8+5D9UJueZSjh9a7Z0eiiKm8MZmf//+mr0rZSCXermhdIcn1lglDGbff1KGwO1ONnFlycWJV12m8Zvtgggg==[m
[32m+[m[32m  version "0.12.2"[m
[32m+[m[32m  resolved "https://registry.yarnpkg.com/lexical/-/lexical-0.12.2.tgz#68535e145715d5788374495c9ee0420e417d792b"[m
[32m+[m[32m  integrity sha512-Kxavd+ETjxtVwG/hvPd6WZfXD44sLOKe9Vlkwxy7lBQ1qZArS+rZfs+u5iXwXe6tX9f2PIM0u3RHsrCEDDE0fw==[m
 [m
 lezer-feel@^0.15.0:[m
   version "0.15.0"[m
[36m@@ -16389,9 +16391,9 @@[m [mws@^7.2.0, ws@^7.4.6:[m
   integrity sha512-F+P9Jil7UiSKSkppIiD94dN07AwvFixvLIj1Og1Rl9GGMuNipJnV9JzjD6XuqmAeiswGvUmNLjr5cFuXwNS77Q==[m
 [m
 ws@^8.14.1, ws@^8.4.2:[m
[31m-  version "8.14.1"[m
[31m-  resolved "https://registry.yarnpkg.com/ws/-/ws-8.14.1.tgz#4b9586b4f70f9e6534c7bb1d3dc0baa8b8cf01e0"[m
[31m-  integrity sha512-4OOseMUq8AzRBI/7SLMUwO+FEDnguetSk7KMb1sHwvF2w2Wv5Hoj0nlifx8vtGsftE/jWHojPy8sMMzYLJ2G/A==[m
[32m+[m[32m  version "8.14.2"[m
[32m+[m[32m  resolved "https://registry.yarnpkg.com/ws/-/ws-8.14.2.tgz#6c249a806eb2db7a20d26d51e7709eab7b2e6c7f"[m
[32m+[m[32m  integrity sha512-wEBG1ftX4jcglPxgFCMJmZ2PLtSbJ2Peg6TmpJFTbe9GZYOQCDPdMYu/Tm0/bGZkw8paZnJY45J4K2PZrLYq8g==[m
 [m
 xml-name-validator@^3.0.0:[m
   version "3.0.0"[m
[1mdiff --git a/distro/pom.xml b/distro/pom.xml[m
[1mindex dc994a7221..3ca2349e42 100644[m
[1m--- a/distro/pom.xml[m
[1m+++ b/distro/pom.xml[m
[36m@@ -5,7 +5,7 @@[m
   <parent>[m
     <groupId>org.camunda.optimize</groupId>[m
     <artifactId>parent</artifactId>[m
[31m-    <version>3.11.0-SNAPSHOT</version>[m
[32m+[m[32m    <version>3.12.0-SNAPSHOT</version>[m
   </parent>[m
 [m
   <artifactId>camunda-optimize</artifactId>[m
[1mdiff --git a/distro/src/config/environment-config-demo.yaml b/distro/src/config/environment-config-demo.yaml[m
[1mindex e734cd06b4..e7cd72fb96 100644[m
[1m--- a/distro/src/config/environment-config-demo.yaml[m
[1m+++ b/distro/src/config/environment-config-demo.yaml[m
[36m@@ -167,7 +167,7 @@[m [mimport:[m
     includeUserMetaData: true[m
     # Cron expression for when the identity sync should run, defaults to every second hour.[m
     cronTrigger: '0 */2 * * *'[m
[31m-  # Controls whether customer onboarding data should be loaded to optimize[m
[32m+[m[32m  # Controls whether Camunda Customer Onboarding Demo data should be loaded to optimize[m
   customer-onboarding: true[m
 [m
 serialization:[m
[1mdiff --git a/docker-compose.postgresql.yml b/docker-compose.postgresql.yml[m
[1mindex 492143c304..0c4f01173c 100644[m
[1m--- a/docker-compose.postgresql.yml[m
[1m+++ b/docker-compose.postgresql.yml[m
[36m@@ -51,7 +51,7 @@[m [mservices:[m
     depends_on:[m
     - postgres[m
   postgres:[m
[31m-    image: postgres:11.16@sha256:5d2aa4a7b5f9bdadeddcf87cf7f90a176737a02a30d917de4ab2e6a329bd2d45[m
[32m+[m[32m    image: postgres:16.0@sha256:f1aaf6f8be5552bef66c5580efbd2942c37d7277cd0416ef4939fa34bf0baf31[m
     container_name: postgres[m
     command: ["postgres", "-c", "max_connections=200", "-c", "effective_cache_size=4GB", "-c", "shared_buffers=2GB", "-c", "synchronous_commit=off", "-c", "log_statement=none", "-c", "checkpoint_timeout=600", "-c", "max_wal_size=30GB"][m
     environment:[m
[1mdiff --git a/docker-compose.yml b/docker-compose.yml[m
[1mindex 5498e34eda..d477616d08 100644[m
[1m--- a/docker-compose.yml[m
[1m+++ b/docker-compose.yml[m
[36m@@ -3,6 +3,8 @@[m [mversion: '2.4'[m
 services:[m
   elasticsearch:[m
     image: docker.elastic.co/elasticsearch/elasticsearch:${ES_VERSION:-7.13.0}[m
[32m+[m[32m#    profiles: ["elasticsearch"] TODO leaving this commented out for now so that elastic search boots by default.[m
[32m+[m[32m#   This needs to be commented in with ticket OPT-7311[m
     container_name: elasticsearch[m
     environment:[m
       - cluster.name=elasticsearch[m
[36m@@ -24,6 +26,28 @@[m [mservices:[m
       interval: 30s[m
       timeout: 5s[m
       retries: 3[m
[32m+[m[32m  opensearch:[m
[32m+[m[32m    image: opensearchproject/opensearch:2.9.0[m
[32m+[m[32m    profiles: ["opensearch"][m
[32m+[m[32m    container_name: opensearch[m
[32m+[m[32m    environment:[m
[32m+[m[32m      - cluster.name=opensearch-cluster[m
[32m+[m[32m      - node.name=opensearch[m
[32m+[m[32m      - discovery.seed_hosts=opensearch[m
[32m+[m[32m      - plugins.security.disabled=true[m
[32m+[m[32m      - cluster.initial_cluster_manager_nodes=opensearch[m
[32m+[m[32m      - bootstrap.memory_lock=true # along with the memlock settings below, disables swapping[m
[32m+[m[32m      - "OPENSEARCH_JAVA_OPTS=-Xms512m -Xmx512m" # minimum and maximum Java heap size, recommend setting both to 50% of system RAM[m
[32m+[m[32m    ulimits:[m
[32m+[m[32m      memlock:[m
[32m+[m[32m        soft: -1[m
[32m+[m[32m        hard: -1[m
[32m+[m[32m      nofile:[m
[32m+[m[32m        soft: 65536 # maximum number of open files for the OpenSearch user, set to at least 65536 on modern systems[m
[32m+[m[32m        hard: 65536[m
[32m+[m[32m    ports:[m
[32m+[m[32m      - 9205:9200[m
[32m+[m[32m      - 9305:9300[m
   cambpm:[m
     image: registry.camunda.cloud/cambpm-ee/camunda-bpm-platform-ee:${CAMBPM_VERSION:-7.18.0}[m
     container_name: cambpm[m
[1mdiff --git a/docker/test/docker-labels.golden.json b/docker/test/docker-labels.golden.json[m
[1mindex 67ab2b83dc..7e573e3b95 100644[m
[1m--- a/docker/test/docker-labels.golden.json[m
[1m+++ b/docker/test/docker-labels.golden.json[m
[36m@@ -6,7 +6,7 @@[m
   "io.openshift.wants": "zeebe,elasticsearch,identity,keycloak",[m
   "io.openshift.tags": "bpmn,optimization,camunda",[m
   "org.opencontainers.image.authors": "optimize@camunda.com",[m
[31m-  "org.opencontainers.image.base.name": "docker.io/library/alpine:3.18.3",[m
[32m+[m[32m  "org.opencontainers.image.base.name": "docker.io/library/alpine:3.18.4",[m
   "org.opencontainers.image.base.digest": $BASEDIGEST,[m
   "org.opencontainers.image.created": $DATE,[m
   "org.opencontainers.image.description": "Provides business activity monitoring for workflows and uses BPMN-based analysis to uncover process bottlenecks",[m
[1mdiff --git a/plugins/optimize-test-plugins/optimize-main-test-plugin/pom.xml b/plugins/optimize-test-plugins/optimize-main-test-plugin/pom.xml[m
[1mindex 1880ff3518..8b547ca028 100644[m
[1m--- a/plugins/optimize-test-plugins/optimize-main-test-plugin/pom.xml[m
[1m+++ b/plugins/optimize-test-plugins/optimize-main-test-plugin/pom.xml[m
[36m@@ -8,7 +8,7 @@[m
   <parent>[m
     <groupId>org.camunda.optimize</groupId>[m
     <artifactId>optimize-plugin-parent</artifactId>[m
[31m-    <version>3.11.0-SNAPSHOT</version>[m
[32m+[m[32m    <version>3.12.0-SNAPSHOT</version>[m
     <relativePath>../..</relativePath>[m
   </parent>[m
 [m
[1mdiff --git a/plugins/optimize-test-plugins/optimize-main-test-plugin/src/main/java/org/camunda/optimize/testplugin/elasticsearch/authorization/dynamic/DynamicElasticsearchCustomHeaderSupplierPlugin.java b/plugins/optimize-test-plugins/optimize-main-test-plugin/src/main/java/org/camunda/optimize/testplugin/elasticsearch/authorization/dynamic/DynamicDatabaseCustomHeaderSupplierPlugin.java[m
[1msimilarity index 80%[m
[1mrename from plugins/optimize-test-plugins/optimize-main-test-plugin/src/main/java/org/camunda/optimize/testplugin/elasticsearch/authorization/dynamic/DynamicElasticsearchCustomHeaderSupplierPlugin.java[m
[1mrename to plugins/optimize-test-plugins/optimize-main-test-plugin/src/main/java/org/camunda/optimize/testplugin/elasticsearch/authorization/dynamic/DynamicDatabaseCustomHeaderSupplierPlugin.java[m
[1mindex 8473e7323f..a235a2914c 100644[m
[1m--- a/plugins/optimize-test-plugins/optimize-main-test-plugin/src/main/java/org/camunda/optimize/testplugin/elasticsearch/authorization/dynamic/DynamicElasticsearchCustomHeaderSupplierPlugin.java[m
[1m+++ b/plugins/optimize-test-plugins/optimize-main-test-plugin/src/main/java/org/camunda/optimize/testplugin/elasticsearch/authorization/dynamic/DynamicDatabaseCustomHeaderSupplierPlugin.java[m
[36m@@ -7,9 +7,9 @@[m [mpackage org.camunda.optimize.testplugin.elasticsearch.authorization.dynamic;[m
 [m
 [m
 import org.camunda.optimize.plugin.elasticsearch.CustomHeader;[m
[31m-import org.camunda.optimize.plugin.elasticsearch.ElasticsearchCustomHeaderSupplier;[m
[32m+[m[32mimport org.camunda.optimize.plugin.elasticsearch.DatabaseCustomHeaderSupplier;[m
 [m
[31m-public class DynamicElasticsearchCustomHeaderSupplierPlugin implements ElasticsearchCustomHeaderSupplier {[m
[32m+[m[32mpublic class DynamicDatabaseCustomHeaderSupplierPlugin implements DatabaseCustomHeaderSupplier {[m
 [m
   private final Object lock = new Object();[m
   private int counter = 0;[m
[1mdiff --git a/plugins/optimize-test-plugins/optimize-main-test-plugin/src/main/java/org/camunda/optimize/testplugin/elasticsearch/authorization/fixed/FixedElasticsearchCustomHeaderSupplierPlugin.java b/plugins/optimize-test-plugins/optimize-main-test-plugin/src/main/java/org/camunda/optimize/testplugin/elasticsearch/authorization/fixed/FixedDatabaseCustomHeaderSupplierPlugin.java[m
[1msimilarity index 77%[m
[1mrename from plugins/optimize-test-plugins/optimize-main-test-plugin/src/main/java/org/camunda/optimize/testplugin/elasticsearch/authorization/fixed/FixedElasticsearchCustomHeaderSupplierPlugin.java[m
[1mrename to plugins/optimize-test-plugins/optimize-main-test-plugin/src/main/java/org/camunda/optimize/testplugin/elasticsearch/authorization/fixed/FixedDatabaseCustomHeaderSupplierPlugin.java[m
[1mindex 0b6e9a84f7..8f07ed2c95 100644[m
[1m--- a/plugins/optimize-test-plugins/optimize-main-test-plugin/src/main/java/org/camunda/optimize/testplugin/elasticsearch/authorization/fixed/FixedElasticsearchCustomHeaderSupplierPlugin.java[m
[1m+++ b/plugins/optimize-test-plugins/optimize-main-test-plugin/src/main/java/org/camunda/optimize/testplugin/elasticsearch/authorization/fixed/FixedDatabaseCustomHeaderSupplierPlugin.java[m
[36m@@ -7,9 +7,9 @@[m [mpackage org.camunda.optimize.testplugin.elasticsearch.authorization.fixed;[m
 [m
 [m
 import org.camunda.optimize.plugin.elasticsearch.CustomHeader;[m
[31m-import org.camunda.optimize.plugin.elasticsearch.ElasticsearchCustomHeaderSupplier;[m
[32m+[m[32mimport org.camunda.optimize.plugin.elasticsearch.DatabaseCustomHeaderSupplier;[m
 [m
[31m-public class FixedElasticsearchCustomHeaderSupplierPlugin implements ElasticsearchCustomHeaderSupplier {[m
[32m+[m[32mpublic class FixedDatabaseCustomHeaderSupplierPlugin implements DatabaseCustomHeaderSupplier {[m
 [m
   /**[m
    * Returns the same header every time the plugin is called[m
[1mdiff --git a/plugins/optimize-test-plugins/optimize-main-test-plugin/src/main/java/org/camunda/optimize/testplugin/elasticsearch/custom/CustomElasticsearchCustomHeaderSupplierPlugin.java b/plugins/optimize-test-plugins/optimize-main-test-plugin/src/main/java/org/camunda/optimize/testplugin/elasticsearch/custom/CustomDatabaseCustomHeaderSupplierPlugin.java[m
[1msimilarity index 74%[m
[1mrename from plugins/optimize-test-plugins/optimize-main-test-plugin/src/main/java/org/camunda/optimize/testplugin/elasticsearch/custom/CustomElasticsearchCustomHeaderSupplierPlugin.java[m
[1mrename to plugins/optimize-test-plugins/optimize-main-test-plugin/src/main/java/org/camunda/optimize/testplugin/elasticsearch/custom/CustomDatabaseCustomHeaderSupplierPlugin.java[m
[1mindex c9eb4f8b33..ef7cbf62e1 100644[m
[1m--- a/plugins/optimize-test-plugins/optimize-main-test-plugin/src/main/java/org/camunda/optimize/testplugin/elasticsearch/custom/CustomElasticsearchCustomHeaderSupplierPlugin.java[m
[1m+++ b/plugins/optimize-test-plugins/optimize-main-test-plugin/src/main/java/org/camunda/optimize/testplugin/elasticsearch/custom/CustomDatabaseCustomHeaderSupplierPlugin.java[m
[36m@@ -7,9 +7,9 @@[m [mpackage org.camunda.optimize.testplugin.elasticsearch.custom;[m
 [m
 [m
 import org.camunda.optimize.plugin.elasticsearch.CustomHeader;[m
[31m-import org.camunda.optimize.plugin.elasticsearch.ElasticsearchCustomHeaderSupplier;[m
[32m+[m[32mimport org.camunda.optimize.plugin.elasticsearch.DatabaseCustomHeaderSupplier;[m
 [m
[31m-public class CustomElasticsearchCustomHeaderSupplierPlugin implements ElasticsearchCustomHeaderSupplier {[m
[32m+[m[32mpublic class CustomDatabaseCustomHeaderSupplierPlugin implements DatabaseCustomHeaderSupplier {[m
 [m
   @Override[m
   public CustomHeader getElasticsearchCustomHeader() {[m
[1mdiff --git a/plugins/optimize-test-plugins/optimize-pluginloading-test-plugin/pom.xml b/plugins/optimize-test-plugins/optimize-pluginloading-test-plugin/pom.xml[m
[1mindex 1d6b1808bb..dbeae852aa 100644[m
[1m--- a/plugins/optimize-test-plugins/optimize-pluginloading-test-plugin/pom.xml[m
[1m+++ b/plugins/optimize-test-plugins/optimize-pluginloading-test-plugin/pom.xml[m
[36m@@ -8,7 +8,7 @@[m
   <parent>[m
     <groupId>org.camunda.optimize</groupId>[m
     <artifactId>optimize-plugin-parent</artifactId>[m
[31m-    <version>3.11.0-SNAPSHOT</version>[m
[32m+[m[32m    <version>3.12.0-SNAPSHOT</version>[m
     <relativePath>../..</relativePath>[m
   </parent>[m
 [m
[1mdiff --git a/plugins/plugin/pom.xml b/plugins/plugin/pom.xml[m
[1mindex 92e36ff5ea..4f366541fb 100644[m
[1m--- a/plugins/plugin/pom.xml[m
[1m+++ b/plugins/plugin/pom.xml[m
[36m@@ -5,7 +5,7 @@[m
   <parent>[m
     <groupId>org.camunda.optimize</groupId>[m
     <artifactId>optimize-plugin-parent</artifactId>[m
[31m-    <version>3.11.0-SNAPSHOT</version>[m
[32m+[m[32m    <version>3.12.0-SNAPSHOT</version>[m
   </parent>[m
 [m
   <artifactId>plugin</artifactId>[m
[1mdiff --git a/plugins/plugin/src/main/java/org/camunda/optimize/plugin/elasticsearch/ElasticsearchCustomHeaderSupplier.java b/plugins/plugin/src/main/java/org/camunda/optimize/plugin/elasticsearch/DatabaseCustomHeaderSupplier.java[m
[1msimilarity index 90%[m
[1mrename from plugins/plugin/src/main/java/org/camunda/optimize/plugin/elasticsearch/ElasticsearchCustomHeaderSupplier.java[m
[1mrename to plugins/plugin/src/main/java/org/camunda/optimize/plugin/elasticsearch/DatabaseCustomHeaderSupplier.java[m
[1mindex 52b76b17d8..c67054d046 100644[m
[1m--- a/plugins/plugin/src/main/java/org/camunda/optimize/plugin/elasticsearch/ElasticsearchCustomHeaderSupplier.java[m
[1m+++ b/plugins/plugin/src/main/java/org/camunda/optimize/plugin/elasticsearch/DatabaseCustomHeaderSupplier.java[m
[36m@@ -5,7 +5,7 @@[m
  */[m
 package org.camunda.optimize.plugin.elasticsearch;[m
 [m
[31m-public interface ElasticsearchCustomHeaderSupplier {[m
[32m+[m[32mpublic interface DatabaseCustomHeaderSupplier {[m
 [m
   /**[m
    * Fetches any additional headers to be used in requests to Elasticsearch[m
[1mdiff --git a/plugins/pom.xml b/plugins/pom.xml[m
[1mindex 22c45faea6..86b35f9982 100644[m
[1m--- a/plugins/pom.xml[m
[1m+++ b/plugins/pom.xml[m
[36m@@ -5,7 +5,7 @@[m
   <parent>[m
     <groupId>org.camunda.optimize</groupId>[m
     <artifactId>parent</artifactId>[m
[31m-    <version>3.11.0-SNAPSHOT</version>[m
[32m+[m[32m    <version>3.12.0-SNAPSHOT</version>[m
   </parent>[m
 [m
   <artifactId>optimize-plugin-parent</artifactId>[m
[1mdiff --git a/pom.xml b/pom.xml[m
[1mindex 8e86f23c23..d369845c1d 100644[m
[1m--- a/pom.xml[m
[1m+++ b/pom.xml[m
[36m@@ -4,7 +4,7 @@[m
 [m
   <groupId>org.camunda.optimize</groupId>[m
   <artifactId>parent</artifactId>[m
[31m-  <version>3.11.0-SNAPSHOT</version>[m
[32m+[m[32m  <version>3.12.0-SNAPSHOT</version>[m
   <packaging>pom</packaging>[m
   <name>Camunda Optimize</name>[m
 [m
[36m@@ -23,10 +23,10 @@[m
   <properties>[m
     <project.build.sourceEncoding>UTF-8</project.build.sourceEncoding>[m
     <project.reporting.outputEncoding>UTF-8</project.reporting.outputEncoding>[m
[31m-    <project.previousVersion>3.10.4</project.previousVersion>[m
[32m+[m[32m    <project.previousVersion>3.10.5</project.previousVersion>[m
 [m
     <camunda.engine.version>7.18.0</camunda.engine.version>[m
[31m-    <camunda.maven.artifacts.version>7.18.10-ee</camunda.maven.artifacts.version>[m
[32m+[m[32m    <camunda.maven.artifacts.version>7.18.11-ee</camunda.maven.artifacts.version>[m
 [m
     <!-- We use this version to compile but run IT against containers with zeebe.docker.version -->[m
     <zeebe.version>8.3.0-alpha6</zeebe.version>[m
[36m@@ -36,11 +36,13 @@[m
 [m
     <surefire-plugin.version>3.1.2</surefire-plugin.version>[m
     <!-- maven plugins -->[m
[31m-    <plugin.version.sonar>3.9.1.2184</plugin.version.sonar>[m
[32m+[m[32m    <plugin.version.sonar>3.10.0.2594</plugin.version.sonar>[m
 [m
     <jackson.version>2.15.2</jackson.version>[m
     <jsonpath.version>2.8.0</jsonpath.version>[m
[31m-    <elasticsearch.version>7.17.12</elasticsearch.version>[m
[32m+[m[32m    <elasticsearch.version>7.17.13</elasticsearch.version>[m
[32m+[m[32m    <opensearch.version>2.5.0</opensearch.version>[m
[32m+[m[32m    <apache.http5.version>5.2.1</apache.http5.version>[m
     <!-- The default es 8 version we are going to be testing with-->[m
     <elasticsearch8.test.version>8.7.0</elasticsearch8.test.version>[m
     <!--The least supported elasticsearch version we should test against-->[m
[36m@@ -50,22 +52,22 @@[m
     <!-- https://www.elastic.co/guide/en/elasticsearch/client/java-api/6.5/_using_another_logger.html -->[m
     <elasticsearch.log4j.version>2.20.0</elasticsearch.log4j.version>[m
     <guava.version>32.1.2-jre</guava.version>[m
[31m-    <spring.boot.version>3.0.10</spring.boot.version>[m
[31m-    <spring.version>6.0.11</spring.version>[m
[31m-    <mockito.version>5.4.0</mockito.version>[m
[32m+[m[32m    <spring.boot.version>3.0.11</spring.boot.version>[m
[32m+[m[32m    <spring.version>6.0.12</spring.version>[m
[32m+[m[32m    <mockito.version>5.5.0</mockito.version>[m
     <mockito-inline.version>5.2.0</mockito-inline.version>[m
     <httpclient.version>4.5.14</httpclient.version>[m
[31m-    <junit.jupiter.version>5.9.3</junit.jupiter.version>[m
[31m-    <junit.platform.version>1.9.3</junit.platform.version>[m
[32m+[m[32m    <junit.jupiter.version>5.10.0</junit.jupiter.version>[m
[32m+[m[32m    <junit.platform.version>1.10.0</junit.platform.version>[m
     <mockserver.version>5.15.0</mockserver.version>[m
     <quartz.version>2.3.2</quartz.version>[m
     <assertj.version>3.24.2</assertj.version>[m
     <postgres.version>42.6.0</postgres.version>[m
     <jakarta.rs-api.version>3.1.0</jakarta.rs-api.version>[m
 [m
[31m-    <lombok.version>1.18.28</lombok.version>[m
[32m+[m[32m    <lombok.version>1.18.30</lombok.version>[m
     <logback.version>1.4.11</logback.version>[m
[31m-    <slf4j.version>2.0.7</slf4j.version>[m
[32m+[m[32m    <slf4j.version>2.0.9</slf4j.version>[m
 [m
     <version.node>v16.16.0</version.node>[m
     <version.yarn>v1.22.18</version.yarn>[m
[36m@@ -81,7 +83,7 @@[m
     <sonar.junit.reportPaths>[m
       ${project.build.directory}/surefire-reports/,${project.build.directory}/failsafe-reports/,${project.build.directory}/failsafe-reports/1/,${project.build.directory}/failsafe-reports/2/,${project.build.directory}/failsafe-reports/3/,${project.build.directory}/failsafe-reports/4/[m
     </sonar.junit.reportPaths>[m
[31m-    <h2.version>2.2.220</h2.version>[m
[32m+[m[32m    <h2.version>2.2.224</h2.version>[m
 [m
     <maven.compiler.target>17</maven.compiler.target>[m
     <maven.compiler.source>17</maven.compiler.source>[m
[36m@@ -326,7 +328,7 @@[m
     <dependency>[m
       <groupId>io.github.netmikey.logunit</groupId>[m
       <artifactId>logunit-logback</artifactId>[m
[31m-      <version>1.1.3</version>[m
[32m+[m[32m      <version>2.0.0</version>[m
       <exclusions>[m
         <exclusion>[m
           <groupId>ch.qos.logback</groupId>[m
[36m@@ -356,7 +358,7 @@[m
     <dependency>[m
       <groupId>io.netty</groupId>[m
       <artifactId>netty-codec-http</artifactId>[m
[31m-      <version>4.1.97.Final</version>[m
[32m+[m[32m      <version>4.1.98.Final</version>[m
     </dependency>[m
   </dependencies>[m
 [m
[36m@@ -423,7 +425,7 @@[m
         <plugin>[m
           <groupId>org.apache.maven.plugins</groupId>[m
           <artifactId>maven-shade-plugin</artifactId>[m
[31m-          <version>3.5.0</version>[m
[32m+[m[32m          <version>3.5.1</version>[m
           <configuration>[m
             <createDependencyReducedPom>false</createDependencyReducedPom>[m
           </configuration>[m
[36m@@ -440,7 +442,7 @@[m
         </plugin>[m
         <plugin>[m
           <groupId>org.codehaus.cargo</groupId>[m
[31m-          <artifactId>cargo-maven2-plugin</artifactId>[m
[32m+[m[32m          <artifactId>cargo-maven3-plugin</artifactId>[m
           <version>1.9.0</version>[m
         </plugin>[m
         <plugin>[m
[36m@@ -462,12 +464,12 @@[m
         <plugin>[m
           <groupId>com.github.eirslett</groupId>[m
           <artifactId>frontend-maven-plugin</artifactId>[m
[31m-          <version>1.13.4</version>[m
[32m+[m[32m          <version>1.14.0</version>[m
         </plugin>[m
         <plugin>[m
           <groupId>com.mycila</groupId>[m
           <artifactId>license-maven-plugin</artifactId>[m
[31m-          <version>4.2</version>[m
[32m+[m[32m          <version>4.3</version>[m
         </plugin>[m
         <!-- sonar relevant stuff -->[m
         <plugin>[m
[1mdiff --git a/qa/cleanup-performance-tests/pom.xml b/qa/cleanup-performance-tests/pom.xml[m
[1mindex fb2143da3c..dab4275f64 100644[m
[1m--- a/qa/cleanup-performance-tests/pom.xml[m
[1m+++ b/qa/cleanup-performance-tests/pom.xml[m
[36m@@ -5,7 +5,7 @@[m
   <parent>[m
     <groupId>org.camunda.optimize</groupId>[m
     <artifactId>qa</artifactId>[m
[31m-    <version>3.11.0-SNAPSHOT</version>[m
[32m+[m[32m    <version>3.12.0-SNAPSHOT</version>[m
   </parent>[m
 [m
   <artifactId>cleanup-performance-tests</artifactId>[m
[1mdiff --git a/qa/clustering-tests/pom.xml b/qa/clustering-tests/pom.xml[m
[1mindex 2d86e952f8..a3458e8eba 100644[m
[1m--- a/qa/clustering-tests/pom.xml[m
[1m+++ b/qa/clustering-tests/pom.xml[m
[36m@@ -5,7 +5,7 @@[m
   <parent>[m
     <groupId>org.camunda.optimize</groupId>[m
     <artifactId>qa</artifactId>[m
[31m-    <version>3.11.0-SNAPSHOT</version>[m
[32m+[m[32m    <version>3.12.0-SNAPSHOT</version>[m
   </parent>[m
 [m
   <artifactId>clustering-tests</artifactId>[m
[36m@@ -235,7 +235,7 @@[m
               <dependency>[m
                 <groupId>ant-contrib</groupId>[m
                 <artifactId>ant-contrib</artifactId>[m
[31m-                <version>1.0b3</version>[m
[32m+[m[32m                <version>20020829</version>[m
                 <exclusions>[m
                   <exclusion>[m
                     <groupId>ant</groupId>[m
[1mdiff --git a/qa/connect-to-secured-es-tests/pom.xml b/qa/connect-to-secured-es-tests/pom.xml[m
[1mindex 9c5196c731..0e0ff2068b 100644[m
[1m--- a/qa/connect-to-secured-es-tests/pom.xml[m
[1m+++ b/qa/connect-to-secured-es-tests/pom.xml[m
[36m@@ -5,7 +5,7 @@[m
   <parent>[m
     <groupId>org.camunda.optimize</groupId>[m
     <artifactId>qa</artifactId>[m
[31m-    <version>3.11.0-SNAPSHOT</version>[m
[32m+[m[32m    <version>3.12.0-SNAPSHOT</version>[m
   </parent>[m
 [m
   <artifactId>connect-to-secured-es-tests</artifactId>[m
[36m@@ -44,7 +44,7 @@[m
     <dependency>[m
       <groupId>commons-io</groupId>[m
       <artifactId>commons-io</artifactId>[m
[31m-      <version>2.13.0</version>[m
[32m+[m[32m      <version>2.14.0</version>[m
       <scope>test</scope>[m
     </dependency>[m
 [m
[1mdiff --git a/qa/data-generation/pom.xml b/qa/data-generation/pom.xml[m
[1mindex 08cd7ebf0b..a8c34c12cf 100644[m
[1m--- a/qa/data-generation/pom.xml[m
[1m+++ b/qa/data-generation/pom.xml[m
[36m@@ -5,7 +5,7 @@[m
   <parent>[m
     <groupId>org.camunda.optimize</groupId>[m
     <artifactId>qa</artifactId>[m
[31m-    <version>3.11.0-SNAPSHOT</version>[m
[32m+[m[32m    <version>3.12.0-SNAPSHOT</version>[m
   </parent>[m
 [m
   <artifactId>data-generation</artifactId>[m
[36m@@ -69,7 +69,7 @@[m
     <dependency>[m
       <groupId>commons-io</groupId>[m
       <artifactId>commons-io</artifactId>[m
[31m-      <version>2.13.0</version>[m
[32m+[m[32m      <version>2.14.0</version>[m
     </dependency>[m
   </dependencies>[m
 [m
[1mdiff --git a/qa/data-generation/src/main/resources/onboarding-data/customer-onboarding-definition.json b/qa/data-generation/src/main/resources/onboarding-data/customer-onboarding-definition.json[m
[1mindex 39100a81c3..3bf653aeb1 100644[m
[1m--- a/qa/data-generation/src/main/resources/onboarding-data/customer-onboarding-definition.json[m
[1m+++ b/qa/data-generation/src/main/resources/onboarding-data/customer-onboarding-definition.json[m
[36m@@ -3,14 +3,14 @@[m
   "key": "customer_onboarding_en",[m
   "version": "1",[m
   "versionTag": null,[m
[31m-  "name": "Customer Onboarding",[m
[32m+[m[32m  "name": "Camunda Customer Onboarding Demo",[m
   "dataSource": {[m
     "name": "camunda-bpm",[m
     "type": "engine"[m
   },[m
   "tenantId": null,[m
   "deleted": false,[m
[31m-  "bpmn20Xml": "<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<bpmn2:definitions xmlns:bpmn2=\"http://www.omg.org/spec/BPMN/20100524/MODEL\" xmlns:camunda=\"http://camunda.org/schema/1.0/bpmn\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns:bpmndi=\"http://www.omg.org/spec/BPMN/20100524/DI\" xmlns:di=\"http://www.omg.org/spec/DD/20100524/DI\" xmlns:dc=\"http://www.omg.org/spec/DD/20100524/DC\" id=\"_5SVkEIXnEeSmwfgVk-ryvQ\" targetNamespace=\"http://camunda.org/schema/1.0/bpmn\" exporter=\"Camunda Modeler\" exporterVersion=\"3.6.0\" xsi:schemaLocation=\"http://www.omg.org/spec/BPMN/20100524/MODEL BPMN20.xsd\">\n  <bpmn2:collaboration id=\"Collaboration_1u35ano\">\n    <bpmn2:participant id=\"Participant_0477s11\" name=\"Customer Onboarding\" processRef=\"customer_onboarding_en\" />\n  </bpmn2:collaboration>\n  <bpmn2:process id=\"customer_onboarding_en\" name=\"Customer Onboarding\" isExecutable=\"true\">\n    <bpmn2:startEvent id=\"StartEvent_1\" name=\"Application received\" camunda:asyncAfter=\"true\" camunda:formKey=\"app:camunda/online/index.html\">\n      <bpmn2:extensionElements>\n        <camunda:properties>\n          <camunda:property name=\"simNextFire\" value=\"${g.timesPerDay(&#34;onboard&#34;,&#34;07:30&#34;,&#34;22:30&#34;, g.linearBySimulationTime(5,15))}\" />\n          <camunda:property name=\"simInitPayload\" value=\"application=${g.json(generator.newApplication(false))}\" />\n          <camunda:property name=\"simGeneratePayload\" value=\"applicationNumber=${application.getApplicationNumber()}\" />\n          <camunda:property name=\"simGeneratePayload\" value=\"applicantName=${application.getApplicant().getName()}\" />\n          <camunda:property name=\"simInitBusinessKey\" value=\"A-${g.format1(&#39;%05d&#39;, g.uniqueNumber())}\" />\n          <camunda:property name=\"simGeneratePayload\" value=\"category=${application.getCategory()}\" />\n          <camunda:property name=\"simKeepListeners\" value=\"true\" />\n        </camunda:properties>\n        <camunda:executionListener delegateExpression=\"${corporationMapper}\" event=\"start\" />\n      </bpmn2:extensionElements>\n      <bpmn2:outgoing>SequenceFlow_6</bpmn2:outgoing>\n    </bpmn2:startEvent>\n    <bpmn2:exclusiveGateway id=\"ExclusiveGateway_2\" name=\"Decision?\">\n      <bpmn2:extensionElements>\n        <camunda:properties>\n          <camunda:property name=\"simulateKeepImplementation\" value=\"true\" />\n        </camunda:properties>\n      </bpmn2:extensionElements>\n      <bpmn2:incoming>SequenceFlow_1h4oxvl</bpmn2:incoming>\n      <bpmn2:outgoing>SequenceFlow_8</bpmn2:outgoing>\n      <bpmn2:outgoing>SequenceFlow_12</bpmn2:outgoing>\n    </bpmn2:exclusiveGateway>\n    <bpmn2:endEvent id=\"EndEvent_ApplicationIssued\" name=\"Application&#10; issued\">\n      <bpmn2:extensionElements>\n        <camunda:properties>\n          <camunda:property name=\"KPI-Ratio\" value=\"Policed\" />\n        </camunda:properties>\n      </bpmn2:extensionElements>\n      <bpmn2:incoming>SequenceFlow_11</bpmn2:incoming>\n    </bpmn2:endEvent>\n    <bpmn2:sendTask id=\"SendTask_SendPolicy\" name=\"Send confirmation\" camunda:async=\"true\" camunda:type=\"external\" camunda:topic=\"emailService\">\n      <bpmn2:extensionElements>\n        <camunda:inputOutput>\n          <camunda:inputParameter name=\"mailBody\">\n            <camunda:script scriptFormat=\"freemarker\">Dear ${application.applicant.name}.\n\nWe happily inform you that your request was accepted.\n\nPlease check the key facts: \n- Application Number: ${application.applicationNumber}\n- Premium per anno: ${application.premium}\n- Product: ${application.product}\n\nKind regards,\n${application.corporation}.</camunda:script>\n          </camunda:inputParameter>\n          <camunda:inputParameter name=\"mailSubject\">Your request was issued</camunda:inputParameter>\n        </camunda:inputOutput>\n        <camunda:properties>\n          <camunda:property name=\"simNextFire\" value=\"${g.now()}\" />\n        </camunda:properties>\n      </bpmn2:extensionElements>\n      <bpmn2:incoming>SequenceFlow_10</bpmn2:incoming>\n      <bpmn2:outgoing>SequenceFlow_11</bpmn2:outgoing>\n    </bpmn2:sendTask>\n    <bpmn2:serviceTask id=\"ServiceTask_DeliverPolicy\" name=\"Deliver confirmation\" camunda:delegateExpression=\"${issuePolicyAdapter}\">\n      <bpmn2:extensionElements>\n        <camunda:properties>\n          <camunda:property name=\"simCallRealImplementation\" value=\"true\" />\n        </camunda:properties>\n      </bpmn2:extensionElements>\n      <bpmn2:incoming>SequenceFlow_8</bpmn2:incoming>\n      <bpmn2:incoming>SequenceFlow_7</bpmn2:incoming>\n      <bpmn2:outgoing>SequenceFlow_10</bpmn2:outgoing>\n    </bpmn2:serviceTask>\n    <bpmn2:businessRuleTask id=\"BusinessRuleTask_CheckApplicationAutomatically\" name=\"Check application automatically\" camunda:resultVariable=\"riskDMNresult\" camunda:decisionRef=\"checkRisk_en\">\n      <bpmn2:extensionElements>\n        <camunda:executionListener class=\"com.camunda.demo.customeronboarding.adapter.MapDmnResult\" event=\"end\" />\n        <camunda:properties>\n          <camunda:property name=\"simCallRealImplementation\" value=\"true\" />\n          <camunda:property name=\"simKeepListeners\" value=\"true\" />\n        </camunda:properties>\n        <camunda:executionListener event=\"start\">\n          <camunda:script scriptFormat=\"javascript\">if(execution.hasVariable(\"riskDMNresult\")) {\n      execution.removeVariable(\"riskDMNresult\");\n    }</camunda:script>\n        </camunda:executionListener>\n      </bpmn2:extensionElements>\n      <bpmn2:incoming>SequenceFlow_1gd6p37</bpmn2:incoming>\n      <bpmn2:outgoing>SequenceFlow_2</bpmn2:outgoing>\n    </bpmn2:businessRuleTask>\n    <bpmn2:exclusiveGateway id=\"ExclusiveGatewayPruefung\" name=\"Risk?\">\n      <bpmn2:extensionElements>\n        <camunda:properties>\n          <camunda:property name=\"simulateKeepImplementation\" value=\"true\" />\n        </camunda:properties>\n      </bpmn2:extensionElements>\n      <bpmn2:incoming>SequenceFlow_2</bpmn2:incoming>\n      <bpmn2:outgoing>SequenceFlow_7</bpmn2:outgoing>\n      <bpmn2:outgoing>SequenceFlow_16</bpmn2:outgoing>\n      <bpmn2:outgoing>SequenceFlow_3</bpmn2:outgoing>\n    </bpmn2:exclusiveGateway>\n    <bpmn2:endEvent id=\"EndEvent_DecisionAccelerated\" name=\"Decision accelerated\">\n      <bpmn2:incoming>SequenceFlow_5</bpmn2:incoming>\n    </bpmn2:endEvent>\n    <bpmn2:endEvent id=\"EndEvent_ApplicationRejected\" name=\"Application &#10;rejected\">\n      <bpmn2:extensionElements>\n        <camunda:properties>\n          <camunda:property name=\"KPI-Ratio\" value=\"Rejected\" />\n        </camunda:properties>\n      </bpmn2:extensionElements>\n      <bpmn2:incoming>SequenceFlow_13</bpmn2:incoming>\n    </bpmn2:endEvent>\n    <bpmn2:serviceTask id=\"ServiceTask_RejectPolicy\" name=\"Reject application\" camunda:delegateExpression=\"${loggerDelegate}\">\n      <bpmn2:incoming>SequenceFlow_12</bpmn2:incoming>\n      <bpmn2:incoming>SequenceFlow_16</bpmn2:incoming>\n      <bpmn2:outgoing>SequenceFlow_01vh1zw</bpmn2:outgoing>\n    </bpmn2:serviceTask>\n    <bpmn2:sendTask id=\"SendTask_SendRejection\" name=\"Send rejection\" camunda:async=\"true\" camunda:type=\"external\" camunda:topic=\"emailService\">\n      <bpmn2:extensionElements>\n        <camunda:inputOutput>\n          <camunda:inputParameter name=\"mailBody\">\n            <camunda:script scriptFormat=\"freemarker\">Dear ${application.applicant.name}.\n\nUnfortunately we have to inform you that we cannot issue the desired request.\n\nKind regards,\n${application.corporation}.</camunda:script>\n          </camunda:inputParameter>\n          <camunda:inputParameter name=\"mailSubject\">Request rejected</camunda:inputParameter>\n        </camunda:inputOutput>\n        <camunda:properties>\n          <camunda:property name=\"simNextFire\" value=\"${g.now()}\" />\n        </camunda:properties>\n      </bpmn2:extensionElements>\n      <bpmn2:incoming>SequenceFlow_01vh1zw</bpmn2:incoming>\n      <bpmn2:outgoing>SequenceFlow_13</bpmn2:outgoing>\n    </bpmn2:sendTask>\n    <bpmn2:userTask id=\"UserTask_DecideOnApplication\" name=\"Decide on application\" camunda:asyncAfter=\"true\" camunda:formKey=\"embedded:app:forms/decide_en.html\" camunda:candidateGroups=\"clerk\" camunda:dueDate=\"${dateTime().plusDays(1).toDate()}\">\n      <bpmn2:extensionElements>\n        <camunda:properties>\n          <camunda:property name=\"simGeneratePayload\" value=\"approved=${g.randBool(0.75)}\" />\n          <camunda:property name=\"simNextFire\" value=\"${g.nowPlusHours(g.uniformInt(g.exponentialBySimulationTime(1,48,3),72))}\" />\n          <camunda:property name=\"simKeepListeners\" value=\"true\" />\n          <camunda:property name=\"simGeneratePayload\" value=\"requestedDocumentDescription=someDocument\" />\n        </camunda:properties>\n        <camunda:taskListener event=\"create\">\n          <camunda:script scriptFormat=\"JavaScript\">task.setVariable('documentReferenceId', String(Date.now()));\n\nvar lastAssignee = task.getVariable('lastAssignee');\nif (lastAssignee != null) {\n  task.setAssignee(lastAssignee);\n}</camunda:script>\n        </camunda:taskListener>\n        <camunda:taskListener event=\"assignment\">\n          <camunda:script scriptFormat=\"JavaScript\">task.setVariable('lastAssignee', task.getAssignee());</camunda:script>\n        </camunda:taskListener>\n      </bpmn2:extensionElements>\n      <bpmn2:incoming>SequenceFlow_1te4zir</bpmn2:incoming>\n      <bpmn2:incoming>SequenceFlow_3</bpmn2:incoming>\n      <bpmn2:outgoing>SequenceFlow_1h4oxvl</bpmn2:outgoing>\n    </bpmn2:userTask>\n    <bpmn2:callActivity id=\"CallActivity_RequestDocument\" name=\"Request document\" calledElement=\"requestDocument_en\">\n      <bpmn2:extensionElements>\n        <camunda:in source=\"application\" target=\"application\" />\n        <camunda:in source=\"requestedDocumentDescription\" target=\"requestedDocumentDescription\" />\n        <camunda:out source=\"document\" target=\"document\" />\n        <camunda:executionListener event=\"end\">\n          <camunda:script scriptFormat=\"JavaScript\">var typedDocument = execution.getVariableTyped('document');\nvar oldDocuments = execution.getVariable('documents');\n\nif (typedDocument != null &amp;&amp; typedDocument.getValue() != null) {\n  execution.setVariable('document_' + documentReferenceId, typedDocument);\n\n  var json = S('{}');\n  json.prop('description', requestedDocumentDescription);\n  json.prop('filename', typedDocument.getFilename());\n\n  var documents = S(oldDocuments != null ? oldDocuments : '{}');\n  documents.prop(documentReferenceId, json);\n  execution.setVariable('documents', documents);\n}</camunda:script>\n        </camunda:executionListener>\n        <camunda:in source=\"documentReferenceId\" target=\"documentReferenceId\" />\n        <camunda:in source=\"uiBaseUrl\" target=\"uiBaseUrl\" />\n        <camunda:properties>\n          <camunda:property name=\"simKeepListeners\" value=\"true\" />\n        </camunda:properties>\n        <camunda:in businessKey=\"#{execution.processBusinessKey}\" />\n      </bpmn2:extensionElements>\n      <bpmn2:incoming>SequenceFlow_0lwkj1f</bpmn2:incoming>\n      <bpmn2:outgoing>SequenceFlow_1te4zir</bpmn2:outgoing>\n    </bpmn2:callActivity>\n    <bpmn2:userTask id=\"UserTask_AccelerateDecision\" name=\"Accelerate decision making\" camunda:candidateGroups=\"teamlead\">\n      <bpmn2:extensionElements>\n        <camunda:properties>\n          <camunda:property name=\"simNextComplete\" value=\"${g.nowPlusHours(g.uniformInt(2,10))}\" />\n        </camunda:properties>\n      </bpmn2:extensionElements>\n      <bpmn2:incoming>SequenceFlow_0o6gf8v</bpmn2:incoming>\n      <bpmn2:outgoing>SequenceFlow_5</bpmn2:outgoing>\n    </bpmn2:userTask>\n    <bpmn2:serviceTask id=\"ServiceTask_0tixwo5\" name=\"Get credit score\" camunda:delegateExpression=\"${calculateScore}\">\n      <bpmn2:extensionElements>\n        <camunda:properties>\n          <camunda:property name=\"simCallRealImplementation\" value=\"true\" />\n        </camunda:properties>\n      </bpmn2:extensionElements>\n      <bpmn2:incoming>SequenceFlow_6</bpmn2:incoming>\n      <bpmn2:outgoing>SequenceFlow_1gd6p37</bpmn2:outgoing>\n    </bpmn2:serviceTask>\n    <bpmn2:boundaryEvent id=\"BoundaryEvent_1i1spfe\" name=\"document needed\" attachedToRef=\"UserTask_DecideOnApplication\">\n      <bpmn2:extensionElements>\n        <camunda:properties>\n          <camunda:property name=\"simNextFire\" value=\"${generator.nowPlusHours(generator.uniformInt(24,72))}\" />\n          <camunda:property name=\"simGeneratePayload\" value=\"requestedDocumentDescription=&#34;very important document&#34;\" />\n          <camunda:property name=\"simGeneratePayload\" value=\"uiBaseUrl=&#34;camunda.com&#34;\" />\n          <camunda:property name=\"simGeneratePayload\" value=\"documentReferenceId=&#34;123456&#34;\" />\n        </camunda:properties>\n      </bpmn2:extensionElements>\n      <bpmn2:outgoing>SequenceFlow_0lwkj1f</bpmn2:outgoing>\n      <bpmn2:messageEventDefinition messageRef=\"Message_0fvpzfg\" />\n    </bpmn2:boundaryEvent>\n    <bpmn2:boundaryEvent id=\"BoundaryEvent_0mcjys5\" name=\"after 2 days\" cancelActivity=\"false\" attachedToRef=\"UserTask_DecideOnApplication\">\n      <bpmn2:outgoing>SequenceFlow_0o6gf8v</bpmn2:outgoing>\n      <bpmn2:timerEventDefinition>\n        <bpmn2:timeDuration xsi:type=\"bpmn2:tFormalExpression\">P2D</bpmn2:timeDuration>\n      </bpmn2:timerEventDefinition>\n    </bpmn2:boundaryEvent>\n    <bpmn2:sequenceFlow id=\"SequenceFlow_1gd6p37\" sourceRef=\"ServiceTask_0tixwo5\" targetRef=\"BusinessRuleTask_CheckApplicationAutomatically\" />\n    <bpmn2:sequenceFlow id=\"SequenceFlow_0o6gf8v\" sourceRef=\"BoundaryEvent_0mcjys5\" targetRef=\"UserTask_AccelerateDecision\" />\n    <bpmn2:sequenceFlow id=\"SequenceFlow_0lwkj1f\" sourceRef=\"BoundaryEvent_1i1spfe\" targetRef=\"CallActivity_RequestDocument\" />\n    <bpmn2:sequenceFlow id=\"SequenceFlow_1te4zir\" sourceRef=\"CallActivity_RequestDocument\" targetRef=\"UserTask_DecideOnApplication\" />\n    <bpmn2:sequenceFlow id=\"SequenceFlow_01vh1zw\" sourceRef=\"ServiceTask_RejectPolicy\" targetRef=\"SendTask_SendRejection\" />\n    <bpmn2:sequenceFlow id=\"SequenceFlow_13\" name=\"\" sourceRef=\"SendTask_SendRejection\" targetRef=\"EndEvent_ApplicationRejected\" />\n    <bpmn2:sequenceFlow id=\"SequenceFlow_5\" name=\"\" sourceRef=\"UserTask_AccelerateDecision\" targetRef=\"EndEvent_DecisionAccelerated\" />\n    <bpmn2:sequenceFlow id=\"SequenceFlow_16\" name=\"red &#10;(severe risk)\" sourceRef=\"ExclusiveGatewayPruefung\" targetRef=\"ServiceTask_RejectPolicy\">\n      <bpmn2:conditionExpression xsi:type=\"bpmn2:tFormalExpression\">#{riskLevel == 'red'}</bpmn2:conditionExpression>\n    </bpmn2:sequenceFlow>\n    <bpmn2:sequenceFlow id=\"SequenceFlow_3\" name=\"yellow&#10;(moderate risk)&#10;\" sourceRef=\"ExclusiveGatewayPruefung\" targetRef=\"UserTask_DecideOnApplication\">\n      <bpmn2:conditionExpression xsi:type=\"bpmn2:tFormalExpression\">#{riskLevel == 'yellow'}</bpmn2:conditionExpression>\n    </bpmn2:sequenceFlow>\n    <bpmn2:sequenceFlow id=\"SequenceFlow_2\" name=\"\" sourceRef=\"BusinessRuleTask_CheckApplicationAutomatically\" targetRef=\"ExclusiveGatewayPruefung\" />\n    <bpmn2:sequenceFlow id=\"SequenceFlow_7\" name=\"green&#10;(no risk)\" sourceRef=\"ExclusiveGatewayPruefung\" targetRef=\"ServiceTask_DeliverPolicy\">\n      <bpmn2:conditionExpression xsi:type=\"bpmn2:tFormalExpression\">#{riskLevel == 'green'}</bpmn2:conditionExpression>\n    </bpmn2:sequenceFlow>\n    <bpmn2:sequenceFlow id=\"SequenceFlow_10\" name=\"\" sourceRef=\"ServiceTask_DeliverPolicy\" targetRef=\"SendTask_SendPolicy\" />\n    <bpmn2:sequenceFlow id=\"SequenceFlow_11\" name=\"\" sourceRef=\"SendTask_SendPolicy\" targetRef=\"EndEvent_ApplicationIssued\" />\n    <bpmn2:sequenceFlow id=\"SequenceFlow_8\" name=\"application accepted\" camunda:modelerTemplate=\"com.camunda.demo.environment.probability\" sourceRef=\"ExclusiveGateway_2\" targetRef=\"ServiceTask_DeliverPolicy\">\n      <bpmn2:conditionExpression xsi:type=\"bpmn2:tFormalExpression\">#{approved}</bpmn2:conditionExpression>\n    </bpmn2:sequenceFlow>\n    <bpmn2:sequenceFlow id=\"SequenceFlow_12\" name=\"application declined\" sourceRef=\"ExclusiveGateway_2\" targetRef=\"ServiceTask_RejectPolicy\">\n      <bpmn2:conditionExpression xsi:type=\"bpmn2:tFormalExpression\">#{not approved}</bpmn2:conditionExpression>\n    </bpmn2:sequenceFlow>\n    <bpmn2:sequenceFlow id=\"SequenceFlow_1h4oxvl\" sourceRef=\"UserTask_DecideOnApplication\" targetRef=\"ExclusiveGateway_2\" />\n    <bpmn2:sequenceFlow id=\"SequenceFlow_6\" name=\"\" sourceRef=\"StartEvent_1\" targetRef=\"ServiceTask_0tixwo5\" />\n  </bpmn2:process>\n  <bpmn2:message id=\"Message_0fvpzfg\" name=\"Message_DocumentRequested\" />\n  <bpmndi:BPMNDiagram id=\"BPMNDiagram_1\">\n    <bpmndi:BPMNPlane id=\"BPMNPlane_1\" bpmnElement=\"Collaboration_1u35ano\">\n      <bpmndi:BPMNShape id=\"Participant_0477s11_di\" bpmnElement=\"Participant_0477s11\" isHorizontal=\"true\">\n        <dc:Bounds x=\"156\" y=\"71\" width=\"1360\" height=\"563\" />\n      </bpmndi:BPMNShape>\n      <bpmndi:BPMNShape id=\"_BPMNShape_StartEvent_4\" bpmnElement=\"StartEvent_1\">\n        <dc:Bounds x=\"206\" y=\"113\" width=\"36\" height=\"36\" />\n        <bpmndi:BPMNLabel>\n          <dc:Bounds x=\"199\" y=\"154\" width=\"53\" height=\"27\" />\n        </bpmndi:BPMNLabel>\n      </bpmndi:BPMNShape>\n      <bpmndi:BPMNShape id=\"_BPMNShape_SendTask_2\" bpmnElement=\"SendTask_SendPolicy\">\n        <dc:Bounds x=\"1290\" y=\"91\" width=\"100\" height=\"80\" />\n      </bpmndi:BPMNShape>\n      <bpmndi:BPMNShape id=\"_BPMNShape_ServiceTask_3\" bpmnElement=\"ServiceTask_DeliverPolicy\">\n        <dc:Bounds x=\"1139\" y=\"91\" width=\"100\" height=\"80\" />\n      </bpmndi:BPMNShape>\n      <bpmndi:BPMNShape id=\"_BPMNShape_EndEvent_2\" bpmnElement=\"EndEvent_ApplicationIssued\">\n        <dc:Bounds x=\"1445\" y=\"113\" width=\"36\" height=\"36\" />\n        <bpmndi:BPMNLabel>\n          <dc:Bounds x=\"1438\" y=\"154\" width=\"53\" height=\"27\" />\n        </bpmndi:BPMNLabel>\n      </bpmndi:BPMNShape>\n      <bpmndi:BPMNShape id=\"_BPMNShape_ExclusiveGateway_2\" bpmnElement=\"ExclusiveGatewayPruefung\" isMarkerVisible=\"true\">\n        <dc:Bounds x=\"556\" y=\"106\" width=\"50\" height=\"50\" />\n        <bpmndi:BPMNLabel>\n          <dc:Bounds x=\"567\" y=\"81\" width=\"28\" height=\"14\" />\n        </bpmndi:BPMNLabel>\n      </bpmndi:BPMNShape>\n      <bpmndi:BPMNShape id=\"_BPMNShape_BusinessRuleTask_2\" bpmnElement=\"BusinessRuleTask_CheckApplicationAutomatically\">\n        <dc:Bounds x=\"421\" y=\"91\" width=\"100\" height=\"80\" />\n      </bpmndi:BPMNShape>\n      <bpmndi:BPMNShape id=\"_BPMNShape_ExclusiveGateway_3\" bpmnElement=\"ExclusiveGateway_2\" isMarkerVisible=\"true\">\n        <dc:Bounds x=\"1055\" y=\"302\" width=\"50\" height=\"50\" />\n        <bpmndi:BPMNLabel>\n          <dc:Bounds x=\"1129\" y=\"317\" width=\"49\" height=\"14\" />\n        </bpmndi:BPMNLabel>\n      </bpmndi:BPMNShape>\n      <bpmndi:BPMNShape id=\"_BPMNShape_SendTask_3\" bpmnElement=\"SendTask_SendRejection\">\n        <dc:Bounds x=\"1290\" y=\"534\" width=\"100\" height=\"80\" />\n      </bpmndi:BPMNShape>\n      <bpmndi:BPMNShape id=\"_BPMNShape_EndEvent_3\" bpmnElement=\"EndEvent_ApplicationRejected\">\n        <dc:Bounds x=\"1445\" y=\"556\" width=\"36\" height=\"36\" />\n        <bpmndi:BPMNLabel>\n          <dc:Bounds x=\"1436\" y=\"597\" width=\"56\" height=\"27\" />\n        </bpmndi:BPMNLabel>\n      </bpmndi:BPMNShape>\n      <bpmndi:BPMNEdge id=\"BPMNEdge_SequenceFlow_6\" bpmnElement=\"SequenceFlow_6\" sourceElement=\"_BPMNShape_StartEvent_4\" targetElement=\"ServiceTask_0tixwo5_di\">\n        <di:waypoint x=\"242\" y=\"131\" />\n        <di:waypoint x=\"276\" y=\"131\" />\n        <bpmndi:BPMNLabel>\n          <dc:Bounds x=\"125\" y=\"131\" width=\"90\" height=\"6\" />\n        </bpmndi:BPMNLabel>\n      </bpmndi:BPMNEdge>\n      <bpmndi:BPMNEdge id=\"BPMNEdge_SequenceFlow_10\" bpmnElement=\"SequenceFlow_10\" sourceElement=\"_BPMNShape_ServiceTask_3\" targetElement=\"_BPMNShape_SendTask_2\">\n        <di:waypoint x=\"1239\" y=\"131\" />\n        <di:waypoint x=\"1290\" y=\"131\" />\n        <bpmndi:BPMNLabel>\n          <dc:Bounds x=\"999\" y=\"133\" width=\"90\" height=\"6\" />\n        </bpmndi:BPMNLabel>\n      </bpmndi:BPMNEdge>\n      <bpmndi:BPMNEdge id=\"BPMNEdge_SequenceFlow_11\" bpmnElement=\"SequenceFlow_11\" sourceElement=\"_BPMNShape_SendTask_2\" targetElement=\"_BPMNShape_EndEvent_2\">\n        <di:waypoint x=\"1390\" y=\"131\" />\n        <di:waypoint x=\"1445\" y=\"131\" />\n        <bpmndi:BPMNLabel>\n          <dc:Bounds x=\"1159\" y=\"143\" width=\"90\" height=\"6\" />\n        </bpmndi:BPMNLabel>\n      </bpmndi:BPMNEdge>\n      <bpmndi:BPMNEdge id=\"BPMNEdge_SequenceFlow_2\" bpmnElement=\"SequenceFlow_2\" sourceElement=\"_BPMNShape_BusinessRuleTask_2\" targetElement=\"_BPMNShape_ExclusiveGateway_2\">\n        <di:waypoint x=\"521\" y=\"131\" />\n        <di:waypoint x=\"556\" y=\"131\" />\n        <bpmndi:BPMNLabel>\n          <dc:Bounds x=\"301\" y=\"131\" width=\"90\" height=\"6\" />\n        </bpmndi:BPMNLabel>\n      </bpmndi:BPMNEdge>\n      <bpmndi:BPMNEdge id=\"BPMNEdge_SequenceFlow_7\" bpmnElement=\"SequenceFlow_7\" sourceElement=\"_BPMNShape_ExclusiveGateway_2\">\n        <di:waypoint x=\"606\" y=\"131\" />\n        <di:waypoint x=\"1139\" y=\"131\" />\n        <bpmndi:BPMNLabel>\n          <dc:Bounds x=\"604\" y=\"136\" width=\"41\" height=\"27\" />\n        </bpmndi:BPMNLabel>\n      </bpmndi:BPMNEdge>\n      <bpmndi:BPMNEdge id=\"BPMNEdge_SequenceFlow_16\" bpmnElement=\"SequenceFlow_16\" sourceElement=\"_BPMNShape_ExclusiveGateway_2\">\n        <di:waypoint x=\"581\" y=\"156\" />\n        <di:waypoint x=\"581\" y=\"574\" />\n        <di:waypoint x=\"1139\" y=\"574\" />\n        <bpmndi:BPMNLabel>\n          <dc:Bounds x=\"596\" y=\"542\" width=\"61\" height=\"27\" />\n        </bpmndi:BPMNLabel>\n      </bpmndi:BPMNEdge>\n      <bpmndi:BPMNEdge id=\"BPMNEdge_SequenceFlow_8\" bpmnElement=\"SequenceFlow_8\" sourceElement=\"_BPMNShape_ExclusiveGateway_3\">\n        <di:waypoint x=\"1080\" y=\"302\" />\n        <di:waypoint x=\"1080\" y=\"149\" />\n        <di:waypoint x=\"1139\" y=\"149\" />\n        <bpmndi:BPMNLabel>\n          <dc:Bounds x=\"1096\" y=\"255\" width=\"53\" height=\"27\" />\n        </bpmndi:BPMNLabel>\n      </bpmndi:BPMNEdge>\n      <bpmndi:BPMNEdge id=\"BPMNEdge_SequenceFlow_12\" bpmnElement=\"SequenceFlow_12\" sourceElement=\"_BPMNShape_ExclusiveGateway_3\">\n        <di:waypoint x=\"1080\" y=\"352\" />\n        <di:waypoint x=\"1080\" y=\"555\" />\n        <di:waypoint x=\"1139\" y=\"555\" />\n        <bpmndi:BPMNLabel>\n          <dc:Bounds x=\"1090\" y=\"364\" width=\"53\" height=\"27\" />\n        </bpmndi:BPMNLabel>\n      </bpmndi:BPMNEdge>\n      <bpmndi:BPMNEdge id=\"BPMNEdge_SequenceFlow_13\" bpmnElement=\"SequenceFlow_13\" sourceElement=\"_BPMNShape_SendTask_3\" targetElement=\"_BPMNShape_EndEvent_3\">\n        <di:waypoint x=\"1390\" y=\"574\" />\n        <di:waypoint x=\"1445\" y=\"574\" />\n        <bpmndi:BPMNLabel>\n          <dc:Bounds x=\"1054\" y=\"575\" width=\"90\" height=\"6\" />\n        </bpmndi:BPMNLabel>\n      </bpmndi:BPMNEdge>\n      <bpmndi:BPMNShape id=\"ServiceTask_0o3o39j_di\" bpmnElement=\"ServiceTask_RejectPolicy\">\n        <dc:Bounds x=\"1139\" y=\"534\" width=\"100\" height=\"80\" />\n      </bpmndi:BPMNShape>\n      <bpmndi:BPMNEdge id=\"SequenceFlow_01vh1zw_di\" bpmnElement=\"SequenceFlow_01vh1zw\">\n        <di:waypoint x=\"1239\" y=\"574\" />\n        <di:waypoint x=\"1290\" y=\"574\" />\n        <bpmndi:BPMNLabel>\n          <dc:Bounds x=\"1009\" y=\"564\" width=\"90\" height=\"20\" />\n        </bpmndi:BPMNLabel>\n      </bpmndi:BPMNEdge>\n      <bpmndi:BPMNEdge id=\"BPMNEdge_SequenceFlow_3\" bpmnElement=\"SequenceFlow_3\">\n        <di:waypoint x=\"581\" y=\"156\" />\n        <di:waypoint x=\"581\" y=\"313\" />\n        <di:waypoint x=\"717\" y=\"313\" />\n        <bpmndi:BPMNLabel>\n          <dc:Bounds x=\"593\" y=\"280\" width=\"75\" height=\"40\" />\n        </bpmndi:BPMNLabel>\n      </bpmndi:BPMNEdge>\n      <bpmndi:BPMNShape id=\"_BPMNShape_EndEvent_28\" bpmnElement=\"EndEvent_DecisionAccelerated\">\n        <dc:Bounds x=\"995\" y=\"188\" width=\"36\" height=\"36\" />\n        <bpmndi:BPMNLabel>\n          <dc:Bounds x=\"986\" y=\"229\" width=\"57\" height=\"27\" />\n        </bpmndi:BPMNLabel>\n      </bpmndi:BPMNShape>\n      <bpmndi:BPMNShape id=\"_BPMNShape_UserTask_6\" bpmnElement=\"UserTask_AccelerateDecision\">\n        <dc:Bounds x=\"867\" y=\"166\" width=\"100\" height=\"80\" />\n      </bpmndi:BPMNShape>\n      <bpmndi:BPMNEdge id=\"BPMNEdge_SequenceFlow_5\" bpmnElement=\"SequenceFlow_5\">\n        <di:waypoint x=\"967\" y=\"206\" />\n        <di:waypoint x=\"995\" y=\"206\" />\n        <bpmndi:BPMNLabel>\n          <dc:Bounds x=\"725\" y=\"188\" width=\"90\" height=\"6\" />\n        </bpmndi:BPMNLabel>\n      </bpmndi:BPMNEdge>\n      <bpmndi:BPMNShape id=\"UserTask_1b9zsmd_di\" bpmnElement=\"UserTask_DecideOnApplication\">\n        <dc:Bounds x=\"717\" y=\"287\" width=\"100\" height=\"80\" />\n      </bpmndi:BPMNShape>\n      <bpmndi:BPMNShape id=\"CallActivity_01bed3n_di\" bpmnElement=\"CallActivity_RequestDocument\">\n        <dc:Bounds x=\"867\" y=\"400\" width=\"100\" height=\"80\" />\n      </bpmndi:BPMNShape>\n      <bpmndi:BPMNShape id=\"BoundaryEvent_09ag0rf_di\" bpmnElement=\"BoundaryEvent_1i1spfe\">\n        <dc:Bounds x=\"772\" y=\"349\" width=\"36\" height=\"36\" />\n        <bpmndi:BPMNLabel>\n          <dc:Bounds x=\"786\" y=\"385\" width=\"89\" height=\"14\" />\n        </bpmndi:BPMNLabel>\n      </bpmndi:BPMNShape>\n      <bpmndi:BPMNEdge id=\"SequenceFlow_0lwkj1f_di\" bpmnElement=\"SequenceFlow_0lwkj1f\">\n        <di:waypoint x=\"790\" y=\"385\" />\n        <di:waypoint x=\"790\" y=\"440\" />\n        <di:waypoint x=\"867\" y=\"440\" />\n        <bpmndi:BPMNLabel>\n          <dc:Bounds x=\"549\" y=\"406\" width=\"90\" height=\"13\" />\n        </bpmndi:BPMNLabel>\n      </bpmndi:BPMNEdge>\n      <bpmndi:BPMNEdge id=\"SequenceFlow_1te4zir_di\" bpmnElement=\"SequenceFlow_1te4zir\">\n        <di:waypoint x=\"967\" y=\"440\" />\n        <di:waypoint x=\"996\" y=\"440\" />\n        <di:waypoint x=\"996\" y=\"505\" />\n        <di:waypoint x=\"656\" y=\"505\" />\n        <di:waypoint x=\"656\" y=\"341\" />\n        <di:waypoint x=\"717\" y=\"341\" />\n        <bpmndi:BPMNLabel>\n          <dc:Bounds x=\"570\" y=\"484\" width=\"90\" height=\"13\" />\n        </bpmndi:BPMNLabel>\n      </bpmndi:BPMNEdge>\n      <bpmndi:BPMNEdge id=\"SequenceFlow_0o6gf8v_di\" bpmnElement=\"SequenceFlow_0o6gf8v\">\n        <di:waypoint x=\"790\" y=\"269\" />\n        <di:waypoint x=\"790\" y=\"206\" />\n        <di:waypoint x=\"867\" y=\"206\" />\n        <bpmndi:BPMNLabel>\n          <dc:Bounds x=\"549\" y=\"231\" width=\"90\" height=\"13\" />\n        </bpmndi:BPMNLabel>\n      </bpmndi:BPMNEdge>\n      <bpmndi:BPMNEdge id=\"SequenceFlow_1h4oxvl_di\" bpmnElement=\"SequenceFlow_1h4oxvl\">\n        <di:waypoint x=\"817\" y=\"327\" />\n        <di:waypoint x=\"1055\" y=\"327\" />\n        <bpmndi:BPMNLabel>\n          <dc:Bounds x=\"680\" y=\"306\" width=\"90\" height=\"13\" />\n        </bpmndi:BPMNLabel>\n      </bpmndi:BPMNEdge>\n      <bpmndi:BPMNShape id=\"BoundaryEvent_138xipm_di\" bpmnElement=\"BoundaryEvent_0mcjys5\">\n        <dc:Bounds x=\"772\" y=\"269\" width=\"36\" height=\"36\" />\n        <bpmndi:BPMNLabel>\n          <dc:Bounds x=\"811\" y=\"254\" width=\"58\" height=\"14\" />\n        </bpmndi:BPMNLabel>\n      </bpmndi:BPMNShape>\n      <bpmndi:BPMNShape id=\"ServiceTask_0tixwo5_di\" bpmnElement=\"ServiceTask_0tixwo5\">\n        <dc:Bounds x=\"276\" y=\"91\" width=\"100\" height=\"80\" />\n      </bpmndi:BPMNShape>\n      <bpmndi:BPMNEdge id=\"SequenceFlow_1gd6p37_di\" bpmnElement=\"SequenceFlow_1gd6p37\">\n        <di:waypoint x=\"376\" y=\"131\" />\n        <di:waypoint x=\"421\" y=\"131\" />\n      </bpmndi:BPMNEdge>\n    </bpmndi:BPMNPlane>\n  </bpmndi:BPMNDiagram>\n</bpmn2:definitions>",[m
[32m+[m[32m  "bpmn20Xml": "<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<bpmn2:definitions xmlns:bpmn2=\"http://www.omg.org/spec/BPMN/20100524/MODEL\" xmlns:camunda=\"http://camunda.org/schema/1.0/bpmn\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns:bpmndi=\"http://www.omg.org/spec/BPMN/20100524/DI\" xmlns:di=\"http://www.omg.org/spec/DD/20100524/DI\" xmlns:dc=\"http://www.omg.org/spec/DD/20100524/DC\" id=\"_5SVkEIXnEeSmwfgVk-ryvQ\" targetNamespace=\"http://camunda.org/schema/1.0/bpmn\" exporter=\"Camunda Modeler\" exporterVersion=\"3.6.0\" xsi:schemaLocation=\"http://www.omg.org/spec/BPMN/20100524/MODEL BPMN20.xsd\">\n  <bpmn2:collaboration id=\"Collaboration_1u35ano\">\n    <bpmn2:participant id=\"Participant_0477s11\" name=\"Camunda Customer Onboarding Demo\" processRef=\"customer_onboarding_en\" />\n  </bpmn2:collaboration>\n  <bpmn2:process id=\"customer_onboarding_en\" name=\"Customer Onboarding\" isExecutable=\"true\">\n    <bpmn2:startEvent id=\"StartEvent_1\" name=\"Application received\" camunda:asyncAfter=\"true\" camunda:formKey=\"app:camunda/online/index.html\">\n      <bpmn2:extensionElements>\n        <camunda:properties>\n          <camunda:property name=\"simNextFire\" value=\"${g.timesPerDay(&#34;onboard&#34;,&#34;07:30&#34;,&#34;22:30&#34;, g.linearBySimulationTime(5,15))}\" />\n          <camunda:property name=\"simInitPayload\" value=\"application=${g.json(generator.newApplication(false))}\" />\n          <camunda:property name=\"simGeneratePayload\" value=\"applicationNumber=${application.getApplicationNumber()}\" />\n          <camunda:property name=\"simGeneratePayload\" value=\"applicantName=${application.getApplicant().getName()}\" />\n          <camunda:property name=\"simInitBusinessKey\" value=\"A-${g.format1(&#39;%05d&#39;, g.uniqueNumber())}\" />\n          <camunda:property name=\"simGeneratePayload\" value=\"category=${application.getCategory()}\" />\n          <camunda:property name=\"simKeepListeners\" value=\"true\" />\n        </camunda:properties>\n        <camunda:executionListener delegateExpression=\"${corporationMapper}\" event=\"start\" />\n      </bpmn2:extensionElements>\n      <bpmn2:outgoing>SequenceFlow_6</bpmn2:outgoing>\n    </bpmn2:startEvent>\n    <bpmn2:exclusiveGateway id=\"ExclusiveGateway_2\" name=\"Decision?\">\n      <bpmn2:extensionElements>\n        <camunda:properties>\n          <camunda:property name=\"simulateKeepImplementation\" value=\"true\" />\n        </camunda:properties>\n      </bpmn2:extensionElements>\n      <bpmn2:incoming>SequenceFlow_1h4oxvl</bpmn2:incoming>\n      <bpmn2:outgoing>SequenceFlow_8</bpmn2:outgoing>\n      <bpmn2:outgoing>SequenceFlow_12</bpmn2:outgoing>\n    </bpmn2:exclusiveGateway>\n    <bpmn2:endEvent id=\"EndEvent_ApplicationIssued\" name=\"Application&#10; issued\">\n      <bpmn2:extensionElements>\n        <camunda:properties>\n          <camunda:property name=\"KPI-Ratio\" value=\"Policed\" />\n        </camunda:properties>\n      </bpmn2:extensionElements>\n      <bpmn2:incoming>SequenceFlow_11</bpmn2:incoming>\n    </bpmn2:endEvent>\n    <bpmn2:sendTask id=\"SendTask_SendPolicy\" name=\"Send confirmation\" camunda:async=\"true\" camunda:type=\"external\" camunda:topic=\"emailService\">\n      <bpmn2:extensionElements>\n        <camunda:inputOutput>\n          <camunda:inputParameter name=\"mailBody\">\n            <camunda:script scriptFormat=\"freemarker\">Dear ${application.applicant.name}.\n\nWe happily inform you that your request was accepted.\n\nPlease check the key facts: \n- Application Number: ${application.applicationNumber}\n- Premium per anno: ${application.premium}\n- Product: ${application.product}\n\nKind regards,\n${application.corporation}.</camunda:script>\n          </camunda:inputParameter>\n          <camunda:inputParameter name=\"mailSubject\">Your request was issued</camunda:inputParameter>\n        </camunda:inputOutput>\n        <camunda:properties>\n          <camunda:property name=\"simNextFire\" value=\"${g.now()}\" />\n        </camunda:properties>\n      </bpmn2:extensionElements>\n      <bpmn2:incoming>SequenceFlow_10</bpmn2:incoming>\n      <bpmn2:outgoing>SequenceFlow_11</bpmn2:outgoing>\n    </bpmn2:sendTask>\n    <bpmn2:serviceTask id=\"ServiceTask_DeliverPolicy\" name=\"Deliver confirmation\" camunda:delegateExpression=\"${issuePolicyAdapter}\">\n      <bpmn2:extensionElements>\n        <camunda:properties>\n          <camunda:property name=\"simCallRealImplementation\" value=\"true\" />\n        </camunda:properties>\n      </bpmn2:extensionElements>\n      <bpmn2:incoming>SequenceFlow_8</bpmn2:incoming>\n      <bpmn2:incoming>SequenceFlow_7</bpmn2:incoming>\n      <bpmn2:outgoing>SequenceFlow_10</bpmn2:outgoing>\n    </bpmn2:serviceTask>\n    <bpmn2:businessRuleTask id=\"BusinessRuleTask_CheckApplicationAutomatically\" name=\"Check application automatically\" camunda:resultVariable=\"riskDMNresult\" camunda:decisionRef=\"checkRisk_en\">\n      <bpmn2:extensionElements>\n        <camunda:executionListener class=\"com.camunda.demo.customeronboarding.adapter.MapDmnResult\" event=\"end\" />\n        <camunda:properties>\n          <camunda:property name=\"simCallRealImplementation\" value=\"true\" />\n          <camunda:property name=\"simKeepListeners\" value=\"true\" />\n        </camunda:properties>\n        <camunda:executionListener event=\"start\">\n          <camunda:script scriptFormat=\"javascript\">if(execution.hasVariable(\"riskDMNresult\")) {\n      execution.removeVariable(\"riskDMNresult\");\n    }</camunda:script>\n        </camunda:executionListener>\n      </bpmn2:extensionElements>\n      <bpmn2:incoming>SequenceFlow_1gd6p37</bpmn2:incoming>\n      <bpmn2:outgoing>SequenceFlow_2</bpmn2:outgoing>\n    </bpmn2:businessRuleTask>\n    <bpmn2:exclusiveGateway id=\"ExclusiveGatewayPruefung\" name=\"Risk?\">\n      <bpmn2:extensionElements>\n        <camunda:properties>\n          <camunda:property name=\"simulateKeepImplementation\" value=\"true\" />\n        </camunda:properties>\n      </bpmn2:extensionElements>\n      <bpmn2:incoming>SequenceFlow_2</bpmn2:incoming>\n      <bpmn2:outgoing>SequenceFlow_7</bpmn2:outgoing>\n      <bpmn2:outgoing>SequenceFlow_16</bpmn2:outgoing>\n      <bpmn2:outgoing>SequenceFlow_3</bpmn2:outgoing>\n    </bpmn2:exclusiveGateway>\n    <bpmn2:endEvent id=\"EndEvent_DecisionAccelerated\" name=\"Decision accelerated\">\n      <bpmn2:incoming>SequenceFlow_5</bpmn2:incoming>\n    </bpmn2:endEvent>\n    <bpmn2:endEvent id=\"EndEvent_ApplicationRejected\" name=\"Application &#10;rejected\">\n      <bpmn2:extensionElements>\n        <camunda:properties>\n          <camunda:property name=\"KPI-Ratio\" value=\"Rejected\" />\n        </camunda:properties>\n      </bpmn2:extensionElements>\n      <bpmn2:incoming>SequenceFlow_13</bpmn2:incoming>\n    </bpmn2:endEvent>\n    <bpmn2:serviceTask id=\"ServiceTask_RejectPolicy\" name=\"Reject application\" camunda:delegateExpression=\"${loggerDelegate}\">\n      <bpmn2:incoming>SequenceFlow_12</bpmn2:incoming>\n      <bpmn2:incoming>SequenceFlow_16</bpmn2:incoming>\n      <bpmn2:outgoing>SequenceFlow_01vh1zw</bpmn2:outgoing>\n    </bpmn2:serviceTask>\n    <bpmn2:sendTask id=\"SendTask_SendRejection\" name=\"Send rejection\" camunda:async=\"true\" camunda:type=\"external\" camunda:topic=\"emailService\">\n      <bpmn2:extensionElements>\n        <camunda:inputOutput>\n          <camunda:inputParameter name=\"mailBody\">\n            <camunda:script scriptFormat=\"freemarker\">Dear ${application.applicant.name}.\n\nUnfortunately we have to inform you that we cannot issue the desired request.\n\nKind regards,\n${application.corporation}.</camunda:script>\n          </camunda:inputParameter>\n          <camunda:inputParameter name=\"mailSubject\">Request rejected</camunda:inputParameter>\n        </camunda:inputOutput>\n        <camunda:properties>\n          <camunda:property name=\"simNextFire\" value=\"${g.now()}\" />\n        </camunda:properties>\n      </bpmn2:extensionElements>\n      <bpmn2:incoming>SequenceFlow_01vh1zw</bpmn2:incoming>\n      <bpmn2:outgoing>SequenceFlow_13</bpmn2:outgoing>\n    </bpmn2:sendTask>\n    <bpmn2:userTask id=\"UserTask_DecideOnApplication\" name=\"Decide on application\" camunda:asyncAfter=\"true\" camunda:formKey=\"embedded:app:forms/decide_en.html\" camunda:candidateGroups=\"clerk\" camunda:dueDate=\"${dateTime().plusDays(1).toDate()}\">\n      <bpmn2:extensionElements>\n        <camunda:properties>\n          <camunda:property name=\"simGeneratePayload\" value=\"approved=${g.randBool(0.75)}\" />\n          <camunda:property name=\"simNextFire\" value=\"${g.nowPlusHours(g.uniformInt(g.exponentialBySimulationTime(1,48,3),72))}\" />\n          <camunda:property name=\"simKeepListeners\" value=\"true\" />\n          <camunda:property name=\"simGeneratePayload\" value=\"requestedDocumentDescription=someDocument\" />\n        </camunda:properties>\n        <camunda:taskListener event=\"create\">\n          <camunda:script scriptFormat=\"JavaScript\">task.setVariable('documentReferenceId', String(Date.now()));\n\nvar lastAssignee = task.getVariable('lastAssignee');\nif (lastAssignee != null) {\n  task.setAssignee(lastAssignee);\n}</camunda:script>\n        </camunda:taskListener>\n        <camunda:taskListener event=\"assignment\">\n          <camunda:script scriptFormat=\"JavaScript\">task.setVariable('lastAssignee', task.getAssignee());</camunda:script>\n        </camunda:taskListener>\n      </bpmn2:extensionElements>\n      <bpmn2:incoming>SequenceFlow_1te4zir</bpmn2:incoming>\n      <bpmn2:incoming>SequenceFlow_3</bpmn2:incoming>\n      <bpmn2:outgoing>SequenceFlow_1h4oxvl</bpmn2:outgoing>\n    </bpmn2:userTask>\n    <bpmn2:callActivity id=\"CallActivity_RequestDocument\" name=\"Request document\" calledElement=\"requestDocument_en\">\n      <bpmn2:extensionElements>\n        <camunda:in source=\"application\" target=\"application\" />\n        <camunda:in source=\"requestedDocumentDescription\" target=\"requestedDocumentDescription\" />\n        <camunda:out source=\"document\" target=\"document\" />\n        <camunda:executionListener event=\"end\">\n          <camunda:script scriptFormat=\"JavaScript\">var typedDocument = execution.getVariableTyped('document');\nvar oldDocuments = execution.getVariable('documents');\n\nif (typedDocument != null &amp;&amp; typedDocument.getValue() != null) {\n  execution.setVariable('document_' + documentReferenceId, typedDocument);\n\n  var json = S('{}');\n  json.prop('description', requestedDocumentDescription);\n  json.prop('filename', typedDocument.getFilename());\n\n  var documents = S(oldDocuments != null ? oldDocuments : '{}');\n  documents.prop(documentReferenceId, json);\n  execution.setVariable('documents', documents);\n}</camunda:script>\n        </camunda:executionListener>\n        <camunda:in source=\"documentReferenceId\" target=\"documentReferenceId\" />\n        <camunda:in source=\"uiBaseUrl\" target=\"uiBaseUrl\" />\n        <camunda:properties>\n          <camunda:property name=\"simKeepListeners\" value=\"true\" />\n        </camunda:properties>\n        <camunda:in businessKey=\"#{execution.processBusinessKey}\" />\n      </bpmn2:extensionElements>\n      <bpmn2:incoming>SequenceFlow_0lwkj1f</bpmn2:incoming>\n      <bpmn2:outgoing>SequenceFlow_1te4zir</bpmn2:outgoing>\n    </bpmn2:callActivity>\n    <bpmn2:userTask id=\"UserTask_AccelerateDecision\" name=\"Accelerate decision making\" camunda:candidateGroups=\"teamlead\">\n      <bpmn2:extensionElements>\n        <camunda:properties>\n          <camunda:property name=\"simNextComplete\" value=\"${g.nowPlusHours(g.uniformInt(2,10))}\" />\n        </camunda:properties>\n      </bpmn2:extensionElements>\n      <bpmn2:incoming>SequenceFlow_0o6gf8v</bpmn2:incoming>\n      <bpmn2:outgoing>SequenceFlow_5</bpmn2:outgoing>\n    </bpmn2:userTask>\n    <bpmn2:serviceTask id=\"ServiceTask_0tixwo5\" name=\"Get credit score\" camunda:delegateExpression=\"${calculateScore}\">\n      <bpmn2:extensionElements>\n        <camunda:properties>\n          <camunda:property name=\"simCallRealImplementation\" value=\"true\" />\n        </camunda:properties>\n      </bpmn2:extensionElements>\n      <bpmn2:incoming>SequenceFlow_6</bpmn2:incoming>\n      <bpmn2:outgoing>SequenceFlow_1gd6p37</bpmn2:outgoing>\n    </bpmn2:serviceTask>\n    <bpmn2:boundaryEvent id=\"BoundaryEvent_1i1spfe\" name=\"document needed\" attachedToRef=\"UserTask_DecideOnApplication\">\n      <bpmn2:extensionElements>\n        <camunda:properties>\n          <camunda:property name=\"simNextFire\" value=\"${generator.nowPlusHours(generator.uniformInt(24,72))}\" />\n          <camunda:property name=\"simGeneratePayload\" value=\"requestedDocumentDescription=&#34;very important document&#34;\" />\n          <camunda:property name=\"simGeneratePayload\" value=\"uiBaseUrl=&#34;camunda.com&#34;\" />\n          <camunda:property name=\"simGeneratePayload\" value=\"documentReferenceId=&#34;123456&#34;\" />\n        </camunda:properties>\n      </bpmn2:extensionElements>\n      <bpmn2:outgoing>SequenceFlow_0lwkj1f</bpmn2:outgoing>\n      <bpmn2:messageEventDefinition messageRef=\"Message_0fvpzfg\" />\n    </bpmn2:boundaryEvent>\n    <bpmn2:boundaryEvent id=\"BoundaryEvent_0mcjys5\" name=\"after 2 days\" cancelActivity=\"false\" attachedToRef=\"UserTask_DecideOnApplication\">\n      <bpmn2:outgoing>SequenceFlow_0o6gf8v</bpmn2:outgoing>\n      <bpmn2:timerEventDefinition>\n        <bpmn2:timeDuration xsi:type=\"bpmn2:tFormalExpression\">P2D</bpmn2:timeDuration>\n      </bpmn2:timerEventDefinition>\n    </bpmn2:boundaryEvent>\n    <bpmn2:sequenceFlow id=\"SequenceFlow_1gd6p37\" sourceRef=\"ServiceTask_0tixwo5\" targetRef=\"BusinessRuleTask_CheckApplicationAutomatically\" />\n    <bpmn2:sequenceFlow id=\"SequenceFlow_0o6gf8v\" sourceRef=\"BoundaryEvent_0mcjys5\" targetRef=\"UserTask_AccelerateDecision\" />\n    <bpmn2:sequenceFlow id=\"SequenceFlow_0lwkj1f\" sourceRef=\"BoundaryEvent_1i1spfe\" targetRef=\"CallActivity_RequestDocument\" />\n    <bpmn2:sequenceFlow id=\"SequenceFlow_1te4zir\" sourceRef=\"CallActivity_RequestDocument\" targetRef=\"UserTask_DecideOnApplication\" />\n    <bpmn2:sequenceFlow id=\"SequenceFlow_01vh1zw\" sourceRef=\"ServiceTask_RejectPolicy\" targetRef=\"SendTask_SendRejection\" />\n    <bpmn2:sequenceFlow id=\"SequenceFlow_13\" name=\"\" sourceRef=\"SendTask_SendRejection\" targetRef=\"EndEvent_ApplicationRejected\" />\n    <bpmn2:sequenceFlow id=\"SequenceFlow_5\" name=\"\" sourceRef=\"UserTask_AccelerateDecision\" targetRef=\"EndEvent_DecisionAccelerated\" />\n    <bpmn2:sequenceFlow id=\"SequenceFlow_16\" name=\"red &#10;(severe risk)\" sourceRef=\"ExclusiveGatewayPruefung\" targetRef=\"ServiceTask_RejectPolicy\">\n      <bpmn2:conditionExpression xsi:type=\"bpmn2:tFormalExpression\">#{riskLevel == 'red'}</bpmn2:conditionExpression>\n    </bpmn2:sequenceFlow>\n    <bpmn2:sequenceFlow id=\"SequenceFlow_3\" name=\"yellow&#10;(moderate risk)&#10;\" sourceRef=\"ExclusiveGatewayPruefung\" targetRef=\"UserTask_DecideOnApplication\">\n      <bpmn2:conditionExpression xsi:type=\"bpmn2:tFormalExpression\">#{riskLevel == 'yellow'}</bpmn2:conditionExpression>\n    </bpmn2:sequenceFlow>\n    <bpmn2:sequenceFlow id=\"SequenceFlow_2\" name=\"\" sourceRef=\"BusinessRuleTask_CheckApplicationAutomatically\" targetRef=\"ExclusiveGatewayPruefung\" />\n    <bpmn2:sequenceFlow id=\"SequenceFlow_7\" name=\"green&#10;(no risk)\" sourceRef=\"ExclusiveGatewayPruefung\" targetRef=\"ServiceTask_DeliverPolicy\">\n      <bpmn2:conditionExpression xsi:type=\"bpmn2:tFormalExpression\">#{riskLevel == 'green'}</bpmn2:conditionExpression>\n    </bpmn2:sequenceFlow>\n    <bpmn2:sequenceFlow id=\"SequenceFlow_10\" name=\"\" sourceRef=\"ServiceTask_DeliverPolicy\" targetRef=\"SendTask_SendPolicy\" />\n    <bpmn2:sequenceFlow id=\"SequenceFlow_11\" name=\"\" sourceRef=\"SendTask_SendPolicy\" targetRef=\"EndEvent_ApplicationIssued\" />\n    <bpmn2:sequenceFlow id=\"SequenceFlow_8\" name=\"application accepted\" camunda:modelerTemplate=\"com.camunda.demo.environment.probability\" sourceRef=\"ExclusiveGateway_2\" targetRef=\"ServiceTask_DeliverPolicy\">\n      <bpmn2:conditionExpression xsi:type=\"bpmn2:tFormalExpression\">#{approved}</bpmn2:conditionExpression>\n    </bpmn2:sequenceFlow>\n    <bpmn2:sequenceFlow id=\"SequenceFlow_12\" name=\"application declined\" sourceRef=\"ExclusiveGateway_2\" targetRef=\"ServiceTask_RejectPolicy\">\n      <bpmn2:conditionExpression xsi:type=\"bpmn2:tFormalExpression\">#{not approved}</bpmn2:conditionExpression>\n    </bpmn2:sequenceFlow>\n    <bpmn2:sequenceFlow id=\"SequenceFlow_1h4oxvl\" sourceRef=\"UserTask_DecideOnApplication\" targetRef=\"ExclusiveGateway_2\" />\n    <bpmn2:sequenceFlow id=\"SequenceFlow_6\" name=\"\" sourceRef=\"StartEvent_1\" targetRef=\"ServiceTask_0tixwo5\" />\n  </bpmn2:process>\n  <bpmn2:message id=\"Message_0fvpzfg\" name=\"Message_DocumentRequested\" />\n  <bpmndi:BPMNDiagram id=\"BPMNDiagram_1\">\n    <bpmndi:BPMNPlane id=\"BPMNPlane_1\" bpmnElement=\"Collaboration_1u35ano\">\n      <bpmndi:BPMNShape id=\"Participant_0477s11_di\" bpmnElement=\"Participant_0477s11\" isHorizontal=\"true\">\n        <dc:Bounds x=\"156\" y=\"71\" width=\"1360\" height=\"563\" />\n      </bpmndi:BPMNShape>\n      <bpmndi:BPMNShape id=\"_BPMNShape_StartEvent_4\" bpmnElement=\"StartEvent_1\">\n        <dc:Bounds x=\"206\" y=\"113\" width=\"36\" height=\"36\" />\n        <bpmndi:BPMNLabel>\n          <dc:Bounds x=\"199\" y=\"154\" width=\"53\" height=\"27\" />\n        </bpmndi:BPMNLabel>\n      </bpmndi:BPMNShape>\n      <bpmndi:BPMNShape id=\"_BPMNShape_SendTask_2\" bpmnElement=\"SendTask_SendPolicy\">\n        <dc:Bounds x=\"1290\" y=\"91\" width=\"100\" height=\"80\" />\n      </bpmndi:BPMNShape>\n      <bpmndi:BPMNShape id=\"_BPMNShape_ServiceTask_3\" bpmnElement=\"ServiceTask_DeliverPolicy\">\n        <dc:Bounds x=\"1139\" y=\"91\" width=\"100\" height=\"80\" />\n      </bpmndi:BPMNShape>\n      <bpmndi:BPMNShape id=\"_BPMNShape_EndEvent_2\" bpmnElement=\"EndEvent_ApplicationIssued\">\n        <dc:Bounds x=\"1445\" y=\"113\" width=\"36\" height=\"36\" />\n        <bpmndi:BPMNLabel>\n          <dc:Bounds x=\"1438\" y=\"154\" width=\"53\" height=\"27\" />\n        </bpmndi:BPMNLabel>\n      </bpmndi:BPMNShape>\n      <bpmndi:BPMNShape id=\"_BPMNShape_ExclusiveGateway_2\" bpmnElement=\"ExclusiveGatewayPruefung\" isMarkerVisible=\"true\">\n        <dc:Bounds x=\"556\" y=\"106\" width=\"50\" height=\"50\" />\n        <bpmndi:BPMNLabel>\n          <dc:Bounds x=\"567\" y=\"81\" width=\"28\" height=\"14\" />\n        </bpmndi:BPMNLabel>\n      </bpmndi:BPMNShape>\n      <bpmndi:BPMNShape id=\"_BPMNShape_BusinessRuleTask_2\" bpmnElement=\"BusinessRuleTask_CheckApplicationAutomatically\">\n        <dc:Bounds x=\"421\" y=\"91\" width=\"100\" height=\"80\" />\n      </bpmndi:BPMNShape>\n      <bpmndi:BPMNShape id=\"_BPMNShape_ExclusiveGateway_3\" bpmnElement=\"ExclusiveGateway_2\" isMarkerVisible=\"true\">\n        <dc:Bounds x=\"1055\" y=\"302\" width=\"50\" height=\"50\" />\n        <bpmndi:BPMNLabel>\n          <dc:Bounds x=\"1129\" y=\"317\" width=\"49\" height=\"14\" />\n        </bpmndi:BPMNLabel>\n      </bpmndi:BPMNShape>\n      <bpmndi:BPMNShape id=\"_BPMNShape_SendTask_3\" bpmnElement=\"SendTask_SendRejection\">\n        <dc:Bounds x=\"1290\" y=\"534\" width=\"100\" height=\"80\" />\n      </bpmndi:BPMNShape>\n      <bpmndi:BPMNShape id=\"_BPMNShape_EndEvent_3\" bpmnElement=\"EndEvent_ApplicationRejected\">\n        <dc:Bounds x=\"1445\" y=\"556\" width=\"36\" height=\"36\" />\n        <bpmndi:BPMNLabel>\n          <dc:Bounds x=\"1436\" y=\"597\" width=\"56\" height=\"27\" />\n        </bpmndi:BPMNLabel>\n      </bpmndi:BPMNShape>\n      <bpmndi:BPMNEdge id=\"BPMNEdge_SequenceFlow_6\" bpmnElement=\"SequenceFlow_6\" sourceElement=\"_BPMNShape_StartEvent_4\" targetElement=\"ServiceTask_0tixwo5_di\">\n        <di:waypoint x=\"242\" y=\"131\" />\n        <di:waypoint x=\"276\" y=\"131\" />\n        <bpmndi:BPMNLabel>\n          <dc:Bounds x=\"125\" y=\"131\" width=\"90\" height=\"6\" />\n        </bpmndi:BPMNLabel>\n      </bpmndi:BPMNEdge>\n      <bpmndi:BPMNEdge id=\"BPMNEdge_SequenceFlow_10\" bpmnElement=\"SequenceFlow_10\" sourceElement=\"_BPMNShape_ServiceTask_3\" targetElement=\"_BPMNShape_SendTask_2\">\n        <di:waypoint x=\"1239\" y=\"131\" />\n        <di:waypoint x=\"1290\" y=\"131\" />\n        <bpmndi:BPMNLabel>\n          <dc:Bounds x=\"999\" y=\"133\" width=\"90\" height=\"6\" />\n        </bpmndi:BPMNLabel>\n      </bpmndi:BPMNEdge>\n      <bpmndi:BPMNEdge id=\"BPMNEdge_SequenceFlow_11\" bpmnElement=\"SequenceFlow_11\" sourceElement=\"_BPMNShape_SendTask_2\" targetElement=\"_BPMNShape_EndEvent_2\">\n        <di:waypoint x=\"1390\" y=\"131\" />\n        <di:waypoint x=\"1445\" y=\"131\" />\n        <bpmndi:BPMNLabel>\n          <dc:Bounds x=\"1159\" y=\"143\" width=\"90\" height=\"6\" />\n        </bpmndi:BPMNLabel>\n      </bpmndi:BPMNEdge>\n      <bpmndi:BPMNEdge id=\"BPMNEdge_SequenceFlow_2\" bpmnElement=\"SequenceFlow_2\" sourceElement=\"_BPMNShape_BusinessRuleTask_2\" targetElement=\"_BPMNShape_ExclusiveGateway_2\">\n        <di:waypoint x=\"521\" y=\"131\" />\n        <di:waypoint x=\"556\" y=\"131\" />\n        <bpmndi:BPMNLabel>\n          <dc:Bounds x=\"301\" y=\"131\" width=\"90\" height=\"6\" />\n        </bpmndi:BPMNLabel>\n      </bpmndi:BPMNEdge>\n      <bpmndi:BPMNEdge id=\"BPMNEdge_SequenceFlow_7\" bpmnElement=\"SequenceFlow_7\" sourceElement=\"_BPMNShape_ExclusiveGateway_2\">\n        <di:waypoint x=\"606\" y=\"131\" />\n        <di:waypoint x=\"1139\" y=\"131\" />\n        <bpmndi:BPMNLabel>\n          <dc:Bounds x=\"604\" y=\"136\" width=\"41\" height=\"27\" />\n        </bpmndi:BPMNLabel>\n      </bpmndi:BPMNEdge>\n      <bpmndi:BPMNEdge id=\"BPMNEdge_SequenceFlow_16\" bpmnElement=\"SequenceFlow_16\" sourceElement=\"_BPMNShape_ExclusiveGateway_2\">\n        <di:waypoint x=\"581\" y=\"156\" />\n        <di:waypoint x=\"581\" y=\"574\" />\n        <di:waypoint x=\"1139\" y=\"574\" />\n        <bpmndi:BPMNLabel>\n          <dc:Bounds x=\"596\" y=\"542\" width=\"61\" height=\"27\" />\n        </bpmndi:BPMNLabel>\n      </bpmndi:BPMNEdge>\n      <bpmndi:BPMNEdge id=\"BPMNEdge_SequenceFlow_8\" bpmnElement=\"SequenceFlow_8\" sourceElement=\"_BPMNShape_ExclusiveGateway_3\">\n        <di:waypoint x=\"1080\" y=\"302\" />\n        <di:waypoint x=\"1080\" y=\"149\" />\n        <di:waypoint x=\"1139\" y=\"149\" />\n        <bpmndi:BPMNLabel>\n          <dc:Bounds x=\"1096\" y=\"255\" width=\"53\" height=\"27\" />\n        </bpmndi:BPMNLabel>\n      </bpmndi:BPMNEdge>\n      <bpmndi:BPMNEdge id=\"BPMNEdge_SequenceFlow_12\" bpmnElement=\"SequenceFlow_12\" sourceElement=\"_BPMNShape_ExclusiveGateway_3\">\n        <di:waypoint x=\"1080\" y=\"352\" />\n        <di:waypoint x=\"1080\" y=\"555\" />\n        <di:waypoint x=\"1139\" y=\"555\" />\n        <bpmndi:BPMNLabel>\n          <dc:Bounds x=\"1090\" y=\"364\" width=\"53\" height=\"27\" />\n        </bpmndi:BPMNLabel>\n      </bpmndi:BPMNEdge>\n      <bpmndi:BPMNEdge id=\"BPMNEdge_SequenceFlow_13\" bpmnElement=\"SequenceFlow_13\" sourceElement=\"_BPMNShape_SendTask_3\" targetElement=\"_BPMNShape_EndEvent_3\">\n        <di:waypoint x=\"1390\" y=\"574\" />\n        <di:waypoint x=\"1445\" y=\"574\" />\n        <bpmndi:BPMNLabel>\n          <dc:Bounds x=\"1054\" y=\"575\" width=\"90\" height=\"6\" />\n        </bpmndi:BPMNLabel>\n      </bpmndi:BPMNEdge>\n      <bpmndi:BPMNShape id=\"ServiceTask_0o3o39j_di\" bpmnElement=\"ServiceTask_RejectPolicy\">\n        <dc:Bounds x=\"1139\" y=\"534\" width=\"100\" height=\"80\" />\n      </bpmndi:BPMNShape>\n      <bpmndi:BPMNEdge id=\"SequenceFlow_01vh1zw_di\" bpmnElement=\"SequenceFlow_01vh1zw\">\n        <di:waypoint x=\"1239\" y=\"574\" />\n        <di:waypoint x=\"1290\" y=\"574\" />\n        <bpmndi:BPMNLabel>\n          <dc:Bounds x=\"1009\" y=\"564\" width=\"90\" height=\"20\" />\n        </bpmndi:BPMNLabel>\n      </bpmndi:BPMNEdge>\n      <bpmndi:BPMNEdge id=\"BPMNEdge_SequenceFlow_3\" bpmnElement=\"SequenceFlow_3\">\n        <di:waypoint x=\"581\" y=\"156\" />\n        <di:waypoint x=\"581\" y=\"313\" />\n        <di:waypoint x=\"717\" y=\"313\" />\n        <bpmndi:BPMNLabel>\n          <dc:Bounds x=\"593\" y=\"280\" width=\"75\" height=\"40\" />\n        </bpmndi:BPMNLabel>\n      </bpmndi:BPMNEdge>\n      <bpmndi:BPMNShape id=\"_BPMNShape_EndEvent_28\" bpmnElement=\"EndEvent_DecisionAccelerated\">\n        <dc:Bounds x=\"995\" y=\"188\" width=\"36\" height=\"36\" />\n        <bpmndi:BPMNLabel>\n          <dc:Bounds x=\"986\" y=\"229\" width=\"57\" height=\"27\" />\n        </bpmndi:BPMNLabel>\n      </bpmndi:BPMNShape>\n      <bpmndi:BPMNShape id=\"_BPMNShape_UserTask_6\" bpmnElement=\"UserTask_AccelerateDecision\">\n        <dc:Bounds x=\"867\" y=\"166\" width=\"100\" height=\"80\" />\n      </bpmndi:BPMNShape>\n      <bpmndi:BPMNEdge id=\"BPMNEdge_SequenceFlow_5\" bpmnElement=\"SequenceFlow_5\">\n        <di:waypoint x=\"967\" y=\"206\" />\n        <di:waypoint x=\"995\" y=\"206\" />\n        <bpmndi:BPMNLabel>\n          <dc:Bounds x=\"725\" y=\"188\" width=\"90\" height=\"6\" />\n        </bpmndi:BPMNLabel>\n      </bpmndi:BPMNEdge>\n      <bpmndi:BPMNShape id=\"UserTask_1b9zsmd_di\" bpmnElement=\"UserTask_DecideOnApplication\">\n        <dc:Bounds x=\"717\" y=\"287\" width=\"100\" height=\"80\" />\n      </bpmndi:BPMNShape>\n      <bpmndi:BPMNShape id=\"CallActivity_01bed3n_di\" bpmnElement=\"CallActivity_RequestDocument\">\n        <dc:Bounds x=\"867\" y=\"400\" width=\"100\" height=\"80\" />\n      </bpmndi:BPMNShape>\n      <bpmndi:BPMNShape id=\"BoundaryEvent_09ag0rf_di\" bpmnElement=\"BoundaryEvent_1i1spfe\">\n        <dc:Bounds x=\"772\" y=\"349\" width=\"36\" height=\"36\" />\n        <bpmndi:BPMNLabel>\n          <dc:Bounds x=\"786\" y=\"385\" width=\"89\" height=\"14\" />\n        </bpmndi:BPMNLabel>\n      </bpmndi:BPMNShape>\n      <bpmndi:BPMNEdge id=\"SequenceFlow_0lwkj1f_di\" bpmnElement=\"SequenceFlow_0lwkj1f\">\n        <di:waypoint x=\"790\" y=\"385\" />\n        <di:waypoint x=\"790\" y=\"440\" />\n        <di:waypoint x=\"867\" y=\"440\" />\n        <bpmndi:BPMNLabel>\n          <dc:Bounds x=\"549\" y=\"406\" width=\"90\" height=\"13\" />\n        </bpmndi:BPMNLabel>\n      </bpmndi:BPMNEdge>\n      <bpmndi:BPMNEdge id=\"SequenceFlow_1te4zir_di\" bpmnElement=\"SequenceFlow_1te4zir\">\n        <di:waypoint x=\"967\" y=\"440\" />\n        <di:waypoint x=\"996\" y=\"440\" />\n        <di:waypoint x=\"996\" y=\"505\" />\n        <di:waypoint x=\"656\" y=\"505\" />\n        <di:waypoint x=\"656\" y=\"341\" />\n        <di:waypoint x=\"717\" y=\"341\" />\n        <bpmndi:BPMNLabel>\n          <dc:Bounds x=\"570\" y=\"484\" width=\"90\" height=\"13\" />\n        </bpmndi:BPMNLabel>\n      </bpmndi:BPMNEdge>\n      <bpmndi:BPMNEdge id=\"SequenceFlow_0o6gf8v_di\" bpmnElement=\"SequenceFlow_0o6gf8v\">\n        <di:waypoint x=\"790\" y=\"269\" />\n        <di:waypoint x=\"790\" y=\"206\" />\n        <di:waypoint x=\"867\" y=\"206\" />\n        <bpmndi:BPMNLabel>\n          <dc:Bounds x=\"549\" y=\"231\" width=\"90\" height=\"13\" />\n        </bpmndi:BPMNLabel>\n      </bpmndi:BPMNEdge>\n      <bpmndi:BPMNEdge id=\"SequenceFlow_1h4oxvl_di\" bpmnElement=\"SequenceFlow_1h4oxvl\">\n        <di:waypoint x=\"817\" y=\"327\" />\n        <di:waypoint x=\"1055\" y=\"327\" />\n        <bpmndi:BPMNLabel>\n          <dc:Bounds x=\"680\" y=\"306\" width=\"90\" height=\"13\" />\n        </bpmndi:BPMNLabel>\n      </bpmndi:BPMNEdge>\n      <bpmndi:BPMNShape id=\"BoundaryEvent_138xipm_di\" bpmnElement=\"BoundaryEvent_0mcjys5\">\n        <dc:Bounds x=\"772\" y=\"269\" width=\"36\" height=\"36\" />\n        <bpmndi:BPMNLabel>\n          <dc:Bounds x=\"811\" y=\"254\" width=\"58\" height=\"14\" />\n        </bpmndi:BPMNLabel>\n      </bpmndi:BPMNShape>\n      <bpmndi:BPMNShape id=\"ServiceTask_0tixwo5_di\" bpmnElement=\"ServiceTask_0tixwo5\">\n        <dc:Bounds x=\"276\" y=\"91\" width=\"100\" height=\"80\" />\n      </bpmndi:BPMNShape>\n      <bpmndi:BPMNEdge id=\"SequenceFlow_1gd6p37_di\" bpmnElement=\"SequenceFlow_1gd6p37\">\n        <di:waypoint x=\"376\" y=\"131\" />\n        <di:waypoint x=\"421\" y=\"131\" />\n      </bpmndi:BPMNEdge>\n    </bpmndi:BPMNPlane>\n  </bpmndi:BPMNDiagram>\n</bpmn2:definitions>",[m
   "flowNodeData": [[m
     {[m
       "name": "document needed",[m
[1mdiff --git a/qa/engine-it-plugin/pom.xml b/qa/engine-it-plugin/pom.xml[m
[1mindex 5f44c9d478..00f8aeb5fc 100644[m
[1m--- a/qa/engine-it-plugin/pom.xml[m
[1m+++ b/qa/engine-it-plugin/pom.xml[m
[36m@@ -5,7 +5,7 @@[m
   <parent>[m
     <groupId>org.camunda.optimize</groupId>[m
     <artifactId>qa</artifactId>[m
[31m-    <version>3.11.0-SNAPSHOT</version>[m
[32m+[m[32m    <version>3.12.0-SNAPSHOT</version>[m
   </parent>[m
 [m
   <artifactId>engine-it-plugin</artifactId>[m
[1mdiff --git a/qa/import-mediator-permutation-test/pom.xml b/qa/import-mediator-permutation-test/pom.xml[m
[1mindex 6be31a3c3c..1bb22f2f16 100644[m
[1m--- a/qa/import-mediator-permutation-test/pom.xml[m
[1m+++ b/qa/import-mediator-permutation-test/pom.xml[m
[36m@@ -5,7 +5,7 @@[m
   <parent>[m
     <groupId>org.camunda.optimize</groupId>[m
     <artifactId>qa</artifactId>[m
[31m-    <version>3.11.0-SNAPSHOT</version>[m
[32m+[m[32m    <version>3.12.0-SNAPSHOT</version>[m
   </parent>[m
 [m
   <artifactId>import-mediator-permutation-test</artifactId>[m
[36m@@ -92,7 +92,7 @@[m
 [m
           <plugin>[m
             <groupId>org.codehaus.cargo</groupId>[m
[31m-            <artifactId>cargo-maven2-plugin</artifactId>[m
[32m+[m[32m            <artifactId>cargo-maven3-plugin</artifactId>[m
             <executions>[m
               <execution>[m
                 <id>start-container</id>[m
[36m@@ -107,7 +107,7 @@[m
               <!-- Container configuration -->[m
               <container>[m
                 <type>remote</type>[m
[31m-                <containerId>tomcat8x</containerId>[m
[32m+[m[32m                <containerId>tomcat9x</containerId>[m
               </container>[m
               <configuration>[m
                 <type>runtime</type>[m
[1mdiff --git a/qa/import-performance-tests/pom.xml b/qa/import-performance-tests/pom.xml[m
[1mindex 7131d0200f..4a5dfbf37d 100644[m
[1m--- a/qa/import-performance-tests/pom.xml[m
[1m+++ b/qa/import-performance-tests/pom.xml[m
[36m@@ -5,7 +5,7 @@[m
   <parent>[m
     <groupId>org.camunda.optimize</groupId>[m
     <artifactId>qa</artifactId>[m
[31m-    <version>3.11.0-SNAPSHOT</version>[m
[32m+[m[32m    <version>3.12.0-SNAPSHOT</version>[m
   </parent>[m
 [m
   <artifactId>import-performance-tests</artifactId>[m
[1mdiff --git a/qa/optimize-data-generator/pom.xml b/qa/optimize-data-generator/pom.xml[m
[1mindex c8ef398b95..9ac9655d55 100644[m
[1m--- a/qa/optimize-data-generator/pom.xml[m
[1m+++ b/qa/optimize-data-generator/pom.xml[m
[36m@@ -5,7 +5,7 @@[m
   <parent>[m
     <groupId>org.camunda.optimize</groupId>[m
     <artifactId>qa</artifactId>[m
[31m-    <version>3.11.0-SNAPSHOT</version>[m
[32m+[m[32m    <version>3.12.0-SNAPSHOT</version>[m
   </parent>[m
 [m
   <artifactId>optimize-data-generator</artifactId>[m
[36m@@ -34,7 +34,7 @@[m
     <dependency>[m
       <groupId>commons-io</groupId>[m
       <artifactId>commons-io</artifactId>[m
[31m-      <version>2.13.0</version>[m
[32m+[m[32m      <version>2.14.0</version>[m
     </dependency>[m
   </dependencies>[m
 [m
[1mdiff --git a/qa/optimize-data-generator/src/main/java/org/camunda/optimize/data/upgrade/Generator.java b/qa/optimize-data-generator/src/main/java/org/camunda/optimize/data/upgrade/Generator.java[m
[1mindex a1ba7c0c61..77f16eefae 100644[m
[1m--- a/qa/optimize-data-generator/src/main/java/org/camunda/optimize/data/upgrade/Generator.java[m
[1m+++ b/qa/optimize-data-generator/src/main/java/org/camunda/optimize/data/upgrade/Generator.java[m
[36m@@ -38,7 +38,6 @@[m [mimport org.camunda.optimize.dto.optimize.query.report.single.process.ProcessVisu[m
 import org.camunda.optimize.dto.optimize.query.report.single.process.SingleProcessReportDefinitionRequestDto;[m
 import org.camunda.optimize.dto.optimize.rest.CloudEventRequestDto;[m
 import org.camunda.optimize.dto.optimize.rest.EventProcessMappingCreateRequestDto;[m
[31m-import org.camunda.optimize.service.TenantService;[m
 import org.camunda.optimize.service.es.OptimizeElasticsearchClient;[m
 import org.camunda.optimize.service.es.schema.OptimizeIndexNameService;[m
 import org.camunda.optimize.service.exceptions.OptimizeRuntimeException;[m
[36m@@ -65,6 +64,8 @@[m [mimport java.util.List;[m
 import java.util.stream.Collectors;[m
 import java.util.stream.IntStream;[m
 [m
[32m+[m[32mimport static org.camunda.optimize.service.tenant.CamundaPlatformTenantService.TENANT_NOT_DEFINED;[m
[32m+[m
 @Slf4j[m
 public class Generator {[m
   private static final String DEFAULT_USER = "demo";[m
[36m@@ -299,7 +300,7 @@[m [mpublic class Generator {[m
           .processDefinitionKey(definitionEngineDto.getKey())[m
           .versions(Collections.singletonList(definitionEngineDto.getVersionAsString()))[m
           .tenants(Collections.singletonList([m
[31m-            definitionEngineDto.getTenantId().orElse(TenantService.TENANT_NOT_DEFINED.getId())[m
[32m+[m[32m            definitionEngineDto.getTenantId().orElse(TENANT_NOT_DEFINED.getId())[m
           ))[m
           .tracedByBusinessKey(true)[m
           .traceVariable(null)[m
[1mdiff --git a/qa/pom.xml b/qa/pom.xml[m
[1mindex 2e0b439ca4..1cbca23c3f 100644[m
[1m--- a/qa/pom.xml[m
[1m+++ b/qa/pom.xml[m
[36m@@ -5,7 +5,7 @@[m
     <parent>[m
         <groupId>org.camunda.optimize</groupId>[m
         <artifactId>parent</artifactId>[m
[31m-        <version>3.11.0-SNAPSHOT</version>[m
[32m+[m[32m        <version>3.12.0-SNAPSHOT</version>[m
     </parent>[m
 [m
   <artifactId>qa</artifactId>[m
[1mdiff --git a/qa/query-performance-tests/pom.xml b/qa/query-performance-tests/pom.xml[m
[1mindex 9d36ac0233..3954e31345 100644[m
[1m--- a/qa/query-performance-tests/pom.xml[m
[1m+++ b/qa/query-performance-tests/pom.xml[m
[36m@@ -5,7 +5,7 @@[m
   <parent>[m
     <groupId>org.camunda.optimize</groupId>[m
     <artifactId>qa</artifactId>[m
[31m-    <version>3.11.0-SNAPSHOT</version>[m
[32m+[m[32m    <version>3.12.0-SNAPSHOT</version>[m
   </parent>[m
 [m
   <artifactId>query-performance-tests</artifactId>[m
[36m@@ -15,7 +15,7 @@[m
     <version.camunda>${camunda.engine.version}</version.camunda>[m
     <failOnMissingWebXml>false</failOnMissingWebXml>[m
     <allure.version>2.13.2</allure.version>[m
[31m-    <aspectj.version>1.9.20</aspectj.version>[m
[32m+[m[32m    <aspectj.version>1.9.20.1</aspectj.version>[m
     <argLine>-Xmx1024m -javaagent:"${settings.localRepository}/org/aspectj/aspectjweaver/${aspectj.version}/aspectjweaver-${aspectj.version}.jar"</argLine>[m
   </properties>[m
 [m
[1mdiff --git a/qa/upgrade-tests/pom.xml b/qa/upgrade-tests/pom.xml[m
[1mindex e318adb680..9c784d19f2 100644[m
[1m--- a/qa/upgrade-tests/pom.xml[m
[1m+++ b/qa/upgrade-tests/pom.xml[m
[36m@@ -5,7 +5,7 @@[m
   <parent>[m
     <groupId>org.camunda.optimize</groupId>[m
     <artifactId>qa</artifactId>[m
[31m-    <version>3.11.0-SNAPSHOT</version>[m
[32m+[m[32m    <version>3.12.0-SNAPSHOT</version>[m
   </parent>[m
 [m
   <artifactId>upgrade-tests</artifactId>[m
[1mdiff --git a/test-coverage/pom.xml b/test-coverage/pom.xml[m
[1mindex e554443e62..048cdf3b89 100644[m
[1m--- a/test-coverage/pom.xml[m
[1m+++ b/test-coverage/pom.xml[m
[36m@@ -3,7 +3,7 @@[m
   <parent>[m
     <artifactId>parent</artifactId>[m
     <groupId>org.camunda.optimize</groupId>[m
[31m-    <version>3.11.0-SNAPSHOT</version>[m
[32m+[m[32m    <version>3.12.0-SNAPSHOT</version>[m
   </parent>[m
   <modelVersion>4.0.0</modelVersion>[m
 [m
[1mdiff --git a/upgrade/pom.xml b/upgrade/pom.xml[m
[1mindex 0c43ef4541..1714544c4b 100644[m
[1m--- a/upgrade/pom.xml[m
[1m+++ b/upgrade/pom.xml[m
[36m@@ -5,7 +5,7 @@[m
   <parent>[m
     <groupId>org.camunda.optimize</groupId>[m
     <artifactId>parent</artifactId>[m
[31m-    <version>3.11.0-SNAPSHOT</version>[m
[32m+[m[32m    <version>3.12.0-SNAPSHOT</version>[m
   </parent>[m
 [m
   <artifactId>upgrade-optimize</artifactId>[m
[1mdiff --git a/upgrade/src/main/java/org/camunda/optimize/upgrade/plan/factories/Upgrade310To311PlanFactory.java b/upgrade/src/main/java/org/camunda/optimize/upgrade/plan/factories/Upgrade310To311PlanFactory.java[m
[1mdeleted file mode 100644[m
[1mindex ac8af7bf43..0000000000[m
[1m--- a/upgrade/src/main/java/org/camunda/optimize/upgrade/plan/factories/Upgrade310To311PlanFactory.java[m
[1m+++ /dev/null[m
[36m@@ -1,256 +0,0 @@[m
[31m-/*[m
[31m- * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH under one or more contributor license agreements.[m
[31m- * Licensed under a proprietary license. See the License.txt file for more information.[m
[31m- * You may not use this file except in compliance with the proprietary license.[m
[31m- */[m
[31m-package org.camunda.optimize.upgrade.plan.factories;[m
[31m-[m
[31m-import com.google.common.collect.ImmutableMap;[m
[31m-import lombok.extern.slf4j.Slf4j;[m
[31m-import org.apache.commons.text.StringSubstitutor;[m
[31m-import org.camunda.optimize.dto.optimize.ProcessInstanceDto;[m
[31m-import org.camunda.optimize.dto.optimize.datasource.DataSourceDto;[m
[31m-import org.camunda.optimize.service.es.schema.MappingMetadataUtil;[m
[31m-import org.camunda.optimize.service.es.schema.index.AbstractDefinitionIndex;[m
[31m-import org.camunda.optimize.service.es.schema.index.CollectionIndex;[m
[31m-import org.camunda.optimize.service.es.schema.index.DashboardIndex;[m
[31m-import org.camunda.optimize.service.es.schema.index.ProcessDefinitionIndex;[m
[31m-import org.camunda.optimize.service.es.schema.index.ProcessInstanceIndex;[m
[31m-import org.camunda.optimize.service.es.schema.index.report.CombinedReportIndex;[m
[31m-import org.camunda.optimize.service.es.schema.index.report.SingleDecisionReportIndex;[m
[31m-import org.camunda.optimize.service.es.schema.index.report.SingleProcessReportIndex;[m
[31m-import org.camunda.optimize.upgrade.exception.UpgradeRuntimeException;[m
[31m-import org.camunda.optimize.upgrade.plan.UpgradeExecutionDependencies;[m
[31m-import org.camunda.optimize.upgrade.plan.UpgradePlan;[m
[31m-import org.camunda.optimize.upgrade.plan.UpgradePlanBuilder;[m
[31m-import org.camunda.optimize.upgrade.steps.UpgradeStep;[m
[31m-import org.camunda.optimize.upgrade.steps.document.UpdateDataStep;[m
[31m-import org.camunda.optimize.upgrade.steps.schema.UpdateIndexStep;[m
[31m-import org.elasticsearch.ElasticsearchStatusException;[m
[31m-import org.elasticsearch.client.core.CountRequest;[m
[31m-import org.elasticsearch.client.core.CountResponse;[m
[31m-import org.elasticsearch.index.query.BoolQueryBuilder;[m
[31m-[m
[31m-import java.io.IOException;[m
[31m-import java.util.ArrayList;[m
[31m-import java.util.List;[m
[31m-[m
[31m-import static org.camunda.optimize.service.util.InstanceIndexUtil.isInstanceIndexNotFoundException;[m
[31m-import static org.camunda.optimize.service.util.importing.ZeebeConstants.ZEEBE_DEFAULT_TENANT;[m
[31m-import static org.camunda.optimize.upgrade.es.ElasticsearchConstants.POSITION_BASED_IMPORT_INDEX_NAME;[m
[31m-import static org.camunda.optimize.upgrade.es.ElasticsearchConstants.PROCESS_INSTANCE_MULTI_ALIAS;[m
[31m-import static org.camunda.optimize.upgrade.es.ElasticsearchConstants.ZEEBE_DATA_SOURCE;[m
[31m-import static org.elasticsearch.index.query.QueryBuilders.boolQuery;[m
[31m-import static org.elasticsearch.index.query.QueryBuilders.existsQuery;[m
[31m-import static org.elasticsearch.index.query.QueryBuilders.matchAllQuery;[m
[31m-import static org.elasticsearch.index.query.QueryBuilders.termQuery;[m
[31m-[m
[31m-@Slf4j[m
[31m-public class Upgrade310To311PlanFactory implements UpgradePlanFactory {[m
[31m-  @Override[m
[31m-  public UpgradePlan createUpgradePlan(final UpgradeExecutionDependencies upgradeExecutionDependencies) {[m
[31m-    UpgradePlanBuilder.AddUpgradeStepBuilder upgradePlanBuilder = UpgradePlanBuilder.createUpgradePlan()[m
[31m-      .fromVersion("3.10")[m
[31m-      .toVersion("3.11.0")[m
[31m-      .addUpgradeSteps(addDescriptionFieldToReportIndices())[m
[31m-      .addUpgradeStep(addDescriptionFieldToDashboardIndex());[m
[31m-[m
[31m-    if (isC8Instance(upgradeExecutionDependencies)) {[m
[31m-      upgradePlanBuilder = upgradePlanBuilder[m
[31m-        .addUpgradeStep(updateTenantIdInProcessDefinitionDocumentC8())[m
[31m-        .addUpgradeSteps(updateTenantIdInProcessInstanceDocumentC8(upgradeExecutionDependencies))[m
[31m-        .addUpgradeStep(updateDefaultTenantIdOfCollectionScopesInC8())[m
[31m-        .addUpgradeStep(updateDefaultTenantIdOfProcessReportsInC8());[m
[31m-    }[m
[31m-[m
[31m-    return upgradePlanBuilder.build();[m
[31m-  }[m
[31m-[m
[31m-  private UpgradeStep addDescriptionFieldToDashboardIndex() {[m
[31m-    return new UpdateIndexStep(new DashboardIndex(), addDescriptionScript());[m
[31m-  }[m
[31m-[m
[31m-  private List<UpgradeStep> addDescriptionFieldToReportIndices() {[m
[31m-    return List.of([m
[31m-      new UpdateIndexStep(new SingleProcessReportIndex(), addDescriptionScript() + migrateProcessReportColumnsScript()),[m
[31m-      new UpdateIndexStep(new SingleDecisionReportIndex(), addDescriptionScript()),[m
[31m-      new UpdateIndexStep(new CombinedReportIndex(), addDescriptionScript())[m
[31m-    );[m
[31m-  }[m
[31m-[m
[31m-  private UpgradeStep updateTenantIdInProcessDefinitionDocumentC8() {[m
[31m-    final BoolQueryBuilder query = boolQuery()[m
[31m-      .must(termQuery(AbstractDefinitionIndex.DATA_SOURCE + "." + DataSourceDto.Fields.type, ZEEBE_DATA_SOURCE))[m
[31m-      .mustNot(existsQuery(ProcessDefinitionIndex.TENANT_ID));[m
[31m-    return new UpdateDataStep([m
[31m-      new ProcessDefinitionIndex(),[m
[31m-      query,[m
[31m-      String.format("ctx._source.tenantId = '%s';", ZEEBE_DEFAULT_TENANT)[m
[31m-    );[m
[31m-  }[m
[31m-[m
[31m-  private List<UpgradeStep> updateTenantIdInProcessInstanceDocumentC8(final UpgradeExecutionDependencies upgradeExecutionDependencies) {[m
[31m-    final BoolQueryBuilder query = boolQuery()[m
[31m-      .must(termQuery(ProcessInstanceIndex.DATA_SOURCE + "." + DataSourceDto.Fields.type, ZEEBE_DATA_SOURCE))[m
[31m-      .mustNot(existsQuery(ProcessInstanceIndex.TENANT_ID));[m
[31m-    final StringSubstitutor substitutor = new StringSubstitutor([m
[31m-      ImmutableMap.<String, String>builder()[m
[31m-        .put("defaultTenantId", ZEEBE_DEFAULT_TENANT)[m
[31m-        .build()[m
[31m-    );[m
[31m-    final String script = substitutor.replace([m
[31m-      "  ctx._source.tenantId = '${defaultTenantId}';\n" +[m
[31m-        "  for (incident in ctx._source.incidents) {\n" +[m
[31m-        "      incident.tenantId = '${defaultTenantId}';\n" +[m
[31m-        "  }\n" +[m
[31m-        "  for (flowNode in ctx._source.flowNodeInstances) {\n" +[m
[31m-        "      flowNode.tenantId = '${defaultTenantId}';\n" +[m
[31m-        "  }\n");[m
[31m-    final List<String> processDefinitionKeys = MappingMetadataUtil.retrieveProcessInstanceIndexIdentifiers([m
[31m-      upgradeExecutionDependencies.getEsClient(),[m
[31m-      false[m
[31m-    );[m
[31m-    List<UpgradeStep> updateDataSteps = new ArrayList<>();[m
[31m-    for (String processDefinitionKey : processDefinitionKeys) {[m
[31m-      updateDataSteps.add(new UpdateDataStep(new ProcessInstanceIndex(processDefinitionKey), query, script));[m
[31m-    }[m
[31m-    return updateDataSteps;[m
[31m-  }[m
[31m-[m
[31m-  private UpgradeStep updateDefaultTenantIdOfProcessReportsInC8() {[m
[31m-    final StringSubstitutor substitutor = new StringSubstitutor([m
[31m-      ImmutableMap.<String, String>builder()[m
[31m-        .put("defaultTenantId", ZEEBE_DEFAULT_TENANT)[m
[31m-        .build()[m
[31m-    );[m
[31m-    // @formatter:off[m
[31m-    final String script = substitutor.replace([m
[31m-      "for (definition in ctx._source.data.definitions) {\n" +[m
[31m-            "    definition.tenantIds = [\"${defaultTenantId}\"];\n" +[m
[31m-            "}\n");[m
[31m-    // @formatter:on[m
[31m-    return new UpdateDataStep(new SingleProcessReportIndex(), matchAllQuery(), script);[m
[31m-  }[m
[31m-[m
[31m-  private UpgradeStep updateDefaultTenantIdOfCollectionScopesInC8() {[m
[31m-    final StringSubstitutor substitutor = new StringSubstitutor([m
[31m-      ImmutableMap.<String, String>builder()[m
[31m-        .put("defaultTenantId", ZEEBE_DEFAULT_TENANT)[m
[31m-        .build()[m
[31m-    );[m
[31m-    // @formatter:off[m
[31m-    final String script = substitutor.replace([m
[31m-      "  for (scope in ctx._source.data.scope) {\n" +[m
[31m-        "    List tenants = new ArrayList();\n" +[m
[31m-        "    tenants.add(\"${defaultTenantId}\");\n" +[m
[31m-        "    scope.tenants = tenants;\n" +[m
[31m-        "}\n");[m
[31m-    // @formatter:on[m
[31m-    return new UpdateDataStep(new CollectionIndex(), matchAllQuery(), script);[m
[31m-  }[m
[31m-[m
[31m-  private boolean isC8Instance(final UpgradeExecutionDependencies upgradeExecutionDependencies) {[m
[31m-    // <default> tenant migration should be applied to C8 data only. If zeebe is disabled, double check for imported C8[m
[31m-    // data in case upgrade is handled on non importer instance of Optimize[m
[31m-    return upgradeExecutionDependencies.getConfigurationService().getConfiguredZeebe().isEnabled()[m
[31m-      || isC8ImportDataPresent(upgradeExecutionDependencies)[m
[31m-      || isC8InstanceDataPresent(upgradeExecutionDependencies);[m
[31m-  }[m
[31m-[m
[31m-  private boolean isC8ImportDataPresent(final UpgradeExecutionDependencies upgradeExecutionDependencies) {[m
[31m-    CountRequest countRequest = new CountRequest().indices(POSITION_BASED_IMPORT_INDEX_NAME);[m
[31m-[m
[31m-    CountResponse countResponse;[m
[31m-    try {[m
[31m-      countResponse = upgradeExecutionDependencies.getEsClient().count(countRequest);[m
[31m-    } catch (IOException e) {[m
[31m-      final String reason = "Was not able to determine existence of imported C8 data.";[m
[31m-      log.error(reason, e);[m
[31m-      throw new UpgradeRuntimeException(reason, e);[m
[31m-    }[m
[31m-    return countResponse.getCount() > 0;[m
[31m-  }[m
[31m-[m
[31m-  private boolean isC8InstanceDataPresent(final UpgradeExecutionDependencies upgradeExecutionDependencies) {[m
[31m-    CountRequest countRequest = new CountRequest()[m
[31m-      .query(boolQuery().must(termQuery([m
[31m-        ProcessInstanceDto.Fields.dataSource + "." + DataSourceDto.Fields.type,[m
[31m-        ZEEBE_DATA_SOURCE[m
[31m-      )))[m
[31m-      .indices(PROCESS_INSTANCE_MULTI_ALIAS);[m
[31m-[m
[31m-    CountResponse countResponse;[m
[31m-    try {[m
[31m-      countResponse = upgradeExecutionDependencies.getEsClient().count(countRequest);[m
[31m-    } catch (Exception e) {[m
[31m-      if (e instanceof ElasticsearchStatusException esStatusException && isInstanceIndexNotFoundException(esStatusException)) {[m
[31m-        return false;[m
[31m-      }[m
[31m-      final String reason = "Was not able to determine existence of imported C8 instances.";[m
[31m-      log.error(reason, e);[m
[31m-      throw new UpgradeRuntimeException(reason, e);[m
[31m-    }[m
[31m-    return countResponse.getCount() > 0;[m
[31m-  }[m
[31m-[m
[31m-  private static String addDescriptionScript() {[m
[31m-    return "ctx._source.description = null;\n";[m
[31m-  }[m
[31m-[m
[31m-  private static String migrateProcessReportColumnsScript() {[m
[31m-    // @formatter:off[m
[31m-    return[m
[31m-    "  def reportData = ctx._source.data;\n" +[m
[31m-      "if (reportData != null) {\n" +[m
[31m-      "  def reportConfig = reportData.configuration;\n" +[m
[31m-      "  if (reportConfig != null) {\n" +[m
[31m-      "    def reportColumns = reportConfig.tableColumns;\n" +[m
[31m-      "    if (reportColumns != null) {\n" +[m
[31m-      "      def newIncludedColumns = new ArrayList();\n" +[m
[31m-      "      reportColumns.includedColumns.forEach(includedColumn -> {\n" +[m
[31m-      "        if (includedColumn == \"numberOfUserTasks\") {\n" +[m
[31m-      "          newIncludedColumns.add(\"count:userTasks\");\n" +[m
[31m-      "        } else if (includedColumn == \"numberOfIncidents\") {\n" +[m
[31m-      "          newIncludedColumns.add(\"count:incidents\");\n" +[m
[31m-      "        } else if (includedColumn == \"numberOfOpenIncidents\") {\n" +[m
[31m-      "          newIncludedColumns.add(\"count:openIncidents\");\n" +[m
[31m-      "        } else {\n" +[m
[31m-      "          newIncludedColumns.add(includedColumn);\n" +[m
[31m-      "        }\n" +[m
[31m-      "      });\n" +[m
[31m-      "      reportColumns.includedColumns = newIncludedColumns;\n" +[m
[31m-[m
[31m-      "      def newExcludedColumns = new ArrayList();\n" +[m
[31m-      "      reportColumns.excludedColumns.forEach(excludedColumn -> {\n" +[m
[31m-      "        if (excludedColumn == \"numberOfUserTasks\") {\n" +[m
[31m-      "          newExcludedColumns.add(\"count:userTasks\");\n" +[m
[31m-      "        } else if (excludedColumn == \"numberOfIncidents\") {\n" +[m
[31m-      "          newExcludedColumns.add(\"count:incidents\");\n" +[m
[31m-      "        } else if (excludedColumn == \"numberOfOpenIncidents\") {\n" +[m
[31m-      "          newExcludedColumns.add(\"count:openIncidents\");\n" +[m
[31m-      "        } else {\n" +[m
[31m-      "          newExcludedColumns.add(excludedColumn);\n" +[m
[31m-      "        }\n" +[m
[31m-      "      });\n" +[m
[31m-      "      reportColumns.excludedColumns = newExcludedColumns;\n" +[m
[31m-[m
[31m-      "      def newColumnOrder = new ArrayList();\n" +[m
[31m-      "      reportColumns.columnOrder.forEach(column -> {\n" +[m
[31m-      "        if (column == \"numberOfUserTasks\") {\n" +[m
[31m-      "          newColumnOrder.add(\"count:userTasks\");\n" +[m
[31m-      "        } else if (column == \"numberOfIncidents\") {\n" +[m
[31m-      "          newColumnOrder.add(\"count:incidents\");\n" +[m
[31m-      "        } else if (column == \"numberOfOpenIncidents\") {\n" +[m
[31m-      "          newColumnOrder.add(\"count:openIncidents\");\n" +[m
[31m-      "        } else {\n" +[m
[31m-      "          newColumnOrder.add(column);\n" +[m
[31m-      "        }\n" +[m
[31m-      "      });\n" +[m
[31m-      "      reportColumns.columnOrder = newColumnOrder;\n" +[m
[31m-      "    }\n" +[m
[31m-      "  }\n" +[m
[31m-      "}\n";[m
[31m-    // @formatter:on[m
[31m-  }[m
[31m-[m
[31m-}[m
[1mdiff --git a/upgrade/src/main/java/org/camunda/optimize/upgrade/plan/factories/Upgrade311To312PlanFactory.java b/upgrade/src/main/java/org/camunda/optimize/upgrade/plan/factories/Upgrade311To312PlanFactory.java[m
[1mnew file mode 100644[m
[1mindex 0000000000..3bcc8c5f5d[m
[1m--- /dev/null[m
[1m+++ b/upgrade/src/main/java/org/camunda/optimize/upgrade/plan/factories/Upgrade311To312PlanFactory.java[m
[36m@@ -0,0 +1,27 @@[m
[32m+[m[32m/*[m
[32m+[m[32m * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH under one or more contributor license agreements.[m
[32m+[m[32m * Licensed under a proprietary license. See the License.txt file for more information.[m
[32m+[m[32m * You may not use this file except in compliance with the proprietary license.[m
[32m+[m[32m */[m
[32m+[m[32mpackage org.camunda.optimize.upgrade.plan.factories;[m
[32m+[m
[32m+[m[32mimport org.camunda.optimize.service.metadata.PreviousVersion;[m
[32m+[m[32mimport org.camunda.optimize.service.metadata.Version;[m
[32m+[m[32mimport org.camunda.optimize.upgrade.plan.UpgradeExecutionDependencies;[m
[32m+[m[32mimport org.camunda.optimize.upgrade.plan.UpgradePlan;[m
[32m+[m[32mimport org.camunda.optimize.upgrade.plan.UpgradePlanBuilder;[m
[32m+[m
[32m+[m[32mpublic class Upgrade311To312PlanFactory implements UpgradePlanFactory {[m
[32m+[m
[32m+[m[32m  public UpgradePlan createUpgradePlan() {[m
[32m+[m[32m    return UpgradePlanBuilder.createUpgradePlan()[m
[32m+[m[32m      .fromVersion("3.11")[m
[32m+[m[32m      .toVersion("3.12.0")[m
[32m+[m[32m      .build();[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  @Override[m
[32m+[m[32m  public UpgradePlan createUpgradePlan(final UpgradeExecutionDependencies dependencies) {[m
[32m+[m[32m    return createUpgradePlan();[m
[32m+[m[32m  }[m
[32m+[m[32m}[m
[1mdiff --git a/upgrade/src/main/java/org/camunda/optimize/upgrade/service/UpgradeValidationService.java b/upgrade/src/main/java/org/camunda/optimize/upgrade/service/UpgradeValidationService.java[m
[1mindex 9edaf0c6ab..cd2660beb1 100644[m
[1m--- a/upgrade/src/main/java/org/camunda/optimize/upgrade/service/UpgradeValidationService.java[m
[1m+++ b/upgrade/src/main/java/org/camunda/optimize/upgrade/service/UpgradeValidationService.java[m
[36m@@ -16,7 +16,7 @@[m [mimport java.io.InputStream;[m
 import java.util.Objects;[m
 [m
 import static org.camunda.optimize.service.metadata.Version.getMajorAndMinor;[m
[31m-import static org.camunda.optimize.service.util.ESVersionChecker.checkESVersionSupport;[m
[32m+[m[32mimport static org.camunda.optimize.service.util.DatabaseVersionChecker.checkESVersionSupport;[m
 [m
 @AllArgsConstructor[m
 @Slf4j[m
[1mdiff --git a/upgrade/src/test/java/org/camunda/optimize/upgrade/AbstractUpgradeIT.java b/upgrade/src/test/java/org/camunda/optimize/upgrade/AbstractUpgradeIT.java[m
[1mindex 7440cf30ae..31c961ca60 100644[m
[1m--- a/upgrade/src/test/java/org/camunda/optimize/upgrade/AbstractUpgradeIT.java[m
[1m+++ b/upgrade/src/test/java/org/camunda/optimize/upgrade/AbstractUpgradeIT.java[m
[36m@@ -22,7 +22,7 @@[m [mimport org.camunda.optimize.service.es.schema.OptimizeIndexNameService;[m
 import org.camunda.optimize.service.es.schema.index.MetadataIndex;[m
 import org.camunda.optimize.service.exceptions.OptimizeRuntimeException;[m
 import org.camunda.optimize.service.util.configuration.ConfigurationService;[m
[31m-import org.camunda.optimize.service.util.configuration.elasticsearch.ElasticsearchConnectionNodeConfiguration;[m
[32m+[m[32mimport org.camunda.optimize.service.util.configuration.elasticsearch.DatabaseConnectionNodeConfiguration;[m
 import org.camunda.optimize.test.it.extension.IntegrationTestConfigurationUtil;[m
 import org.camunda.optimize.test.it.extension.MockServerUtil;[m
 import org.camunda.optimize.upgrade.es.index.UpdateLogEntryIndex;[m
[36m@@ -69,7 +69,6 @@[m [mimport java.util.Collections;[m
 import java.util.List;[m
 import java.util.Optional;[m
 [m
[31m-import static java.util.stream.Collectors.toList;[m
 import static jakarta.ws.rs.HttpMethod.DELETE;[m
 import static jakarta.ws.rs.HttpMethod.POST;[m
 import static org.camunda.optimize.service.util.configuration.ConfigurationServiceBuilder.createDefaultConfiguration;[m
[36m@@ -107,7 +106,7 @@[m [mpublic abstract class AbstractUpgradeIT {[m
   @BeforeEach[m
   protected void setUp() throws Exception {[m
     this.configurationService = createDefaultConfiguration();[m
[31m-    final ElasticsearchConnectionNodeConfiguration elasticConfig =[m
[32m+[m[32m    final DatabaseConnectionNodeConfiguration elasticConfig =[m
       this.configurationService.getFirstElasticsearchConnectionNode();[m
 [m
     this.esMockServer = createElasticMock(elasticConfig);[m
[36m@@ -256,7 +255,7 @@[m [mpublic abstract class AbstractUpgradeIT {[m
     return request().withPath("/" + versionedIndexName).withMethod(DELETE);[m
   }[m
 [m
[31m-  private ClientAndServer createElasticMock(final ElasticsearchConnectionNodeConfiguration elasticConfig) {[m
[32m+[m[32m  private ClientAndServer createElasticMock(final DatabaseConnectionNodeConfiguration elasticConfig) {[m
     return MockServerUtil.createProxyMockServer([m
       elasticConfig.getHost(),[m
       elasticConfig.getHttpPort(),[m
[1mdiff --git a/upgrade/src/test/java/org/camunda/optimize/upgrade/migrate310to311/AbstractUpgrade311IT.java b/upgrade/src/test/java/org/camunda/optimize/upgrade/migrate310to311/AbstractUpgrade311IT.java[m
[1mdeleted file mode 100644[m
[1mindex 4875e38275..0000000000[m
[1m--- a/upgrade/src/test/java/org/camunda/optimize/upgrade/migrate310to311/AbstractUpgrade311IT.java[m
[1m+++ /dev/null[m
[36m@@ -1,88 +0,0 @@[m
[31m-/*[m
[31m- * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH under one or more contributor license agreements.[m
[31m- * Licensed under a proprietary license. See the License.txt file for more information.[m
[31m- * You may not use this file except in compliance with the proprietary license.[m
[31m- */[m
[31m-package org.camunda.optimize.upgrade.migrate310to311;[m
[31m-[m
[31m-import lombok.SneakyThrows;[m
[31m-import org.camunda.optimize.service.es.schema.index.CollectionIndex;[m
[31m-import org.camunda.optimize.service.es.schema.index.ProcessDefinitionIndex;[m
[31m-import org.camunda.optimize.service.es.schema.index.ProcessInstanceIndex;[m
[31m-import org.camunda.optimize.service.es.schema.index.events.EventProcessDefinitionIndex;[m
[31m-import org.camunda.optimize.service.es.schema.index.index.PositionBasedImportIndex;[m
[31m-import org.camunda.optimize.upgrade.AbstractUpgradeIT;[m
[31m-import org.camunda.optimize.upgrade.migrate310to311.indices.CombinedDecisionReportIndexV4;[m
[31m-import org.camunda.optimize.upgrade.migrate310to311.indices.DashboardIndexV7;[m
[31m-import org.camunda.optimize.upgrade.migrate310to311.indices.SingleDecisionReportIndexV9;[m
[31m-import org.camunda.optimize.upgrade.migrate310to311.indices.SingleProcessReportIndexV10;[m
[31m-import org.camunda.optimize.upgrade.plan.UpgradePlan;[m
[31m-import org.camunda.optimize.upgrade.plan.UpgradePlanRegistry;[m
[31m-import org.elasticsearch.action.admin.indices.alias.IndicesAliasesRequest;[m
[31m-import org.junit.jupiter.api.BeforeEach;[m
[31m-[m
[31m-import java.util.List;[m
[31m-[m
[31m-import static org.camunda.optimize.upgrade.es.ElasticsearchConstants.PROCESS_INSTANCE_MULTI_ALIAS;[m
[31m-[m
[31m-public abstract class AbstractUpgrade311IT extends AbstractUpgradeIT {[m
[31m-[m
[31m-  protected static final String FROM_VERSION = "3.10.0";[m
[31m-  protected static final String TO_VERSION = "3.11.0";[m
[31m-  protected final SingleProcessReportIndexV10 SINGLE_PROCESS_REPORT_INDEX = new SingleProcessReportIndexV10();[m
[31m-  protected final SingleDecisionReportIndexV9 SINGLE_DECISION_REPORT_INDEX = new SingleDecisionReportIndexV9();[m
[31m-  protected final CombinedDecisionReportIndexV4 COMBINED_REPORT_INDEX = new CombinedDecisionReportIndexV4();[m
[31m-  protected final DashboardIndexV7 DASHBOARD_INDEX = new DashboardIndexV7();[m
[31m-  protected final ProcessDefinitionIndex PROCESS_DEFINITION_INDEX = new ProcessDefinitionIndex();[m
[31m-  protected final EventProcessDefinitionIndex EVENT_PROCESS_DEFINITION_INDEX = new EventProcessDefinitionIndex();[m
[31m-  protected final ProcessInstanceIndex PROCESS_INSTANCE_INDEX_REVIEW_INVOICE = new ProcessInstanceIndex("reviewinvoice");[m
[31m-  protected final ProcessInstanceIndex PROCESS_INSTANCE_INDEX_ONLY_INCIDENTS_PROCESS = new ProcessInstanceIndex([m
[31m-    "onlyincidentsprocess");[m
[31m-  protected final ProcessInstanceIndex PROCESS_INSTANCE_INDEX_ALWAYS_COMPLETING_PROCESS = new ProcessInstanceIndex([m
[31m-    "always-completing-process");[m
[31m-  protected final CollectionIndex COLLECTION_INDEX = new CollectionIndex();[m
[31m-  protected final PositionBasedImportIndex POSITION_BASED_IMPORT_INDEX = new PositionBasedImportIndex();[m
[31m-[m
[31m-  @BeforeEach[m
[31m-  protected void setUp() throws Exception {[m
[31m-    super.setUp();[m
[31m-    initSchema(List.of([m
[31m-      SINGLE_PROCESS_REPORT_INDEX,[m
[31m-      SINGLE_DECISION_REPORT_INDEX,[m
[31m-      COMBINED_REPORT_INDEX,[m
[31m-      DASHBOARD_INDEX,[m
[31m-      PROCESS_DEFINITION_INDEX,[m
[31m-      EVENT_PROCESS_DEFINITION_INDEX,[m
[31m-      PROCESS_INSTANCE_INDEX_REVIEW_INVOICE,[m
[31m-      PROCESS_INSTANCE_INDEX_ONLY_INCIDENTS_PROCESS,[m
[31m-      PROCESS_INSTANCE_INDEX_ALWAYS_COMPLETING_PROCESS,[m
[31m-      COLLECTION_INDEX,[m
[31m-      POSITION_BASED_IMPORT_INDEX[m
[31m-    ));[m
[31m-    addProcessInstanceMultiAlias();[m
[31m-    setMetadataVersion(FROM_VERSION);[m
[31m-  }[m
[31m-[m
[31m-  @SneakyThrows[m
[31m-  private void addProcessInstanceMultiAlias() {[m
[31m-    final IndicesAliasesRequest indicesAliasesRequest = new IndicesAliasesRequest();[m
[31m-    final IndicesAliasesRequest.AliasActions aliasAction =[m
[31m-      new IndicesAliasesRequest.AliasActions(IndicesAliasesRequest.AliasActions.Type.ADD)[m
[31m-        .indices([m
[31m-          indexNameService.getOptimizeIndexNameWithVersion(PROCESS_INSTANCE_INDEX_REVIEW_INVOICE),[m
[31m-          indexNameService.getOptimizeIndexNameWithVersion(PROCESS_INSTANCE_INDEX_ONLY_INCIDENTS_PROCESS),[m
[31m-          indexNameService.getOptimizeIndexNameWithVersion(PROCESS_INSTANCE_INDEX_ALWAYS_COMPLETING_PROCESS)[m
[31m-        )[m
[31m-        .writeIndex(false)[m
[31m-        .aliases(indexNameService.getOptimizeIndexAliasForIndex(PROCESS_INSTANCE_MULTI_ALIAS));[m
[31m-    indicesAliasesRequest.addAliasAction(aliasAction);[m
[31m-    prefixAwareClient.getHighLevelClient().indices().updateAliases(indicesAliasesRequest, prefixAwareClient.requestOptions());[m
[31m-  }[m
[31m-[m
[31m-  protected void performUpgrade() {[m
[31m-    final List<UpgradePlan> upgradePlans =[m
[31m-      new UpgradePlanRegistry(upgradeDependencies).getSequentialUpgradePlansToTargetVersion(TO_VERSION);[m
[31m-    upgradePlans.forEach(plan -> upgradeProcedure.performUpgrade(plan));[m
[31m-  }[m
[31m-[m
[31m-}[m
[1mdiff --git a/upgrade/src/test/java/org/camunda/optimize/upgrade/migrate310to311/MigrateCollectionIndexIT.java b/upgrade/src/test/java/org/camunda/optimize/upgrade/migrate310to311/MigrateCollectionIndexIT.java[m
[1mdeleted file mode 100644[m
[1mindex d2c43d5882..0000000000[m
[1m--- a/upgrade/src/test/java/org/camunda/optimize/upgrade/migrate310to311/MigrateCollectionIndexIT.java[m
[1m+++ /dev/null[m
[36m@@ -1,105 +0,0 @@[m
[31m-/*[m
[31m- * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH under one or more contributor license agreements.[m
[31m- * Licensed under a proprietary license. See the License.txt file for more information.[m
[31m- * You may not use this file except in compliance with the proprietary license.[m
[31m- */[m
[31m-package org.camunda.optimize.upgrade.migrate310to311;[m
[31m-[m
[31m-import org.camunda.optimize.dto.optimize.query.collection.CollectionDefinitionDto;[m
[31m-import org.camunda.optimize.dto.optimize.query.collection.CollectionScopeEntryDto;[m
[31m-import org.camunda.optimize.service.es.schema.index.CollectionIndex;[m
[31m-import org.junit.jupiter.api.Test;[m
[31m-[m
[31m-import java.util.ArrayList;[m
[31m-import java.util.Collections;[m
[31m-import java.util.List;[m
[31m-import java.util.Map;[m
[31m-[m
[31m-import static java.util.stream.Collectors.toMap;[m
[31m-import static org.assertj.core.api.Assertions.assertThat;[m
[31m-import static org.camunda.optimize.service.util.importing.ZeebeConstants.ZEEBE_DEFAULT_TENANT;[m
[31m-[m
[31m-public class MigrateCollectionIndexIT extends AbstractUpgrade311IT {[m
[31m-  @Test[m
[31m-  public void updateDefaultTenantIdForCollectionScopesInC8_zeebeImportEnabled() {[m
[31m-    // given[m
[31m-    configurationService.getConfiguredZeebe().setEnabled(true);[m
[31m-    executeBulk("steps/3.10/collections/310-collection-index-data.json");[m
[31m-[m
[31m-    // when[m
[31m-    performUpgrade();[m
[31m-[m
[31m-    // then[m
[31m-    assertC8CollectionScopeTenantMigration();[m
[31m-  }[m
[31m-[m
[31m-  @Test[m
[31m-  public void updateDefaultTenantIdForCollectionScopesInC8_zeebeImportDisabledButZeebeImportDataPresent() {[m
[31m-    // given[m
[31m-    configurationService.getConfiguredZeebe().setEnabled(false);[m
[31m-    executeBulk("steps/3.10/import/310-position-based-import-index-data.json");[m
[31m-    executeBulk("steps/3.10/collections/310-collection-index-data.json");[m
[31m-[m
[31m-    // when[m
[31m-    performUpgrade();[m
[31m-[m
[31m-    // then[m
[31m-    assertC8CollectionScopeTenantMigration();[m
[31m-  }[m
[31m-[m
[31m-  @Test[m
[31m-  public void updateDefaultTenantIdForCollectionScopesInC8_zeebeImportDisabledButZeebeInstanceDataPresent() {[m
[31m-    // given[m
[31m-    configurationService.getConfiguredZeebe().setEnabled(false);[m
[31m-    executeBulk("steps/3.10/instances/310-process-instance-index-zeebe-data.json");[m
[31m-    executeBulk("steps/3.10/collections/310-collection-index-data.json");[m
[31m-[m
[31m-    // when[m
[31m-    performUpgrade();[m
[31m-[m
[31m-    // then[m
[31m-    assertC8CollectionScopeTenantMigration();[m
[31m-  }[m
[31m-[m
[31m-  @Test[m
[31m-  public void doNotUpdateDefaultTenantIdForCollectionScopesInC7() {[m
[31m-    // given[m
[31m-    configurationService.getConfiguredZeebe().setEnabled(false);[m
[31m-    executeBulk("steps/3.10/collections/310-collection-index-data.json");[m
[31m-[m
[31m-    // when[m
[31m-    performUpgrade();[m
[31m-[m
[31m-    // then no changes have been applied to tenantIds of collection scope entries[m
[31m-    final Map<String, List<List<String>>> scopeTenantsByCollectionId = getAllCollectionScopeTenantIdsByCollectionId();[m
[31m-    List<String> nullTenantList = new ArrayList<>();[m
[31m-    nullTenantList.add(null);[m
[31m-    assertThat(scopeTenantsByCollectionId).hasSize(4)[m
[31m-      .containsOnly([m
[31m-        Map.entry("noScopeCollection", Collections.emptyList()),[m
[31m-        Map.entry("oneScopeCollection", List.of(nullTenantList)),[m
[31m-        Map.entry("twoScopeCollection", List.of(nullTenantList, nullTenantList)),[m
[31m-        Map.entry("c7NonNullScopeCollection", List.of(List.of("csm")))[m
[31m-      );[m
[31m-  }[m
[31m-[m
[31m-  private Map<String, List<List<String>>> getAllCollectionScopeTenantIdsByCollectionId() {[m
[31m-    return getAllDocumentsOfIndexAs(new CollectionIndex().getIndexName(), CollectionDefinitionDto.class)[m
[31m-      .stream()[m
[31m-      .collect(toMap([m
[31m-        CollectionDefinitionDto::getId,[m
[31m-        collection -> collection.getData().getScope().stream().map(CollectionScopeEntryDto::getTenants).toList()[m
[31m-      ));[m
[31m-  }[m
[31m-[m
[31m-  private void assertC8CollectionScopeTenantMigration() {[m
[31m-    final Map<String, List<List<String>>> scopeTenantsByCollectionId = getAllCollectionScopeTenantIdsByCollectionId();[m
[31m-    assertThat(scopeTenantsByCollectionId).hasSize(4)[m
[31m-      .contains(Map.entry("noScopeCollection", Collections.emptyList()));[m
[31m-    scopeTenantsByCollectionId.remove("noScopeCollection");[m
[31m-    assertThat(scopeTenantsByCollectionId.values())[m
[31m-      .allSatisfy(tenantIdLists -> assertThat(tenantIdLists).isNotEmpty()[m
[31m-        .allSatisfy(tenantIds -> assertThat(tenantIds).containsExactly(ZEEBE_DEFAULT_TENANT)[m
[31m-        ));[m
[31m-  }[m
[31m-}[m
[1mdiff --git a/upgrade/src/test/java/org/camunda/optimize/upgrade/migrate310to311/MigrateDashboardIndexIT.java b/upgrade/src/test/java/org/camunda/optimize/upgrade/migrate310to311/MigrateDashboardIndexIT.java[m
[1mdeleted file mode 100644[m
[1mindex da590f1be0..0000000000[m
[1m--- a/upgrade/src/test/java/org/camunda/optimize/upgrade/migrate310to311/MigrateDashboardIndexIT.java[m
[1m+++ /dev/null[m
[36m@@ -1,35 +0,0 @@[m
[31m-/*[m
[31m- * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH under one or more contributor license agreements.[m
[31m- * Licensed under a proprietary license. See the License.txt file for more information.[m
[31m- * You may not use this file except in compliance with the proprietary license.[m
[31m- */[m
[31m-package org.camunda.optimize.upgrade.migrate310to311;[m
[31m-[m
[31m-import org.camunda.optimize.service.es.schema.index.DashboardIndex;[m
[31m-import org.junit.jupiter.api.Test;[m
[31m-[m
[31m-import java.util.Map;[m
[31m-[m
[31m-import static org.assertj.core.api.Assertions.assertThat;[m
[31m-[m
[31m-public class MigrateDashboardIndexIT extends AbstractUpgrade311IT {[m
[31m-[m
[31m-  @Test[m
[31m-  public void addDashboardDescriptionField() {[m
[31m-    // given[m
[31m-    executeBulk("steps/3.10/dashboards/310-dashboard-index-data.json");[m
[31m-[m
[31m-    // when[m
[31m-    performUpgrade();[m
[31m-[m
[31m-    // then[m
[31m-    assertThat(getAllDocumentsOfIndex(new DashboardIndex().getIndexName()))[m
[31m-      .hasSize(2)[m
[31m-      .allSatisfy(doc -> {[m
[31m-        final Map<String, Object> sourceAsMap = doc.getSourceAsMap();[m
[31m-        assertThat(sourceAsMap)[m
[31m-          .containsEntry("description", null);[m
[31m-      });[m
[31m-  }[m
[31m-[m
[31m-}[m
[1mdiff --git a/upgrade/src/test/java/org/camunda/optimize/upgrade/migrate310to311/MigrateProcessDefinitionIndexIT.java b/upgrade/src/test/java/org/camunda/optimize/upgrade/migrate310to311/MigrateProcessDefinitionIndexIT.java[m
[1mdeleted file mode 100644[m
[1mindex ea681213fa..0000000000[m
[1m--- a/upgrade/src/test/java/org/camunda/optimize/upgrade/migrate310to311/MigrateProcessDefinitionIndexIT.java[m
[1m+++ /dev/null[m
[36m@@ -1,100 +0,0 @@[m
[31m-/*[m
[31m- * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH under one or more contributor license agreements.[m
[31m- * Licensed under a proprietary license. See the License.txt file for more information.[m
[31m- * You may not use this file except in compliance with the proprietary license.[m
[31m- */[m
[31m-package org.camunda.optimize.upgrade.migrate310to311;[m
[31m-[m
[31m-import org.camunda.optimize.dto.optimize.DefinitionOptimizeResponseDto;[m
[31m-import org.camunda.optimize.dto.optimize.ProcessDefinitionOptimizeDto;[m
[31m-import org.camunda.optimize.dto.optimize.query.event.process.EventProcessDefinitionDto;[m
[31m-import org.camunda.optimize.service.es.schema.index.ProcessDefinitionIndex;[m
[31m-import org.camunda.optimize.service.es.schema.index.events.EventProcessDefinitionIndex;[m
[31m-import org.junit.jupiter.api.Test;[m
[31m-[m
[31m-import static org.assertj.core.api.Assertions.assertThat;[m
[31m-import static org.camunda.optimize.service.util.importing.ZeebeConstants.ZEEBE_DEFAULT_TENANT;[m
[31m-[m
[31m-public class MigrateProcessDefinitionIndexIT extends AbstractUpgrade311IT {[m
[31m-[m
[31m-  @Test[m
[31m-  public void addTenantIdForProcessDefinitionsOfZeebeEngine_zeebeImportEnabled() {[m
[31m-    // given[m
[31m-    configurationService.getConfiguredZeebe().setEnabled(true);[m
[31m-    executeBulk("steps/3.10/definitions/310-process-definition-index-zeebe-data.json");[m
[31m-[m
[31m-    // when[m
[31m-    performUpgrade();[m
[31m-[m
[31m-    // then[m
[31m-    assertC8TenantIdMigration();[m
[31m-  }[m
[31m-[m
[31m-  @Test[m
[31m-  public void addTenantIdForProcessDefinitionsOfZeebeEngine_zeebeImportDisabledButZeebeImportDataPresent() {[m
[31m-    // given[m
[31m-    configurationService.getConfiguredZeebe().setEnabled(false);[m
[31m-    executeBulk("steps/3.10/import/310-position-based-import-index-data.json");[m
[31m-    executeBulk("steps/3.10/definitions/310-process-definition-index-zeebe-data.json");[m
[31m-[m
[31m-    // when[m
[31m-    performUpgrade();[m
[31m-[m
[31m-    // then[m
[31m-    assertC8TenantIdMigration();[m
[31m-  }[m
[31m-[m
[31m-  @Test[m
[31m-  public void addTenantIdForProcessDefinitionsOfZeebeEngine_zeebeImportDisabledButZeebeInstanceDataPresent() {[m
[31m-    // given[m
[31m-    configurationService.getConfiguredZeebe().setEnabled(false);[m
[31m-    executeBulk("steps/3.10/instances/310-process-instance-index-zeebe-data.json");[m
[31m-    executeBulk("steps/3.10/definitions/310-process-definition-index-zeebe-data.json");[m
[31m-[m
[31m-    // when[m
[31m-    performUpgrade();[m
[31m-[m
[31m-    // then[m
[31m-    assertC8TenantIdMigration();[m
[31m-  }[m
[31m-[m
[31m-  @Test[m
[31m-  public void tenantIdDoesNotGetUpdatedForProcessDefinitionsOfCambpmEngine() {[m
[31m-    // given[m
[31m-    configurationService.getConfiguredZeebe().setEnabled(false);[m
[31m-    executeBulk("steps/3.10/definitions/310-process-definition-index-cambpm-data.json");[m
[31m-[m
[31m-    // when[m
[31m-    performUpgrade();[m
[31m-[m
[31m-    // then[m
[31m-    assertThat(getAllDocumentsOfIndexAs(new ProcessDefinitionIndex().getIndexName(), ProcessDefinitionOptimizeDto.class))[m
[31m-      .hasSize(3)[m
[31m-      .extracting(DefinitionOptimizeResponseDto::getTenantId)[m
[31m-      .containsExactlyInAnyOrder(null, null, "someTenant");[m
[31m-  }[m
[31m-[m
[31m-  @Test[m
[31m-  public void tenantIdForEventProcessDefinitionDoesntGetMigrated() {[m
[31m-    // given[m
[31m-    executeBulk("steps/3.10/definitions/310-event-process-definition-cambpm-data.json");[m
[31m-[m
[31m-    // when[m
[31m-    performUpgrade();[m
[31m-[m
[31m-    // then[m
[31m-    assertThat(getAllDocumentsOfIndexAs(new EventProcessDefinitionIndex().getIndexName(), EventProcessDefinitionDto.class))[m
[31m-      .hasSize(2)[m
[31m-      .extracting(EventProcessDefinitionDto::getTenantId)[m
[31m-      .containsExactlyInAnyOrder(null, "someTenantId");[m
[31m-  }[m
[31m-[m
[31m-  private void assertC8TenantIdMigration() {[m
[31m-    assertThat(getAllDocumentsOfIndexAs(new ProcessDefinitionIndex().getIndexName(), ProcessDefinitionOptimizeDto.class))[m
[31m-      .hasSize(2)[m
[31m-      .allSatisfy(processDefinition -> {[m
[31m-        assertThat(processDefinition.getTenantId()).isEqualTo(ZEEBE_DEFAULT_TENANT);[m
[31m-      });[m
[31m-  }[m
[31m-[m
[31m-}[m
[1mdiff --git a/upgrade/src/test/java/org/camunda/optimize/upgrade/migrate310to311/MigrateProcessInstanceIndexIT.java b/upgrade/src/test/java/org/camunda/optimize/upgrade/migrate310to311/MigrateProcessInstanceIndexIT.java[m
[1mdeleted file mode 100644[m
[1mindex 4236d4d711..0000000000[m
[1m--- a/upgrade/src/test/java/org/camunda/optimize/upgrade/migrate310to311/MigrateProcessInstanceIndexIT.java[m
[1m+++ /dev/null[m
[36m@@ -1,117 +0,0 @@[m
[31m-/*[m
[31m- * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH under one or more contributor license agreements.[m
[31m- * Licensed under a proprietary license. See the License.txt file for more information.[m
[31m- * You may not use this file except in compliance with the proprietary license.[m
[31m- */[m
[31m-package org.camunda.optimize.upgrade.migrate310to311;[m
[31m-[m
[31m-import org.camunda.optimize.dto.optimize.ProcessInstanceDto;[m
[31m-import org.camunda.optimize.dto.optimize.persistence.incident.IncidentDto;[m
[31m-import org.camunda.optimize.dto.optimize.query.event.process.FlowNodeInstanceDto;[m
[31m-import org.camunda.optimize.service.es.schema.index.ProcessInstanceIndex;[m
[31m-import org.junit.jupiter.api.Test;[m
[31m-[m
[31m-import java.util.List;[m
[31m-[m
[31m-import static org.assertj.core.api.Assertions.assertThat;[m
[31m-import static org.camunda.optimize.service.util.importing.ZeebeConstants.ZEEBE_DEFAULT_TENANT;[m
[31m-[m
[31m-public class MigrateProcessInstanceIndexIT extends AbstractUpgrade311IT {[m
[31m-[m
[31m-  private final String ALWAYS_COMPLETING_PROCESS = "always-completing-process";[m
[31m-  private final String ONLY_INCIDENT_PROCESS = "onlyincidentsprocess";[m
[31m-  private final String REVIEW_INVOICE_PROCESS = "reviewinvoice";[m
[31m-[m
[31m-  @Test[m
[31m-  public void addTenantIdForProcessInstanceOfZeebeEngine_zeebeImportEnabled() {[m
[31m-    // given[m
[31m-    configurationService.getConfiguredZeebe().setEnabled(true);[m
[31m-    executeBulk("steps/3.10/instances/310-process-instance-index-zeebe-data.json");[m
[31m-[m
[31m-    // when[m
[31m-    performUpgrade();[m
[31m-[m
[31m-    // then[m
[31m-    assertC8TenantIdMigration();[m
[31m-  }[m
[31m-[m
[31m-  @Test[m
[31m-  public void addTenantIdForProcessInstanceOfZeebeEngine_zeebeImportDisabledButZeebeImportDataPresent() {[m
[31m-    // given[m
[31m-    configurationService.getConfiguredZeebe().setEnabled(false);[m
[31m-    executeBulk("steps/3.10/import/310-position-based-import-index-data.json");[m
[31m-    executeBulk("steps/3.10/instances/310-process-instance-index-zeebe-data.json");[m
[31m-[m
[31m-    // when[m
[31m-    performUpgrade();[m
[31m-[m
[31m-    // then[m
[31m-    assertC8TenantIdMigration();[m
[31m-  }[m
[31m-[m
[31m-  @Test[m
[31m-  public void doNotAddTenantIdForProcessInstanceCambpmEngine() {[m
[31m-    // given[m
[31m-    configurationService.getConfiguredZeebe().setEnabled(false);[m
[31m-    executeBulk("steps/3.10/instances/310-process-instance-index-cambpm-data.json");[m
[31m-[m
[31m-    // when[m
[31m-    performUpgrade();[m
[31m-[m
[31m-    // then[m
[31m-    List<ProcessInstanceDto> instances = getAllDocumentsOfIndexAs([m
[31m-      new ProcessInstanceIndex(REVIEW_INVOICE_PROCESS).getIndexName(),[m
[31m-      ProcessInstanceDto.class[m
[31m-    );[m
[31m-    assertThat(instances)[m
[31m-      .hasSize(2)[m
[31m-      .extracting(ProcessInstanceDto::getTenantId)[m
[31m-      .containsExactlyInAnyOrder(null, "someTenant");[m
[31m-    assertThat(instances)[m
[31m-      .flatExtracting(ProcessInstanceDto::getIncidents)[m
[31m-      .hasSize(4)[m
[31m-      .extracting(IncidentDto::getTenantId)[m
[31m-      .containsExactlyInAnyOrder(null, null, "someTenant", "someTenant");[m
[31m-    assertThat(instances)[m
[31m-      .flatExtracting(ProcessInstanceDto::getFlowNodeInstances)[m
[31m-      .hasSize(4)[m
[31m-      .extracting(FlowNodeInstanceDto::getTenantId)[m
[31m-      .containsExactlyInAnyOrder(null, null, "someTenant", "someTenant");[m
[31m-  }[m
[31m-[m
[31m-  private void assertC8TenantIdMigration() {[m
[31m-    List<ProcessInstanceDto> alwaysCompletingProcessInstances = getAllDocumentsOfIndexAs(new ProcessInstanceIndex([m
[31m-      ALWAYS_COMPLETING_PROCESS).getIndexName(), ProcessInstanceDto.class);[m
[31m-    assertThat(alwaysCompletingProcessInstances)[m
[31m-      .extracting(ProcessInstanceDto::getTenantId)[m
[31m-      .hasSize(4)[m
[31m-      .containsOnly(ZEEBE_DEFAULT_TENANT);[m
[31m-    assertThat(alwaysCompletingProcessInstances)[m
[31m-      .flatExtracting(ProcessInstanceDto::getIncidents)[m
[31m-      .extracting(IncidentDto::getTenantId)[m
[31m-      .hasSize(4)[m
[31m-      .containsOnly(ZEEBE_DEFAULT_TENANT);[m
[31m-    assertThat(alwaysCompletingProcessInstances)[m
[31m-      .flatExtracting(ProcessInstanceDto::getFlowNodeInstances)[m
[31m-      .extracting(FlowNodeInstanceDto::getTenantId)[m
[31m-      .hasSize(4)[m
[31m-      .containsOnly(ZEEBE_DEFAULT_TENANT);[m
[31m-[m
[31m-    List<ProcessInstanceDto> onlyIncidentsProcessInstances = getAllDocumentsOfIndexAs(new ProcessInstanceIndex([m
[31m-      ONLY_INCIDENT_PROCESS).getIndexName(), ProcessInstanceDto.class);[m
[31m-    assertThat(onlyIncidentsProcessInstances)[m
[31m-      .extracting(ProcessInstanceDto::getTenantId)[m
[31m-      .hasSize(4)[m
[31m-      .containsOnly(ZEEBE_DEFAULT_TENANT);[m
[31m-    assertThat(onlyIncidentsProcessInstances)[m
[31m-      .flatExtracting(ProcessInstanceDto::getIncidents)[m
[31m-      .extracting(IncidentDto::getTenantId)[m
[31m-      .hasSize(4)[m
[31m-      .containsOnly(ZEEBE_DEFAULT_TENANT);[m
[31m-    assertThat(onlyIncidentsProcessInstances)[m
[31m-      .flatExtracting(ProcessInstanceDto::getFlowNodeInstances)[m
[31m-      .extracting(FlowNodeInstanceDto::getTenantId)[m
[31m-      .hasSize(8)[m
[31m-      .containsOnly(ZEEBE_DEFAULT_TENANT);[m
[31m-  }[m
[31m-}[m
[1mdiff --git a/upgrade/src/test/java/org/camunda/optimize/upgrade/migrate310to311/MigrateReportIndicesIT.java b/upgrade/src/test/java/org/camunda/optimize/upgrade/migrate310to311/MigrateReportIndicesIT.java[m
[1mdeleted file mode 100644[m
[1mindex e0a3aa6a3c..0000000000[m
[1m--- a/upgrade/src/test/java/org/camunda/optimize/upgrade/migrate310to311/MigrateReportIndicesIT.java[m
[1m+++ /dev/null[m
[36m@@ -1,170 +0,0 @@[m
[31m-/*[m
[31m- * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH under one or more contributor license agreements.[m
[31m- * Licensed under a proprietary license. See the License.txt file for more information.[m
[31m- * You may not use this file except in compliance with the proprietary license.[m
[31m- */[m
[31m-package org.camunda.optimize.upgrade.migrate310to311;[m
[31m-[m
[31m-import org.camunda.optimize.dto.optimize.query.report.ReportDefinitionDto;[m
[31m-import org.camunda.optimize.dto.optimize.query.report.single.ReportDataDefinitionDto;[m
[31m-import org.camunda.optimize.dto.optimize.query.report.single.process.ProcessReportDataDto;[m
[31m-import org.camunda.optimize.dto.optimize.query.report.single.process.SingleProcessReportDefinitionRequestDto;[m
[31m-import org.camunda.optimize.service.es.schema.index.report.CombinedReportIndex;[m
[31m-import org.camunda.optimize.service.es.schema.index.report.SingleDecisionReportIndex;[m
[31m-import org.camunda.optimize.service.es.schema.index.report.SingleProcessReportIndex;[m
[31m-import org.elasticsearch.search.SearchHit;[m
[31m-import org.junit.jupiter.api.Test;[m
[31m-[m
[31m-import java.util.ArrayList;[m
[31m-import java.util.List;[m
[31m-import java.util.Map;[m
[31m-import java.util.function.Function;[m
[31m-[m
[31m-import static java.util.stream.Collectors.toMap;[m
[31m-import static org.assertj.core.api.Assertions.assertThat;[m
[31m-import static org.camunda.optimize.service.util.importing.ZeebeConstants.ZEEBE_DEFAULT_TENANT;[m
[31m-[m
[31m-public class MigrateReportIndicesIT extends AbstractUpgrade311IT {[m
[31m-[m
[31m-  @Test[m
[31m-  public void addReportDescriptionField() {[m
[31m-    // given[m
[31m-    executeBulk("steps/3.10/reports/310-report-index-data.json");[m
[31m-[m
[31m-    // when[m
[31m-    performUpgrade();[m
[31m-[m
[31m-    // then[m
[31m-    assertNewDescriptionFieldExists(getAllDocumentsOfIndex(new SingleProcessReportIndex().getIndexName()));[m
[31m-    assertNewDescriptionFieldExists(getAllDocumentsOfIndex(new SingleDecisionReportIndex().getIndexName()));[m
[31m-    assertNewDescriptionFieldExists(getAllDocumentsOfIndex(new CombinedReportIndex().getIndexName()));[m
[31m-  }[m
[31m-[m
[31m-  @Test[m
[31m-  public void migrateRawDataCountColumns() {[m
[31m-    // given[m
[31m-    executeBulk("steps/3.10/reports/310-report-index-data.json");[m
[31m-[m
[31m-    // when[m
[31m-    performUpgrade();[m
[31m-[m
[31m-    // then[m
[31m-    final Map<String, SingleProcessReportDefinitionRequestDto> reportById = getAllProcessReportsById();[m
[31m-    assertThat(reportById).hasSize(3);[m
[31m-    // @formatter:off[m
[31m-    final SingleProcessReportDefinitionRequestDto reportWithExcludedCountColumns = reportById.get("excludedCountColumnsProcessReport");[m
[31m-    assertThat(reportWithExcludedCountColumns.getData().getConfiguration().getTableColumns().getColumnOrder())[m
[31m-      .containsExactly("processDefinitionKey", "processDefinitionId", "processInstanceId", "startDate",[m
[31m-                       "businessKey", "endDate", "duration", "engineName", "tenantId", "variable:amount", "variable:creditor",[m
[31m-                       "variable:invoiceCategory", "variable:invoiceNumber", "flowNodeDuration:StartEvent_1",[m
[31m-                       "flowNodeDuration:assignReviewer"[m
[31m-      );[m
[31m-    assertThat(reportWithExcludedCountColumns.getData().getConfiguration().getTableColumns().getExcludedColumns())[m
[31m-      .containsExactly("count:incidents", "count:openIncidents", "count:userTasks");[m
[31m-[m
[31m-    final SingleProcessReportDefinitionRequestDto reportWithCustomColumnOrder = reportById.get("customOrderColumnsProcessReport");[m
[31m-    assertThat(reportWithCustomColumnOrder.getData().getConfiguration().getTableColumns().getColumnOrder())[m
[31m-      .containsExactly("count:incidents","count:openIncidents","count:userTasks","processDefinitionKey",[m
[31m-                       "processDefinitionId","processInstanceId","businessKey","startDate","endDate","duration","engineName",[m
[31m-                       "tenantId","variable:amount","variable:approved","variable:approver","variable:creditor",[m
[31m-                       "variable:invoiceCategory","variable:invoiceNumber","flowNodeDuration:approveInvoice",[m
[31m-                       "flowNodeDuration:StartEvent_1","flowNodeDuration:assignApprover"[m
[31m-      );[m
[31m-    assertThat(reportWithCustomColumnOrder.getData().getConfiguration().getTableColumns().getExcludedColumns()).isEmpty();[m
[31m-[m
[31m-    final SingleProcessReportDefinitionRequestDto reportWithNoTableData = reportById.get("noTableDataProcessReport");[m
[31m-    assertThat(reportWithNoTableData.getData().getConfiguration().getTableColumns().getIncludedColumns()).isEmpty();[m
[31m-    assertThat(reportWithNoTableData.getData().getConfiguration().getTableColumns().getExcludedColumns()).isEmpty();[m
[31m-    assertThat(reportWithNoTableData.getData().getConfiguration().getTableColumns().getColumnOrder()).isEmpty();[m
[31m-    // @formatter:on[m
[31m-  }[m
[31m-[m
[31m-  @Test[m
[31m-  public void updateTenantIdForC8ProcessReports_zeebeImportEnabled() {[m
[31m-    // given[m
[31m-    configurationService.getConfiguredZeebe().setEnabled(true);[m
[31m-    executeBulk("steps/3.10/reports/310-report-index-data.json");[m
[31m-[m
[31m-    // when[m
[31m-    performUpgrade();[m
[31m-[m
[31m-    // then[m
[31m-    assertC8TenantIdMigration();[m
[31m-  }[m
[31m-[m
[31m-  @Test[m
[31m-  public void updateTenantIdForC8ProcessReports_zeebeImportDisabledButZeebeImportDataPresent() {[m
[31m-    // given[m
[31m-    configurationService.getConfiguredZeebe().setEnabled(false);[m
[31m-    executeBulk("steps/3.10/import/310-position-based-import-index-data.json");[m
[31m-    executeBulk("steps/3.10/reports/310-report-index-data.json");[m
[31m-[m
[31m-    // when[m
[31m-    performUpgrade();[m
[31m-[m
[31m-    // then[m
[31m-    assertC8TenantIdMigration();[m
[31m-  }[m
[31m-[m
[31m-  @Test[m
[31m-  public void updateTenantIdForC8ProcessReports_zeebeImportDisabledButZeebeInstanceDataPresent() {[m
[31m-    // given[m
[31m-    configurationService.getConfiguredZeebe().setEnabled(false);[m
[31m-    executeBulk("steps/3.10/instances/310-process-instance-index-zeebe-data.json");[m
[31m-    executeBulk("steps/3.10/reports/310-report-index-data.json");[m
[31m-[m
[31m-    // when[m
[31m-    performUpgrade();[m
[31m-[m
[31m-    // then[m
[31m-    assertC8TenantIdMigration();[m
[31m-  }[m
[31m-[m
[31m-  @Test[m
[31m-  public void doNotUpdateTenantIdForC7ProcessReports() {[m
[31m-    // given[m
[31m-    configurationService.getConfiguredZeebe().setEnabled(false);[m
[31m-    executeBulk("steps/3.10/reports/310-report-index-data.json");[m
[31m-[m
[31m-    // when[m
[31m-    performUpgrade();[m
[31m-[m
[31m-    // then no changes have been applied to tenantIds of report data sources[m
[31m-    final Map<String, List<String>> reportTenantsById = getAllProcessReportsById().entrySet().stream()[m
[31m-      .collect(toMap(Map.Entry::getKey, entry -> entry.getValue().getData().getTenantIds()));[m
[31m-    List<String> nullTenantList = new ArrayList<>();[m
[31m-    nullTenantList.add(null);[m
[31m-    assertThat(reportTenantsById).hasSize(3)[m
[31m-      .containsOnly([m
[31m-        Map.entry("excludedCountColumnsProcessReport", nullTenantList),[m
[31m-        Map.entry("customOrderColumnsProcessReport", List.of("tenant1")),[m
[31m-        Map.entry("noTableDataProcessReport", List.of("tenant1", "tenant2"))[m
[31m-      );[m
[31m-  }[m
[31m-[m
[31m-  private void assertNewDescriptionFieldExists(final SearchHit[] allDocumentsOfIndex) {[m
[31m-    assertThat(allDocumentsOfIndex)[m
[31m-      .allSatisfy(doc -> {[m
[31m-        final Map<String, Object> sourceAsMap = doc.getSourceAsMap();[m
[31m-        assertThat(sourceAsMap)[m
[31m-          .containsEntry("description", null);[m
[31m-      });[m
[31m-  }[m
[31m-[m
[31m-  private void assertC8TenantIdMigration() {[m
[31m-    final List<SingleProcessReportDefinitionRequestDto> reports =[m
[31m-      getAllDocumentsOfIndexAs(new SingleProcessReportIndex().getIndexName(), SingleProcessReportDefinitionRequestDto.class);[m
[31m-    assertThat(reports).hasSize(3)[m
[31m-      .extracting(ReportDefinitionDto::getData)[m
[31m-      .flatExtracting(ProcessReportDataDto::getDefinitions)[m
[31m-      .extracting(ReportDataDefinitionDto::getTenantIds)[m
[31m-      .allSatisfy(tenantIds -> assertThat(tenantIds).singleElement().isEqualTo(ZEEBE_DEFAULT_TENANT));[m
[31m-  }[m
[31m-[m
[31m-  private Map<String, SingleProcessReportDefinitionRequestDto> getAllProcessReportsById() {[m
[31m-    return getAllDocumentsOfIndexAs(new SingleProcessReportIndex().getIndexName(), SingleProcessReportDefinitionRequestDto.class)[m
[31m-      .stream()[m
[31m-      .collect(toMap(ReportDefinitionDto::getId, Function.identity()));[m
[31m-  }[m
[31m-[m
[31m-}[m
[1mdiff --git a/upgrade/src/test/java/org/camunda/optimize/upgrade/migrate310to311/indices/AbstractReportIndexOld.java b/upgrade/src/test/java/org/camunda/optimize/upgrade/migrate310to311/indices/AbstractReportIndexOld.java[m
[1mdeleted file mode 100644[m
[1mindex f30abf5b07..0000000000[m
[1m--- a/upgrade/src/test/java/org/camunda/optimize/upgrade/migrate310to311/indices/AbstractReportIndexOld.java[m
[1m+++ /dev/null[m
[36m@@ -1,82 +0,0 @@[m
[31m-/*[m
[31m- * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH under one or more contributor license agreements.[m
[31m- * Licensed under a proprietary license. See the License.txt file for more information.[m
[31m- * You may not use this file except in compliance with the proprietary license.[m
[31m- */[m
[31m-package org.camunda.optimize.upgrade.migrate310to311.indices;[m
[31m-[m
[31m-import lombok.AllArgsConstructor;[m
[31m-import org.camunda.optimize.dto.optimize.query.report.ReportDefinitionDto;[m
[31m-import org.camunda.optimize.dto.optimize.query.report.single.SingleReportDataDto;[m
[31m-import org.camunda.optimize.dto.optimize.query.report.single.configuration.SingleReportConfigurationDto;[m
[31m-import org.camunda.optimize.service.es.schema.DefaultIndexMappingCreator;[m
[31m-import org.elasticsearch.xcontent.XContentBuilder;[m
[31m-[m
[31m-import java.io.IOException;[m
[31m-[m
[31m-import static org.camunda.optimize.upgrade.es.ElasticsearchConstants.MAPPING_PROPERTY_TYPE;[m
[31m-import static org.camunda.optimize.upgrade.es.ElasticsearchConstants.OPTIMIZE_DATE_FORMAT;[m
[31m-import static org.camunda.optimize.upgrade.es.ElasticsearchConstants.TYPE_BOOLEAN;[m
[31m-import static org.camunda.optimize.upgrade.es.ElasticsearchConstants.TYPE_DATE;[m
[31m-import static org.camunda.optimize.upgrade.es.ElasticsearchConstants.TYPE_KEYWORD;[m
[31m-[m
[31m-@AllArgsConstructor[m
[31m-public abstract class AbstractReportIndexOld extends DefaultIndexMappingCreator {[m
[31m-[m
[31m-  public static final String ID = ReportDefinitionDto.Fields.id;[m
[31m-  public static final String NAME = ReportDefinitionDto.Fields.name;[m
[31m-  public static final String LAST_MODIFIED = ReportDefinitionDto.Fields.lastModified;[m
[31m-  public static final String CREATED = ReportDefinitionDto.Fields.created;[m
[31m-  public static final String OWNER = ReportDefinitionDto.Fields.owner;[m
[31m-  public static final String LAST_MODIFIER = ReportDefinitionDto.Fields.lastModifier;[m
[31m-  public static final String COLLECTION_ID = ReportDefinitionDto.Fields.collectionId;[m
[31m-[m
[31m-  public static final String REPORT_TYPE = ReportDefinitionDto.Fields.reportType;[m
[31m-  public static final String COMBINED = ReportDefinitionDto.Fields.combined;[m
[31m-  public static final String DATA = ReportDefinitionDto.Fields.data;[m
[31m-[m
[31m-  public static final String CONFIGURATION = SingleReportDataDto.Fields.configuration;[m
[31m-  public static final String XML = SingleReportConfigurationDto.Fields.xml;[m
[31m-  public static final String AGGREGATION_TYPES = SingleReportConfigurationDto.Fields.aggregationTypes;[m
[31m-[m
[31m-  @Override[m
[31m-  public XContentBuilder addProperties(XContentBuilder xContentBuilder) throws IOException {[m
[31m-    // @formatter:off[m
[31m-    XContentBuilder newBuilder = xContentBuilder[m
[31m-      .startObject(ID)[m
[31m-      .field(MAPPING_PROPERTY_TYPE, TYPE_KEYWORD)[m
[31m-      .endObject()[m
[31m-      .startObject(NAME)[m
[31m-      .field(MAPPING_PROPERTY_TYPE, TYPE_KEYWORD)[m
[31m-      .endObject()[m
[31m-      .startObject(LAST_MODIFIED)[m
[31m-      .field(MAPPING_PROPERTY_TYPE, TYPE_DATE)[m
[31m-      .field("format", OPTIMIZE_DATE_FORMAT)[m
[31m-      .endObject()[m
[31m-      .startObject(CREATED)[m
[31m-      .field(MAPPING_PROPERTY_TYPE, TYPE_DATE)[m
[31m-      .field("format", OPTIMIZE_DATE_FORMAT)[m
[31m-      .endObject()[m
[31m-      .startObject(OWNER)[m
[31m-      .field(MAPPING_PROPERTY_TYPE, TYPE_KEYWORD)[m
[31m-      .endObject()[m
[31m-      .startObject(LAST_MODIFIER)[m
[31m-      .field(MAPPING_PROPERTY_TYPE, TYPE_KEYWORD)[m
[31m-      .endObject()[m
[31m-      .startObject(COLLECTION_ID)[m
[31m-      .field(MAPPING_PROPERTY_TYPE, TYPE_KEYWORD)[m
[31m-      .endObject()[m
[31m-      .startObject(REPORT_TYPE)[m
[31m-      .field(MAPPING_PROPERTY_TYPE, TYPE_KEYWORD)[m
[31m-      .endObject()[m
[31m-      .startObject(COMBINED)[m
[31m-      .field(MAPPING_PROPERTY_TYPE, TYPE_BOOLEAN)[m
[31m-      .endObject();[m
[31m-    // @formatter:on[m
[31m-    newBuilder = addReportTypeSpecificFields(newBuilder);[m
[31m-    return newBuilder;[m
[31m-  }[m
[31m-[m
[31m-  protected abstract XContentBuilder addReportTypeSpecificFields(XContentBuilder xContentBuilder) throws IOException;[m
[31m-[m
[31m-}[m
[1mdiff --git a/upgrade/src/test/java/org/camunda/optimize/upgrade/migrate310to311/indices/CombinedDecisionReportIndexV4.java b/upgrade/src/test/java/org/camunda/optimize/upgrade/migrate310to311/indices/CombinedDecisionReportIndexV4.java[m
[1mdeleted file mode 100644[m
[1mindex cf7c4174a7..0000000000[m
[1m--- a/upgrade/src/test/java/org/camunda/optimize/upgrade/migrate310to311/indices/CombinedDecisionReportIndexV4.java[m
[1m+++ /dev/null[m
[36m@@ -1,66 +0,0 @@[m
[31m-/*[m
[31m- * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH under one or more contributor license agreements.[m
[31m- * Licensed under a proprietary license. See the License.txt file for more information.[m
[31m- * You may not use this file except in compliance with the proprietary license.[m
[31m- */[m
[31m-package org.camunda.optimize.upgrade.migrate310to311.indices;[m
[31m-[m
[31m-import lombok.AllArgsConstructor;[m
[31m-import org.elasticsearch.xcontent.XContentBuilder;[m
[31m-[m
[31m-import java.io.IOException;[m
[31m-[m
[31m-import static org.camunda.optimize.upgrade.es.ElasticsearchConstants.COMBINED_REPORT_INDEX_NAME;[m
[31m-import static org.camunda.optimize.upgrade.es.ElasticsearchConstants.MAPPING_ENABLED_SETTING;[m
[31m-[m
[31m-@AllArgsConstructor[m
[31m-public class CombinedDecisionReportIndexV4 extends AbstractReportIndexOld {[m
[31m-[m
[31m-  public static final int VERSION = 4;[m
[31m-[m
[31m-  public static final String VISUALIZATION = "visualization";[m
[31m-  public static final String CONFIGURATION = "configuration";[m
[31m-[m
[31m-  public static final String REPORTS = "reports";[m
[31m-  public static final String REPORT_ITEM_ID = "id";[m
[31m-  public static final String REPORT_ITEM_COLOR = "color";[m
[31m-[m
[31m-  @Override[m
[31m-  public String getIndexName() {[m
[31m-    return COMBINED_REPORT_INDEX_NAME;[m
[31m-  }[m
[31m-[m
[31m-  @Override[m
[31m-  public int getVersion() {[m
[31m-    return VERSION;[m
[31m-  }[m
[31m-[m
[31m-  @Override[m
[31m-  protected XContentBuilder addReportTypeSpecificFields(XContentBuilder xContentBuilder) throws IOException {[m
[31m-    // @formatter:off[m
[31m-    return xContentBuilder.[m
[31m-      startObject(DATA)[m
[31m-      .field("type", "nested")[m
[31m-      .startObject("properties")[m
[31m-      .startObject(CONFIGURATION)[m
[31m-      .field(MAPPING_ENABLED_SETTING, false)[m
[31m-      .endObject()[m
[31m-      .startObject(VISUALIZATION)[m
[31m-      .field("type", "keyword")[m
[31m-      .endObject()[m
[31m-      .startObject(REPORTS)[m
[31m-      .field("type", "nested")[m
[31m-      .startObject("properties")[m
[31m-      .startObject(REPORT_ITEM_ID)[m
[31m-      .field("type", "keyword")[m
[31m-      .endObject()[m
[31m-      .startObject(REPORT_ITEM_COLOR)[m
[31m-      .field("type", "keyword")[m
[31m-      .endObject()[m
[31m-      .endObject()[m
[31m-      .endObject()[m
[31m-      .endObject()[m
[31m-      .endObject();[m
[31m-    // @formatter:on[m
[31m-  }[m
[31m-}[m
[1mdiff --git a/upgrade/src/test/java/org/camunda/optimize/upgrade/migrate310to311/indices/DashboardIndexV7.java b/upgrade/src/test/java/org/camunda/optimize/upgrade/migrate310to311/indices/DashboardIndexV7.java[m
[1mdeleted file mode 100644[m
[1mindex 9834fdc2c4..0000000000[m
[1m--- a/upgrade/src/test/java/org/camunda/optimize/upgrade/migrate310to311/indices/DashboardIndexV7.java[m
[1m+++ /dev/null[m
[36m@@ -1,180 +0,0 @@[m
[31m-/*[m
[31m- * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH under one or more contributor license agreements.[m
[31m- * Licensed under a proprietary license. See the License.txt file for more information.[m
[31m- * You may not use this file except in compliance with the proprietary license.[m
[31m- */[m
[31m-package org.camunda.optimize.upgrade.migrate310to311.indices;[m
[31m-[m
[31m-import lombok.AllArgsConstructor;[m
[31m-import org.camunda.optimize.dto.optimize.query.dashboard.BaseDashboardDefinitionDto;[m
[31m-import org.camunda.optimize.dto.optimize.query.dashboard.DashboardDefinitionRestDto;[m
[31m-import org.camunda.optimize.dto.optimize.query.dashboard.filter.DashboardFilterDto;[m
[31m-import org.camunda.optimize.dto.optimize.query.dashboard.tile.DashboardReportTileDto;[m
[31m-import org.camunda.optimize.dto.optimize.query.dashboard.tile.DimensionDto;[m
[31m-import org.camunda.optimize.dto.optimize.query.dashboard.tile.PositionDto;[m
[31m-import org.camunda.optimize.service.es.schema.DefaultIndexMappingCreator;[m
[31m-import org.elasticsearch.xcontent.XContentBuilder;[m
[31m-[m
[31m-import java.io.IOException;[m
[31m-[m
[31m-import static org.camunda.optimize.upgrade.es.ElasticsearchConstants.DASHBOARD_INDEX_NAME;[m
[31m-import static org.camunda.optimize.upgrade.es.ElasticsearchConstants.MAPPING_PROPERTY_TYPE;[m
[31m-import static org.camunda.optimize.upgrade.es.ElasticsearchConstants.OPTIMIZE_DATE_FORMAT;[m
[31m-import static org.camunda.optimize.upgrade.es.ElasticsearchConstants.TYPE_BOOLEAN;[m
[31m-import static org.camunda.optimize.upgrade.es.ElasticsearchConstants.TYPE_DATE;[m
[31m-import static org.camunda.optimize.upgrade.es.ElasticsearchConstants.TYPE_KEYWORD;[m
[31m-import static org.camunda.optimize.upgrade.es.ElasticsearchConstants.TYPE_NESTED;[m
[31m-import static org.camunda.optimize.upgrade.es.ElasticsearchConstants.TYPE_OBJECT;[m
[31m-[m
[31m-@AllArgsConstructor[m
[31m-public class DashboardIndexV7 extends DefaultIndexMappingCreator {[m
[31m-[m
[31m-  public static final int VERSION = 7;[m
[31m-[m
[31m-  public static final String ID = BaseDashboardDefinitionDto.Fields.id;[m
[31m-  public static final String NAME = BaseDashboardDefinitionDto.Fields.name;[m
[31m-  public static final String LAST_MODIFIED = BaseDashboardDefinitionDto.Fields.lastModified;[m
[31m-  public static final String CREATED = BaseDashboardDefinitionDto.Fields.created;[m
[31m-  public static final String OWNER = BaseDashboardDefinitionDto.Fields.owner;[m
[31m-  public static final String LAST_MODIFIER = BaseDashboardDefinitionDto.Fields.lastModifier;[m
[31m-  public static final String REFRESH_RATE_SECONDS = BaseDashboardDefinitionDto.Fields.refreshRateSeconds;[m
[31m-  public static final String TILES = DashboardDefinitionRestDto.Fields.tiles;[m
[31m-  public static final String COLLECTION_ID = BaseDashboardDefinitionDto.Fields.collectionId;[m
[31m-  public static final String MANAGEMENT_DASHBOARD = BaseDashboardDefinitionDto.Fields.managementDashboard;[m
[31m-  public static final String INSTANT_PREVIEW_DASHBOARD = BaseDashboardDefinitionDto.Fields.instantPreviewDashboard;[m
[31m-  public static final String AVAILABLE_FILTERS = BaseDashboardDefinitionDto.Fields.availableFilters;[m
[31m-[m
[31m-  public static final String POSITION = DashboardReportTileDto.Fields.position;[m
[31m-  public static final String X_POSITION = PositionDto.Fields.x;[m
[31m-  public static final String Y_POSITION = PositionDto.Fields.y;[m
[31m-[m
[31m-  public static final String DIMENSION = DashboardReportTileDto.Fields.dimensions;[m
[31m-  public static final String HEIGHT = DimensionDto.Fields.height;[m
[31m-  public static final String WIDTH = DimensionDto.Fields.width;[m
[31m-[m
[31m-  public static final String REPORT_ID = DashboardReportTileDto.Fields.id;[m
[31m-  public static final String REPORT_TILE_TYPE = DashboardReportTileDto.Fields.type;[m
[31m-  public static final String CONFIGURATION = DashboardReportTileDto.Fields.configuration;[m
[31m-[m
[31m-  public static final String FILTER_TYPE = "type";[m
[31m-  public static final String FILTER_DATA = DashboardFilterDto.Fields.data;[m
[31m-[m
[31m-  @Override[m
[31m-  public String getIndexName() {[m
[31m-    return DASHBOARD_INDEX_NAME;[m
[31m-  }[m
[31m-[m
[31m-  @Override[m
[31m-  public int getVersion() {[m
[31m-    return VERSION;[m
[31m-  }[m
[31m-[m
[31m-  @Override[m
[31m-  public XContentBuilder addProperties(XContentBuilder xContentBuilder) throws IOException {[m
[31m-    // @formatter:off[m
[31m-    XContentBuilder newBuilder = xContentBuilder[m
[31m-      .startObject(ID)[m
[31m-      .field(MAPPING_PROPERTY_TYPE, TYPE_KEYWORD)[m
[31m-      .endObject()[m
[31m-      .startObject(NAME)[m
[31m-      .field(MAPPING_PROPERTY_TYPE, TYPE_KEYWORD)[m
[31m-      .endObject()[m
[31m-      .startObject(LAST_MODIFIED)[m
[31m-      .field(MAPPING_PROPERTY_TYPE, TYPE_DATE)[m
[31m-      .field("format", OPTIMIZE_DATE_FORMAT)[m
[31m-      .endObject()[m
[31m-      .startObject(CREATED)[m
[31m-      .field(MAPPING_PROPERTY_TYPE, TYPE_DATE)[m
[31m-      .field("format", OPTIMIZE_DATE_FORMAT)[m
[31m-      .endObject()[m
[31m-      .startObject(OWNER)[m
[31m-      .field(MAPPING_PROPERTY_TYPE, TYPE_KEYWORD)[m
[31m-      .endObject()[m
[31m-      .startObject(LAST_MODIFIER)[m
[31m-      .field(MAPPING_PROPERTY_TYPE, TYPE_KEYWORD)[m
[31m-      .endObject()[m
[31m-      .startObject(REFRESH_RATE_SECONDS)[m
[31m-      .field(MAPPING_PROPERTY_TYPE, TYPE_KEYWORD)[m
[31m-      .endObject()[m
[31m-      .startObject(TILES)[m
[31m-      .field(MAPPING_PROPERTY_TYPE, TYPE_NESTED)[m
[31m-      .startObject("properties");[m
[31m-    addNestedReportsField(newBuilder)[m
[31m-      .endObject()[m
[31m-      .endObject()[m
[31m-      .startObject(COLLECTION_ID)[m
[31m-      .field(MAPPING_PROPERTY_TYPE,TYPE_KEYWORD)[m
[31m-      .endObject()[m
[31m-      .startObject(MANAGEMENT_DASHBOARD)[m
[31m-      .field(MAPPING_PROPERTY_TYPE,TYPE_BOOLEAN)[m
[31m-      .endObject()[m
[31m-      .startObject(INSTANT_PREVIEW_DASHBOARD)[m
[31m-      .field(MAPPING_PROPERTY_TYPE,TYPE_BOOLEAN)[m
[31m-      .endObject()[m
[31m-      .startObject(AVAILABLE_FILTERS)[m
[31m-      .field(MAPPING_PROPERTY_TYPE, TYPE_OBJECT)[m
[31m-      .startObject("properties")[m
[31m-      .startObject(FILTER_TYPE)[m
[31m-      .field(MAPPING_PROPERTY_TYPE, TYPE_KEYWORD)[m
[31m-      .endObject()[m
[31m-      .startObject(FILTER_DATA)[m
[31m-      .field("enabled", false)[m
[31m-      .endObject()[m
[31m-      .endObject()[m
[31m-      .endObject();[m
[31m-    // @formatter:on[m
[31m-    return newBuilder;[m
[31m-  }[m
[31m-[m
[31m-  private XContentBuilder addNestedReportsField(XContentBuilder builder) throws IOException {[m
[31m-    // @formatter:off[m
[31m-    XContentBuilder newBuilder = builder[m
[31m-      .startObject(REPORT_ID)[m
[31m-      .field(MAPPING_PROPERTY_TYPE, TYPE_KEYWORD)[m
[31m-      .endObject()[m
[31m-      .startObject(REPORT_TILE_TYPE)[m
[31m-      .field(REPORT_TILE_TYPE, TYPE_KEYWORD)[m
[31m-      .endObject()[m
[31m-      .startObject(POSITION)[m
[31m-      .field(MAPPING_PROPERTY_TYPE, TYPE_NESTED)[m
[31m-      .startObject("properties");[m
[31m-    addNestedPositionField(newBuilder)[m
[31m-      .endObject()[m
[31m-      .endObject()[m
[31m-      .startObject(DIMENSION)[m
[31m-      .field(MAPPING_PROPERTY_TYPE, TYPE_NESTED)[m
[31m-      .startObject("properties");[m
[31m-    addNestedDimensionField(newBuilder)[m
[31m-      .endObject()[m
[31m-      .endObject()[m
[31m-      .startObject(CONFIGURATION)[m
[31m-      .field("enabled", false)[m
[31m-      .endObject();[m
[31m-    // @formatter:on[m
[31m-    return newBuilder;[m
[31m-  }[m
[31m-[m
[31m-  private XContentBuilder addNestedPositionField(XContentBuilder builder) throws IOException {[m
[31m-    // @formatter:off[m
[31m-    return builder[m
[31m-      .startObject(X_POSITION)[m
[31m-      .field(MAPPING_PROPERTY_TYPE, TYPE_KEYWORD)[m
[31m-      .endObject()[m
[31m-      .startObject(Y_POSITION)[m
[31m-      .field(MAPPING_PROPERTY_TYPE, TYPE_KEYWORD)[m
[31m-      .endObject();[m
[31m-    // @formatter:on[m
[31m-  }[m
[31m-[m
[31m-  private XContentBuilder addNestedDimensionField(XContentBuilder builder) throws IOException {[m
[31m-    // @formatter:off[m
[31m-    return builder[m
[31m-      .startObject(WIDTH)[m
[31m-      .field(MAPPING_PROPERTY_TYPE, TYPE_KEYWORD)[m
[31m-      .endObject()[m
[31m-      .startObject(HEIGHT)[m
[31m-      .field(MAPPING_PROPERTY_TYPE, TYPE_KEYWORD)[m
[31m-      .endObject();[m
[31m-    // @formatter:on[m
[31m-  }[m
[31m-}[m
[1mdiff --git a/upgrade/src/test/java/org/camunda/optimize/upgrade/migrate310to311/indices/SingleDecisionReportIndexV9.java b/upgrade/src/test/java/org/camunda/optimize/upgrade/migrate310to311/indices/SingleDecisionReportIndexV9.java[m
[1mdeleted file mode 100644[m
[1mindex ac077ae981..0000000000[m
[1m--- a/upgrade/src/test/java/org/camunda/optimize/upgrade/migrate310to311/indices/SingleDecisionReportIndexV9.java[m
[1m+++ /dev/null[m
[36m@@ -1,75 +0,0 @@[m
[31m-/*[m
[31m- * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH under one or more contributor license agreements.[m
[31m- * Licensed under a proprietary license. See the License.txt file for more information.[m
[31m- * You may not use this file except in compliance with the proprietary license.[m
[31m- */[m
[31m-package org.camunda.optimize.upgrade.migrate310to311.indices;[m
[31m-[m
[31m-import lombok.AllArgsConstructor;[m
[31m-import org.camunda.optimize.dto.optimize.query.report.single.decision.DecisionReportDataDto;[m
[31m-import org.elasticsearch.xcontent.XContentBuilder;[m
[31m-[m
[31m-import java.io.IOException;[m
[31m-[m
[31m-import static org.camunda.optimize.upgrade.es.ElasticsearchConstants.DYNAMIC_PROPERTY_TYPE;[m
[31m-import static org.camunda.optimize.upgrade.es.ElasticsearchConstants.MAPPING_ENABLED_SETTING;[m
[31m-import static org.camunda.optimize.upgrade.es.ElasticsearchConstants.MAPPING_PROPERTY_TYPE;[m
[31m-import static org.camunda.optimize.upgrade.es.ElasticsearchConstants.SINGLE_DECISION_REPORT_INDEX_NAME;[m
[31m-import static org.camunda.optimize.upgrade.es.ElasticsearchConstants.TYPE_OBJECT;[m
[31m-import static org.camunda.optimize.upgrade.es.ElasticsearchConstants.TYPE_TEXT;[m
[31m-[m
[31m-@AllArgsConstructor[m
[31m-public class SingleDecisionReportIndexV9 extends AbstractReportIndexOld {[m
[31m-[m
[31m-  public static final int VERSION = 9;[m
[31m-[m
[31m-  @Override[m
[31m-  public String getIndexName() {[m
[31m-    return SINGLE_DECISION_REPORT_INDEX_NAME;[m
[31m-  }[m
[31m-[m
[31m-  @Override[m
[31m-  public int getVersion() {[m
[31m-    return VERSION;[m
[31m-  }[m
[31m-[m
[31m-  @Override[m
[31m-  protected XContentBuilder addReportTypeSpecificFields(XContentBuilder xContentBuilder) throws IOException {[m
[31m-    // @formatter:off[m
[31m-    return xContentBuilder.[m
[31m-      startObject(DATA)[m
[31m-      .field(MAPPING_PROPERTY_TYPE, TYPE_OBJECT)[m
[31m-      .field(DYNAMIC_PROPERTY_TYPE, true)[m
[31m-      .startObject("properties")[m
[31m-      .startObject(DecisionReportDataDto.Fields.view)[m
[31m-      .field(MAPPING_ENABLED_SETTING, false)[m
[31m-      .endObject()[m
[31m-      .startObject(DecisionReportDataDto.Fields.groupBy)[m
[31m-      .field(MAPPING_ENABLED_SETTING, false)[m
[31m-      .endObject()[m
[31m-      .startObject(DecisionReportDataDto.Fields.distributedBy)[m
[31m-      .field(MAPPING_ENABLED_SETTING, false)[m
[31m-      .endObject()[m
[31m-      .startObject(DecisionReportDataDto.Fields.filter)[m
[31m-      .field(MAPPING_ENABLED_SETTING, false)[m
[31m-      .endObject()[m
[31m-      .startObject(CONFIGURATION)[m
[31m-      .field(MAPPING_PROPERTY_TYPE, TYPE_OBJECT)[m
[31m-      .field(DYNAMIC_PROPERTY_TYPE, true)[m
[31m-      .startObject("properties")[m
[31m-      .startObject(XML)[m
[31m-      .field(MAPPING_PROPERTY_TYPE, TYPE_TEXT)[m
[31m-      .field("index", true)[m
[31m-      .field("analyzer", "is_present_analyzer")[m
[31m-      .endObject()[m
[31m-      .startObject(AGGREGATION_TYPES)[m
[31m-      .field(MAPPING_PROPERTY_TYPE, TYPE_OBJECT)[m
[31m-      .field(DYNAMIC_PROPERTY_TYPE, true)[m
[31m-      .endObject()[m
[31m-      .endObject()[m
[31m-      .endObject()[m
[31m-      .endObject()[m
[31m-      .endObject();[m
[31m-    // @formatter:on[m
[31m-  }[m
[31m-}[m
[1mdiff --git a/upgrade/src/test/java/org/camunda/optimize/upgrade/migrate310to311/indices/SingleProcessReportIndexV10.java b/upgrade/src/test/java/org/camunda/optimize/upgrade/migrate310to311/indices/SingleProcessReportIndexV10.java[m
[1mdeleted file mode 100644[m
[1mindex 4bf99a0645..0000000000[m
[1m--- a/upgrade/src/test/java/org/camunda/optimize/upgrade/migrate310to311/indices/SingleProcessReportIndexV10.java[m
[1m+++ /dev/null[m
[36m@@ -1,85 +0,0 @@[m
[31m-/*[m
[31m- * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH under one or more contributor license agreements.[m
[31m- * Licensed under a proprietary license. See the License.txt file for more information.[m
[31m- * You may not use this file except in compliance with the proprietary license.[m
[31m- */[m
[31m-package org.camunda.optimize.upgrade.migrate310to311.indices;[m
[31m-[m
[31m-import lombok.AllArgsConstructor;[m
[31m-import org.camunda.optimize.dto.optimize.query.report.single.process.ProcessReportDataDto;[m
[31m-import org.elasticsearch.xcontent.XContentBuilder;[m
[31m-[m
[31m-import java.io.IOException;[m
[31m-[m
[31m-import static org.camunda.optimize.upgrade.es.ElasticsearchConstants.DYNAMIC_PROPERTY_TYPE;[m
[31m-import static org.camunda.optimize.upgrade.es.ElasticsearchConstants.MAPPING_ENABLED_SETTING;[m
[31m-import static org.camunda.optimize.upgrade.es.ElasticsearchConstants.MAPPING_PROPERTY_TYPE;[m
[31m-import static org.camunda.optimize.upgrade.es.ElasticsearchConstants.SINGLE_PROCESS_REPORT_INDEX_NAME;[m
[31m-import static org.camunda.optimize.upgrade.es.ElasticsearchConstants.TYPE_BOOLEAN;[m
[31m-import static org.camunda.optimize.upgrade.es.ElasticsearchConstants.TYPE_OBJECT;[m
[31m-import static org.camunda.optimize.upgrade.es.ElasticsearchConstants.TYPE_TEXT;[m
[31m-[m
[31m-@AllArgsConstructor[m
[31m-public class SingleProcessReportIndexV10 extends AbstractReportIndexOld {[m
[31m-[m
[31m-  public static final String MANAGEMENT_REPORT = ProcessReportDataDto.Fields.managementReport;[m
[31m-  public static final String INSTANT_PREVIEW_REPORT = ProcessReportDataDto.Fields.instantPreviewReport;[m
[31m-[m
[31m-  public static final int VERSION = 10;[m
[31m-[m
[31m-  @Override[m
[31m-  public String getIndexName() {[m
[31m-    return SINGLE_PROCESS_REPORT_INDEX_NAME;[m
[31m-  }[m
[31m-[m
[31m-  @Override[m
[31m-  public int getVersion() {[m
[31m-    return VERSION;[m
[31m-  }[m
[31m-[m
[31m-  @Override[m
[31m-  protected XContentBuilder addReportTypeSpecificFields(XContentBuilder xContentBuilder) throws IOException {[m
[31m-    // @formatter:off[m
[31m-    return xContentBuilder[m
[31m-      .startObject(DATA)[m
[31m-      .field(MAPPING_PROPERTY_TYPE, TYPE_OBJECT)[m
[31m-      .field(DYNAMIC_PROPERTY_TYPE, true)[m
[31m-      .startObject("properties")[m
[31m-      .startObject(ProcessReportDataDto.Fields.view)[m
[31m-      .field(MAPPING_ENABLED_SETTING, false)[m
[31m-      .endObject()[m
[31m-      .startObject(ProcessReportDataDto.Fields.groupBy)[m
[31m-      .field(MAPPING_ENABLED_SETTING, false)[m
[31m-      .endObject()[m
[31m-      .startObject(ProcessReportDataDto.Fields.distributedBy)[m
[31m-      .field(MAPPING_ENABLED_SETTING, false)[m
[31m-      .endObject()[m
[31m-      .startObject(ProcessReportDataDto.Fields.filter)[m
[31m-      .field(MAPPING_ENABLED_SETTING, false)[m
[31m-      .endObject()[m
[31m-      .startObject(MANAGEMENT_REPORT)[m
[31m-      .field(MAPPING_PROPERTY_TYPE, TYPE_BOOLEAN)[m
[31m-      .endObject()[m
[31m-      .startObject(INSTANT_PREVIEW_REPORT)[m
[31m-      .field(MAPPING_PROPERTY_TYPE, TYPE_BOOLEAN)[m
[31m-      .endObject()[m
[31m-      .startObject(CONFIGURATION)[m
[31m-      .field(MAPPING_PROPERTY_TYPE, TYPE_OBJECT)[m
[31m-      .field(DYNAMIC_PROPERTY_TYPE, true)[m
[31m-      .startObject("properties")[m
[31m-      .startObject(XML)[m
[31m-      .field(MAPPING_PROPERTY_TYPE, TYPE_TEXT)[m
[31m-      .field("index", true)[m
[31m-      .field("analyzer", "is_present_analyzer")[m
[31m-      .endObject()[m
[31m-      .startObject(AGGREGATION_TYPES)[m
[31m-      .field(MAPPING_PROPERTY_TYPE, TYPE_OBJECT)[m
[31m-      .field(DYNAMIC_PROPERTY_TYPE, true)[m
[31m-      .endObject()[m
[31m-      .endObject()[m
[31m-      .endObject()[m
[31m-      .endObject()[m
[31m-      .endObject();[m
[31m-    // @formatter:on[m
[31m-  }[m
[31m-}[m
[1mdiff --git a/upgrade/src/test/resources/steps/3.10/collections/310-collection-index-data.json b/upgrade/src/test/resources/steps/3.10/collections/310-collection-index-data.json[m
[1mdeleted file mode 100644[m
[1mindex 878c643dfe..0000000000[m
[1m--- a/upgrade/src/test/resources/steps/3.10/collections/310-collection-index-data.json[m
[1m+++ /dev/null[m
[36m@@ -1,8 +0,0 @@[m
[31m-{"index":{"_index":"optimize-collection_v5","_id":"noScopeCollection"}}[m
[31m-{"id":"noScopeCollection","name":"NoScopeCollection","lastModified":"2023-09-15T11:57:59.316+0200","created":"2023-09-15T11:57:59.199+0200","owner":"25a8180d-98ca-4c0f-9871-9c07f06af0ca","lastModifier":"25a8180d-98ca-4c0f-9871-9c07f06af0ca","data":{"configuration":{},"roles":[{"id":"USER:25a8180d-98ca-4c0f-9871-9c07f06af0ca","identity":{"id":"25a8180d-98ca-4c0f-9871-9c07f06af0ca","type":"user"},"role":"manager"}],"scope":[]},"automaticallyCreated":false}[m
[31m-{"index":{"_index":"optimize-collection_v5","_id":"oneScopeCollection"}}[m
[31m-{"id":"oneScopeCollection","name":"OneScopeCollection","lastModified":"2023-09-15T11:57:59.316+0200","created":"2023-09-15T11:57:59.199+0200","owner":"25a8180d-98ca-4c0f-9871-9c07f06af0ca","lastModifier":"25a8180d-98ca-4c0f-9871-9c07f06af0ca","data":{"configuration":{},"roles":[{"id":"USER:25a8180d-98ca-4c0f-9871-9c07f06af0ca","identity":{"id":"25a8180d-98ca-4c0f-9871-9c07f06af0ca","type":"user"},"role":"manager"}],"scope":[{"definitionKey":"customer_onboarding_en","definitionType":"process","tenants":[null]}]},"automaticallyCreated":false}[m
[31m-{"index":{"_index":"optimize-collection_v5","_id":"twoScopeCollection"}}[m
[31m-{"id":"twoScopeCollection","name":"TwoScopeCollection","lastModified":"2023-09-15T11:57:59.316+0200","created":"2023-09-15T11:57:59.199+0200","owner":"25a8180d-98ca-4c0f-9871-9c07f06af0ca","lastModifier":"25a8180d-98ca-4c0f-9871-9c07f06af0ca","data":{"configuration":{},"roles":[{"id":"USER:25a8180d-98ca-4c0f-9871-9c07f06af0ca","identity":{"id":"25a8180d-98ca-4c0f-9871-9c07f06af0ca","type":"user"},"role":"manager"}],"scope":[{"definitionKey":"customer_onboarding_en","definitionType":"process","tenants":[null]},{"definitionKey":"aProcess","definitionType":"process","tenants":[null]}]},"automaticallyCreated":false}[m
[31m-{"index":{"_index":"optimize-collection_v5","_id":"c7NonNullScopeCollection"}}[m
[31m-{"id":"c7NonNullScopeCollection","name":"NonNullScopeCollection","lastModified":"2023-09-15T11:57:59.316+0200","created":"2023-09-15T11:57:59.199+0200","owner":"25a8180d-98ca-4c0f-9871-9c07f06af0ca","lastModifier":"25a8180d-98ca-4c0f-9871-9c07f06af0ca","data":{"configuration":{},"roles":[{"id":"USER:25a8180d-98ca-4c0f-9871-9c07f06af0ca","identity":{"id":"25a8180d-98ca-4c0f-9871-9c07f06af0ca","type":"user"},"role":"manager"}],"scope":[{"definitionKey":"customer_onboarding_en","definitionType":"process","tenants":["csm"]}]},"automaticallyCreated":false}[m
[1mdiff --git a/upgrade/src/test/resources/steps/3.10/dashboards/310-dashboard-index-data.json b/upgrade/src/test/resources/steps/3.10/dashboards/310-dashboard-index-data.json[m
[1mdeleted file mode 100644[m
[1mindex d2d972e21e..0000000000[m
[1m--- a/upgrade/src/test/resources/steps/3.10/dashboards/310-dashboard-index-data.json[m
[1m+++ /dev/null[m
[36m@@ -1,4 +0,0 @@[m
[31m-{"index":{"_index":"optimize-dashboard_v7","_id":"adb77a9d-62e8-4514-ab88-97172157dbbc"}}[m
[31m-{"id":"adb77a9d-62e8-4514-ab88-97172157dbbc","name":"dashboardName","lastModified":"2023-05-02T22:59:36.067+0200","created":"2023-05-02T22:59:36.067+0200","owner":null,"lastModifier":null,"collectionId":null,"managementDashboard":false,"instantPreviewDashboard":false,"availableFilters":[{"type":"instanceStartDate","data":{"defaultValues":{"type":"rolling","start":{"value":12,"unit":"months"},"end":null,"includeUndefined":false,"excludeUndefined":false}}}],"refreshRateSeconds":null,"tiles":[{"id":"769197f1-c4ea-471a-b4a4-c1d86ef957b5","position":{"x":0,"y":0},"dimensions":{"width":3,"height":4},"type":"optimize_report","configuration":null},{"id":"debc6471-ed9d-4d71-bfea-c25980c2f277","position":{"x":3,"y":0},"dimensions":{"width":3,"height":2},"type":"optimize_report","configuration":null},{"id":"f40ecb72-9ee1-4551-9c0d-8dcd58357437","position":{"x":3,"y":2},"dimensions":{"width":3,"height":2},"type":"optimize_report","configuration":null},{"id":"a24cf98a-7aec-4955-86f4-d60592015f79","position":{"x":6,"y":0},"dimensions":{"width":4,"height":4},"type":"optimize_report","configuration":null},{"id":"4e4dfcae-c679-49d3-968f-d11db459d0d6","position":{"x":10,"y":0},"dimensions":{"width":4,"height":4},"type":"optimize_report","configuration":null},{"id":"e89d4e9d-331c-44e6-9cb5-dd775f2f8a33","position":{"x":14,"y":0},"dimensions":{"width":4,"height":4},"type":"optimize_report","configuration":null}]}[m
[31m-{"index":{"_index":"optimize-dashboard_v7","_id":"management-dashboard"}}[m
[31m-{"id":"management-dashboard","name":"dashboardName","lastModified":"2023-05-02T22:59:36.067+0200","created":"2023-05-02T22:59:36.067+0200","owner":null,"lastModifier":null,"collectionId":null,"managementDashboard":true,"instantPreviewDashboard":false,"availableFilters":[{"type":"instanceStartDate","data":{"defaultValues":{"type":"rolling","start":{"value":12,"unit":"months"},"end":null,"includeUndefined":false,"excludeUndefined":false}}}],"refreshRateSeconds":null,"tiles":[{"id":"769197f1-c4ea-471a-b4a4-c1d86ef957b5","position":{"x":0,"y":0},"dimensions":{"width":3,"height":4},"type":"optimize_report","configuration":null},{"id":"debc6471-ed9d-4d71-bfea-c25980c2f277","position":{"x":3,"y":0},"dimensions":{"width":3,"height":2},"type":"optimize_report","configuration":null},{"id":"f40ecb72-9ee1-4551-9c0d-8dcd58357437","position":{"x":3,"y":2},"dimensions":{"width":3,"height":2},"type":"optimize_report","configuration":null},{"id":"a24cf98a-7aec-4955-86f4-d60592015f79","position":{"x":6,"y":0},"dimensions":{"width":4,"height":4},"type":"optimize_report","configuration":null},{"id":"4e4dfcae-c679-49d3-968f-d11db459d0d6","position":{"x":10,"y":0},"dimensions":{"width":4,"height":4},"type":"optimize_report","configuration":null},{"id":"e89d4e9d-331c-44e6-9cb5-dd775f2f8a33","position":{"x":14,"y":0},"dimensions":{"width":4,"height":4},"type":"optimize_report","configuration":null}]}[m
[1mdiff --git a/upgrade/src/test/resources/steps/3.10/definitions/310-event-process-definition-cambpm-data.json b/upgrade/src/test/resources/steps/3.10/definitions/310-event-process-definition-cambpm-data.json[m
[1mdeleted file mode 100644[m
[1mindex 166cd7db2b..0000000000[m
[1m--- a/upgrade/src/test/resources/steps/3.10/definitions/310-event-process-definition-cambpm-data.json[m
[1m+++ /dev/null[m
[36m@@ -1,4 +0,0 @@[m
[31m-{"index":{"_index":"optimize-event-process-definition_v5","_id":"eventProcessKey1-null"}}[m
[31m-{"id": "eventProcessKey1-null", "key": "eventProcessKey1", "version": "1", "versionTag": null, "name": "eventProcess-eventProcessKey1", "dataSource": {"type": "events", "name": null}, "tenantId": null, "deleted": false, "bpmn20Xml": "eventProcessKey11", "flowNodeData": [ ], "userTaskNames": { }, "onboarded": true}[m
[31m-{"index":{"_index":"optimize-event-process-definition_v5","_id":"eventProcessKey2-null"}}[m
[31m-{"id": "eventProcessKey2-null", "key": "eventProcessKey2", "version": "1", "versionTag": null, "name": "eventProcess-eventProcessKey2", "dataSource": {"type": "events", "name": null}, "tenantId": "someTenantId", "deleted": false, "bpmn20Xml": "eventProcessKey22", "flowNodeData": [ ], "userTaskNames": { }, "onboarded": true}[m
[1mdiff --git a/upgrade/src/test/resources/steps/3.10/definitions/310-process-definition-index-cambpm-data.json b/upgrade/src/test/resources/steps/3.10/definitions/310-process-definition-index-cambpm-data.json[m
[1mdeleted file mode 100644[m
[1mindex 9f7cd515ab..0000000000[m
[1m--- a/upgrade/src/test/resources/steps/3.10/definitions/310-process-definition-index-cambpm-data.json[m
[1m+++ /dev/null[m
[36m@@ -1,6 +0,0 @@[m
[31m-{"index":{"_index":"optimize-process-definition_v6","_id":"ReviewInvoice:1:17e0e060-27c8-11ee-8aac-0242ac130003"}}[m
[31m-{"id": "ReviewInvoice:1:17e0e060-27c8-11ee-8aac-0242ac130003", "key": "ReviewInvoice", "version": "1", "versionTag": null, "name": "Review Invoice", "dataSource": {"name": "cambpm", "type": "engine"}, "tenantId": null, "deleted": false, "bpmn20Xml": "<?xml version='1.0' encoding='UTF-8'?> <bpmn:definitions xmlns:bpmn='http://www.omg.org/spec/BPMN/20100524/MODEL' xmlns:bpmndi='http://www.omg.org/spec/BPMN/20100524/DI' xmlns:dc='http://www.omg.org/spec/DD/20100524/DC' xmlns:camunda='http://camunda.org/schema/1.0/bpmn' xmlns:di='http://www.omg.org/spec/DD/20100524/DI' id='Definitions_1k1vca8' targetNamespace='http://bpmn.io/schema/bpmn' exporter='Camunda Modeler' exporterVersion='4.12.0'> <bpmn:process id='ReviewInvoice' name='Review Invoice' isExecutable='true' camunda:historyTimeToLive='45' camunda:isStartableInTasklist='false'> <bpmn:startEvent id='StartEvent_1'> <bpmn:outgoing>SequenceFlow_1ggutts</bpmn:outgoing> </bpmn:startEvent> <bpmn:sequenceFlow id='SequenceFlow_1ggutts' sourceRef='StartEvent_1' targetRef='assignReviewer' /> <bpmn:sequenceFlow id='SequenceFlow_144f11w' sourceRef='assignReviewer' targetRef='reviewInvoice' /> <bpmn:endEvent id='EndEvent_1og1zom'> <bpmn:incoming>SequenceFlow_0vvoxt0</bpmn:incoming> </bpmn:endEvent> <bpmn:sequenceFlow id='SequenceFlow_0vvoxt0' sourceRef='reviewInvoice' targetRef='EndEvent_1og1zom' /> <bpmn:userTask id='assignReviewer' name='Assign Reviewer' camunda:formKey='embedded:app:forms/assign-reviewer.html' camunda:assignee='demo'> <bpmn:incoming>SequenceFlow_1ggutts</bpmn:incoming> <bpmn:outgoing>SequenceFlow_144f11w</bpmn:outgoing> </bpmn:userTask> <bpmn:userTask id='reviewInvoice' name='Review Invoice' camunda:formKey='embedded:app:forms/review-invoice.html' camunda:assignee='${reviewer}' camunda:dueDate='${dateTime().plusDays(2).toDate()}'> <bpmn:incoming>SequenceFlow_144f11w</bpmn:incoming> <bpmn:outgoing>SequenceFlow_0vvoxt0</bpmn:outgoing> </bpmn:userTask> </bpmn:process> <bpmndi:BPMNDiagram id='BPMNDiagram_1'> <bpmndi:BPMNPlane id='BPMNPlane_1' bpmnElement='ReviewInvoice'> <bpmndi:BPMNEdge id='SequenceFlow_0vvoxt0_di' bpmnElement='SequenceFlow_0vvoxt0'> <di:waypoint x='530' y='97' /> <di:waypoint x='592' y='97' /> </bpmndi:BPMNEdge> <bpmndi:BPMNEdge id='SequenceFlow_144f11w_di' bpmnElement='SequenceFlow_144f11w'> <di:waypoint x='370' y='97' /> <di:waypoint x='430' y='97' /> </bpmndi:BPMNEdge> <bpmndi:BPMNEdge id='SequenceFlow_1ggutts_di' bpmnElement='SequenceFlow_1ggutts'> <di:waypoint x='215' y='97' /> <di:waypoint x='270' y='97' /> </bpmndi:BPMNEdge> <bpmndi:BPMNShape id='_BPMNShape_StartEvent_2' bpmnElement='StartEvent_1'> <dc:Bounds x='179' y='79' width='36' height='36' /> </bpmndi:BPMNShape> <bpmndi:BPMNShape id='EndEvent_1og1zom_di' bpmnElement='EndEvent_1og1zom'> <dc:Bounds x='592' y='79' width='36' height='36' /> </bpmndi:BPMNShape> <bpmndi:BPMNShape id='UserTask_01n44zw_di' bpmnElement='assignReviewer'> <dc:Bounds x='270' y='57' width='100' height='80' /> </bpmndi:BPMNShape> <bpmndi:BPMNShape id='UserTask_055nly4_di' bpmnElement='reviewInvoice'> <dc:Bounds x='430' y='57' width='100' height='80' /> </bpmndi:BPMNShape> </bpmndi:BPMNPlane> </bpmndi:BPMNDiagram> </bpmn:definitions>", "flowNodeData": [{"name": null, "id": "EndEvent_1og1zom", "type": "endEvent"}, {"name": "Assign Reviewer", "id": "assignReviewer", "type": "userTask"}, {"name": "Review Invoice", "id": "reviewInvoice", "type": "userTask"}, {"name": null, "id": "StartEvent_1", "type": "startEvent"}], "userTaskNames": {"reviewInvoice": "Review Invoice", "assignReviewer": "Assign Reviewer"}, "onboarded": false}[m
[31m-{"index":{"_index":"optimize-process-definition_v6","_id":"invoice:2:6b37209f-2b8a-11ee-8c50-0242c0a87003"}}[m
[31m-{"id": "invoice:2:6b37209f-2b8a-11ee-8c50-0242c0a87003", "key": "invoice", "version": "1", "versionTag": null, "name": "Invoice Receipe", "dataSource": {"name": "zeebe", "type": "engine"}, "tenantId": null, "deleted": false, "bpmn20Xml": "<?xml version='1.0' encoding='UTF-8'?> <bpmn:definitions xmlns:bpmn='http://www.omg.org/spec/BPMN/20100524/MODEL' xmlns:bpmndi='http://www.omg.org/spec/BPMN/20100524/DI' xmlns:dc='http://www.omg.org/spec/DD/20100524/DC' xmlns:camunda='http://camunda.org/schema/1.0/bpmn' xmlns:di='http://www.omg.org/spec/DD/20100524/DI' id='Definitions_1k1vca8' targetNamespace='http://bpmn.io/schema/bpmn' exporter='Camunda Modeler' exporterVersion='4.12.0'> <bpmn:process id='ReviewInvoice' name='Review Invoice' isExecutable='true' camunda:historyTimeToLive='45' camunda:isStartableInTasklist='false'> <bpmn:startEvent id='StartEvent_1'> <bpmn:outgoing>SequenceFlow_1ggutts</bpmn:outgoing> </bpmn:startEvent> <bpmn:sequenceFlow id='SequenceFlow_1ggutts' sourceRef='StartEvent_1' targetRef='assignReviewer' /> <bpmn:sequenceFlow id='SequenceFlow_144f11w' sourceRef='assignReviewer' targetRef='reviewInvoice' /> <bpmn:endEvent id='EndEvent_1og1zom'> <bpmn:incoming>SequenceFlow_0vvoxt0</bpmn:incoming> </bpmn:endEvent> <bpmn:sequenceFlow id='SequenceFlow_0vvoxt0' sourceRef='reviewInvoice' targetRef='EndEvent_1og1zom' /> <bpmn:userTask id='assignReviewer' name='Assign Reviewer' camunda:formKey='embedded:app:forms/assign-reviewer.html' camunda:assignee='demo'> <bpmn:incoming>SequenceFlow_1ggutts</bpmn:incoming> <bpmn:outgoing>SequenceFlow_144f11w</bpmn:outgoing> </bpmn:userTask> <bpmn:userTask id='reviewInvoice' name='Review Invoice' camunda:formKey='embedded:app:forms/review-invoice.html' camunda:assignee='${reviewer}' camunda:dueDate='${dateTime().plusDays(2).toDate()}'> <bpmn:incoming>SequenceFlow_144f11w</bpmn:incoming> <bpmn:outgoing>SequenceFlow_0vvoxt0</bpmn:outgoing> </bpmn:userTask> </bpmn:process> <bpmndi:BPMNDiagram id='BPMNDiagram_1'> <bpmndi:BPMNPlane id='BPMNPlane_1' bpmnElement='ReviewInvoice'> <bpmndi:BPMNEdge id='SequenceFlow_0vvoxt0_di' bpmnElement='SequenceFlow_0vvoxt0'> <di:waypoint x='530' y='97' /> <di:waypoint x='592' y='97' /> </bpmndi:BPMNEdge> <bpmndi:BPMNEdge id='SequenceFlow_144f11w_di' bpmnElement='SequenceFlow_144f11w'> <di:waypoint x='370' y='97' /> <di:waypoint x='430' y='97' /> </bpmndi:BPMNEdge> <bpmndi:BPMNEdge id='SequenceFlow_1ggutts_di' bpmnElement='SequenceFlow_1ggutts'> <di:waypoint x='215' y='97' /> <di:waypoint x='270' y='97' /> </bpmndi:BPMNEdge> <bpmndi:BPMNShape id='_BPMNShape_StartEvent_2' bpmnElement='StartEvent_1'> <dc:Bounds x='179' y='79' width='36' height='36' /> </bpmndi:BPMNShape> <bpmndi:BPMNShape id='EndEvent_1og1zom_di' bpmnElement='EndEvent_1og1zom'> <dc:Bounds x='592' y='79' width='36' height='36' /> </bpmndi:BPMNShape> <bpmndi:BPMNShape id='UserTask_01n44zw_di' bpmnElement='assignReviewer'> <dc:Bounds x='270' y='57' width='100' height='80' /> </bpmndi:BPMNShape> <bpmndi:BPMNShape id='UserTask_055nly4_di' bpmnElement='reviewInvoice'> <dc:Bounds x='430' y='57' width='100' height='80' /> </bpmndi:BPMNShape> </bpmndi:BPMNPlane> </bpmndi:BPMNDiagram> </bpmn:definitions>", "flowNodeData": [{"name": null, "id": "EndEvent_1og1zom", "type": "endEvent"}, {"name": "Assign Reviewer", "id": "assignReviewer", "type": "userTask"}, {"name": "Review Invoice", "id": "reviewInvoice", "type": "userTask"}, {"name": null, "id": "StartEvent_1", "type": "startEvent"}], "userTaskNames": {"reviewInvoice": "Review Invoice", "assignReviewer": "Assign Reviewer"}, "onboarded": false}[m
[31m-{"index":{"_index":"optimize-process-definition_v6","_id":"IssueInvoice:2:6b37209f-2b8a-11ee-8c50-0242c0a87003"}}[m
[31m-{"id": "IssueInvoice:2:6b37209f-2b8a-11ee-8c50-0242c0a87003", "key": "IssueInvoice", "version": "1", "versionTag": null, "name": "IssueInvoice", "dataSource": {"name": "zeebe", "type": "engine"}, "tenantId": "someTenant", "deleted": false, "bpmn20Xml": "<?xml version='1.0' encoding='UTF-8'?> <bpmn:definitions xmlns:bpmn='http://www.omg.org/spec/BPMN/20100524/MODEL' xmlns:bpmndi='http://www.omg.org/spec/BPMN/20100524/DI' xmlns:dc='http://www.omg.org/spec/DD/20100524/DC' xmlns:camunda='http://camunda.org/schema/1.0/bpmn' xmlns:di='http://www.omg.org/spec/DD/20100524/DI' id='Definitions_1k1vca8' targetNamespace='http://bpmn.io/schema/bpmn' exporter='Camunda Modeler' exporterVersion='4.12.0'> <bpmn:process id='ReviewInvoice' name='Review Invoice' isExecutable='true' camunda:historyTimeToLive='45' camunda:isStartableInTasklist='false'> <bpmn:startEvent id='StartEvent_1'> <bpmn:outgoing>SequenceFlow_1ggutts</bpmn:outgoing> </bpmn:startEvent> <bpmn:sequenceFlow id='SequenceFlow_1ggutts' sourceRef='StartEvent_1' targetRef='assignReviewer' /> <bpmn:sequenceFlow id='SequenceFlow_144f11w' sourceRef='assignReviewer' targetRef='reviewInvoice' /> <bpmn:endEvent id='EndEvent_1og1zom'> <bpmn:incoming>SequenceFlow_0vvoxt0</bpmn:incoming> </bpmn:endEvent> <bpmn:sequenceFlow id='SequenceFlow_0vvoxt0' sourceRef='reviewInvoice' targetRef='EndEvent_1og1zom' /> <bpmn:userTask id='assignReviewer' name='Assign Reviewer' camunda:formKey='embedded:app:forms/assign-reviewer.html' camunda:assignee='demo'> <bpmn:incoming>SequenceFlow_1ggutts</bpmn:incoming> <bpmn:outgoing>SequenceFlow_144f11w</bpmn:outgoing> </bpmn:userTask> <bpmn:userTask id='reviewInvoice' name='Review Invoice' camunda:formKey='embedded:app:forms/review-invoice.html' camunda:assignee='${reviewer}' camunda:dueDate='${dateTime().plusDays(2).toDate()}'> <bpmn:incoming>SequenceFlow_144f11w</bpmn:incoming> <bpmn:outgoing>SequenceFlow_0vvoxt0</bpmn:outgoing> </bpmn:userTask> </bpmn:process> <bpmndi:BPMNDiagram id='BPMNDiagram_1'> <bpmndi:BPMNPlane id='BPMNPlane_1' bpmnElement='ReviewInvoice'> <bpmndi:BPMNEdge id='SequenceFlow_0vvoxt0_di' bpmnElement='SequenceFlow_0vvoxt0'> <di:waypoint x='530' y='97' /> <di:waypoint x='592' y='97' /> </bpmndi:BPMNEdge> <bpmndi:BPMNEdge id='SequenceFlow_144f11w_di' bpmnElement='SequenceFlow_144f11w'> <di:waypoint x='370' y='97' /> <di:waypoint x='430' y='97' /> </bpmndi:BPMNEdge> <bpmndi:BPMNEdge id='SequenceFlow_1ggutts_di' bpmnElement='SequenceFlow_1ggutts'> <di:waypoint x='215' y='97' /> <di:waypoint x='270' y='97' /> </bpmndi:BPMNEdge> <bpmndi:BPMNShape id='_BPMNShape_StartEvent_2' bpmnElement='StartEvent_1'> <dc:Bounds x='179' y='79' width='36' height='36' /> </bpmndi:BPMNShape> <bpmndi:BPMNShape id='EndEvent_1og1zom_di' bpmnElement='EndEvent_1og1zom'> <dc:Bounds x='592' y='79' width='36' height='36' /> </bpmndi:BPMNShape> <bpmndi:BPMNShape id='UserTask_01n44zw_di' bpmnElement='assignReviewer'> <dc:Bounds x='270' y='57' width='100' height='80' /> </bpmndi:BPMNShape> <bpmndi:BPMNShape id='UserTask_055nly4_di' bpmnElement='reviewInvoice'> <dc:Bounds x='430' y='57' width='100' height='80' /> </bpmndi:BPMNShape> </bpmndi:BPMNPlane> </bpmndi:BPMNDiagram> </bpmn:definitions>", "flowNodeData": [{"name": null, "id": "EndEvent_1og1zom", "type": "endEvent"}, {"name": "Assign Reviewer", "id": "assignReviewer", "type": "userTask"}, {"name": "Review Invoice", "id": "reviewInvoice", "type": "userTask"}, {"name": null, "id": "StartEvent_1", "type": "startEvent"}], "userTaskNames": {"reviewInvoice": "Review Invoice", "assignReviewer": "Assign Reviewer"}, "onboarded": false}[m
[1mdiff --git a/upgrade/src/test/resources/steps/3.10/definitions/310-process-definition-index-zeebe-data.json b/upgrade/src/test/resources/steps/3.10/definitions/310-process-definition-index-zeebe-data.json[m
[1mdeleted file mode 100644[m
[1mindex 85d03f49ed..0000000000[m
[1m--- a/upgrade/src/test/resources/steps/3.10/definitions/310-process-definition-index-zeebe-data.json[m
[1m+++ /dev/null[m
[36m@@ -1,4 +0,0 @@[m
[31m-{"index":{"_index":"optimize-process-definition_v6","_id":"2251799813685249"}}[m
[31m-{"bpmn20Xml": "<?xml version='1.0' encoding='UTF-8'?> <bpmn:definitions xmlns:bpmn='http://www.omg.org/spec/BPMN/20100524/MODEL' xmlns:bpmndi='http://www.omg.org/spec/BPMN/20100524/DI' xmlns:dc='http://www.omg.org/spec/DD/20100524/DC' xmlns:modeler='http://camunda.org/schema/modeler/1.0' xmlns:di='http://www.omg.org/spec/DD/20100524/DI' xmlns:camunda='http://camunda.org/schema/1.0/bpmn' id='Definitions_1' targetNamespace='http://bpmn.io/schema/bpmn' exporter='Camunda Web Modeler' exporterVersion='174e755' modeler:executionPlatform='Camunda Cloud' modeler:executionPlatformVersion='8.0.0' camunda:diagramRelationId='cbb4ce02-7c0a-4d0f-9cd8-225239b225ab'> <bpmn:process id='always-completing-process' name='Always completing process' isExecutable='true'> <bpmn:startEvent id='StartEvent_1'> <bpmn:outgoing>Flow_1nz2wn9</bpmn:outgoing> </bpmn:startEvent> <bpmn:endEvent id='Event_0xcxmck'> <bpmn:incoming>Flow_1nz2wn9</bpmn:incoming> </bpmn:endEvent> <bpmn:sequenceFlow id='Flow_1nz2wn9' sourceRef='StartEvent_1' targetRef='Event_0xcxmck' /> </bpmn:process> <bpmndi:BPMNDiagram id='BPMNDiagram_1'> <bpmndi:BPMNPlane id='BPMNPlane_1' bpmnElement='always-completing-process'> <bpmndi:BPMNEdge id='Flow_1nz2wn9_di' bpmnElement='Flow_1nz2wn9'> <di:waypoint x='186' y='118' /> <di:waypoint x='242' y='118' /> </bpmndi:BPMNEdge> <bpmndi:BPMNShape id='_BPMNShape_StartEvent_2' bpmnElement='StartEvent_1'> <dc:Bounds x='150' y='100' width='36' height='36' /> </bpmndi:BPMNShape> <bpmndi:BPMNShape id='Event_0xcxmck_di' bpmnElement='Event_0xcxmck'> <dc:Bounds x='242' y='100' width='36' height='36' /> <bpmndi:BPMNLabel> <dc:Bounds x='215' y='143' width='90' height='20' /> </bpmndi:BPMNLabel> </bpmndi:BPMNShape> </bpmndi:BPMNPlane> </bpmndi:BPMNDiagram> </bpmn:definitions>", "onboarded": true, "deleted": false,"flowNodeData": [{"name": null, "id": "Event_0xcxmck", "type": "endEvent"}, {"name": null, "id": "StartEvent_1", "type": "startEvent"}], "name": "Always completing process", "tenantId": null, "userTaskNames": { }, "versionTag": null, "id": "2251799813685249", "version": "1", "dataSource": {"partitionId": 1, "name": "zeebe-record", "type": "zeebe"}, "key": "always-completing-process"}[m
[31m-{"index":{"_index":"optimize-process-definition_v6","_id":"2251799813685270"}}[m
[31m-{"id": "2251799813685270", "key": "onlyIncidentsProcess", "version": "1", "versionTag": null, "name": "Only Incidents Process", "dataSource": {"type": "zeebe", "name": "zeebe-record", "partitionId": 1}, "tenantId": null, "deleted": false, "bpmn20Xml": "<?xml version='1.0' encoding='UTF-8'?> <bpmn:definitions xmlns:bpmn='http://www.omg.org/spec/BPMN/20100524/MODEL' xmlns:bpmndi='http://www.omg.org/spec/BPMN/20100524/DI' xmlns:di='http://www.omg.org/spec/DD/20100524/DI' xmlns:dc='http://www.omg.org/spec/DD/20100524/DC' xmlns:xsi='http://www.w3.org/2001/XMLSchema-instance' xmlns:zeebe='http://camunda.org/schema/zeebe/1.0' id='Definitions_1' targetNamespace='http://bpmn.io/schema/bpmn' exporter='Zeebe Modeler' exporterVersion='0.6.2'> <bpmn:process id='onlyIncidentsProcess' name='Only Incidents Process' isExecutable='true'> <bpmn:startEvent id='StartEvent_1'> <bpmn:outgoing>SequenceFlow_0j6tsnn</bpmn:outgoing> </bpmn:startEvent> <bpmn:sequenceFlow id='SequenceFlow_0j6tsnn' sourceRef='StartEvent_1' targetRef='alwaysFails' /> <bpmn:serviceTask id='alwaysFails' name='Always fails'> <bpmn:extensionElements> <zeebe:taskDefinition type='alwaysFails' /> </bpmn:extensionElements> <bpmn:incoming>SequenceFlow_0j6tsnn</bpmn:incoming> <bpmn:outgoing>SequenceFlow_0hiw19j</bpmn:outgoing> </bpmn:serviceTask> <bpmn:endEvent id='EndEvent_042s0oc'> <bpmn:incoming>SequenceFlow_0hiw19j</bpmn:incoming> </bpmn:endEvent> <bpmn:sequenceFlow id='SequenceFlow_0hiw19j' sourceRef='alwaysFails' targetRef='EndEvent_042s0oc' /> </bpmn:process> <bpmndi:BPMNDiagram id='BPMNDiagram_1'> <bpmndi:BPMNPlane id='BPMNPlane_1' bpmnElement='onlyIncidentsProcess'> <bpmndi:BPMNShape id='_BPMNShape_StartEvent_2' bpmnElement='StartEvent_1'> <dc:Bounds x='156' y='103' width='36' height='36' /> <bpmndi:BPMNLabel> <dc:Bounds x='-224' y='266' width='74' height='12' /> </bpmndi:BPMNLabel> </bpmndi:BPMNShape> <bpmndi:BPMNEdge id='SequenceFlow_0j6tsnn_di' bpmnElement='SequenceFlow_0j6tsnn'> <di:waypoint x='192' y='121' /> <di:waypoint x='417' y='121' /> <bpmndi:BPMNLabel> <dc:Bounds x='-169.5' y='227' width='90' height='12' /> </bpmndi:BPMNLabel> </bpmndi:BPMNEdge> <bpmndi:BPMNShape id='ServiceTask_0c3g2sx_di' bpmnElement='alwaysFails'> <dc:Bounds x='417' y='81' width='100' height='80' /> </bpmndi:BPMNShape> <bpmndi:BPMNShape id='EndEvent_042s0oc_di' bpmnElement='EndEvent_042s0oc'> <dc:Bounds x='773' y='103' width='36' height='36' /> <bpmndi:BPMNLabel> <dc:Bounds x='385' y='270' width='90' height='12' /> </bpmndi:BPMNLabel> </bpmndi:BPMNShape> <bpmndi:BPMNEdge id='SequenceFlow_0hiw19j_di' bpmnElement='SequenceFlow_0hiw19j'> <di:waypoint x='517' y='121' /> <di:waypoint x='773' y='121' /> </bpmndi:BPMNEdge> </bpmndi:BPMNPlane> </bpmndi:BPMNDiagram> </bpmn:definitions>", "flowNodeData": [{"id": "EndEvent_042s0oc", "name": null, "type": "endEvent"}, {"id": "alwaysFails", "name": "Always fails", "type": "serviceTask"}, {"id": "StartEvent_1", "name": null, "type": "startEvent"}], "userTaskNames": { }, "onboarded": false}[m
[1mdiff --git a/upgrade/src/test/resources/steps/3.10/import/310-position-based-import-index-data.json b/upgrade/src/test/resources/steps/3.10/import/310-position-based-import-index-data.json[m
[1mdeleted file mode 100644[m
[1mindex 52a2e56adb..0000000000[m
[1m--- a/upgrade/src/test/resources/steps/3.10/import/310-position-based-import-index-data.json[m
[1m+++ /dev/null[m
[36m@@ -1,4 +0,0 @@[m
[31m-{"index":{"_index":"optimize-position-based-import-index","_id":"zeebeProcessDefinitionImportIndex-zeebe-record1"}}[m
[31m-{"lastImportExecutionTimestamp":"2023-09-18T16:57:55.894+0000","timestampOfLastEntity":"2023-08-15T10:46:08.716+0000","dataSource":{"type":"zeebe","name":"zeebe-record","partitionId":1},"positionOfLastEntity":74755247,"sequenceOfLastEntity":2251799813685250,"esTypeIndexRefersTo":"zeebeProcessDefinitionImportIndex","hasSeenSequenceField":true}[m
[31m-{"index":{"_index":"optimize-position-based-import-index","_id":"zeebeProcessInstanceImportIndex-zeebe-record1"}}[m
[31m-{"lastImportExecutionTimestamp":"2023-09-18T16:57:52.189+0000","timestampOfLastEntity":"2023-09-18T16:57:46.945+0000","dataSource":{"type":"zeebe","name":"zeebe-record","partitionId":1},"positionOfLastEntity":292703695,"sequenceOfLastEntity":2251799907117927,"esTypeIndexRefersTo":"zeebeProcessInstanceImportIndex","hasSeenSequenceField":true}[m
[1mdiff --git a/upgrade/src/test/resources/steps/3.10/instances/310-process-instance-index-cambpm-data.json b/upgrade/src/test/resources/steps/3.10/instances/310-process-instance-index-cambpm-data.json[m
[1mdeleted file mode 100644[m
[1mindex d9a4504f5d..0000000000[m
[1m--- a/upgrade/src/test/resources/steps/3.10/instances/310-process-instance-index-cambpm-data.json[m
[1m+++ /dev/null[m
[36m@@ -1,4 +0,0 @@[m
[31m-{"index":{"_index":"optimize-process-instance-reviewinvoice_v8","_id":"d754feda-27cb-11ee-9eeb-0242ac130003"}}[m
[31m-{"processDefinitionKey": "ReviewInvoice", "processDefinitionVersion": "1", "processDefinitionId": "ReviewInvoice:1:d5ccb11e-27cb-11ee-9eeb-0242ac130003", "processInstanceId": "d754feda-27cb-11ee-9eeb-0242ac130003", "businessKey": null, "startDate": "2023-07-21T15:38:13.859+0200", "endDate": null, "duration": null, "state": "ACTIVE", "flowNodeInstances": [{"processInstanceId": "d754feda-27cb-11ee-9eeb-0242ac130003", "userTaskInstanceId": null, "flowNodeId": "StartEvent_1", "endDate": "2023-07-21T15:38:13.859+0200", "idleDurationInMs": null, "dueDate": null, "deleteReason": null, "canceled": false, "workDurationInMs": null, "definitionVersion": "1", "candidateGroups": [ ], "tenantId": null, "definitionKey": "ReviewInvoice", "assignee": null, "flowNodeType": "startEvent", "candidateGroupOperations": [ ], "assigneeOperations": [ ], "totalDurationInMs": 0, "startDate": "2023-07-21T15:38:13.859+0200", "flowNodeInstanceId": "StartEvent_1:d75525f8-27cb-11ee-9eeb-0242ac130003"}, {"flowNodeInstanceId": "assignReviewer:d7554d09-27cb-11ee-9eeb-0242ac130003", "flowNodeId": "assignReviewer", "flowNodeType": "userTask", "processInstanceId": "d754feda-27cb-11ee-9eeb-0242ac130003", "totalDurationInMs": null, "startDate": "2023-07-21T15:38:13.859+0200", "endDate": null, "canceled": false, "definitionKey": "ReviewInvoice", "definitionVersion": "1", "tenantId": null, "userTaskInstanceId": "d7554d0a-27cb-11ee-9eeb-0242ac130003", "dueDate": null, "deleteReason": null, "assignee": "demo", "candidateGroups": [ ], "assigneeOperations": [{"operationType": "add", "id": "d755741c-27cb-11ee-9eeb-0242ac130003", "userId": "demo", "timestamp": "2023-07-21T15:38:13.859+0200"}], "candidateGroupOperations": [ ], "idleDurationInMs": 0, "workDurationInMs": null}], "variables": [{"name": "creditor", "id": "d75525f4-27cb-11ee-9eeb-0242ac130003", "type": "String", "value": ["Papa Steve's all you can eat"], "version": 1}, {"name": "amount", "id": "d754fedb-27cb-11ee-9eeb-0242ac130003", "type": "Double", "value": ["10.99"], "version": 1}, {"name": "invoiceNumber", "id": "d75525ed-27cb-11ee-9eeb-0242ac130003", "type": "String", "value": ["PSACE-5342"], "version": 1}, {"name": "invoiceCategory", "id": "d75525f6-27cb-11ee-9eeb-0242ac130003", "type": "String", "value": ["Travel Expenses"], "version": 1}], "incidents": [{"durationInMs": null, "activityId": "serviceTask1", "incidentMessage": "Should fail on purpose!", "definitionVersion": "1", "createTime": "2023-07-21T16:06:48.746+0200", "tenantId": null, "incidentType": "failedExternalTask", "definitionKey": "ReviewInvoice", "id": "d56ce0c1-27cf-11ee-9eeb-0242ac130003", "endTime": null, "failedActivityId": null, "incidentStatus": "open"}, {"durationInMs": null, "activityId": "serviceTask1", "incidentMessage": "Should fail on purpose!", "definitionVersion": "1", "createTime": "2023-07-21T16:06:48.746+0200", "tenantId": null, "incidentType": "failedExternalTask", "definitionKey": "ReviewInvoice", "id": "d56ce0c1-27cf-11ee-9eeb-0242ac130003", "endTime": null, "failedActivityId": null, "incidentStatus": "open"}] , "dataSource": {"name": "cambpm", "type": "engine"}, "tenantId": null}[m
[31m-{"index":{"_index":"optimize-process-instance-reviewinvoice_v8","_id":"d754feda-27cb-11ee-9eeb-0242ac130004"}}[m
[31m-{"processDefinitionKey": "ReviewInvoice", "processDefinitionVersion": "1", "processDefinitionId": "ReviewInvoice:1:d5ccb11e-27cb-11ee-9eeb-0242ac130004", "processInstanceId": "d754feda-27cb-11ee-9eeb-0242ac130004", "businessKey": null, "startDate": "2023-07-21T15:38:13.859+0200", "endDate": null, "duration": null, "state": "ACTIVE", "flowNodeInstances": [{"processInstanceId": "d754feda-27cb-11ee-9eeb-0242ac130004", "userTaskInstanceId": null, "flowNodeId": "StartEvent_1", "endDate": "2023-07-21T15:38:13.859+0200", "idleDurationInMs": null, "dueDate": null, "deleteReason": null, "canceled": false, "workDurationInMs": null, "definitionVersion": "1", "candidateGroups": [ ], "tenantId": "someTenant", "definitionKey": "ReviewInvoice", "assignee": null, "flowNodeType": "startEvent", "candidateGroupOperations": [ ], "assigneeOperations": [ ], "totalDurationInMs": 0, "startDate": "2023-07-21T15:38:13.859+0200", "flowNodeInstanceId": "StartEvent_1:d75525f8-27cb-11ee-9eeb-0242ac130004"}, {"flowNodeInstanceId": "assignReviewer:d7554d09-27cb-11ee-9eeb-0242ac130004", "flowNodeId": "assignReviewer", "flowNodeType": "userTask", "processInstanceId": "d754feda-27cb-11ee-9eeb-0242ac130004", "totalDurationInMs": null, "startDate": "2023-07-21T15:38:13.859+0200", "endDate": null, "canceled": false, "definitionKey": "ReviewInvoice", "definitionVersion": "1", "tenantId": "someTenant", "userTaskInstanceId": "d7554d0a-27cb-11ee-9eeb-0242ac130004", "dueDate": null, "deleteReason": null, "assignee": "demo", "candidateGroups": [ ], "assigneeOperations": [{"operationType": "add", "id": "d755741c-27cb-11ee-9eeb-0242ac130004", "userId": "demo", "timestamp": "2023-07-21T15:38:13.859+0200"}], "candidateGroupOperations": [ ], "idleDurationInMs": 0, "workDurationInMs": null}], "variables": [{"name": "creditor", "id": "d75525f4-27cb-11ee-9eeb-0242ac130004", "type": "String", "value": ["Papa Steve's all you can eat"], "version": 1}, {"name": "amount", "id": "d754fedb-27cb-11ee-9eeb-0242ac130004", "type": "Double", "value": ["10.99"], "version": 1}, {"name": "invoiceNumber", "id": "d75525ed-27cb-11ee-9eeb-0242ac130004", "type": "String", "value": ["PSACE-5342"], "version": 1}, {"name": "invoiceCategory", "id": "d75525f6-27cb-11ee-9eeb-0242ac130004", "type": "String", "value": ["Travel Expenses"], "version": 1}], "incidents": [{"durationInMs": null, "activityId": "serviceTask1", "incidentMessage": "Should fail on purpose!", "definitionVersion": "1", "createTime": "2023-07-21T16:06:48.746+0200", "tenantId": "someTenant", "incidentType": "failedExternalTask", "definitionKey": "ReviewInvoice", "id": "d56ce0c1-27cf-11ee-9eeb-0242ac130003", "endTime": null, "failedActivityId": null, "incidentStatus": "open"},{"durationInMs": null, "activityId": "serviceTask1", "incidentMessage": "Should fail on purpose!", "definitionVersion": "1", "createTime": "2023-07-21T16:06:48.746+0200", "tenantId": "someTenant", "incidentType": "failedExternalTask", "definitionKey": "ReviewInvoice", "id": "d56ce0c1-27cf-11ee-9eeb-0242ac130004", "endTime": null, "failedActivityId": null, "incidentStatus": "open"}] , "dataSource": {"name": "cambpm", "type": "engine"}, "tenantId": "someTenant"}[m
[1mdiff --git a/upgrade/src/test/resources/steps/3.10/instances/310-process-instance-index-zeebe-data.json b/upgrade/src/test/resources/steps/3.10/instances/310-process-instance-index-zeebe-data.json[m
[1mdeleted file mode 100644[m
[1mindex c235807560..0000000000[m
[1m--- a/upgrade/src/test/resources/steps/3.10/instances/310-process-instance-index-zeebe-data.json[m
[1m+++ /dev/null[m
[36m@@ -1,16 +0,0 @@[m
[31m-{"index":{"_index":"optimize-process-instance-always-completing-process_v8","_id":"2251799813685285"}}[m
[31m-{"processDefinitionKey": "always-completing-process", "processDefinitionVersion": "1", "processDefinitionId": "2251799813685249", "processInstanceId": "2251799813685285", "businessKey": null, "startDate": "2023-07-26T15:33:20.888+0200", "endDate": null, "duration": null, "state": "ACTIVE", "flowNodeInstances": [], "variables": [ ], "incidents": [{"durationInMs": 648, "activityId": "serviceTask1", "incidentMessage": "Should fail on purpose!", "definitionVersion": "1", "createTime": "2023-07-26T15:33:20.916+0200", "tenantId": null, "incidentType": "failedExternalTask", "definitionKey": "always-completing-process", "id": "2251799813685285", "endTime": "2023-07-26T15:33:21.564+0200", "failedActivityId": null, "incidentStatus": "resolved"}, {"durationInMs": null, "activityId": "serviceTask2", "incidentMessage": "Should fail on purpose!", "definitionVersion": "1", "createTime": "2023-07-26T15:33:21.605+0200", "tenantId": null, "incidentType": "failedExternalTask", "definitionKey": "always-completing-process", "id": "2251799813685285", "endTime": null, "failedActivityId": null, "incidentStatus": "open"}], "dataSource": {"name": "zeebe-record", "type": "zeebe"}, "tenantId": null}[m
[31m-{"index":{"_index":"optimize-process-instance-always-completing-process_v8","_id":"2251799813685286"}}[m
[31m-{"processDefinitionKey": "always-completing-process", "processDefinitionVersion": "1", "processDefinitionId": "2251799813685249", "processInstanceId": "2251799813685286", "businessKey": null, "startDate": "2023-07-24T13:40:39.494+0000", "endDate": "2023-07-24T13:40:39.619+0000", "duration": 125, "state": "COMPLETED", "flowNodeInstances": [], "variables": [ { "id": "2251799813685288", "name": "inputTest3", "type": "String", "value": [ "inputTest3" ], "version": 113 } , { "id": "2251799813685286", "name": "outputTest2", "type": "String", "value": [ "outputTest2" ], "version": 111 } , { "id": "2251799813685287", "name": "outputTest", "type": "String", "value": [ "outputTest1" ], "version": 112 } ], "incidents": [{"durationInMs": null, "activityId": "serviceTask1", "incidentMessage": "Should fail on purpose!", "definitionVersion": "1", "createTime": "2023-07-21T16:06:48.746+0200", "tenantId": null, "incidentType": "failedExternalTask", "definitionKey": "aProcess", "id": "d56ce0c1-27cf-11ee-9eeb-0242ac130003", "endTime": null, "failedActivityId": null, "incidentStatus": "open"}, {"durationInMs": null, "activityId": "serviceTask2", "incidentMessage": "Should fail on purpose!", "definitionVersion": "1", "createTime": "2023-07-26T15:33:21.605+0200", "tenantId": null, "incidentType": "failedExternalTask", "definitionKey": "always-completing-process", "id": "2251799813685249", "endTime": null, "failedActivityId": null, "incidentStatus": "open"}], "dataSource": { "partitionId": 1, "name": "zeebe-record", "type": "zeebe" }, "tenantId": null }[m
[31m-{"index":{"_index":"optimize-process-instance-always-completing-process_v8","_id":"2251799813685223"}}[m
[31m-{"processDefinitionKey": "always-completing-process", "processDefinitionVersion": "1", "processDefinitionId": "2251799813685249", "processInstanceId": "2251799813685223", "businessKey": null, "startDate": "2023-07-24T13:40:39.494+0000", "endDate": "2023-07-24T13:40:39.619+0000", "duration": 125, "state": "COMPLETED", "flowNodeInstances": [ { "processInstanceId": "2251799813685223", "userTaskInstanceId": null, "flowNodeId": "StartEvent_1", "endDate": "2023-07-24T13:40:39.538+0000", "idleDurationInMs": null, "dueDate": null, "deleteReason": null, "canceled": false, "workDurationInMs": null, "definitionVersion": "1", "candidateGroups": [ ], "tenantId": null, "definitionKey": "always-completing-process", "assignee": null, "flowNodeType": "startEvent", "candidateGroupOperations": [ ], "assigneeOperations": [ ], "totalDurationInMs": 8, "startDate": "2023-07-24T13:40:39.530+0000", "flowNodeInstanceId": "2251799813685289" } , { "processInstanceId": "2251799813685223", "userTaskInstanceId": null, "flowNodeId": "Event_0xcxmck", "endDate": "2023-07-24T13:40:39.549+0000", "idleDurationInMs": null, "dueDate": null, "deleteReason": null, "canceled": false, "workDurationInMs": null, "definitionVersion": "1", "candidateGroups": [ ], "tenantId": null, "definitionKey": "always-completing-process", "assignee": null, "flowNodeType": "endEvent", "candidateGroupOperations": [ ], "assigneeOperations": [ ], "totalDurationInMs": 0, "startDate": "2023-07-24T13:40:39.549+0000", "flowNodeInstanceId": "2251799813685291" } ], "variables": [ { "id": "2251799813685288", "name": "inputTest3", "type": "String", "value": [ "inputTest3" ], "version": 113 } , { "id": "2251799813685287", "name": "outputTest2", "type": "String", "value": [ "outputTest2" ], "version": 111 } , { "id": "2251799813685287", "name": "outputTest", "type": "String", "value": [ "outputTest1" ], "version": 112 } ], "incidents": [], "dataSource": { "partitionId": 1, "name": "zeebe-record", "type": "zeebe" }, "tenantId": null }[m
[31m-{"index":{"_index":"optimize-process-instance-always-completing-process_v8","_id":"2251799813685287"}}[m
[31m-{"processDefinitionKey": "always-completing-process", "processDefinitionVersion": "1", "processDefinitionId": "2251799813685249", "processInstanceId": "2251799813685287", "businessKey": null, "startDate": "2023-07-24T13:40:39.494+0000", "endDate": "2023-07-24T13:40:39.619+0000", "duration": 125, "state": "COMPLETED", "flowNodeInstances": [ { "processInstanceId": "2251799813685287", "userTaskInstanceId": null, "flowNodeId": "StartEvent_1", "endDate": "2023-07-24T13:40:39.538+0000", "idleDurationInMs": null, "dueDate": null, "deleteReason": null, "canceled": false, "workDurationInMs": null, "definitionVersion": "1", "candidateGroups": [ ], "tenantId": null, "definitionKey": "always-completing-process", "assignee": null, "flowNodeType": "startEvent", "candidateGroupOperations": [ ], "assigneeOperations": [ ], "totalDurationInMs": 8, "startDate": "2023-07-24T13:40:39.530+0000", "flowNodeInstanceId": "2251799813685288" } , { "processInstanceId": "2251799813685287", "userTaskInstanceId": null, "flowNodeId": "Event_0xcxmck", "endDate": "2023-07-24T13:40:39.549+0000", "idleDurationInMs": null, "dueDate": null, "deleteReason": null, "canceled": false, "workDurationInMs": null, "definitionVersion": "1", "candidateGroups": [ ], "tenantId": null, "definitionKey": "always-completing-process", "assignee": null, "flowNodeType": "endEvent", "candidateGroupOperations": [ ], "assigneeOperations": [ ], "totalDurationInMs": 0, "startDate": "2023-07-24T13:40:39.549+0000", "flowNodeInstanceId": "2251799813685291" } ], "variables": [ { "id": "2251799813685288", "name": "inputTest3", "type": "String", "value": [ "inputTest3" ], "version": 113 } , { "id": "2251799813685287", "name": "outputTest2", "type": "String", "value": [ "outputTest2" ], "version": 111 } , { "id": "2251799813685287", "name": "outputTest", "type": "String", "value": [ "outputTest1" ], "version": 112 } ], "incidents": [], "dataSource": { "partitionId": 1, "name": "zeebe-record", "type": "zeebe" }, "tenantId": null }[m
[31m-{"index":{"_index":"optimize-process-instance-onlyincidentsprocess_v8","_id":"4503599627370546"}}[m
[31m-{"processDefinitionKey": "onlyIncidentsProcess", "processDefinitionVersion": "1", "processDefinitionId": "2251799813685257", "processInstanceId": "4503599627370546", "businessKey": null, "startDate": "2023-07-25T07:25:29.896+0000", "endDate": null, "duration": null, "state": "ACTIVE", "flowNodeInstances": [{"flowNodeInstanceId": "4503599627370548", "flowNodeId": "StartEvent_1", "flowNodeType": "startEvent", "processInstanceId": "4503599627370546", "totalDurationInMs": 13, "startDate": "2023-07-25T07:25:29.908+0000", "endDate": "2023-07-25T07:25:29.921+0000", "canceled": false, "definitionKey": "onlyIncidentsProcess", "definitionVersion": "1", "tenantId": null, "userTaskInstanceId": null, "dueDate": null, "deleteReason": null, "assignee": null, "candidateGroups": [ ], "assigneeOperations": [ ], "candidateGroupOperations": [ ], "idleDurationInMs": null, "workDurationInMs": null}, {"flowNodeInstanceId": "4503599627370550", "flowNodeId": "alwaysFails", "flowNodeType": "serviceTask", "processInstanceId": "4503599627370546", "totalDurationInMs": null, "startDate": "2023-07-25T07:25:29.936+0000", "endDate": null, "canceled": false, "definitionKey": "onlyIncidentsProcess", "definitionVersion": "1", "tenantId": null, "userTaskInstanceId": null, "dueDate": null, "deleteReason": null, "assignee": null, "candidateGroups": [ ], "assigneeOperations": [ ], "candidateGroupOperations": [ ], "idleDurationInMs": null, "workDurationInMs": null}], "variables": [ ], "incidents": [{"durationInMs": null, "activityId": "serviceTask1", "incidentMessage": "Should fail on purpose!", "definitionVersion": "1", "createTime": "2023-07-21T16:06:48.746+0200", "tenantId": null, "incidentType": "failedExternalTask", "definitionKey": "aProcess", "id": "2251799813685258", "endTime": null, "failedActivityId": null, "incidentStatus": "open"},{"durationInMs": null, "activityId": "serviceTask2", "incidentMessage": "Should fail on purpose!", "definitionVersion": "1", "createTime": "2023-07-26T15:33:21.605+0200", "tenantId": null, "incidentType": "failedExternalTask", "definitionKey": "onlyIncidentsProcess", "id": "2251799813685257", "endTime": null, "failedActivityId": null, "incidentStatus": "open"}], "dataSource": {"type": "zeebe","name": "zeebe-record", "partitionId": 2}, "tenantId": null}[m
[31m-{"index":{"_index":"optimize-process-instance-onlyincidentsprocess_v8","_id":"4503599627370547"}}[m
[31m-{"processDefinitionKey": "onlyIncidentsProcess", "processDefinitionVersion": "1", "processDefinitionId": "2251799813685258", "processInstanceId": "4503599627370547", "businessKey": null, "startDate": "2023-07-25T07:25:29.896+0000", "endDate": null, "duration": null, "state": "ACTIVE", "flowNodeInstances": [{"flowNodeInstanceId": "4503599627370548", "flowNodeId": "StartEvent_1", "flowNodeType": "startEvent", "processInstanceId": "4503599627370547", "totalDurationInMs": 13, "startDate": "2023-07-25T07:25:29.908+0000", "endDate": "2023-07-25T07:25:29.921+0000", "canceled": false, "definitionKey": "onlyIncidentsProcess", "definitionVersion": "1", "tenantId": null, "userTaskInstanceId": null, "dueDate": null, "deleteReason": null, "assignee": null, "candidateGroups": [ ], "assigneeOperations": [ ], "candidateGroupOperations": [ ], "idleDurationInMs": null, "workDurationInMs": null}, {"flowNodeInstanceId": "4503599627370550", "flowNodeId": "alwaysFails", "flowNodeType": "serviceTask", "processInstanceId": "4503599627370547", "totalDurationInMs": null, "startDate": "2023-07-25T07:25:29.936+0000", "endDate": null, "canceled": false, "definitionKey": "onlyIncidentsProcess", "definitionVersion": "1", "tenantId": null, "userTaskInstanceId": null, "dueDate": null, "deleteReason": null, "assignee": null, "candidateGroups": [ ], "assigneeOperations": [ ], "candidateGroupOperations": [ ], "idleDurationInMs": null, "workDurationInMs": null}], "variables": [ ], "incidents": [{"durationInMs": null, "activityId": "serviceTask1", "incidentMessage": "Should fail on purpose!", "definitionVersion": "1", "createTime": "2023-07-21T16:06:48.746+0200", "tenantId": null, "incidentType": "failedExternalTask", "definitionKey": "aProcess", "id": "2251799813685258", "endTime": null, "failedActivityId": null, "incidentStatus": "open"},{"durationInMs": null, "activityId": "serviceTask2", "incidentMessage": "Should fail on purpose!", "definitionVersion": "1", "createTime": "2023-07-26T15:33:21.605+0200", "tenantId": null, "incidentType": "failedExternalTask", "definitionKey": "onlyIncidentsProcess", "id": "2251799813685257", "endTime": null, "failedActivityId": null, "incidentStatus": "open"}], "dataSource": {"type": "zeebe","name": "zeebe-record", "partitionId": 2}, "tenantId": null}[m
[31m-{"index":{"_index":"optimize-process-instance-onlyincidentsprocess_v8","_id":"4503599627370556"}}[m
[31m-{"processDefinitionKey": "onlyIncidentsProcess", "processDefinitionVersion": "1", "processDefinitionId": "2251799813685257", "processInstanceId": "4503599627370556", "businessKey": null, "startDate": "2023-07-25T07:25:29.896+0000", "endDate": null, "duration": null, "state": "ACTIVE", "flowNodeInstances": [{"flowNodeInstanceId": "4503599627370548", "flowNodeId": "StartEvent_1", "flowNodeType": "startEvent", "processInstanceId": "4503599627370556", "totalDurationInMs": 13, "startDate": "2023-07-25T07:25:29.908+0000", "endDate": "2023-07-25T07:25:29.921+0000", "canceled": false, "definitionKey": "onlyIncidentsProcess", "definitionVersion": "1", "tenantId": null, "userTaskInstanceId": null, "dueDate": null, "deleteReason": null, "assignee": null, "candidateGroups": [ ], "assigneeOperations": [ ], "candidateGroupOperations": [ ], "idleDurationInMs": null, "workDurationInMs": null}, {"flowNodeInstanceId": "4503599627370550", "flowNodeId": "alwaysFails", "flowNodeType": "serviceTask", "processInstanceId": "4503599627370556", "totalDurationInMs": null, "startDate": "2023-07-25T07:25:29.936+0000", "endDate": null, "canceled": false, "definitionKey": "onlyIncidentsProcess", "definitionVersion": "1", "tenantId": null, "userTaskInstanceId": null, "dueDate": null, "deleteReason": null, "assignee": null, "candidateGroups": [ ], "assigneeOperations": [ ], "candidateGroupOperations": [ ], "idleDurationInMs": null, "workDurationInMs": null}], "variables": [ ], "incidents": [], "dataSource": {"type": "zeebe","name": "zeebe-record", "partitionId": 2}, "tenantId": null}[m
[31m-{"index":{"_index":"optimize-process-instance-onlyincidentsprocess_v8","_id":"4503599627370511"}}[m
[31m-{"processDefinitionKey": "onlyIncidentsProcess", "processDefinitionVersion": "1", "processDefinitionId": "2251799813685257", "processInstanceId": "4503599627370511", "businessKey": null, "startDate": "2023-07-25T07:25:29.896+0000", "endDate": null, "duration": null, "state": "ACTIVE", "flowNodeInstances": [{"flowNodeInstanceId": "4503599627370548", "flowNodeId": "StartEvent_1", "flowNodeType": "startEvent", "processInstanceId": "4503599627370511", "totalDurationInMs": 13, "startDate": "2023-07-25T07:25:29.908+0000", "endDate": "2023-07-25T07:25:29.921+0000", "canceled": false, "definitionKey": "onlyIncidentsProcess", "definitionVersion": "1", "tenantId": null, "userTaskInstanceId": null, "dueDate": null, "deleteReason": null, "assignee": null, "candidateGroups": [ ], "assigneeOperations": [ ], "candidateGroupOperations": [ ], "idleDurationInMs": null, "workDurationInMs": null}, {"flowNodeInstanceId": "4503599627370550", "flowNodeId": "alwaysFails", "flowNodeType": "serviceTask", "processInstanceId": "4503599627370511", "totalDurationInMs": null, "startDate": "2023-07-25T07:25:29.936+0000", "endDate": null, "canceled": false, "definitionKey": "onlyIncidentsProcess", "definitionVersion": "1", "tenantId": null, "userTaskInstanceId": null, "dueDate": null, "deleteReason": null, "assignee": null, "candidateGroups": [ ], "assigneeOperations": [ ], "candidateGroupOperations": [ ], "idleDurationInMs": null, "workDurationInMs": null}], "variables": [ ], "incidents": [], "dataSource": {"type": "zeebe","name": "zeebe-record", "partitionId": 2}, "tenantId": null}[m
[1mdiff --git a/upgrade/src/test/resources/steps/3.10/reports/310-report-index-data.json b/upgrade/src/test/resources/steps/3.10/reports/310-report-index-data.json[m
[1mdeleted file mode 100644[m
[1mindex 5ea5ca5eb6..0000000000[m
[1m--- a/upgrade/src/test/resources/steps/3.10/reports/310-report-index-data.json[m
[1m+++ /dev/null[m
[36m@@ -1,10 +0,0 @@[m
[31m-{"index":{"_index":"optimize-single-process-report_v10","_id":"excludedCountColumnsProcessReport"}}[m
[31m-{"id":"excludedCountColumnsProcessReport","name":"excluded count columns","lastModified":"2023-04-13T19:08:08.885+0200","created":"2023-04-13T19:08:08.885+0200","owner":"demo","lastModifier":"demo","collectionId":null,"data":{"configuration":{"color":"#1991c8","aggregationTypes":[{"type":"percentile","value":75}],"userTaskDurationTimes":["total"],"showInstanceCount":false,"pointMarkers":true,"precision":1,"hideRelativeValue":false,"hideAbsoluteValue":false,"alwaysShowRelative":false,"alwaysShowAbsolute":false,"showGradientBars":true,"xml":"someXml","tableColumns":{"includeNewVariables":true,"columnOrder":["processDefinitionKey","processDefinitionId","processInstanceId","startDate","businessKey","endDate","duration","engineName","tenantId","variable:amount","variable:creditor","variable:invoiceCategory","variable:invoiceNumber","flowNodeDuration:StartEvent_1","flowNodeDuration:assignReviewer"],"includedColumns":["processDefinitionKey","processDefinitionId","processInstanceId","businessKey","startDate","endDate","duration","engineName","tenantId","variable:amount","variable:creditor","variable:invoiceCategory","variable:invoiceNumber"],"excludedColumns":["numberOfIncidents","numberOfOpenIncidents","numberOfUserTasks"]},"targetValue":{"countChart":{"isBelow":false,"value":"100"},"durationProgress":{"baseline":{"unit":"hours","value":"0"},"target":{"unit":"hours","value":"24","isBelow":true}},"active":true,"countProgress":{"baseline":"0","target":"100","isBelow":false},"durationChart":{"unit":"hours","isBelow":false,"value":"2"},"isKpi":true},"heatmapTargetValue":{"active":false,"values":{}},"groupByDateVariableUnit":"automatic","distributeByDateVariableUnit":"automatic","customBucket":{"active":false,"bucketSize":"10.0","bucketSizeUnit":"minute","baseline":"0.0","baselineUnit":"minute"},"distributeByCustomBucket":{"active":false,"bucketSize":"10.0","bucketSizeUnit":"minute","baseline":"0.0","baselineUnit":"minute"},"sorting":null,"processPart":null,"measureVisualizations":{"frequency":"bar","duration":"line"},"stackedBar":false,"horizontalBar":false,"logScale":false,"yLabel":"","xLabel":""},"definitions":[{"identifier":"definition","key":"invoice","name":"Invoice Receipt","displayName":"Invoice Receipt","versions":["all"],"tenantIds":[null]}],"filter":[],"view":{"entity":"processInstance","properties":["duration"]},"groupBy":{"type":"none","value":null},"distributedBy":{"type":"none","value":null},"visualization":"number","managementReport":false,"instantPreviewReport":false,"userTaskReport":false},"combined":false,"reportType":"process"}[m
[31m-{"index":{"_index":"optimize-single-process-report_v10","_id":"customOrderColumnsProcessReport"}}[m
[31m-{"id":"customOrderColumnsProcessReport","name":"custom order columns","lastModified":"2023-04-13T19:08:08.885+0200","created":"2023-04-13T19:08:08.885+0200","owner":"demo","lastModifier":"demo","collectionId":null,"data":{"configuration":{"color":"#1991c8","aggregationTypes":[{"type":"percentile","value":75}],"userTaskDurationTimes":["total"],"showInstanceCount":false,"pointMarkers":true,"precision":1,"hideRelativeValue":false,"hideAbsoluteValue":false,"alwaysShowRelative":false,"alwaysShowAbsolute":false,"showGradientBars":true,"xml":"someXml","tableColumns":{"includeNewVariables":true,"excludedColumns":[],"includedColumns":["processDefinitionKey","processDefinitionId","processInstanceId","numberOfIncidents","numberOfOpenIncidents","numberOfUserTasks","businessKey","startDate","endDate","duration","engineName","tenantId","variable:amount","variable:approved","variable:approver","variable:creditor","variable:invoiceCategory","variable:invoiceNumber"],"columnOrder":["numberOfIncidents","numberOfOpenIncidents","numberOfUserTasks","processDefinitionKey","processDefinitionId","processInstanceId","businessKey","startDate","endDate","duration","engineName","tenantId","variable:amount","variable:approved","variable:approver","variable:creditor","variable:invoiceCategory","variable:invoiceNumber","flowNodeDuration:approveInvoice","flowNodeDuration:StartEvent_1","flowNodeDuration:assignApprover"]},"targetValue":{"countChart":{"isBelow":false,"value":"100"},"durationProgress":{"baseline":{"unit":"hours","value":"0"},"target":{"unit":"hours","value":"24","isBelow":true}},"active":true,"countProgress":{"baseline":"0","target":"100","isBelow":false},"durationChart":{"unit":"hours","isBelow":false,"value":"2"},"isKpi":true},"heatmapTargetValue":{"active":false,"values":{}},"groupByDateVariableUnit":"automatic","distributeByDateVariableUnit":"automatic","customBucket":{"active":false,"bucketSize":"10.0","bucketSizeUnit":"minute","baseline":"0.0","baselineUnit":"minute"},"distributeByCustomBucket":{"active":false,"bucketSize":"10.0","bucketSizeUnit":"minute","baseline":"0.0","baselineUnit":"minute"},"sorting":null,"processPart":null,"measureVisualizations":{"frequency":"bar","duration":"line"},"stackedBar":false,"horizontalBar":false,"logScale":false,"yLabel":"","xLabel":""},"definitions":[{"identifier":"definition","key":"invoice","name":"Invoice Receipt","displayName":"Invoice Receipt","versions":["all"],"tenantIds":["tenant1"]}],"filter":[],"view":{"entity":"processInstance","properties":["duration"]},"groupBy":{"type":"none","value":null},"distributedBy":{"type":"none","value":null},"visualization":"number","managementReport":false,"instantPreviewReport":false,"userTaskReport":false},"combined":false,"reportType":"process"}[m
[31m-{"index":{"_index":"optimize-single-process-report_v10","_id":"noTableDataProcessReport"}}[m
[31m-{"id":"noTableDataProcessReport","name":"noTableData","lastModified":"2023-04-13T19:08:08.885+0200","created":"2023-04-13T19:08:08.885+0200","owner":"demo","lastModifier":"demo","collectionId":null,"data":{"configuration":{"color":"#1991c8","aggregationTypes":[{"type":"percentile","value":75}],"userTaskDurationTimes":["total"],"showInstanceCount":false,"pointMarkers":true,"precision":1,"hideRelativeValue":false,"hideAbsoluteValue":false,"alwaysShowRelative":false,"alwaysShowAbsolute":false,"showGradientBars":true,"xml":"someXml","targetValue":{"countChart":{"isBelow":false,"value":"100"},"durationProgress":{"baseline":{"unit":"hours","value":"0"},"target":{"unit":"hours","value":"24","isBelow":true}},"active":true,"countProgress":{"baseline":"0","target":"100","isBelow":false},"durationChart":{"unit":"hours","isBelow":false,"value":"2"},"isKpi":true},"heatmapTargetValue":{"active":false,"values":{}},"groupByDateVariableUnit":"automatic","distributeByDateVariableUnit":"automatic","customBucket":{"active":false,"bucketSize":"10.0","bucketSizeUnit":"minute","baseline":"0.0","baselineUnit":"minute"},"distributeByCustomBucket":{"active":false,"bucketSize":"10.0","bucketSizeUnit":"minute","baseline":"0.0","baselineUnit":"minute"},"sorting":null,"processPart":null,"measureVisualizations":{"frequency":"bar","duration":"line"},"stackedBar":false,"horizontalBar":false,"logScale":false,"yLabel":"","xLabel":""},"definitions":[{"identifier":"definition","key":"invoice","name":"Invoice Receipt","displayName":"Invoice Receipt","versions":["all"],"tenantIds":["tenant1", "tenant2"]}],"filter":[],"view":{"entity":"processInstance","properties":["duration"]},"groupBy":{"type":"none","value":null},"distributedBy":{"type":"none","value":null},"visualization":"number","managementReport":false,"instantPreviewReport":false,"userTaskReport":false},"combined":false,"reportType":"process"}[m
[31m-{"index":{"_index":"optimize-single-decision-report_v9","_id":"decisionReport"}}[m
[31m-{"id":"decisionReport","name":"New Report","lastModified":"2023-04-13T19:08:39.891+0200","created":"2023-04-13T19:08:31.159+0200","owner":"demo","lastModifier":"demo","collectionId":null,"data":{"filter":[],"view":{"properties":["rawData"]},"visualization":"table","configuration":{"distributeByDateVariableUnit":"automatic","stackedBar":false,"color":"#1991c8","showInstanceCount":false,"distributeByCustomBucket":{"active":false,"baselineUnit":null,"bucketSizeUnit":null,"baseline":"0.0","bucketSize":"10.0"},"precision":null,"hideRelativeValue":false,"alwaysShowRelative":false,"processPart":null,"alwaysShowAbsolute":false,"xml":"someXml","sorting":{"by":"evaluationDateTime","order":"desc"},"targetValue":{"countChart":{"isBelow":false,"value":"100"},"durationProgress":{"baseline":{"unit":"hours","value":"0"},"target":{"unit":"hours","isBelow":false,"value":"2"}},"isKpi":false,"active":false,"countProgress":{"isBelow":false,"baseline":"0","target":"100"},"durationChart":{"unit":"hours","isBelow":false,"value":"2"}},"customBucket":{"active":false,"baselineUnit":null,"bucketSizeUnit":null,"baseline":"0.0","bucketSize":"10.0"},"hideAbsoluteValue":false,"measureVisualizations":{"duration":"line","frequency":"bar"},"showGradientBars":true,"tableColumns":{"includeNewVariables":true,"excludedColumns":["processInstanceId","decisionInstanceId"],"includedColumns":["decisionDefinitionKey","decisionDefinitionId","evaluationDateTime","engineName","tenantId","input:InputClause_0og2hn3","output:OutputClause_1cthd0w"],"columnOrder":["decisionDefinitionKey","decisionDefinitionId","decisionInstanceId","processInstanceId","engineName","evaluationDateTime","tenantId","inputVariable:InputClause_0og2hn3","outputVariable:OutputClause_1cthd0w"]},"pointMarkers":true,"groupByDateVariableUnit":"automatic","yLabel":"","horizontalBar":false,"userTaskDurationTimes":["total"],"logScale":false,"aggregationTypes":[{"type":"avg","value":null}],"heatmapTargetValue":{"values":{},"active":false},"xLabel":"None"},"distributedBy":{"type":"none","value":null},"groupBy":{"type":"none","value":null},"definitions":[{"identifier":"definition","versions":["all"],"displayName":"Assign Approver Group","name":"Assign Approver Group","key":"invoice-assign-approver","tenantIds":[null]}]},"combined":false,"reportType":"decision"}[m
[31m-{"index":{"_index":"optimize-combined-report_v4","_id":"combinedReport"}}[m
[31m-{"id":"combinedReport","name":"Combi","lastModified":"2023-04-13T19:08:19.624+0200","created":"2023-04-13T19:08:19.624+0200","owner":"demo","lastModifier":"demo","collectionId":null,"data":{"configuration":{"pointMarkers":true,"hideRelativeValue":false,"hideAbsoluteValue":false,"alwaysShowRelative":false,"alwaysShowAbsolute":false,"targetValue":{"countChart":{"isBelow":false,"value":"100"},"active":false,"durationChart":{"unit":"hours","isBelow":false,"value":"2"}},"yLabel":"","xLabel":""},"visualization":"number","reports":[{"id":"excludedCountColumnsProcessReport","color":"#aec7e9"},{"id":"15cd0bb5-9d35-4b74-b2ec-3c1b30d8c44b","color":"#6391d2"}]},"combined":true,"reportType":"process"}[m
[1mdiff --git a/util/dependency-doc-creation/pom.xml b/util/dependency-doc-creation/pom.xml[m
[1mindex a3677cfe84..59eb019837 100644[m
[1m--- a/util/dependency-doc-creation/pom.xml[m
[1m+++ b/util/dependency-doc-creation/pom.xml[m
[36m@@ -5,11 +5,11 @@[m
   <parent>[m
     <groupId>org.camunda.optimize</groupId>[m
     <artifactId>util</artifactId>[m
[31m-    <version>3.11.0-SNAPSHOT</version>[m
[32m+[m[32m    <version>3.12.0-SNAPSHOT</version>[m
   </parent>[m
 [m
   <artifactId>dependency-doc-creation</artifactId>[m
[31m-  <version>3.11.0-SNAPSHOT</version>[m
[32m+[m[32m  <version>3.12.0-SNAPSHOT</version>[m
 [m
   <properties>[m
     <sonar.skip>true</sonar.skip>[m
[1mdiff --git a/util/optimize-commons/pom.xml b/util/optimize-commons/pom.xml[m
[1mindex c81ca57f8a..6d53cc77ef 100644[m
[1m--- a/util/optimize-commons/pom.xml[m
[1m+++ b/util/optimize-commons/pom.xml[m
[36m@@ -5,7 +5,7 @@[m
   <parent>[m
     <groupId>org.camunda.optimize</groupId>[m
     <artifactId>util</artifactId>[m
[31m-    <version>3.11.0-SNAPSHOT</version>[m
[32m+[m[32m    <version>3.12.0-SNAPSHOT</version>[m
   </parent>[m
 [m
   <artifactId>optimize-commons</artifactId>[m
[36m@@ -133,6 +133,26 @@[m
       <artifactId>semver4j</artifactId>[m
       <version>3.1.0</version>[m
     </dependency>[m
[32m+[m
[32m+[m[32m    <!-- Opensearch  -->[m
[32m+[m[32m    <dependency>[m
[32m+[m[32m      <groupId>org.apache.httpcomponents.core5</groupId>[m
[32m+[m[32m      <artifactId>httpcore5</artifactId>[m
[32m+[m[32m      <version>${apache.http5.version}</version>[m
[32m+[m[32m    </dependency>[m
[32m+[m
[32m+[m[32m    <dependency>[m
[32m+[m[32m      <groupId>org.apache.httpcomponents.core5</groupId>[m
[32m+[m[32m      <artifactId>httpcore5-h2</artifactId>[m
[32m+[m[32m      <version>${apache.http5.version}</version>[m
[32m+[m[32m    </dependency>[m
[32m+[m
[32m+[m[32m    <dependency>[m
[32m+[m[32m      <groupId>org.opensearch.client</groupId>[m
[32m+[m[32m      <artifactId>opensearch-java</artifactId>[m
[32m+[m[32m      <version>${opensearch.version}</version>[m
[32m+[m[32m    </dependency>[m
[32m+[m
   </dependencies>[m
 [m
   <build>[m
[1mdiff --git a/util/optimize-commons/src/main/java/org/camunda/optimize/plugin/ElasticsearchCustomHeaderProvider.java b/util/optimize-commons/src/main/java/org/camunda/optimize/plugin/ElasticsearchCustomHeaderProvider.java[m
[1mindex 5a662b785d..480824f56b 100644[m
[1m--- a/util/optimize-commons/src/main/java/org/camunda/optimize/plugin/ElasticsearchCustomHeaderProvider.java[m
[1m+++ b/util/optimize-commons/src/main/java/org/camunda/optimize/plugin/ElasticsearchCustomHeaderProvider.java[m
[36m@@ -5,14 +5,14 @@[m
  */[m
 package org.camunda.optimize.plugin;[m
 [m
[31m-import org.camunda.optimize.plugin.elasticsearch.ElasticsearchCustomHeaderSupplier;[m
[32m+[m[32mimport org.camunda.optimize.plugin.elasticsearch.DatabaseCustomHeaderSupplier;[m
 import org.camunda.optimize.service.util.configuration.ConfigurationService;[m
 import org.springframework.stereotype.Component;[m
 [m
 import java.util.List;[m
 [m
 @Component[m
[31m-public class ElasticsearchCustomHeaderProvider extends PluginProvider<ElasticsearchCustomHeaderSupplier> {[m
[32m+[m[32mpublic class ElasticsearchCustomHeaderProvider extends PluginProvider<DatabaseCustomHeaderSupplier> {[m
 [m
   public ElasticsearchCustomHeaderProvider(final ConfigurationService configurationService,[m
                                            final PluginJarFileLoader pluginJarLoader) {[m
[36m@@ -20,8 +20,8 @@[m [mpublic class ElasticsearchCustomHeaderProvider extends PluginProvider<Elasticsea[m
   }[m
 [m
   @Override[m
[31m-  protected Class<ElasticsearchCustomHeaderSupplier> getPluginClass() {[m
[31m-    return ElasticsearchCustomHeaderSupplier.class;[m
[32m+[m[32m  protected Class<DatabaseCustomHeaderSupplier> getPluginClass() {[m
[32m+[m[32m    return DatabaseCustomHeaderSupplier.class;[m
   }[m
 [m
   @Override[m
[1mdiff --git a/util/optimize-commons/src/main/java/org/camunda/optimize/plugin/OpensearchCustomHeaderProvider.java b/util/optimize-commons/src/main/java/org/camunda/optimize/plugin/OpensearchCustomHeaderProvider.java[m
[1mnew file mode 100644[m
[1mindex 0000000000..412adbcbf3[m
[1m--- /dev/null[m
[1m+++ b/util/optimize-commons/src/main/java/org/camunda/optimize/plugin/OpensearchCustomHeaderProvider.java[m
[36m@@ -0,0 +1,32 @@[m
[32m+[m[32m/*[m
[32m+[m[32m * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH under one or more contributor license agreements.[m
[32m+[m[32m * Licensed under a proprietary license. See the License.txt file for more information.[m
[32m+[m[32m * You may not use this file except in compliance with the proprietary license.[m
[32m+[m[32m */[m
[32m+[m[32mpackage org.camunda.optimize.plugin;[m
[32m+[m
[32m+[m[32mimport org.camunda.optimize.plugin.elasticsearch.DatabaseCustomHeaderSupplier;[m
[32m+[m[32mimport org.camunda.optimize.service.util.configuration.ConfigurationService;[m
[32m+[m[32mimport org.springframework.stereotype.Component;[m
[32m+[m
[32m+[m[32mimport java.util.List;[m
[32m+[m
[32m+[m[32m@Component[m
[32m+[m[32mpublic class OpensearchCustomHeaderProvider extends PluginProvider<DatabaseCustomHeaderSupplier> {[m
[32m+[m[32m// TODO needs overhauling with OPT-7229[m
[32m+[m[32m  public OpensearchCustomHeaderProvider(final ConfigurationService configurationService,[m
[32m+[m[32m                                        final PluginJarFileLoader pluginJarLoader) {[m
[32m+[m[32m    super(configurationService, pluginJarLoader);[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  @Override[m
[32m+[m[32m  protected Class<DatabaseCustomHeaderSupplier> getPluginClass() {[m
[32m+[m[32m    return DatabaseCustomHeaderSupplier.class;[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  @Override[m
[32m+[m[32m  protected List<String> getBasePackages() {[m
[32m+[m[32m    return configurationService.getElasticsearchCustomHeaderPluginBasePackages(); // TODO[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m}[m
[1mdiff --git a/util/optimize-commons/src/main/java/org/camunda/optimize/service/es/OptimizeElasticsearchClient.java b/util/optimize-commons/src/main/java/org/camunda/optimize/service/es/OptimizeElasticsearchClient.java[m
[1mindex fa3ce134fb..6f7b29cb69 100644[m
[1m--- a/util/optimize-commons/src/main/java/org/camunda/optimize/service/es/OptimizeElasticsearchClient.java[m
[1m+++ b/util/optimize-commons/src/main/java/org/camunda/optimize/service/es/OptimizeElasticsearchClient.java[m
[36m@@ -19,6 +19,7 @@[m [mimport org.camunda.optimize.service.es.schema.RequestOptionsProvider;[m
 import org.camunda.optimize.service.exceptions.OptimizeRuntimeException;[m
 import org.camunda.optimize.service.util.configuration.ConfigurationReloadable;[m
 import org.camunda.optimize.service.util.configuration.ConfigurationService;[m
[32m+[m[32mimport org.camunda.optimize.service.util.configuration.condition.ElasticSearchCondition;[m
 import org.camunda.optimize.upgrade.es.ElasticsearchHighLevelRestClientBuilder;[m
 import org.elasticsearch.ElasticsearchStatusException;[m
 import org.elasticsearch.action.ActionListener;[m
[36m@@ -86,6 +87,7 @@[m [mimport org.elasticsearch.index.reindex.ReindexRequest;[m
 import org.elasticsearch.index.reindex.UpdateByQueryRequest;[m
 import org.elasticsearch.rest.RestStatus;[m
 import org.springframework.context.ApplicationContext;[m
[32m+[m[32mimport org.springframework.context.annotation.Conditional;[m
 [m
 import java.io.IOException;[m
 import java.time.Duration;[m
[36m@@ -105,6 +107,7 @@[m [mimport java.util.Set;[m
  * as well as the {@link OptimizeIndexNameService}.[m
  */[m
 @Slf4j[m
[32m+[m[32m@Conditional(ElasticSearchCondition.class)[m
 public class OptimizeElasticsearchClient implements ConfigurationReloadable {[m
   private static final int DEFAULT_SNAPSHOT_IN_PROGRESS_RETRY_DELAY = 30;[m
 [m
[1mdiff --git a/util/optimize-commons/src/main/java/org/camunda/optimize/service/es/schema/RequestOptionsProvider.java b/util/optimize-commons/src/main/java/org/camunda/optimize/service/es/schema/RequestOptionsProvider.java[m
[1mindex f35bb435f7..24b511874b 100644[m
[1m--- a/util/optimize-commons/src/main/java/org/camunda/optimize/service/es/schema/RequestOptionsProvider.java[m
[1m+++ b/util/optimize-commons/src/main/java/org/camunda/optimize/service/es/schema/RequestOptionsProvider.java[m
[36m@@ -6,7 +6,7 @@[m
 package org.camunda.optimize.service.es.schema;[m
 [m
 import org.camunda.optimize.plugin.elasticsearch.CustomHeader;[m
[31m-import org.camunda.optimize.plugin.elasticsearch.ElasticsearchCustomHeaderSupplier;[m
[32m+[m[32mimport org.camunda.optimize.plugin.elasticsearch.DatabaseCustomHeaderSupplier;[m
 import org.camunda.optimize.service.util.configuration.ConfigurationService;[m
 import org.elasticsearch.client.HttpAsyncResponseConsumerFactory;[m
 import org.elasticsearch.client.RequestOptions;[m
[36m@@ -26,7 +26,7 @@[m [mpublic class RequestOptionsProvider {[m
     this(Collections.emptyList(), null);[m
   }[m
 [m
[31m-  public RequestOptionsProvider(final List<ElasticsearchCustomHeaderSupplier> customHeaderPlugins,[m
[32m+[m[32m  public RequestOptionsProvider(final List<DatabaseCustomHeaderSupplier> customHeaderPlugins,[m
                                 final ConfigurationService configurationService) {[m
     this.customHeaderSuppliers = customHeaderPlugins[m
       .stream()[m
[1mdiff --git a/util/optimize-commons/src/main/java/org/camunda/optimize/service/os/OptimizeOpensearchClient.java b/util/optimize-commons/src/main/java/org/camunda/optimize/service/os/OptimizeOpensearchClient.java[m
[1mnew file mode 100644[m
[1mindex 0000000000..14302216cd[m
[1m--- /dev/null[m
[1m+++ b/util/optimize-commons/src/main/java/org/camunda/optimize/service/os/OptimizeOpensearchClient.java[m
[36m@@ -0,0 +1,343 @@[m
[32m+[m[32m/*[m
[32m+[m[32m * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH under one or more contributor license agreements.[m
[32m+[m[32m * Licensed under a proprietary license. See the License.txt file for more information.[m
[32m+[m[32m * You may not use this file except in compliance with the proprietary license.[m
[32m+[m[32m */[m
[32m+[m[32mpackage org.camunda.optimize.service.os;[m
[32m+[m
[32m+[m[32mimport lombok.Getter;[m
[32m+[m[32mimport lombok.Setter;[m
[32m+[m[32mimport lombok.extern.slf4j.Slf4j;[m
[32m+[m[32mimport org.camunda.optimize.plugin.OpensearchCustomHeaderProvider;[m
[32m+[m[32mimport org.camunda.optimize.service.es.schema.OptimizeIndexNameService;[m
[32m+[m[32mimport org.camunda.optimize.service.es.schema.RequestOptionsProvider;[m
[32m+[m[32mimport org.camunda.optimize.service.exceptions.OptimizeRuntimeException;[m
[32m+[m[32mimport org.camunda.optimize.service.util.configuration.ConfigurationReloadable;[m
[32m+[m[32mimport org.camunda.optimize.service.util.configuration.ConfigurationService;[m
[32m+[m[32mimport org.camunda.optimize.service.util.configuration.condition.OpenSearchCondition;[m
[32m+[m[32mimport org.elasticsearch.client.RequestOptions;[m
[32m+[m[32mimport org.opensearch.client.opensearch.OpenSearchClient;[m
[32m+[m[32mimport org.opensearch.client.opensearch._types.RequestBase;[m
[32m+[m[32mimport org.opensearch.client.opensearch.core.DeleteRequest;[m
[32m+[m[32mimport org.opensearch.client.opensearch.core.DeleteResponse;[m
[32m+[m[32mimport org.opensearch.client.opensearch.core.IndexRequest;[m
[32m+[m[32mimport org.opensearch.client.opensearch.core.IndexResponse;[m
[32m+[m[32mimport org.opensearch.client.util.ObjectBuilderBase;[m
[32m+[m[32mimport org.springframework.context.ApplicationContext;[m
[32m+[m[32mimport org.springframework.context.annotation.Conditional;[m
[32m+[m
[32m+[m[32mimport java.io.IOException;[m
[32m+[m[32mimport java.lang.reflect.Field;[m
[32m+[m[32mimport java.lang.reflect.InvocationTargetException;[m
[32m+[m[32mimport java.lang.reflect.Method;[m
[32m+[m[32mimport java.util.function.Function;[m
[32m+[m
[32m+[m[32m/**[m
[32m+[m[32m * This Client serves as the main opensearch client to be used from application code.[m
[32m+[m[32m * <p>[m
[32m+[m[32m */[m
[32m+[m[32m@Slf4j[m
[32m+[m[32m@Conditional(OpenSearchCondition.class)[m
[32m+[m[32mpublic class OptimizeOpensearchClient implements ConfigurationReloadable {[m
[32m+[m[32m  private static final int DEFAULT_SNAPSHOT_IN_PROGRESS_RETRY_DELAY = 30;[m
[32m+[m[32m  private static final String INDEX_METHOD = "index";[m
[32m+[m
[32m+[m[32m  @Getter[m
[32m+[m[32m  private final OpenSearchClient databaseClient;[m
[32m+[m[32m  @Getter[m
[32m+[m[32m  private OptimizeIndexNameService indexNameService;[m
[32m+[m
[32m+[m[32m  private RequestOptionsProvider requestOptionsProvider;[m
[32m+[m
[32m+[m[32m  @Setter[m
[32m+[m[32m  private int snapshotInProgressRetryDelaySeconds = DEFAULT_SNAPSHOT_IN_PROGRESS_RETRY_DELAY;[m
[32m+[m
[32m+[m[32m  public OptimizeOpensearchClient(final OpenSearchClient databaseClient,[m
[32m+[m[32m                                  final OptimizeIndexNameService indexNameService) {[m
[32m+[m[32m    this(databaseClient, indexNameService, new RequestOptionsProvider());[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  public OptimizeOpensearchClient(final OpenSearchClient databaseClient,[m
[32m+[m[32m                                  final OptimizeIndexNameService indexNameService,[m
[32m+[m[32m                                  final RequestOptionsProvider requestOptionsProvider) {[m
[32m+[m[32m    this.databaseClient = databaseClient;[m
[32m+[m[32m    this.indexNameService = indexNameService;[m
[32m+[m[32m    this.requestOptionsProvider = requestOptionsProvider;[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  public final void close() throws IOException {[m
[32m+[m[32m    // TODO do nothing for now[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  @Override[m
[32m+[m[32m  public void reloadConfiguration(final ApplicationContext context) {[m
[32m+[m[32m    final ConfigurationService configurationService = context.getBean(ConfigurationService.class);[m
[32m+[m[32m    this.indexNameService = context.getBean(OptimizeIndexNameService.class);[m
[32m+[m[32m    final OpensearchCustomHeaderProvider customHeaderProvider =[m
[32m+[m[32m      context.getBean(OpensearchCustomHeaderProvider.class); // TODO check if and when Custom Header is necessary[m
[32m+[m[32m    this.requestOptionsProvider = new RequestOptionsProvider(customHeaderProvider.getPlugins(), configurationService);[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  // TODO check if there's a better way to do this, the problem is that RequestBase does not have an index method[m
[32m+[m[32m  private <T extends RequestBase> T applyIndexPrefix(T request) {[m
[32m+[m[32m    try {[m
[32m+[m[32m      // Get the index method[m
[32m+[m[32m      Method indexMethod = request.getClass().getMethod(INDEX_METHOD);[m
[32m+[m[32m      String currentIndex = (String) indexMethod.invoke(request);[m
[32m+[m
[32m+[m[32m      String fullyQualifiedIndexName = indexNameService.getOptimizeIndexAliasForIndex(currentIndex);[m
[32m+[m
[32m+[m[32m      // Invoke the setter method[m
[32m+[m[32m      Method setIndexMethod = request.getClass().getMethod(INDEX_METHOD, String.class);[m
[32m+[m[32m      setIndexMethod.invoke(request, fullyQualifiedIndexName);[m
[32m+[m[32m      return request;[m
[32m+[m[32m    } catch (NoSuchMethodException e) {[m
[32m+[m[32m      throw new OptimizeRuntimeException("The object does not have an index() method.");[m
[32m+[m[32m    } catch (IllegalAccessException | InvocationTargetException e) {[m
[32m+[m[32m      throw new OptimizeRuntimeException("Failed to invoke the index() method.");[m
[32m+[m[32m    }[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  // TODO revisit when schema is done OPT-7229[m
[32m+[m[32m  public RequestOptions requestOptions() {[m
[32m+[m[32m    return requestOptionsProvider.getRequestOptions();[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  public record IdIndexEntity<A>(String id, String index, A entity) {[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  public interface ExceptionSupplier<R> {[m
[32m+[m[32m    R get() throws Exception;[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  public <A> IndexResponse index(IndexRequest.Builder<A> requestBuilder) {[m
[32m+[m[32m    return safeIndex(requestBuilder, e -> defaultPersistErrorMessage(getIndex(requestBuilder)));[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  private <A> IndexResponse safeIndex(IndexRequest.Builder<A> requestBuilder,[m
[32m+[m[32m                                      Function<Exception, String> errorMessageSupplier) {[m
[32m+[m[32m    return safe(() -> databaseClient.index(applyIndexPrefix(requestBuilder.build())), errorMessageSupplier);[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  private <R> R safe(ExceptionSupplier<R> supplier, Function<Exception, String> errorMessage) {[m
[32m+[m[32m    try {[m
[32m+[m[32m      return supplier.get();[m
[32m+[m[32m    } catch (Exception e) {[m
[32m+[m[32m      final String message = errorMessage.apply(e);[m
[32m+[m[32m      log.error(message, e);[m
[32m+[m[32m      throw new OptimizeRuntimeException(message, e);[m
[32m+[m[32m    }[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  private static String defaultPersistErrorMessage(String index) {[m
[32m+[m[32m    return String.format("Failed to persist index: %s", index);[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  private String getIndex(ObjectBuilderBase builder) {[m
[32m+[m[32m    try {[m
[32m+[m[32m      Field indexField = builder.getClass().getDeclaredField(INDEX_METHOD);[m
[32m+[m[32m      return indexField.get(builder).toString();[m
[32m+[m[32m    } catch (Exception e) {[m
[32m+[m[32m      log.error(String.format("Failed to get index from %s", builder.getClass().getName()));[m
[32m+[m[32m      return "FAILED_INDEX";[m
[32m+[m[32m    }[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  public DeleteResponse delete(String index, String id) {[m
[32m+[m[32m    DeleteRequest.Builder deleteRequestBuilder = new DeleteRequest.Builder()[m
[32m+[m[32m      .index(index)[m
[32m+[m[32m      .id(id);[m
[32m+[m
[32m+[m[32m    return safeDelete(deleteRequestBuilder, e -> defaultDeleteErrorMessage(index));[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  private DeleteResponse safeDelete(DeleteRequest.Builder requestBuilder,[m
[32m+[m[32m                                    Function<Exception, String> errorMessageSupplier) {[m
[32m+[m[32m    return safe(() -> databaseClient.delete(applyIndexPrefix(requestBuilder.build())), errorMessageSupplier);[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  private static String defaultDeleteErrorMessage(String index) {[m
[32m+[m[32m    return String.format("Failed to delete index: %s", index);[m
[32m+[m[32m  }[m
[32m+[m
[32m+[m[32m  // TODO the methods below are copied from operate and they will likely be needed as we write our opensearch[m
[32m+[m[32m  //  writers, therefore leaving them in for now[m
[32m+[m
[32m+[m[32m//  private DeleteByQueryResponse safeDelete(DeleteByQueryRequest.Builder requestBuilder, Function<Exception, String>[m
[32m+[m[32m//  errorMessageSupplier) {[m
[32m+[m[32m//    return safe(() -> databaseClient.deleteByQuery(applyIndexPrefix(requestBuilder.build())), errorMessageSupplier);[m
[32m+[m[32m//  }[m
[32m+[m[32m//[m
[32m+[m[32m//  public <A> UpdateResponse<Void> update(UpdateRequest.Builder<Void, A> requestBuilder, Function<Exception, String>[m
[32m+[m[32m//  errorMessageSupplier) {[m
[32m+[m[32m//    return safeUpdate(requestBuilder, Void.class, errorMessageSupplier);[m
[32m+[m[32m//  }[m
[32m+[m
[32m+[m[32m//  public record AggregationValue(String key, long count){}[m
[32m+[m[32m//  public record AggregationResult(boolean error, List<AggregationValue> values, Long totalDocs){}[m
[32m+[m[32m//[m
[32m+[m[32m//[m
[32m+[m[32m//  private static  String defaultSearchErrorMessage(String index) {[m
[32m+[m[32m//    return String.format("Failed to search index: %s", index);[m
[32m+[m[32m//  }[m
[32m+[m[32m//[m
[32m+[m[32m//[m
[32m+[m[32m//  public static <R> R withOptimizeRuntimeException(ExceptionSupplier<R> supplier) {[m
[32m+[m[32m//    try {[m
[32m+[m[32m//      return supplier.get();[m
[32m+[m[32m//    } catch (Exception e) {[m
[32m+[m[32m//      throw new OptimizeRuntimeException(e.getMessage(), e.getCause());[m
[32m+[m[32m//    }[m
[32m+[m[32m//  }[m
[32m+[m[32m//[m
[32m+[m[32m//  private <A, R> UpdateResponse<R> safeUpdate(UpdateRequest.Builder<R, A> requestBuilder, Class<R> entityClass,[m
[32m+[m[32m//  Function<Exception, String> errorMessageSupplier) {[m
[32m+[m[32m//    return safe(() -> databaseClient.update(applyIndexPrefix(requestBuilder.build()), entityClass),[m
[32m+[m[32m//    errorMessageSupplier);[m
[32m+[m[32m//  }[m
[32m+[m[32m//[m
[32m+[m[32m//  private <R> SearchResponse<R> safeSearch(SearchRequest.Builder requestBuilder, Class<R> entityClass) {[m
[32m+[m[32m//    return safe(() -> databaseClient.search(applyIndexPrefix(requestBuilder.build()), entityClass), (e) ->[m
[32m+[m[32m//    defaultSearchErrorMessage(getIndex(requestBuilder)));[m
[32m+[m[32m//  }[m
[32m+[m[32m//[m
[32m+[m[32m//  private <R> List<R> safeScroll(SearchRequest.Builder requestBuilder, Class<R> entityClass) {[m
[32m+[m[32m//    return safe(() -> OptimizeOpenSearchUtil.scroll(applyIndexPrefix(requestBuilder.build()), entityClass,[m
[32m+[m[32m//                                                    databaseClient[m
[32m+[m[32m//    ), (e) -> defaultSearchErrorMessage(getIndex(requestBuilder)));[m
[32m+[m[32m//  }[m
[32m+[m[32m//[m
[32m+[m[32m//  private <R> List<R> safeScroll(SearchRequest.Builder requestBuilder, Class<R> entityClass, Consumer<Map<String,[m
[32m+[m[32m//  Aggregate>> aggsConsumer) {[m
[32m+[m[32m//    return safe(() -> OptimizeOpenSearchUtil.scroll(requestBuilder, entityClass, databaseClient, null,[m
[32m+[m[32m//    aggsConsumer), (e) -> defaultSearchErrorMessage(getIndex(requestBuilder)));[m
[32m+[m[32m//  }[m
[32m+[m[32m//[m
[32m+[m[32m//  private <R> void safeScrollWith(SearchRequest.Builder requestBuilder, Class<R> entityClass,[m
[32m+[m[32m//  Consumer<List<Hit<R>>> hitsConsumer, Consumer<Map<String, Aggregate>> aggsConsumer) {[m
[32m+[m[32m//    safe(() -> {[m
[32m+[m[32m//      OptimizeOpenSearchUtil.scrollWith(requestBuilder, databaseClient, hitsConsumer, aggsConsumer, null,[m
[32m+[m[32m//      entityClass);[m
[32m+[m[32m//      return null;[m
[32m+[m[32m//    }, (e) -> defaultSearchErrorMessage(getIndex(requestBuilder)));[m
[32m+[m[32m//  }[m
[32m+[m[32m//[m
[32m+[m[32m//  public <R> SearchResponse<R> search(SearchRequest.Builder requestBuilder, Class<R> entityClass) {[m
[32m+[m[32m//    return safeSearch(requestBuilder, entityClass);[m
[32m+[m[32m//  }[m
[32m+[m[32m//[m
[32m+[m[32m//  public <R> List<R> scroll(SearchRequest.Builder requestBuilder, Class<R> entityClass) {[m
[32m+[m[32m//    return safeScroll(requestBuilder, entityClass);[m
[32m+[m[32m//  }[m
[32m+[m[32m//[m
[32m+[m[32m//  public <R> List<R> scroll(SearchRequest.Builder requestBuilder, Class<R> entityClass, Consumer<Map<String,[m
[32m+[m[32m//  Aggregate>> aggsConsumer) {[m
[32m+[m[32m//    return safeScroll(requestBuilder, entityClass, aggsConsumer);[m
[32m+[m[32m//  }[m
[32m+[m[32m//[m
[32m+[m[32m//  public <R> void scrollWith(SearchRequest.Builder requestBuilder, Class<R> entityClass, Consumer<List<Hit<R>>>[m
[32m+[m[32m//  hitsConsumer) {[m
[32m+[m[32m//    safeScrollWith(requestBuilder, entityClass, hitsConsumer, null);[m
[32m+[m[32m//  }[m
[32m+[m[32m//[m
[32m+[m[32m//  public <R> List<IdIndexEntity<R>> searchWithIdIndex(SearchRequest.Builder requestBuilder, Class<R> entityClass) {[m
[32m+[m[32m//    List<IdIndexEntity<R>> result = new ArrayList<>();[m
[32m+[m[32m//    Function<Hit<R>, IdIndexEntity<R>> hitMapper = hit -> new IdIndexEntity<R>(hit.id(), hit.index(), hit.source());[m
[32m+[m[32m//    Consumer<List<Hit<R>>> hitConsumer = hits -> result.addAll(hits.stream().map(hitMapper).toList());[m
[32m+[m[32m//[m
[32m+[m[32m//    safeScrollWith(requestBuilder, entityClass, hitConsumer, null);[m
[32m+[m[32m//[m
[32m+[m[32m//    return result;[m
[32m+[m[32m//  }[m
[32m+[m[32m//[m
[32m+[m[32m//  public <R> R searchUnique(SearchRequest.Builder requestBuilder, Class<R> entityClass, String key) {[m
[32m+[m[32m//    final SearchResponse<R> response = search(requestBuilder, entityClass);[m
[32m+[m[32m//[m
[32m+[m[32m//    if (response.hits().total().value() == 1) {[m
[32m+[m[32m//      return response.hits().hits().get(0).source();[m
[32m+[m[32m//    } else if (response.hits().total().value() > 1) {[m
[32m+[m[32m//      throw new NotFoundException(String.format("Could not find unique %s with key '%s'.", getIndex(requestBuilder)[m
[32m+[m[32m//      , key));[m
[32m+[m[32m//    } else {[m
[32m+[m[32m//      throw new NotFoundException(String.format("Could not find %s with key '%s'.", getIndex(requestBuilder), key));[m
[32m+[m[32m//    }[m
[32m+[m[32m//  }[m
[32m+[m[32m//[m
[32m+[m[32m//  public AggregationResult searchWithAggregation(SearchRequest.Builder requestBuilder, String aggregationName) {[m
[32m+[m[32m//    final Aggregate aggregate;[m
[32m+[m[32m//[m
[32m+[m[32m//    try {[m
[32m+[m[32m//      aggregate = search(requestBuilder, Object.class).aggregations().get(aggregationName);[m
[32m+[m[32m//    } catch (OptimizeRuntimeException e) {[m
[32m+[m[32m//      return new AggregationResult(true, null, null);[m
[32m+[m[32m//    }[m
[32m+[m[32m//[m
[32m+[m[32m//    if (aggregate == null) {[m
[32m+[m[32m//      throw new OptimizeRuntimeException("Search with aggregation returned no aggregation");[m
[32m+[m[32m//    }[m
[32m+[m[32m//[m
[32m+[m[32m//    if (!aggregate.isSterms()) {[m
[32m+[m[32m//      throw new OptimizeRuntimeException("Unexpected response for aggregations");[m
[32m+[m[32m//    }[m
[32m+[m[32m//[m
[32m+[m[32m//    final List<StringTermsBucket> buckets = aggregate.sterms().buckets().array();[m
[32m+[m[32m//[m
[32m+[m[32m//    final List<AggregationValue> values = buckets.stream()[m
[32m+[m[32m//      .map(bucket -> new AggregationValue(bucket.key(), bucket.docCount()))[m
[32m+[m[32m//      .toList();[m
[32m+[m[32m//[m
[32m+[m[32m//    long sumOfOtherDocCounts = aggregate.sterms().sumOtherDocCount(); // size of documents not in result[m
[32m+[m[32m//    long total = sumOfOtherDocCounts + values.size(); // size of result + other docs[m
[32m+[m[32m//    return new AggregationResult(false, values, total);[m
[32m+[m[32m//  }[m
[32m+[m[32m//[m
[32m+[m[32m//  public Map<String, String> getIndexNames(String index, Collection<String> ids) {[m
[32m+[m[32m//    final Map<String, String> result = new HashMap<>();[m
[32m+[m[32m//    var searchRequestBuilder = new SearchRequest.Builder()[m
[32m+[m[32m//      .index(index)[m
[32m+[m[32m//      .query(ids(ids.stream().toList()))[m
[32m+[m[32m//      .source(s -> s.fetch(false));[m
[32m+[m[32m//[m
[32m+[m[32m//    Consumer<List<Hit<Void>>> hitsConsumer = hits -> hits.forEach([m
[32m+[m[32m//      hit -> result.put(hit.id(), hit.index())[m
[32m+[m[32m//    );[m
[32m+[m[32m//[m
[32m+[m[32m//    safeScrollWith(searchRequestBuilder, Void.class, hitsConsumer, null);[m
[32m+[m[32m//[m
[32m+[m[32m//    return result;[m
[32m+[m[32m//  }[m
[32m+[m[32m//[m
[32m+[m[32m//[m
[32m+[m[32m//[m
[32m+[m[32m//  public DeleteByQueryResponse delete(String index, String field, String value) {[m
[32m+[m[32m//    var deleteRequestBuilder = new DeleteByQueryRequest.Builder()[m
[32m+[m[32m//      .index(index)[m
[32m+[m[32m//      .query(term(field, value));[m
[32m+[m[32m//[m
[32m+[m[32m//    return safeDelete(deleteRequestBuilder, e -> defaultDeleteErrorMessage(index));[m
[32m+[m[32m//  }[m
[32m+[m[32m//[m
[32m+[m[32m//  public void bulk(BulkRequest.Builder bulkRequestBuilder) {[m
[32m+[m[32m//    withOptimizeRuntimeException(() -> {[m
[32m+[m[32m//      OptimizeOpenSearchUtil.processBulkRequest(databaseClient, applyIndexPrefix(bulkRequestBuilder.build()));[m
[32m+[m[32m//      return null;[m
[32m+[m[32m//    });[m
[32m+[m[32m//  }[m
[32m+[m[32m//[m
[32m+[m[32m//  public static Query ids(List<String> ids) {[m
[32m+[m[32m//    return IdsQuery.of(q -> q.values(nonNull(ids)))._toQuery();[m
[32m+[m[32m//  }[m
[32m+[m[32m//[m
[32m+[m[32m//  private static <A> List<A> nonNull(Collection<A> items) {[m
[32m+[m[32m//    return items.stream().filter(Objects::nonNull).toList();[m
[32m+[m[32m//  }[m
[32m+[m[32m//[m
[32m+[m[32m//  public static <A> Query term(String field, A value, Function<A, FieldValue> toFieldValue) {[m
[32m+[m[32m//    return TermQuery.of(q -> q.field(field).value(toFieldValue.apply(value)))._toQuery();[m
[32m+[m[32m//  }[m
[32m+[m[32m//[m
[32m+[m[32m//  public static Query term(String field, String value) {[m
[32m+[m[32m//    return term(field, value, FieldValue::of);[m
[32m+[m[32m//  }[m
[32m+[m
[32m+[m[32m}[m
[1mdiff --git a/util/optimize-commons/src/main/java/org/camunda/optimize/service/util/configuration/ConfigurationService.java b/util/optimize-commons/src/main/java/org/camunda/optimize/service/util/configuration/ConfigurationService.java[m
[1mindex 9b8d9630f1..1e2f625c55 100644[m
[1m--- a/util/optimize-commons/src/main/java/org/camunda/optimize/service/util/configuration/ConfigurationService.java[m
[1m+++ b/util/optimize-commons/src/main/java/org/camunda/optimize/service/util/configuration/ConfigurationService.java[m
[36m@@ -19,7 +19,7 @@[m [mimport org.camunda.optimize.service.exceptions.OptimizeConfigurationException;[m
 import org.camunda.optimize.service.util.configuration.analytics.AnalyticsConfiguration;[m
 import org.camunda.optimize.service.util.configuration.archive.DataArchiveConfiguration;[m
 import org.camunda.optimize.service.util.configuration.cleanup.CleanupConfiguration;[m
[31m-import org.camunda.optimize.service.util.configuration.elasticsearch.ElasticsearchConnectionNodeConfiguration;[m
[32m+[m[32mimport org.camunda.optimize.service.util.configuration.elasticsearch.DatabaseConnectionNodeConfiguration;[m
 import org.camunda.optimize.service.util.configuration.engine.EngineAuthenticationConfiguration;[m
 import org.camunda.optimize.service.util.configuration.engine.EngineConfiguration;[m
 import org.camunda.optimize.service.util.configuration.engine.EventIngestionConfiguration;[m
[36m@@ -88,8 +88,12 @@[m [mpublic class ConfigurationService {[m
   private Long initialBackoff;[m
   private Long maximumBackoff;[m
 [m
[32m+[m[32m  // opensearch connection[m
[32m+[m[32m  private List<DatabaseConnectionNodeConfiguration> opensearchConnectionNodes;[m
[32m+[m
   // elasticsearch connection[m
[31m-  private List<ElasticsearchConnectionNodeConfiguration> elasticsearchConnectionNodes;[m
[32m+[m[32m  private List<DatabaseConnectionNodeConfiguration> elasticsearchConnectionNodes;[m
[32m+[m
   private Integer esScrollTimeoutInSeconds;[m
   private Integer elasticsearchConnectionTimeout;[m
   private Integer elasticsearchResponseConsumerBufferLimitInMb;[m
[36m@@ -162,6 +166,7 @@[m [mpublic class ConfigurationService {[m
   private String contextPath;[m
   private String containerKeystorePassword;[m
   private String containerKeystoreLocation;[m
[32m+[m[32m  private Boolean containerEnableSniCheck;[m
   private Integer containerHttpsPort;[m
   private Integer actuatorPort;[m
 [m
[36m@@ -232,6 +237,8 @@[m [mpublic class ConfigurationService {[m
 [m
   private M2mAuth0ClientConfiguration m2mAuth0ClientConfiguration;[m
 [m
[32m+[m[32m  private Boolean multiTenancyEnabled;[m
[32m+[m
   @JsonCreator[m
   public static ConfigurationService createDefault() {[m
     return ConfigurationServiceBuilder.createDefaultConfiguration();[m
[36m@@ -301,10 +308,10 @@[m [mpublic class ConfigurationService {[m
     return getSecurityConfiguration().getAuth();[m
   }[m
 [m
[31m-  public List<ElasticsearchConnectionNodeConfiguration> getElasticsearchConnectionNodes() {[m
[32m+[m[32m  public List<DatabaseConnectionNodeConfiguration> getElasticsearchConnectionNodes() {[m
     if (elasticsearchConnectionNodes == null) {[m
       // @formatter:off[m
[31m-      TypeRef<List<ElasticsearchConnectionNodeConfiguration>> typeRef =[m
[32m+[m[32m      TypeRef<List<DatabaseConnectionNodeConfiguration>> typeRef =[m
         new TypeRef<>() {};[m
       // @formatter:on[m
       elasticsearchConnectionNodes = configJsonContext.read([m
[36m@@ -314,11 +321,29 @@[m [mpublic class ConfigurationService {[m
     return elasticsearchConnectionNodes;[m
   }[m
 [m
[32m+[m[32m  public List<DatabaseConnectionNodeConfiguration> getOpensearchConnectionNodes() {[m
[32m+[m[32m    if (opensearchConnectionNodes == null) {[m
[32m+[m[32m      // @formatter:off[m
[32m+[m[32m      TypeRef<List<DatabaseConnectionNodeConfiguration>> typeRef =[m
[32m+[m[32m        new TypeRef<>() {};[m
[32m+[m[32m      // @formatter:on[m
[32m+[m[32m      opensearchConnectionNodes = configJsonContext.read([m
[32m+[m[32m        ConfigurationServiceConstants.OPENSEARCH_CONNECTION_NODES, typeRef[m
[32m+[m[32m      );[m
[32m+[m[32m    }[m
[32m+[m[32m    return opensearchConnectionNodes;[m
[32m+[m[32m  }[m
[32m+[m
   @JsonIgnore[m
[31m-  public ElasticsearchConnectionNodeConfiguration getFirstElasticsearchConnectionNode() {[m
[32m+[m[32m  public DatabaseConnectionNodeConfiguration getFirstElasticsearchConnectionNode() {[m
     return getElasticsearchConnectionNodes().get(0);[m
   }[m
 [m
[32m+[m[32m  @JsonIgnore[m
[32m+[m[32m  public DatabaseConnectionNodeConfiguration getFirstOpensearchConnectionNode() {[m
[32m+[m[32m    return getOpensearchConnectionNodes().get(0);[m
[32m+[m[32m  }[m
[32m+[m
   public List<String> getDecisionOutputImportPluginBasePackages() {[m
     if (decisionOutputImportPluginBasePackages == null) {[m
       decisionOutputImportPluginBasePackages = configJsonContext.read([m
[36m@@ -810,6 +835,15 @@[m [mpublic class ConfigurationService {[m
     return containerKeystoreLocation;[m
   }[m
 [m
[32m+[m[32m  public Boolean getContainerEnableSniCheck() {[m
[32m+[m[32m    if (containerEnableSniCheck == null) {[m
[32m+[m[32m      containerEnableSniCheck = configJsonContext.read([m
[32m+[m[32m        ConfigurationServiceConstants.CONTAINER_ENABLE_SNI_CHECK, Boolean.class[m
[32m+[m[32m      );[m
[32m+[m[32m    }[m
[32m+[m[32m    return containerEnableSniCheck;[m
[32m+[m[32m  }[m
[32m+[m
   public Integer getContainerHttpsPort() {[m
     if (containerHttpsPort == null) {[m
       containerHttpsPort = configJsonContext.read([m
[36m@@ -1273,7 +1307,10 @@[m [mpublic class ConfigurationService {[m
 [m
   public PanelNotificationConfiguration getPanelNotificationConfiguration() {[m
     if (panelNotificationConfiguration == null) {[m
[31m-      panelNotificationConfiguration = configJsonContext.read(PANEL_NOTIFICATION_CONFIGURATION, PanelNotificationConfiguration.class);[m
[32m+[m[32m      panelNotificationConfiguration = configJsonContext.read([m
[32m+[m[32m        PANEL_NOTIFICATION_CONFIGURATION,[m
[32m+[m[32m        PanelNotificationConfiguration.class[m
[32m+[m[32m      );[m
     }[m
     return panelNotificationConfiguration;[m
   }[m
[36m@@ -1285,4 +1322,12 @@[m [mpublic class ConfigurationService {[m
     return m2mAuth0ClientConfiguration;[m
   }[m
 [m
[32m+[m[32m  public boolean isMultiTenancyEnabled() {[m
[32m+[m[32m    if (multiTenancyEnabled == null) {[m
[32m+[m[32m      multiTenancyEnabled =[m
[32m+[m[32m        configJsonContext.read(ConfigurationServiceConstants.MULTITENANCY_ENABLED, Boolean.class);[m
[32m+[m[32m    }[m
[32m+[m[32m    return multiTenancyEnabled;[m
[32m+[m[32m  }[m
[32m+[m
 }[m
[1mdiff --git a/util/optimize-commons/src/main/java/org/camunda/optimize/service/util/configuration/ConfigurationServiceConstants.java b/util/optimize-commons/src/main/java/org/camunda/optimize/service/util/configuration/ConfigurationServiceConstants.java[m
[1mindex 906232053e..bed78b9b3b 100644[m
[1m--- a/util/optimize-commons/src/main/java/org/camunda/optimize/service/util/configuration/ConfigurationServiceConstants.java[m
[1m+++ b/util/optimize-commons/src/main/java/org/camunda/optimize/service/util/configuration/ConfigurationServiceConstants.java[m
[36m@@ -80,6 +80,9 @@[m [mpublic class ConfigurationServiceConstants {[m
   public static final String ELASTICSEARCH_SECURITY_SSL_CERTIFICATE = "$.es.security.ssl.certificate";[m
   public static final String ELASTICSEARCH_SECURITY_SSL_CERTIFICATE_AUTHORITIES = "$.es.security.ssl.certificate_authorities";[m
 [m
[32m+[m[32m  public static final String OPENSEARCH_CONNECTION_NODES = "$.opensearch.connection.nodes";[m
[32m+[m
[32m+[m
   public static final String IMPORT_INDEX_AUTO_STORAGE_INTERVAL = "$.import.importIndexStorageIntervalInSec";[m
 [m
   public static final String ENGINE_CONNECT_TIMEOUT = "$.engine-commons.connection.timeout";[m
[36m@@ -99,6 +102,7 @@[m [mpublic class ConfigurationServiceConstants {[m
   public static final String CONTAINER_CONTEXT_PATH = "$.container.contextPath";[m
   public static final String CONTAINER_KEYSTORE_PASSWORD = "$.container.keystore.password";[m
   public static final String CONTAINER_KEYSTORE_LOCATION = "$.container.keystore.location";[m
[32m+[m[32m  public static final String CONTAINER_ENABLE_SNI_CHECK = "$.container.enableSniCheck";[m
   public static final String CONTAINER_HTTPS_PORT = "$.container.ports.https";[m
   public static final String CONTAINER_HTTP_PORT = "$.container.ports.http";[m
 [m
[36m@@ -153,6 +157,7 @@[m [mpublic class ConfigurationServiceConstants {[m
   public static final String ELASTICSEARCH_PROFILE = "elasticsearch";[m
   public static final String OPENSEARCH_PROFILE = "opensearch";[m
   public static final List<String> optimizeDatabaseProfiles = List.of(ELASTICSEARCH_PROFILE, OPENSEARCH_PROFILE);[m
[32m+[m[32m  public static final String MULTITENANCY_ENABLED = "$.multitenancy.enabled";[m
   //@formatter:on[m
 [m
 }[m
[1mdiff --git a/util/optimize-commons/src/main/java/org/camunda/optimize/service/util/configuration/GlobalCacheConfiguration.java b/util/optimize-commons/src/main/java/org/camunda/optimize/service/util/configuration/GlobalCacheConfiguration.java[m
[1mindex 93735432ca..6755005894 100644[m
[1m--- a/util/optimize-commons/src/main/java/org/camunda/optimize/service/util/configuration/GlobalCacheConfiguration.java[m
[1m+++ b/util/optimize-commons/src/main/java/org/camunda/optimize/service/util/configuration/GlobalCacheConfiguration.java[m
[36m@@ -14,4 +14,5 @@[m [mpublic class GlobalCacheConfiguration {[m
   private CacheConfiguration definitionEngines;[m
   private CacheConfiguration eventProcessRoles;[m
   private CloudUserCacheConfiguration cloudUsers;[m
[32m+[m[32m  private CacheConfiguration cloudTenantAuthorizations;[m
 }[m
[1mdiff --git a/util/optimize-commons/src/main/java/org/camunda/optimize/service/util/configuration/elasticsearch/ElasticsearchConnectionNodeConfiguration.java b/util/optimize-commons/src/main/java/org/camunda/optimize/service/util/configuration/elasticsearch/DatabaseConnectionNodeConfiguration.java[m
[1msimilarity index 89%[m
[1mrename from util/optimize-commons/src/main/java/org/camunda/optimize/service/util/configuration/elasticsearch/ElasticsearchConnectionNodeConfiguration.java[m
[1mrename to util/optimize-commons/src/main/java/org/camunda/optimize/service/util/configuration/elasticsearch/DatabaseConnectionNodeConfiguration.java[m
[1mindex 0c368fa86c..b197160279 100644[m
[1m--- a/util/optimize-commons/src/main/java/org/camunda/optimize/service/util/configuration/elasticsearch/ElasticsearchConnectionNodeConfiguration.java[m
[1m+++ b/util/optimize-commons/src/main/java/org/camunda/optimize/service/util/configuration/elasticsearch/DatabaseConnectionNodeConfiguration.java[m
[36m@@ -8,7 +8,7 @@[m [mpackage org.camunda.optimize.service.util.configuration.elasticsearch;[m
 import lombok.Data;[m
 [m
 @Data[m
[31m-public class ElasticsearchConnectionNodeConfiguration {[m
[32m+[m[32mpublic class DatabaseConnectionNodeConfiguration {[m
 [m
   private String host;[m
   private Integer httpPort;[m
[1mdiff --git a/util/optimize-commons/src/main/java/org/camunda/optimize/service/util/importing/ZeebeConstants.java b/util/optimize-commons/src/main/java/org/camunda/optimize/service/util/importing/ZeebeConstants.java[m
[1mindex 35d0c40791..59696f0bb3 100644[m
[1m--- a/util/optimize-commons/src/main/java/org/camunda/optimize/service/util/importing/ZeebeConstants.java[m
[1m+++ b/util/optimize-commons/src/main/java/org/camunda/optimize/service/util/importing/ZeebeConstants.java[m
[36m@@ -7,11 +7,20 @@[m [mpackage org.camunda.optimize.service.util.importing;[m
 [m
 import lombok.AccessLevel;[m
 import lombok.NoArgsConstructor;[m
[32m+[m[32mimport org.camunda.optimize.dto.optimize.TenantDto;[m
[32m+[m
[32m+[m[32mimport static org.camunda.optimize.upgrade.es.ElasticsearchConstants.ZEEBE_DATA_SOURCE;[m
 [m
 @NoArgsConstructor(access = AccessLevel.PRIVATE)[m
 public class ZeebeConstants {[m
 [m
   public static final String ZEEBE_RECORD_TEST_PREFIX = "zeebe-record";[m
[31m-  public static final String ZEEBE_DEFAULT_TENANT= "<default>";[m
[32m+[m[32m  public static final String ZEEBE_DEFAULT_TENANT_ID = "<default>";[m
[32m+[m[32m  public static final String ZEEBE_DEFAULT_TENANT_NAME = "Default Tenant";[m
[32m+[m[32m  public static final TenantDto ZEEBE_DEFAULT_TENANT = new TenantDto([m
[32m+[m[32m    ZEEBE_DEFAULT_TENANT_ID,[m
[32m+[m[32m    ZEEBE_DEFAULT_TENANT_NAME,[m
[32m+[m[32m    ZEEBE_DATA_SOURCE[m
[32m+[m[32m  );[m
 [m
 }[m
[1mdiff --git a/util/optimize-commons/src/main/resources/service-config.yaml b/util/optimize-commons/src/main/resources/service-config.yaml[m
[1mindex 8ccf7fbb8a..e21b565d0e 100644[m
[1m--- a/util/optimize-commons/src/main/resources/service-config.yaml[m
[1m+++ b/util/optimize-commons/src/main/resources/service-config.yaml[m
[36m@@ -119,6 +119,8 @@[m [mcontainer:[m
   keystore:[m
     location: ${CAMUNDA_OPTIMIZE_CONTAINER_KEYSTORE_LOCATION:keystore.jks}[m
     password: ${CAMUNDA_OPTIMIZE_CONTAINER_KEYSTORE_PASSWORD:optimize}[m
[32m+[m[32m  # Determines whether SNI checking should be enabled[m
[32m+[m[32m  enableSniCheck: ${CAMUNDA_OPTIMIZE_CONTAINER_ENABLE_SNI_CHECK:true}[m
   # configuration of status reporting web socket[m
   status:[m
     # max number of threads\sessions that will be kept to report status[m
[36m@@ -294,7 +296,7 @@[m [mimport:[m
         # When increasing the limit, keep in mind to account for that by increasing the JVM heap memory as well.[m
         # Please refer to the technical guide on how to configure the heap size.[m
         maxEntryLimit: 100000[m
[31m-  # Controls whether customer onboarding data should be loaded to optimize (only for C8)[m
[32m+[m[32m  # Controls whether Camunda Customer Onboarding Demo data should be loaded to optimize (only for C8)[m
   customer-onboarding: ${CAMUNDA_OPTIMIZE_IMPORT_CUSTOMER_ONBOARDING:false}[m
   # Some data can no longer be imported to a given document if its number of nested documents has reached the configured[m
   # limit. Enable this setting to skip this data during import if the nested document limit has been reached.[m
[36m@@ -334,6 +336,16 @@[m [mimport:[m
     # Please refer to the technical guide on how to configure the heap size.[m
     maxEntryLimit: 100000[m
 [m
[32m+[m[32m# everything that is related with configuring OpenSearch or creating[m
[32m+[m[32m# a connection to it.[m
[32m+[m[32mopensearch:[m
[32m+[m[32m  connection:[m
[32m+[m[32m    nodes:[m
[32m+[m[32m      # the address/hostname under which the OpenSearch node is available.[m
[32m+[m[32m      - host: '${CAMUNDA_OPTIMIZE_OPENSEARCH_HOST:localhost}'[m
[32m+[m[32m        # A port number used by OpenSearch to accept HTTP connections.[m
[32m+[m[32m        httpPort: ${CAMUNDA_OPTIMIZE_OPENSEARCH_HTTP_PORT:9205}[m
[32m+[m
 # everything that is related with configuring Elasticsearch or creating[m
 # a connection to it.[m
 es:[m
[36m@@ -703,6 +715,11 @@[m [mcaches:[m
     maxSize: ${CAMUNDA_OPTIMIZE_CLOUD_USER_CACHE_MAX_SIZE:10000}[m
     # the minimum interval (in seconds) between each request to repopulate the cache.[m
     minFetchIntervalSeconds: ${CAMUNDA_OPTIMIZE_CLOUD_USER_CACHE_MIN_FETCH_INTERVAL_SECONDS:600}[m
[32m+[m[32m  # This cache is used to hold user tenant authorizations in CCSM[m
[32m+[m[32m  cloudTenantAuthorizations:[m
[32m+[m[32m    maxSize: ${CAMUNDA_OPTIMIZE_CACHES_CLOUD_TENANT_AUTHORIZATIONS_MAX_SIZE:10000}[m
[32m+[m[32m    # the time (in millis) the tenant authorizations will be cached[m
[32m+[m[32m    defaultTtlMillis: ${CAMUNDA_OPTIMIZE_CACHES_CLOUD_TENANT_AUTHORIZATIONS_MIN_FETCH_INTERVAL_SECONDS:600000}[m
 [m
 externalVariable:[m
   import:[m
[36m@@ -722,3 +739,8 @@[m [mexternalVariable:[m
     scheduleIntervalInMinutes: 10[m
     # A rollover is triggered when the size of the current external variable index matches or exceeds the maxIndexSizeGB threshold.[m
     maxIndexSizeGB: 50[m
[32m+[m
[32m+[m[32mmultitenancy:[m
[32m+[m[32m  # Currently only available in C8SM. Determines whether multi tenancy is enabled in Optimize.[m
[32m+[m[32m  # Note that multi tenancy is active by default in Optimize C7 and therefore this flag will have no influence on a C7 system.[m
[32m+[m[32m  enabled: ${CAMUNDA_OPTIMIZE_MULTITENANCY_ENABLED:false}[m
[1mdiff --git a/util/optimize-commons/src/test/java/org/camunda/optimize/service/util/configuration/ConfigurationServiceTest.java b/util/optimize-commons/src/test/java/org/camunda/optimize/service/util/configuration/ConfigurationServiceTest.java[m
[1mindex c27bf08d29..ed07638bab 100644[m
[1m--- a/util/optimize-commons/src/test/java/org/camunda/optimize/service/util/configuration/ConfigurationServiceTest.java[m
[1m+++ b/util/optimize-commons/src/test/java/org/camunda/optimize/service/util/configuration/ConfigurationServiceTest.java[m
[36m@@ -10,7 +10,7 @@[m [mimport com.jayway.jsonpath.spi.mapper.MappingException;[m
 import org.camunda.optimize.service.exceptions.OptimizeConfigurationException;[m
 import org.camunda.optimize.service.util.CronNormalizerUtil;[m
 import org.camunda.optimize.service.util.configuration.cleanup.CleanupMode;[m
[31m-import org.camunda.optimize.service.util.configuration.elasticsearch.ElasticsearchConnectionNodeConfiguration;[m
[32m+[m[32mimport org.camunda.optimize.service.util.configuration.elasticsearch.DatabaseConnectionNodeConfiguration;[m
 import org.camunda.optimize.service.util.configuration.engine.EngineConfiguration;[m
 import org.camunda.optimize.service.util.configuration.extension.EnvironmentVariablesExtension;[m
 import org.camunda.optimize.service.util.configuration.extension.SystemPropertiesExtension;[m
[36m@@ -524,13 +524,13 @@[m [mpublic class ConfigurationServiceTest {[m
     assertThat([m
       underTest.getElasticsearchConnectionNodes()[m
         .stream()[m
[31m-        .map(ElasticsearchConnectionNodeConfiguration::getHost)[m
[32m+[m[32m        .map(DatabaseConnectionNodeConfiguration::getHost)[m
         .collect(toList()))[m
       .contains(DEFAULT_FIRST_ES_HOST, DEFAULT_SECOND_ES_HOST);[m
     assertThat([m
       underTest.getElasticsearchConnectionNodes()[m
         .stream()[m
[31m-        .map(ElasticsearchConnectionNodeConfiguration::getHttpPort)[m
[32m+[m[32m        .map(DatabaseConnectionNodeConfiguration::getHttpPort)[m
         .collect(toList()))[m
       .contains(DEFAULT_FIRST_ES_PORT, DEFAULT_SECOND_ES_PORT);[m
     assertThat(underTest.getVariableImportPluginBasePackages()).contains("1", DEFAULT_PACKAGE_2, DEFAULT_PACKAGE_3);[m
[36m@@ -575,13 +575,13 @@[m [mpublic class ConfigurationServiceTest {[m
     assertThat([m
       underTest.getElasticsearchConnectionNodes()[m
         .stream()[m
[31m-        .map(ElasticsearchConnectionNodeConfiguration::getHost)[m
[32m+[m[32m        .map(DatabaseConnectionNodeConfiguration::getHost)[m
         .collect(toList()))[m
       .contains(CUSTOM_FIRST_ES_HOST, CUSTOM_SECOND_ES_HOST);[m
     assertThat([m
       underTest.getElasticsearchConnectionNodes()[m
         .stream()[m
[31m-        .map(ElasticsearchConnectionNodeConfiguration::getHttpPort)[m
[32m+[m[32m        .map(DatabaseConnectionNodeConfiguration::getHttpPort)[m
         .collect(toList()))[m
       .contains(CUSTOM_FIRST_ES_PORT, CUSTOM_SECOND_ES_PORT);[m
     assertThat([m
[1mdiff --git a/util/optimize-reimport-preparation/pom.xml b/util/optimize-reimport-preparation/pom.xml[m
[1mindex 3b4b63917e..8a5d6d3e14 100644[m
[1m--- a/util/optimize-reimport-preparation/pom.xml[m
[1m+++ b/util/optimize-reimport-preparation/pom.xml[m
[36m@@ -5,11 +5,11 @@[m
   <parent>[m
     <groupId>org.camunda.optimize</groupId>[m
     <artifactId>util</artifactId>[m
[31m-    <version>3.11.0-SNAPSHOT</version>[m
[32m+[m[32m    <version>3.12.0-SNAPSHOT</version>[m
   </parent>[m
 [m
   <artifactId>optimize-reimport-preparation</artifactId>[m
[31m-  <version>3.11.0-SNAPSHOT</version>[m
[32m+[m[32m  <version>3.12.0-SNAPSHOT</version>[m
 [m
   <properties>[m
     <skipTests>false</skipTests>[m
[36m@@ -37,7 +37,7 @@[m
     <dependency>[m
       <groupId>commons-io</groupId>[m
       <artifactId>commons-io</artifactId>[m
[31m-      <version>2.13.0</version>[m
[32m+[m[32m      <version>2.14.0</version>[m
       <scope>test</scope>[m
     </dependency>[m
     <dependency>[m
[36m@@ -155,7 +155,7 @@[m
           </plugin>[m
           <plugin>[m
             <groupId>org.codehaus.cargo</groupId>[m
[31m-            <artifactId>cargo-maven2-plugin</artifactId>[m
[32m+[m[32m            <artifactId>cargo-maven3-plugin</artifactId>[m
             <executions>[m
               <execution>[m
                 <id>start-container</id>[m
[36m@@ -170,7 +170,7 @@[m
               <!-- Container configuration -->[m
               <container>[m
                 <type>remote</type>[m
[31m-                <containerId>tomcat8x</containerId>[m
[32m+[m[32m                <containerId>tomcat9x</containerId>[m
               </container>[m
               <configuration>[m
                 <type>runtime</type>[m
[1mdiff --git a/util/optimize-reimport-preparation/src/test/java/org/camunda/optimize/reimport/preparation/ForceReimportIT.java b/util/optimize-reimport-preparation/src/test/java/org/camunda/optimize/reimport/preparation/ForceReimportIT.java[m
[1mindex f63db20609..4ecc826e81 100644[m
[1m--- a/util/optimize-reimport-preparation/src/test/java/org/camunda/optimize/reimport/preparation/ForceReimportIT.java[m
[1m+++ b/util/optimize-reimport-preparation/src/test/java/org/camunda/optimize/reimport/preparation/ForceReimportIT.java[m
[36m@@ -23,7 +23,6 @@[m [mimport org.camunda.optimize.dto.optimize.query.dashboard.DashboardDefinitionRest[m
 import org.camunda.optimize.dto.optimize.query.event.process.EventProcessMappingDto;[m
 import org.camunda.optimize.dto.optimize.query.event.process.EventProcessState;[m
 import org.camunda.optimize.dto.optimize.rest.AuthorizedReportDefinitionResponseDto;[m
[31m-import org.camunda.optimize.service.TenantService;[m
 import org.camunda.optimize.service.importing.eventprocess.AbstractEventProcessIT;[m
 import org.junit.jupiter.api.Test;[m
 import org.springframework.boot.test.context.TestConfiguration;[m
[36m@@ -39,6 +38,7 @@[m [mimport java.util.Set;[m
 import java.util.stream.Collectors;[m
 [m
 import static org.assertj.core.api.Assertions.assertThat;[m
[32m+[m[32mimport static org.camunda.optimize.service.tenant.CamundaPlatformTenantService.TENANT_NOT_DEFINED;[m
 import static org.camunda.optimize.upgrade.es.ElasticsearchConstants.BUSINESS_KEY_INDEX_NAME;[m
 import static org.camunda.optimize.upgrade.es.ElasticsearchConstants.CAMUNDA_ACTIVITY_EVENT_INDEX_PREFIX;[m
 import static org.camunda.optimize.upgrade.es.ElasticsearchConstants.DECISION_DEFINITION_INDEX_NAME;[m
[36m@@ -243,7 +243,7 @@[m [mpublic class ForceReimportIT extends AbstractEventProcessIT {[m
 [m
   private String createAndStoreNumberReport(String collectionId, ProcessDefinitionEngineDto processDefinition) {[m
     return reportClient.createAndStoreProcessReport([m
[31m-      collectionId, processDefinition.getKey(), Collections.singletonList(TenantService.TENANT_NOT_DEFINED.getId())[m
[32m+[m[32m      collectionId, processDefinition.getKey(), Collections.singletonList(TENANT_NOT_DEFINED.getId())[m
     );[m
   }[m
 [m
[1mdiff --git a/util/pom.xml b/util/pom.xml[m
[1mindex c875917634..bdc1d6d1cd 100644[m
[1m--- a/util/pom.xml[m
[1m+++ b/util/pom.xml[m
[36m@@ -5,7 +5,7 @@[m
     <parent>[m
         <groupId>org.camunda.optimize</groupId>[m
         <artifactId>parent</artifactId>[m
[31m-        <version>3.11.0-SNAPSHOT</version>[m
[32m+[m[32m        <version>3.12.0-SNAPSHOT</version>[m
     </parent>[m
 [m
     <artifactId>util</artifactId>[m
